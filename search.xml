<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>移动机顶盒刷机</title>
      <link href="/2023/10/17/yi-dong-ji-ding-he-shua-ji/"/>
      <url>/2023/10/17/yi-dong-ji-ding-he-shua-ji/</url>
      
        <content type="html"><![CDATA[<h2 id="刷机步骤"><a href="#刷机步骤" class="headerlink" title="刷机步骤"></a>刷机步骤</h2><ol><li><p>把刷机的MstarUpgrade.bin放到U盘根目录中，开机时频繁点按遥控器音量+，如果刷机不需要第二部，如果卡开机，关机第二步。</p></li><li><p>断电重命名MstarUpgrade.bin为MstarUpgrade_ANP.bin放到U盘根目录中，开机时频繁点按遥控器音量+，自动重启升级刷机。</p></li></ol><p>注意：<br><strong>U盘格式必须是fat32</strong></p><p>参考<br>链接: <a href="https://pan.baidu.com/s/1DIDjqA9xZ3_ZNDNlZDErMQ">https://pan.baidu.com/s/1DIDjqA9xZ3_ZNDNlZDErMQ</a> 提取码： 6axf<br>备用链接：<a href="https://wwt.lanzoux.com/b021zvjkj">https://wwt.lanzoux.com/b021zvjkj</a>  提取码：6l1n<br>固件路径：A《当贝桌面纯净完美版–固件大全》（固件种类更多一些）&gt;5《烽火(HG)盒子固件合集》&gt;《HG680-MC／HG680-MY》通刷</p><p><strong>刷机网站</strong><br><a href="https://histb.com/">https://histb.com</a><br>神雕大佬官网:<a href="https://www.ecoo.top/">https://www.ecoo.top</a></p>]]></content>
      
      
      <categories>
          
          <category> Other </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Other </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hiredis连接redis</title>
      <link href="/2023/10/17/hiredis-lian-jie-redis/"/>
      <url>/2023/10/17/hiredis-lian-jie-redis/</url>
      
        <content type="html"><![CDATA[<p>hiredis是一个非常全面的C语言版redis接口库，支持所有命令、管道与脚本。</p><p>使用C语言客户端(hiredis)连接Redis，需要先安装编译环境以及hiredis，以CentOS为例，介绍C客户端环境搭建</p><h2 id="安装gcc、make和hiredis"><a href="#安装gcc、make和hiredis" class="headerlink" title="安装gcc、make和hiredis"></a>安装gcc、make和hiredis</h2><ol><li>安装gcc和make</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install gcc make</span><br></pre></td></tr></table></figure><ol start="2"><li>安装<a href="https://github.com/redis/hiredis/archive/master.zip">hiredis</a></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://github.com/redis/hiredis/archive/master.zip</span><br></pre></td></tr></table></figure><p>如果命令下载不了可以直接下载下来然后上传的linux上</p><p>编译<br>进入hiredis解压后的目录后编译安装</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">make</span><br><span class="line">make install</span><br></pre></td></tr></table></figure><p>执行上面命令后<br>hiredis.h文件默认在 &#x2F;usr&#x2F;local&#x2F;include&#x2F;hiredis&#x2F;中<br>libhiredis.so.1.2.1-dev文件默认在 &#x2F;usr&#x2F;local&#x2F;lib&#x2F;中</p><h2 id="连接redis"><a href="#连接redis" class="headerlink" title="连接redis"></a>连接redis</h2><p>新建testRedis.c文件</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;/usr/local/include/hiredis/hiredis.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> **argv)</span> &#123;</span><br><span class="line">     <span class="type">unsigned</span> <span class="type">int</span> j;</span><br><span class="line">     redisContext *conn;</span><br><span class="line">     redisReply *reply;</span><br><span class="line">     <span class="keyword">if</span> (argc &lt; <span class="number">3</span>) &#123;</span><br><span class="line">             <span class="built_in">printf</span>(<span class="string">&quot;Usage: example &#123;instance_ip_address&#125; 6379 &#123;password&#125;\n&quot;</span>);</span><br><span class="line">             <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="type">const</span> <span class="type">char</span> *hostname = argv[<span class="number">1</span>];</span><br><span class="line">     <span class="type">const</span> <span class="type">int</span> port = atoi(argv[<span class="number">2</span>]);</span><br><span class="line">     <span class="type">const</span> <span class="type">char</span> *password = argv[<span class="number">3</span>];</span><br><span class="line">     <span class="class"><span class="keyword">struct</span> <span class="title">timeval</span> <span class="title">timeout</span> =</span> &#123; <span class="number">1</span>, <span class="number">500000</span> &#125;; <span class="comment">// 1.5 seconds</span></span><br><span class="line">     conn = redisConnectWithTimeout(hostname, port, timeout);</span><br><span class="line">     <span class="keyword">if</span> (conn == <span class="literal">NULL</span> || conn-&gt;err) &#123;</span><br><span class="line"><span class="keyword">if</span> (conn) &#123;</span><br><span class="line">             <span class="built_in">printf</span>(<span class="string">&quot;Connection error: %s\n&quot;</span>, conn-&gt;errstr);</span><br><span class="line">             redisFree(conn);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">             <span class="built_in">printf</span>(<span class="string">&quot;Connection error: can&#x27;t allocate redis context\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">        <span class="built_in">exit</span>(<span class="number">1</span>);</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="comment">/* AUTH 使用密码认证，不认证下面操作无法继续*/</span> </span><br><span class="line">     reply = redisCommand(conn, <span class="string">&quot;AUTH %s&quot;</span>, password);</span><br><span class="line">     <span class="built_in">printf</span>(<span class="string">&quot;AUTH: %s\n&quot;</span>, reply-&gt;str);</span><br><span class="line">     freeReplyObject(reply); <span class="comment">//释放执行redisCommand返回replay的结果所占内存</span></span><br><span class="line"> </span><br><span class="line">     <span class="comment">/* Set */</span></span><br><span class="line">     reply = redisCommand(conn,<span class="string">&quot;SET %s %s&quot;</span>, <span class="string">&quot;welcome&quot;</span>, <span class="string">&quot;Hello, DCS for Redis!&quot;</span>);</span><br><span class="line">     <span class="built_in">printf</span>(<span class="string">&quot;SET: %s\n&quot;</span>, reply-&gt;str);</span><br><span class="line">     freeReplyObject(reply);</span><br><span class="line">    </span><br><span class="line">     <span class="comment">/* Get */</span></span><br><span class="line">     reply = redisCommand(conn,<span class="string">&quot;GET welcome&quot;</span>);</span><br><span class="line">     <span class="built_in">printf</span>(<span class="string">&quot;GET welcome: %s\n&quot;</span>, reply-&gt;str);</span><br><span class="line">     freeReplyObject(reply);</span><br><span class="line">     </span><br><span class="line">     <span class="comment">/* Disconnects and frees the context */</span></span><br><span class="line">     <span class="keyword">if</span>(conn!=<span class="literal">NULL</span>)&#123;</span><br><span class="line">        redisFree(conn);</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>保存退出后执行命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc testRedis.c -o testRedis -L /usr/local/lib -lhiredis</span><br></pre></td></tr></table></figure><p><img src="/images/2023101713300301.png" alt="2023101713300301.png"></p><p>然后执行命令测试</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./testRedis 127.0.0.1 6379 123456</span><br></pre></td></tr></table></figure><p>如果如下图则成功<br><img src="/images/2023101713300302.png" alt="2023101713300302.png"><br>否则需要新建目录迁移文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> /usr/lib/hiredis</span><br><span class="line"><span class="built_in">cp</span> /usr/local/lib/libhiredis.so.1.2.1-dev /usr/lib/hiredis/</span><br><span class="line"><span class="built_in">mkdir</span> /usr/include/hiredis</span><br><span class="line"><span class="built_in">cp</span> /usr/local/include/hiredis/hiredis.h /usr/include/hiredis/</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;/usr/local/lib&#x27;</span> &gt;&gt;/etc/ld.so.conf</span><br><span class="line">ldconfig</span><br></pre></td></tr></table></figure><p>参考 <a href="https://zhuanlan.zhihu.com/p/75281231">https://zhuanlan.zhihu.com/p/75281231</a></p>]]></content>
      
      
      <categories>
          
          <category> C/C++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C/C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>TVBox设置源及修改</title>
      <link href="/2023/10/13/tvbox-she-zhi-yuan-ji-xiu-gai/"/>
      <url>/2023/10/13/tvbox-she-zhi-yuan-ji-xiu-gai/</url>
      
        <content type="html"><![CDATA[<h3 id="修改TVBox背景及内置源"><a href="#修改TVBox背景及内置源" class="headerlink" title="修改TVBox背景及内置源"></a>修改TVBox背景及内置源</h3><ol><li>下载<a href="https://mt2.cn/download/">MT管理器</a></li><li>使用MT管理器查看TVBox安装包</li><li>使用dex编辑器++查看classex.dex<br><img src="/images/2023101314181201.png" alt="2023101314181201.png"><br><img src="/images/2023101314181202.png" alt="2023101314181202.png"><br>找到<strong>HomeActivity</strong>下方的<strong>api_url</strong><br><img src="/images/2023101314181203.png" alt="2023101314181203.png"><br><img src="/images/2023101314181204.png" alt="2023101314181204.png"><br>点击返回，然后保存并退出，勾选自动签名,并点击确定<br><img src="/images/2023101314181205.png" alt="2023101314181205.png"><br>同样在查找内容中搜索自定义<br><img src="/images/2023101314181206.png" alt="2023101314181206.png"></li><li>替换背景图，将背景图修改为W_.png然后替换<br><img src="/images/2023101314181207.png" alt="2023101314181207.png"></li><li>返回到apk文件夹点击功能，apk共存<br><img src="/images/2023101314181208.png" alt="2023101314181208.png"></li><li>修改apk中的AndroidMainfest.xml中的版本号</li><li>xml搜索修改文字<br><img src="/images/2023101314181209.png" alt="2023101314181209.png"></li></ol>]]></content>
      
      
      <categories>
          
          <category> Other </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Other </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo搭建博客</title>
      <link href="/2023/09/20/hexo-da-jian-bo-ke/"/>
      <url>/2023/09/20/hexo-da-jian-bo-ke/</url>
      
        <content type="html"><![CDATA[<h3 id="1、安装Git"><a href="#1、安装Git" class="headerlink" title="1、安装Git"></a>1、安装Git</h3><h3 id="2、安装nodejs"><a href="#2、安装nodejs" class="headerlink" title="2、安装nodejs"></a>2、安装nodejs</h3><h3 id="3、安装hexo-安装完成可以使用hexo-v命令查看是否安装成功"><a href="#3、安装hexo-安装完成可以使用hexo-v命令查看是否安装成功" class="headerlink" title="3、安装hexo,安装完成可以使用hexo -v命令查看是否安装成功"></a>3、安装hexo,安装完成可以使用hexo -v命令查看是否安装成功</h3><pre><code> <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure></code></pre><h5 id="1、初始化"><a href="#1、初始化" class="headerlink" title="1、初始化"></a>1、初始化</h5><pre><code>    <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init blogs</span><br></pre></td></tr></table></figure></code></pre><h5 id="2、进入blogs文件夹"><a href="#2、进入blogs文件夹" class="headerlink" title="2、进入blogs文件夹"></a>2、进入blogs文件夹</h5><pre><code>    <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install</span><br></pre></td></tr></table></figure>    blogs文件夹下有        node_modules: 依赖包        public：存放生成的页面        scaffolds：生成文章的一些模板        source：用来存放你的文章        themes：主题**         _config.yml: 博客的配置文件**</code></pre><h5 id="3、运行服务-可以浏览网站了"><a href="#3、运行服务-可以浏览网站了" class="headerlink" title="3、运行服务,可以浏览网站了"></a>3、运行服务,可以浏览网站了</h5><pre><code>    <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br><span class="line">hexo server</span><br></pre></td></tr></table></figure></code></pre><h3 id="4、GitHub创建仓库（仓库名-youname-github-io）"><a href="#4、GitHub创建仓库（仓库名-youname-github-io）" class="headerlink" title="4、GitHub创建仓库（仓库名 youname.github.io）"></a>4、GitHub创建仓库（仓库名 youname.github.io）</h3><h3 id="5、生成ssh添加到GitHub"><a href="#5、生成ssh添加到GitHub" class="headerlink" title="5、生成ssh添加到GitHub"></a>5、生成ssh添加到GitHub</h3><pre><code> a、在gitbash中配置名称和邮箱    git config --global user.name &quot;youname&quot;    git config --global user.email &quot;youremail&quot; b、检查是否配置成功    git config user.name    git config user.email c、创建ssh，一直回车    ssh-keygen -t rsa -C &quot;youemail&quot; d、进入github的setting找到ssh and gpg keys    新建sshkey 将id_rsa.pub中的内容复制到keys中 e、在gitbash中验证是否成功    ssh -T git@github.com</code></pre><h3 id="6、将hexo部署到github"><a href="#6、将hexo部署到github" class="headerlink" title="6、将hexo部署到github"></a>6、将hexo部署到github</h3><pre><code>a、修改_config.yml文件   deploy:    type: git    repo: https://github.com/YourgithubName/YourgithubName.github.io.git    branch: master  根据自己的分支名修改b、安装deploy-git    npm install hexo-deployer-git --savec、执行命令   hexo clean      清除之前生成的内容   hexo generate   生成静态内容，缩写 hexo g   hexo deploy     部署 缩写 hexo d</code></pre><h3 id="7、新建分类、标签、关于"><a href="#7、新建分类、标签、关于" class="headerlink" title="7、新建分类、标签、关于"></a>7、新建分类、标签、关于</h3><pre><code>a、分类   hexo new page categories  --在source文件夹下回新建一个                               categories文件夹                                其中有一个index.md,在date之后加上type:&#39;categories&#39;b、标签    hexo new page tags      --在source文件夹下回新建一个tags文件夹                               其中有一个index.md,在date之后加上type:&#39;tags&#39;c、关于    hexo new page about     --在source文件夹下回新建一个about文件夹                               其中有一个index.md</code></pre>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux 操作命令</title>
      <link href="/2023/09/15/linux-cao-zuo-ming-ling/"/>
      <url>/2023/09/15/linux-cao-zuo-ming-ling/</url>
      
        <content type="html"><![CDATA[<ol><li>ls 命令：用于显示指定目录下的内容<br>-a 所有文件及目录(.开头的隐藏文件也列出)</li></ol><p>-l  除文件名外，会将文件类型、权限，所有者、文件大小等信息列出，注意 ls -l 等价于 ll</p><p>ll -h 标识以人性化方式显示内容</p><p>ll *  *通配符标识任意字符，？标识有且只有一个字符</p><ol start="2"><li>cd (change directory) 命令</li></ol><p>~ 表示home目录</p><p>. 表示当前目录</p><p>.. 标识当前目录的上一级目录</p><p>&#x2F; 根目录</p><ol start="3"><li>创建、删除</li></ol><p>mkdir (make directory) :创建目录</p><p>-p 确保父目录名称存在，不存在则创建</p><p>touch：创建一个空文件，无内容</p><p>ex: touch – –abc 创建一个–abc的文件</p><p>rm (remove) :用于删除一个文件或目录</p><p>-f 强制删除，无需用户确认</p><p>-r 将目录及下面文件和目录递归删除</p><p>ex: rm – –abc（rm .&#x2F; –abc） 删除一个–abc的文件</p><ol start="4"><li>复制、移动</li></ol><p>cp (copy file):用于复制文件或目录</p><p>-r 源文件是一个目录文件，则将该目录下的所有子目录和文件全部复制</p><p>mv (move file):用于文件或目录改名、或将文件或目录移入其它位置    </p><ol start="5"><li>文件内容查看</li></ol><p>cat (concatenate): 用于连接文件并打印到标准输出设备上如console控制台上。适合小文件内容查看</p><p>more：类似cat，不过会以一页一页的形式展示，更方便使用者阅读，翻页结束自动退出，适合大文件查看，按space键翻下一页，按b往回（back）上一页   more &#x2F;etc&#x2F;profile</p><p>tail ：用于查看文件结尾部分的内容</p><p>-n 用于显示行数，默认为10，即显示10行内容</p><p>-f  用于实时显示文件动态追加的内容，会把文件里最尾部的内容显示在屏幕上，并且不断刷新，只要有文件更新，                  就可以查看到最新的文件内容。</p><ol start="6"><li>其他</li></ol><p>| 管道命令： 将前一个命令执行的结果作为内容交给下一个命令处理。可以形成多级管道操作</p><p>命令1|命令2 可以将命令1的结果通过命令2做进一步操作</p><p>ps -ef | grep sshd</p><p>echo 命令：用于内容的输出，将内容输出到console控制台上</p><blockquote><p>输出重定向(覆盖)命令</p></blockquote><p>command &gt; file 执行command然后将输出的内容存入file，file内已经存在的内容将被新内容覆盖替代</p><blockquote><blockquote><p>输出重定向(追加)命令</p></blockquote></blockquote><p>command &gt;&gt; file 执行command 然后将输出的内容存入file，新内容追加在文件末尾</p><ol start="7"><li>解压缩命令</li></ol><p>a、打包、解包</p><p>tar (tape archive):常用于备份文件。是用来建立，还原备份文件的工具程序，它可以加入，解开备份文件内的文件</p><p>-c 或 –create 建立新的备份文件</p><p>-x 或–extract 或–get 从备份文件中还原文件</p><p>-v 或–verbose 显示指令执行过程</p><p>-f&lt;备份文件&gt;或–file&#x3D;&lt;备份文件&gt; 指定备份文件</p><p>打包 tar -cvf 包名.tar 文件或目录(1.txt 2.txt)</p><p>解包 tar -xvf 包名.tar 或 tar -xvf 包名.tar -C 指定解压目录</p><p>b、打包压缩，解包解压缩</p><p>在打包备份或解包的过程中，可以通过指定压缩算法，对打包的文件进行压缩，解压的时候也需要指定对应的算法</p><p>-z 或 –gzip 或 –ungzip 通过gzip指令处理备份文件</p><p>重要搭配：tar -zxvf xxxx.tar.gz</p><ol start="8"><li>时间、日期、内存，磁盘使用率、进程查看</li></ol><p>date：用来显示或者设定系统日期与时间，可以设置显示格式，格式是 +后接标记 (date +”%Y-%m-%d %H:%M:%s”)</p><p>cal(calendar): 用于显示当前或者指定日期的公历</p><p>free：用于显示内存状态，会显示内存使用情况，包括实体内存、虚拟交换文件内存、共享内存区段、以及系统核心使用的缓冲区</p><p>free -h </p><p>df(disk free): 用于显示目前在linux系统上的文件系统磁盘使用情况</p><p>df -h</p><p>ps(process status): 用于显示当前进程的状态，类似windows的任务管理器</p><p>ps -ef | grep 进程名</p><p>kill -9 pid(进程id) 杀进程</p><p>ps -ef | grep 进程名  | grep -v grep | awk ‘{print $2}’ | xargs -i kill -9 {}    kill所有进程名的进程</p><p>jps：jdk自带命令，专门用于查看本机运行java进程情况</p>]]></content>
      
      
      <categories>
          
          <category> Computer </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Computer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C#新语法</title>
      <link href="/2023/09/11/csharp-xin-yu-fa/"/>
      <url>/2023/09/11/csharp-xin-yu-fa/</url>
      
        <content type="html"><![CDATA[<h2 id="顶级语句-C-9-0开始"><a href="#顶级语句-C-9-0开始" class="headerlink" title="顶级语句(C#9.0开始)"></a>顶级语句(C#9.0开始)</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// See https://aka.ms/new-console-template for more information</span></span><br><span class="line">Console.WriteLine(<span class="string">&quot;Hello, World!&quot;</span>);</span><br></pre></td></tr></table></figure><ol><li>一个项目中只能有一个顶级文件</li><li>顶级语句可以使用await语法，也可以申明静态方法</li><li>可以直接在Program写语句，不用写Main方法</li></ol><p>参考：<a href="https://learn.microsoft.com/zh-cn/dotnet/csharp/fundamentals/program-structure/top-level-statements">顶级语句</a></p><h2 id="全局Using指令-C-10-0开始"><a href="#全局Using指令-C-10-0开始" class="headerlink" title="全局Using指令(C#10.0开始)"></a>全局Using指令(C#10.0开始)</h2><ol><li>在using namespace前面加上global，该命名空间会应用到整个项目，注意不是整个解决方案，不用重复using</li><li>通常会单独新建一个C#文件来放全局的global using namespace</li><li>csproj文件中启用ImplicitUsings，编译器会自动隐式增加对于System、System.Linq等常用命名空间的引用，不同类型的项目引用的命名空间不一样；<br>如果将ImplicitUsings设置为disable<br><img src="/images/2023091111271701.png" alt="2023091111271701.png"></li></ol><p>参考 <a href="https://learn.microsoft.com/zh-cn/dotnet/core/tutorials/top-level-templates#global-using-directives">全局Using</a></p><h2 id="Using声明（C-8-0开始）"><a href="#Using声明（C-8-0开始）" class="headerlink" title="Using声明（C#8.0开始）"></a>Using声明（C#8.0开始）</h2><ol><li>在实现了IDisposable&#x2F;IasyncDisposable接口类型的变量申明前加using，当代码执行离开变量作用域，对象就会被释放。</li></ol><p>参考 <a href="https://learn.microsoft.com/zh-cn/dotnet/csharp/language-reference/statements/using">Using声明</a></p><h2 id="文件范围的命名空间声明-C-10-0开始"><a href="#文件范围的命名空间声明-C-10-0开始" class="headerlink" title="文件范围的命名空间声明(C#10.0开始)"></a>文件范围的命名空间声明(C#10.0开始)</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">MyNamespace</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Dog</span>&#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="built_in">long</span> Id&#123;<span class="keyword">get</span>;<span class="keyword">set</span>;&#125;</span><br><span class="line">   <span class="keyword">public</span> <span class="built_in">string</span> Name&#123;<span class="keyword">get</span>;<span class="keyword">set</span>;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>参考 <a href="https://learn.microsoft.com/zh-cn/dotnet/csharp/whats-new/csharp-10#file-scoped-namespace-declaration">文件范围的命名空间声明</a></p><h2 id="可为-null-的引用类型-C-8-0开始"><a href="#可为-null-的引用类型-C-8-0开始" class="headerlink" title="可为 null 的引用类型(C#8.0开始)"></a>可为 null 的引用类型(C#8.0开始)</h2><ol><li>设置一个属性类型可为空使用？，想要去除编译器警告使用！</li></ol><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span>? nullable；</span><br><span class="line"><span class="built_in">string</span> name;</span><br><span class="line">Console.WriterLine(name!.toLower())</span><br></pre></td></tr></table></figure><p>参考：<a href="https://learn.microsoft.com/zh-cn/dotnet/csharp/language-reference/builtin-types/nullable-reference-types">可为 null 的引用类型</a></p><h2 id="record类型-C-9-0开始"><a href="#record类型-C-9-0开始" class="headerlink" title="record类型(C#9.0开始)"></a>record类型(C#9.0开始)</h2><ol><li>record类型，编译器会自动生成Equal和GetHashcode等方法</li></ol><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Person</span>&#123;</span><br><span class="line">    </span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">Person</span>(<span class="params"><span class="built_in">int</span> id,<span class="built_in">string</span> name</span>)</span>&#123;</span><br><span class="line">       <span class="keyword">this</span>.Id=id;</span><br><span class="line">       <span class="keyword">this</span>.Name= name;</span><br><span class="line">   &#125;</span><br><span class="line">   </span><br><span class="line">   <span class="keyword">public</span> <span class="built_in">int</span> Id &#123;<span class="keyword">get</span>;<span class="keyword">init</span>;&#125;</span><br><span class="line">   <span class="keyword">public</span> <span class="built_in">string</span> Name&#123;<span class="keyword">get</span>;<span class="keyword">init</span>&#125;</span><br><span class="line">    </span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line">Person p1 =<span class="keyword">new</span> Person(<span class="number">1</span>,<span class="string">&quot;zhangsan&quot;</span>);</span><br><span class="line">Person p2 =<span class="keyword">new</span> Person(<span class="number">1</span>,<span class="string">&quot;zhangsan&quot;</span>);</span><br><span class="line">Console.WriteLine(p1.ToString()); <span class="comment">//打印出类名</span></span><br><span class="line">Console.WriteLine(p1==p2)； <span class="comment">//False</span></span><br><span class="line">Console.WriteLine(p1.Equal(p2))； <span class="comment">//False</span></span><br><span class="line"><span class="comment">//==和Equal比较的是判断两个变量是否指向同一个对象</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//Record类型</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">record</span> <span class="title">Person</span>(<span class="params"><span class="built_in">int</span> Id,<span class="built_in">string</span> Name,<span class="built_in">int</span> Age</span>)</span>;</span><br><span class="line">Person p3 =<span class="keyword">new</span> Person(<span class="number">1</span>,<span class="string">&quot;zhangsan&quot;</span>);</span><br><span class="line">Person p4 =<span class="keyword">new</span> Person(<span class="number">1</span>,<span class="string">&quot;zhangsan&quot;</span>);</span><br><span class="line">Person p5 =<span class="keyword">new</span> Person(<span class="number">1</span>,<span class="string">&quot;lishi&quot;</span>);</span><br><span class="line">Console.WriteLine(p3.ToString()); <span class="comment">//类中的属性数据</span></span><br><span class="line">Console.WriteLine(p3==p4)； <span class="comment">//True</span></span><br><span class="line">Console.WriteLine(p3==p5)； <span class="comment">//False</span></span><br></pre></td></tr></table></figure><p>参考 <a href="https://learn.microsoft.com/zh-cn/dotnet/csharp/whats-new/csharp-9">record类型</a></p><p>参考： <a href="https://learn.microsoft.com/zh-cn/dotnet/core/tutorials/top-level-templates#global-using-directives">https://learn.microsoft.com/zh-cn/dotnet/core/tutorials/top-level-templates#global-using-directives</a></p><p>　　　<a href="https://learn.microsoft.com/zh-cn/dotnet/csharp/fundamentals/program-structure/top-level-statements">https://learn.microsoft.com/zh-cn/dotnet/csharp/fundamentals/program-structure/top-level-statements</a></p>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++读取调用接口返回的json数据</title>
      <link href="/2023/08/31/c-du-qu-diao-yong-jie-kou-fan-hui-de-json-shu-ju/"/>
      <url>/2023/08/31/c-du-qu-diao-yong-jie-kou-fan-hui-de-json-shu-ju/</url>
      
        <content type="html"><![CDATA[<h3 id="引入头文件"><a href="#引入头文件" class="headerlink" title="引入头文件"></a>引入头文件</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;boost/property_tree/ptree.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;boost/property_tree/json_parser.hpp&gt;</span></span></span><br></pre></td></tr></table></figure><h3 id="读取json数据方法，http请求中的chunked传输数据会返回数据的长度，在最后一个chunked中其头部长度定为0"><a href="#读取json数据方法，http请求中的chunked传输数据会返回数据的长度，在最后一个chunked中其头部长度定为0" class="headerlink" title="读取json数据方法，http请求中的chunked传输数据会返回数据的长度，在最后一个chunked中其头部长度定为0"></a>读取json数据方法，http请求中的chunked传输数据会返回数据的长度，在最后一个chunked中其头部长度定为0</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//读取json文件&#123;&quot;name&quot;:&quot;zhangsan&quot;,&quot;age&quot;:25&#125;</span></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">readJson</span><span class="params">(<span class="type">const</span> string&amp; data, T&amp; t)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">strcmp</span>(data.<span class="built_in">c_str</span>(), <span class="string">&quot;&quot;</span>) != <span class="number">0</span>) &#123;</span><br><span class="line">        std::<span class="type">size_t</span> start = data.<span class="built_in">find_first_of</span>(<span class="string">&quot;&#123;&quot;</span>);</span><br><span class="line">        std::<span class="type">size_t</span> end = data.<span class="built_in">find_last_of</span>(<span class="string">&quot;&#125;&quot;</span>);</span><br><span class="line">        string res = data.<span class="built_in">substr</span>(start, end - start + <span class="number">1</span>);</span><br><span class="line">        <span class="function">std::stringstream <span class="title">ss</span><span class="params">(res)</span></span>;</span><br><span class="line">        boost::property_tree::ptree pt;</span><br><span class="line">        boost::property_tree::json_parser::<span class="built_in">read_json</span>(ss, pt);</span><br><span class="line">        t = pt.<span class="built_in">get</span>&lt;T&gt;(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;result:&quot;</span> &lt;&lt; t &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">postCustom</span><span class="params">(<span class="type">const</span> string&amp; url, <span class="type">const</span> string&amp; token)</span> </span>&#123;</span><br><span class="line">    boost::asio::io_service io;</span><br><span class="line">    <span class="function">HttpBoost <span class="title">c</span><span class="params">(io)</span></span>;</span><br><span class="line">    c.<span class="built_in">post</span>(url, token);</span><br><span class="line">    io.<span class="built_in">run</span>();</span><br><span class="line">    string p=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">readJson</span>(c.<span class="built_in">getResponse</span>(),p);</span><br><span class="line">    std::cout &lt;&lt; c.<span class="built_in">getResponse</span>() &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> 参考 <a href="https://www.jianshu.com/p/acb76b784230">https://www.jianshu.com/p/acb76b784230</a></p>]]></content>
      
      
      <categories>
          
          <category> C/C++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C/C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>EFCore 连接MySQL数据库查询数据提示This MySqlConnection is already in use</title>
      <link href="/2023/08/31/efcore-lian-jie-mysql-shu-ju-ku-cha-xun-shu-ju-ti-shi-this-mysqlconnection-is-already-in-use/"/>
      <url>/2023/08/31/efcore-lian-jie-mysql-shu-ju-ku-cha-xun-shu-ju-ti-shi-this-mysqlconnection-is-already-in-use/</url>
      
        <content type="html"><![CDATA[<p>EFCore 连接数据查询数据提示”This MySqlConnection is already in use”代码如下</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> (MyDBContext db =<span class="keyword">new</span> MyDBContext())</span><br><span class="line">&#123;</span><br><span class="line">        Order order= db.Orders.Single(o =&gt; o.Id==<span class="number">2</span>);</span><br><span class="line">        printChildren(<span class="number">1</span>, db, order);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printChildren</span>(<span class="params"><span class="built_in">int</span> depLevel,MyDBContext ctx,Order ou</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> children = ctx.Orders.Where(o =&gt; o.Parent == ou);</span><br><span class="line">    <span class="keyword">foreach</span> (<span class="keyword">var</span> child <span class="keyword">in</span> children)</span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="keyword">new</span> String(<span class="string">&#x27;\t&#x27;</span>, depLevel) + child.Name);</span><br><span class="line">        <span class="comment">//递归</span></span><br><span class="line">        printChildren(depLevel + <span class="number">1</span>, ctx, child);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/images/2023083109101001.png" alt="2023083109101001.png"><br>代码中的var children &#x3D; ctx.Orders.Where(o &#x3D;&gt; o.Parent &#x3D;&#x3D; ou)只是将代码转换为SQL语句，返回的结果为IQueryable类型集合，不会立即执行SQL语句，</p><p>这时候再去递归查询会提示连接已经被使用，只有碰到终结方法(ToList、ToArray、MAX、Min、Count等)才会立即执行sql语句。</p><p>将代码改为var children &#x3D; ctx.Orders.Where(o &#x3D;&gt; o.Parent &#x3D;&#x3D; ou).ToList()才会执行sql语句返回类型是IEnumerable类型集合是将数据加载到本地内存中</p><p>判断终结和非终结方法</p><p>一般返回IQueryable类型的是非终结方法(Select、Skip、Take、Where等)；反之是终结方法</p>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>proc c++连接oracle</title>
      <link href="/2023/06/02/proc-c-lian-jie-oracle/"/>
      <url>/2023/06/02/proc-c-lian-jie-oracle/</url>
      
        <content type="html"><![CDATA[<p>环境：oracle11g、vs2022</p><ol><li>编写pc文件</li></ol><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">EXEC SQL BEGIN DECLARE SECTION;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">datatable</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> id;</span><br><span class="line">    <span class="type">char</span> name[<span class="number">30</span>];</span><br><span class="line">&#125; data;</span><br><span class="line">EXEC SQL END DECLARE SECTION;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//#define SQLCA_STORAGE_CLASS extern  //增加该行报错</span></span><br><span class="line">EXEC SQL INCLUDE connect_oracle.h;</span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sqlca.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line">EXEC SQL BEGIN DECLARE SECTION;</span><br><span class="line">   <span class="type">char</span>* pid =<span class="string">&quot;scott/tiger@orcl&quot;</span>;</span><br><span class="line">   <span class="type">int</span> ids;</span><br><span class="line">EXEC SQL END DECLARE SECTION;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">connectdb</span><span class="params">()</span></span>&#123;</span><br><span class="line">    EXEC SQL CONNECT :pid;</span><br><span class="line">    <span class="keyword">if</span>(sqlca.sqlcode!=<span class="number">0</span>)&#123;</span><br><span class="line">        cout&lt;&lt; <span class="string">&quot;connect err &quot;</span>&lt;&lt;sqlca.sqlcode&lt;&lt;endl;</span><br><span class="line">        <span class="keyword">return</span> sqlca.sqlcode;;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt; <span class="string">&quot;connect ok&quot;</span>&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> sqlca.sqlcode;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">selectData</span><span class="params">(datatable&amp; data)</span></span>&#123;</span><br><span class="line">    EXEC SQL </span><br><span class="line">    SELECT * INTO :data FROM TEST where id=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> sqlca.sqlcode;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">insertData</span><span class="params">(datatable&amp; data)</span></span>&#123;</span><br><span class="line">    <span class="function">exec sql </span></span><br><span class="line"><span class="function">     insert into <span class="title">test</span><span class="params">(id,name)</span> <span class="title">values</span> <span class="params">(:data.id,:data.name)</span></span>;</span><br><span class="line">    <span class="keyword">if</span>(sqlca.sqlcode!=<span class="number">0</span>)&#123;</span><br><span class="line">        cout&lt;&lt; <span class="string">&quot;insert err &quot;</span>&lt;&lt;sqlca.sqlcode&lt;&lt;endl;</span><br><span class="line">        <span class="keyword">return</span> sqlca.sqlcode;;</span><br><span class="line">    &#125;</span><br><span class="line">    exec sql commit;</span><br><span class="line">    <span class="keyword">return</span> sqlca.sqlcode;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">updateData</span><span class="params">(datatable&amp; data)</span></span>&#123;</span><br><span class="line">    exec sql </span><br><span class="line">     update test set name=:data.name where id=:data.id;</span><br><span class="line">    <span class="keyword">if</span>(sqlca.sqlcode!=<span class="number">0</span>)&#123;</span><br><span class="line">        cout&lt;&lt; <span class="string">&quot;update err &quot;</span>&lt;&lt;sqlca.sqlcode&lt;&lt;endl;</span><br><span class="line">        <span class="keyword">return</span> sqlca.sqlcode;;</span><br><span class="line">    &#125;</span><br><span class="line">    exec sql commit;</span><br><span class="line">    <span class="keyword">return</span> sqlca.sqlcode;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">deleteData</span><span class="params">(<span class="type">int</span> id)</span></span>&#123;</span><br><span class="line">    ids =id;</span><br><span class="line">    exec sql</span><br><span class="line">     <span class="keyword">delete</span> from test where id=:ids;</span><br><span class="line">    <span class="keyword">if</span>(sqlca.sqlcode!=<span class="number">0</span>)&#123;</span><br><span class="line">        cout&lt;&lt; <span class="string">&quot;delete err &quot;</span>&lt;&lt;sqlca.sqlcode&lt;&lt;endl;</span><br><span class="line">        <span class="keyword">return</span> sqlca.sqlcode;;</span><br><span class="line">    &#125;</span><br><span class="line">    exec sql commit;</span><br><span class="line">    <span class="keyword">return</span> sqlca.sqlcode;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">disconnect</span><span class="params">()</span></span>&#123;</span><br><span class="line">    EXEC SQL COMMIT RELEASE;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>编译pc文件<br>在dos中执行 proc code&#x3D;cpp .&#x2F;connect_oracle.pc</li><li>在vs新建工程，添加新增的cpp文件</li></ol><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> SQLCA_STORAGE_CLASS extern</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sqlca.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">datatable</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> id;</span><br><span class="line">    <span class="type">char</span> name[<span class="number">30</span>];</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">extern</span> <span class="type">int</span> <span class="title">connectdb</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">extern</span> <span class="type">int</span> <span class="title">selectData</span><span class="params">(datatable&amp; data)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">extern</span> <span class="type">int</span> <span class="title">insertData</span><span class="params">(datatable&amp; data)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">extern</span> <span class="type">int</span> <span class="title">updateData</span><span class="params">(datatable&amp; data)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">extern</span> <span class="type">int</span> <span class="title">deleteData</span><span class="params">(<span class="type">int</span> id)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">extern</span> <span class="type">void</span> <span class="title">disconnect</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">connectdb</span>();</span><br><span class="line">    datatable da;</span><br><span class="line">    <span class="built_in">selectData</span>(da);</span><br><span class="line"></span><br><span class="line">    datatable insertdata;</span><br><span class="line">    insertdata.id = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">strcpy</span>(insertdata.name, <span class="string">&quot;bbb&quot;</span>);</span><br><span class="line">    <span class="built_in">insertData</span>(insertdata);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">strcpy</span>(insertdata.name, <span class="string">&quot;ccc&quot;</span>);</span><br><span class="line">    <span class="built_in">updateData</span>(insertdata);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">deleteData</span>(<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="built_in">disconnect</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> C/C++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C/C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>进制转换</title>
      <link href="/2023/06/01/jin-zhi-zhuan-huan/"/>
      <url>/2023/06/01/jin-zhi-zhuan-huan/</url>
      
        <content type="html"><![CDATA[<p><img src="/images/2023060116271701.png" alt="2023060116271701.png"></p><h2 id="二进制转换"><a href="#二进制转换" class="headerlink" title="二进制转换"></a>二进制转换</h2><p><strong>二进制数</strong>： 10010</p><ol><li><p>转换为8进制 是3位一组（2³&#x3D;8），不足三位前面补0，转换8进制后结果：22</p></li><li><p>转16进制 是4位一组（2ⁿ4&#x3D;16），不足前面补0，转换16进制后结果：12，反之16转二进制这是12可以拆分为1和2,1前面不足补充0则为0001，2位0010，二进制结果为10010</p></li><li><p>二进制转10进制，反之10进制转二进制就是分解18&#x3D;16+2，所以二进制结果10010</p></li></ol><h2 id="十进制转换"><a href="#十进制转换" class="headerlink" title="十进制转换"></a>十进制转换</h2><ol><li>转2进制，例如25转二进制<br>二进制结果从下往上：11001，11001转10进制则是从个位数开2的n次(n从0开始) 1<em>2º+0</em>2¹+0<em>2²+1</em>2³+1*2ⁿ4&#x3D;25<br><img src="/images/2023060116271702.png" alt="2023060116271702.png"></li><li>十进制转8进制，结果是31，反过来转换1<em>8º+3</em>8¹&#x3D;25<br><img src="/images/2023060116271703.png" alt="2023060116271703.png"></li><li>十进制转换16进制，结果是19，反过来转换 9<em>16º+1</em>16¹&#x3D;25<br><img src="/images/2023060116271704.png" alt="2023060116271704.png"></li></ol>]]></content>
      
      
      <categories>
          
          <category> Other </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Other </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>proc c++ vs设置</title>
      <link href="/2023/05/31/proc-c-vs-she-zhi/"/>
      <url>/2023/05/31/proc-c-vs-she-zhi/</url>
      
        <content type="html"><![CDATA[<ol><li>在pc文件上右键，项类型中选择自定生成工具，点击应用才能看见自定义生成工具<br><img src="/images/2023053113280801.png" alt="2023053113280801.png"></li><li>命令行和输出中中配置，proc是oracle的执行程序在（client_1\BIN）目录下<br><img src="/images/2023053113280802.png" alt="2023053113280802.png"><br><img src="/images/2023053113280803.png" alt="2023053113280803.png"></li></ol>]]></content>
      
      
      <categories>
          
          <category> C/C++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C/C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Boost编译</title>
      <link href="/2023/04/18/boost-bian-yi/"/>
      <url>/2023/04/18/boost-bian-yi/</url>
      
        <content type="html"><![CDATA[<h2 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h2><p>VS2022社区版<br><a href="https://jfrog-prod-usw2-shared-oregon-main.s3.amazonaws.com/aol-boostorg/filestore/eb/ebe3ae43e9bab987aa2c56bf158968676b56f0a0?X-Artifactory-username=anonymous&X-Artifactory-repoType=local&X-Artifactory-repositoryKey=main&X-Artifactory-packageType=generic&X-Artifactory-artifactPath=release/1.82.0/source/boost_1_82_0.zip&X-Artifactory-projectKey=default&x-jf-traceId=dfb4a8183a8df825&response-content-disposition=attachment;filename=%22boost_1_82_0.zip%22&response-content-type=application/zip&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFwaCXVzLXdlc3QtMiJHMEUCIQCsP5pWAI1qKcWMSaSdiukkap13MnFqnXi4RHslZyrsxwIgKboWg/2JzdDCBgV/q0SjDoIodMc7bqeAAAjzuKAU/eQqhgUIVRAAGgwxNTIxNTMwNjIxNDEiDCpvUXvmMpyCkE7M7CrjBBqXsYP/zVAjU3gojx3itHfwqOsrdIPoxxLpIFMiu42mWAeHpLUL+nPBYh0XJk2I5bRxz6HsRE8Rc+beXOR9ag2Xp9MQepAcvnsjxCl9b5l5x7xD8SlOPSU/pP5aKo6bHi6ooqrSuX95EuwQCA0HRGA7beyskyKUrL9Sb9yn44c9mApo4NaLKVC9NV7Lwu9JSu80IxNewrXHmIHXHPsbG4U2dYDS0GnV/5lOL8wjDuRkgTrq72sJ5JVyFGy4xVZ8ZedKyZkH3R757emrDNlV7GHtT+9OK3IK2QDOSxEeluxC/XcvbD4JrQvWd+/7nqz+um3UfJ97OkvTUIRh7DLg9FMSQ8VHPf2o1WhAhKUMJWv+vdXYhVZjIXYIBeunRL7nIE4BKO7BAp9KmLOMxq6BF6oCHgSAT4IikidxCNwcJ8PcSGXHbdi+5U/YGoDef8RyWazcW4NxerUZ+Wu40HOVwICre11hc1yaCKF/lzeoDmfWZwP9C1KiBlh4JTs1YZ9QHHeu/sqgcGUXopg6l/Q0j7GkU+vKdrmy7f7KbRF8qSfnfNWKzOp0vhSnVehFP97uv3jNA1urUm8VNMC2K/dU4+j/WxWEZawAUt82zQdLewiVQjg6rhywG2NEPwjp8rzeYPz3ytby6U6wmJhGQtrUxkCjeayNZxDpqddsUHe2hLfE9PMzduz4EqN9jph32O50OnaZErjNEwLs5jIp1Cd4I9UC0iRMlazbg2BL6r0KZnTPCI8Z7aODBrWp3XrmFGndKbhvj+cLZq6OP307i8aHYAOksrRjEEK+x0neQz1E1L5qckt9MMer+KEGOpoBHck6TsiUZ1bpV02gof/oixKzr5NP1ozI4hkemDir1jEU6uOMNVob3Zbh1Ue1BjOTiDbonsp8sSB1WAjr9dpa6v8O67qSBQ9UH4UEv5Dt/F6O9AsRNV87rDQ/DX/+6AM/wwwuqe/KfwBNYIIpHwSI1C22oaqKqS3ddn2721xdz7NQxOxkxAhYCdX+v7eRV3FRRsAZTrzlA7ubqA==&X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Date=20230418T041938Z&X-Amz-SignedHeaders=host&X-Amz-Expires=30&X-Amz-Credential=ASIASG3IHPL67TAA7E5P/20230418/us-west-2/s3/aws4_request&X-Amz-Signature=1145b5ecb90e39f010ced908a4c07eb74bf47cef0bdae9b13f483cb6492c01e4">boost1.82.0</a></p><h2 id="编译"><a href="#编译" class="headerlink" title="编译"></a>编译</h2><ol><li>打开dos窗口，进入boost所在目录<br><img src="/images/2023041813370101.png" alt="2023041813370101.png"></li><li>boost_1_82_0目录下回生成b2.exe文件，直接双击运行会生成bin.v2和stage文件夹<br><img src="/images/2023041813370102.png" alt="2023041813370102.png"></li></ol><h2 id="vs配置boost"><a href="#vs配置boost" class="headerlink" title="vs配置boost"></a>vs配置boost</h2><p><img src="/images/2023041813370103.png" alt="2023041813370103.png"><br><img src="/images/2023041813370104.png" alt="2023041813370104.png"></p>]]></content>
      
      
      <categories>
          
          <category> C/C++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C/C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SpringBoot与Spring Cloud对应关系</title>
      <link href="/2023/03/24/springboot-yu-spring-cloud-dui-ying-guan-xi/"/>
      <url>/2023/03/24/springboot-yu-spring-cloud-dui-ying-guan-xi/</url>
      
        <content type="html"><![CDATA[<p>springBoot与spring cloud 版本对应关系<br><a href="https://start.spring.io/actuator/info">https://start.spring.io/actuator/info</a></p><p>参考：<a href="https://zhuanlan.zhihu.com/p/556412488">https://zhuanlan.zhihu.com/p/556412488</a></p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PLSQL免安装oracle客户端链接oracle数据库</title>
      <link href="/2023/03/21/plsql-mian-an-zhuang-oracle-ke-hu-duan-lian-jie-oracle-shu-ju-ku/"/>
      <url>/2023/03/21/plsql-mian-an-zhuang-oracle-ke-hu-duan-lian-jie-oracle-shu-ju-ku/</url>
      
        <content type="html"><![CDATA[<ol><li>在<a href="https://www.oracle.com/cn/database/technologies/instant-client/downloads.html">oracle官网</a>下载相应的客户端</li><li>配置plsql的oracle_home和oci的路径<br><img src="/images/2023032113350501.png" alt="2023032113350501.png"></li><li>配置环境变量ORACLE_HOME和TNS_ADMIN<br><img src="/images/2023032113350502.png" alt="2023032113350502.png"><br><img src="/images/2023032113350503.png" alt="2023032113350503.png"><br>将ora文件放到network&#x2F;admin的目录中<br><img src="/images/2023032113350504.png" alt="2023032113350504.png"></li><li>重启plsql即可</li><li>常见错误<br>初始化报错，缺少visual studio 2013组件<br><img src="/images/2023032113350505.png" alt="2023032113350505.png"><br>解决办法下载vcredist然后安装<br><a href="https://docs.microsoft.com/en-US/cpp/windows/latest-supported-vc-redist?view=msvc-170">https://docs.microsoft.com/en-US/cpp/windows/latest-supported-vc-redist?view=msvc-170</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>电脑设置总结</title>
      <link href="/2023/03/15/dian-nao-she-zhi-zong-jie/"/>
      <url>/2023/03/15/dian-nao-she-zhi-zong-jie/</url>
      
        <content type="html"><![CDATA[<ol><li><p>电脑命令总结<br>任务计划 taskschd.msc<br>组件服务 dcomcnfg<br>设备管理器 devmgmt.msc<br>服务 services.msc<br>系统配置 msconfig<br>计算机管理 compmgmt.msc<br>程序管理 appwiz.cpl</p></li><li><p>win10打开ie自动跳转edge浏览器<br>win+Q键搜索<strong>internet选项</strong>，选中<strong>高级</strong>，把勾选“<strong>启用第三方浏览器扩展</strong>”去掉就不会自动跳转<br><img src="/images/2023031511000101.png" alt="2023031511000101.png"><br><img src="/images/2023031511000102.png" alt="2023031511000102.png"></p></li><li><p>window设置开机自动登陆</p><ol><li>win+R输入regedit进入注册表，HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\PasswordLess\Device，找到下面的DevicePasswordLessBuildVersion修改值为0</li><li>win+R输入netplwiz确定，去掉红色框中的对钩，点击应用会弹出窗口让输入开机密码，输入后确定，然后重启电脑就可以。<br><img src="/images/2023031511000103.png" alt="2023031511000103.png"></li></ol></li></ol>]]></content>
      
      
      <categories>
          
          <category> Computer </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Computer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux安装redis</title>
      <link href="/2023/03/09/linux-an-zhuang-redis/"/>
      <url>/2023/03/09/linux-an-zhuang-redis/</url>
      
        <content type="html"><![CDATA[<ol><li>先去<a href="https://redis.io/download/">官网</a>下载redis的压缩包<br><img src="/images/2023030917301301.png" alt="2023030917301301.png"></li><li>redis是基于C语言编写的，需要安装gcc依赖</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y gcc tcl</span><br></pre></td></tr></table></figure><ol start="3"><li><p>编译redis</p><ol><li>在linux新建目录将redis解压</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 新建目录</span></span><br><span class="line"> <span class="built_in">mkdir</span> /soft/redis</span><br><span class="line"> <span class="comment">#解压redis</span></span><br><span class="line"> tar -zxvf redis.x.x.tar.gz</span><br></pre></td></tr></table></figure><ol start="2"><li>编译</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#进入解压后的目录</span></span><br><span class="line"><span class="comment">#这样默认会安装到 /usr/local/bin中</span></span><br><span class="line">make &amp;&amp; make install </span><br><span class="line"><span class="comment"># prefix指定安装目录</span></span><br><span class="line">make PREFIX=/usr/local/redis install</span><br></pre></td></tr></table></figure><p> <img src="/images/2023030917301302.png" alt="2023030917301302.png"><br>3. 启动redis</p><p> redis-cli：是 redis 提供的命令行客户端</p><p> .&#x2F;redis-cli</p><p> redis-server：是 redis 的服务端启动脚本</p><p> .&#x2F;redis-server &#x2F;etc&#x2F;redis&#x2F;redis.conf</p><p> redis-sentinel：是 redis 的哨兵启动脚本</p></li><li><p>连接redis问题</p><ol><li>查看linux防火墙状态，开启则关闭防火墙</li></ol> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#查看状态</span></span><br><span class="line">service firewalld status</span><br><span class="line"><span class="comment">#关闭防火墙</span></span><br><span class="line">service firewalld stop</span><br></pre></td></tr></table></figure><ol start="2"><li>注释掉redis配置<br><img src="/images/2023030917301303.png" alt="2023030917301303.png"></li><li>出现下图错误，需要修改配置protected-mode为no<br><img src="/images/2023030917301304.png" alt="2023030917301304.png"></li></ol></li></ol>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Oracle Virtual ssh无法连接</title>
      <link href="/2023/03/09/oracle-virtual-ssh-wu-fa-lian-jie/"/>
      <url>/2023/03/09/oracle-virtual-ssh-wu-fa-lian-jie/</url>
      
        <content type="html"><![CDATA[<ol><li>虚拟机网路设置为nat（网络地址转换）<br><img src="/images/2023030917110101.png" alt="2023030917110101.png"></li><li>设置端口转发<br><img src="/images/2023030917110102.png" alt="2023030917110102.png"></li><li>连接linux<br><img src="/images/2023030917110103.png" alt="2023030917110103.png"></li></ol>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Eclipse 获取maven项目出现问题汇总</title>
      <link href="/2023/03/02/eclipse-huo-qu-maven-xiang-mu-chu-xian-wen-ti-hui-zong/"/>
      <url>/2023/03/02/eclipse-huo-qu-maven-xiang-mu-chu-xian-wen-ti-hui-zong/</url>
      
        <content type="html"><![CDATA[<ol><li>errors occurred during the build，可以试试加上下图的配置，路径根据自己jak安装路径去修改<br><img src="/images/2023030209021201.png" alt="2023030209021201.png"></li></ol>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Eclipse设置背景色等</title>
      <link href="/2023/02/22/eclipse-she-zhi-bei-jing-se-deng/"/>
      <url>/2023/02/22/eclipse-she-zhi-bei-jing-se-deng/</url>
      
        <content type="html"><![CDATA[<h2 id="设置背景色"><a href="#设置背景色" class="headerlink" title="设置背景色"></a>设置背景色</h2><ol><li>Window-&gt;Preferences-&gt;General-&gt;Editors-&gt;Text Editors</li><li>选择Background color选择自定义颜色<br><img src="/images/2023022216501501.png" alt="2023022216501501.png"></li></ol><h2 id="设置编码格式General-Workspace"><a href="#设置编码格式General-Workspace" class="headerlink" title="设置编码格式General-&gt;Workspace"></a>设置编码格式General-&gt;Workspace</h2><p><img src="/images/2023022216501502.png" alt="2023022216501502.png"></p><h2 id="设置字体大小"><a href="#设置字体大小" class="headerlink" title="设置字体大小"></a>设置字体大小</h2><p><img src="/images/2023022216501503.png" alt="2023022216501503.png"></p><h2 id="设置maven"><a href="#设置maven" class="headerlink" title="设置maven"></a>设置maven</h2><p><img src="/images/2023022216501504.png" alt="2023022216501504.png"></p><h2 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h2><p>maven</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">Licensed to the Apache Software Foundation (ASF) under one</span></span><br><span class="line"><span class="comment">or more contributor license agreements.  See the NOTICE file</span></span><br><span class="line"><span class="comment">distributed with this work for additional information</span></span><br><span class="line"><span class="comment">regarding copyright ownership.  The ASF licenses this file</span></span><br><span class="line"><span class="comment">to you under the Apache License, Version 2.0 (the</span></span><br><span class="line"><span class="comment">&quot;License&quot;); you may not use this file except in compliance</span></span><br><span class="line"><span class="comment">with the License.  You may obtain a copy of the License at</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    http://www.apache.org/licenses/LICENSE-2.0</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Unless required by applicable law or agreed to in writing,</span></span><br><span class="line"><span class="comment">software distributed under the License is distributed on an</span></span><br><span class="line"><span class="comment">&quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY</span></span><br><span class="line"><span class="comment">KIND, either express or implied.  See the License for the</span></span><br><span class="line"><span class="comment">specific language governing permissions and limitations</span></span><br><span class="line"><span class="comment">under the License.</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment"> | This is the configuration file for Maven. It can be specified at two levels:</span></span><br><span class="line"><span class="comment"> |</span></span><br><span class="line"><span class="comment"> |  1. User Level. This settings.xml file provides configuration for a single user,</span></span><br><span class="line"><span class="comment"> |                 and is normally provided in $&#123;user.home&#125;/.m2/settings.xml.</span></span><br><span class="line"><span class="comment"> |</span></span><br><span class="line"><span class="comment"> |                 <span class="doctag">NOTE:</span> This location can be overridden with the CLI option:</span></span><br><span class="line"><span class="comment"> |</span></span><br><span class="line"><span class="comment"> |                 -s /path/to/user/settings.xml</span></span><br><span class="line"><span class="comment"> |</span></span><br><span class="line"><span class="comment"> |  2. Global Level. This settings.xml file provides configuration for all Maven</span></span><br><span class="line"><span class="comment"> |                 users on a machine (assuming they&#x27;re all using the same Maven</span></span><br><span class="line"><span class="comment"> |                 installation). It&#x27;s normally provided in</span></span><br><span class="line"><span class="comment"> |                 $&#123;maven.conf&#125;/settings.xml.</span></span><br><span class="line"><span class="comment"> |</span></span><br><span class="line"><span class="comment"> |                 <span class="doctag">NOTE:</span> This location can be overridden with the CLI option:</span></span><br><span class="line"><span class="comment"> |</span></span><br><span class="line"><span class="comment"> |                 -gs /path/to/global/settings.xml</span></span><br><span class="line"><span class="comment"> |</span></span><br><span class="line"><span class="comment"> | The sections in this sample file are intended to give you a running start at</span></span><br><span class="line"><span class="comment"> | getting the most out of your Maven installation. Where appropriate, the default</span></span><br><span class="line"><span class="comment"> | values (values used when the setting is not specified) are provided.</span></span><br><span class="line"><span class="comment"> |</span></span><br><span class="line"><span class="comment"> |--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">settings</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- localRepository</span></span><br><span class="line"><span class="comment">   | The path to the local repository maven will use to store artifacts.</span></span><br><span class="line"><span class="comment">   |</span></span><br><span class="line"><span class="comment">   | Default: $&#123;user.home&#125;/.m2/repository</span></span><br><span class="line"><span class="comment">  &lt;localRepository&gt;/path/to/local/repo&lt;/localRepository&gt;</span></span><br><span class="line"><span class="comment">  --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">localRepository</span>&gt;</span>E:\Java\mavenRepository<span class="tag">&lt;/<span class="name">localRepository</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- interactiveMode</span></span><br><span class="line"><span class="comment">   | This will determine whether maven prompts you when it needs input. If set to false,</span></span><br><span class="line"><span class="comment">   | maven will use a sensible default value, perhaps based on some other setting, for</span></span><br><span class="line"><span class="comment">   | the parameter in question.</span></span><br><span class="line"><span class="comment">   |</span></span><br><span class="line"><span class="comment">   | Default: true</span></span><br><span class="line"><span class="comment">  &lt;interactiveMode&gt;true&lt;/interactiveMode&gt;</span></span><br><span class="line"><span class="comment">  --&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- offline</span></span><br><span class="line"><span class="comment">   | Determines whether maven should attempt to connect to the network when executing a build.</span></span><br><span class="line"><span class="comment">   | This will have an effect on artifact downloads, artifact deployment, and others.</span></span><br><span class="line"><span class="comment">   |</span></span><br><span class="line"><span class="comment">   | Default: false</span></span><br><span class="line"><span class="comment">  &lt;offline&gt;false&lt;/offline&gt;</span></span><br><span class="line"><span class="comment">  --&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- pluginGroups</span></span><br><span class="line"><span class="comment">   | This is a list of additional group identifiers that will be searched when resolving plugins by their prefix, i.e.</span></span><br><span class="line"><span class="comment">   | when invoking a command line like &quot;mvn prefix:goal&quot;. Maven will automatically add the group identifiers</span></span><br><span class="line"><span class="comment">   | &quot;org.apache.maven.plugins&quot; and &quot;org.codehaus.mojo&quot; if these are not already contained in the list.</span></span><br><span class="line"><span class="comment">   |--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">pluginGroups</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- pluginGroup</span></span><br><span class="line"><span class="comment">     | Specifies a further group identifier to use for plugin lookup.</span></span><br><span class="line"><span class="comment">    &lt;pluginGroup&gt;com.your.plugins&lt;/pluginGroup&gt;</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">pluginGroups</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- proxies</span></span><br><span class="line"><span class="comment">   | This is a list of proxies which can be used on this machine to connect to the network.</span></span><br><span class="line"><span class="comment">   | Unless otherwise specified (by system property or command-line switch), the first proxy</span></span><br><span class="line"><span class="comment">   | specification in this list marked as active will be used.</span></span><br><span class="line"><span class="comment">   |--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">proxies</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- proxy</span></span><br><span class="line"><span class="comment">     | Specification for one proxy, to be used in connecting to the network.</span></span><br><span class="line"><span class="comment">     |</span></span><br><span class="line"><span class="comment">    &lt;proxy&gt;</span></span><br><span class="line"><span class="comment">      &lt;id&gt;optional&lt;/id&gt;</span></span><br><span class="line"><span class="comment">      &lt;active&gt;true&lt;/active&gt;</span></span><br><span class="line"><span class="comment">      &lt;protocol&gt;http&lt;/protocol&gt;</span></span><br><span class="line"><span class="comment">      &lt;username&gt;proxyuser&lt;/username&gt;</span></span><br><span class="line"><span class="comment">      &lt;password&gt;proxypass&lt;/password&gt;</span></span><br><span class="line"><span class="comment">      &lt;host&gt;proxy.host.net&lt;/host&gt;</span></span><br><span class="line"><span class="comment">      &lt;port&gt;80&lt;/port&gt;</span></span><br><span class="line"><span class="comment">      &lt;nonProxyHosts&gt;local.net|some.host.com&lt;/nonProxyHosts&gt;</span></span><br><span class="line"><span class="comment">    &lt;/proxy&gt;</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">proxies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- servers</span></span><br><span class="line"><span class="comment">   | This is a list of authentication profiles, keyed by the server-id used within the system.</span></span><br><span class="line"><span class="comment">   | Authentication profiles can be used whenever maven must make a connection to a remote server.</span></span><br><span class="line"><span class="comment">   |--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">servers</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- server</span></span><br><span class="line"><span class="comment">     | Specifies the authentication information to use when connecting to a particular server, identified by</span></span><br><span class="line"><span class="comment">     | a unique name within the system (referred to by the &#x27;id&#x27; attribute below).</span></span><br><span class="line"><span class="comment">     |</span></span><br><span class="line"><span class="comment">     | <span class="doctag">NOTE:</span> You should either specify username/password OR privateKey/passphrase, since these pairings are</span></span><br><span class="line"><span class="comment">     |       used together.</span></span><br><span class="line"><span class="comment">     |</span></span><br><span class="line"><span class="comment">    &lt;server&gt;</span></span><br><span class="line"><span class="comment">      &lt;id&gt;deploymentRepo&lt;/id&gt;</span></span><br><span class="line"><span class="comment">      &lt;username&gt;repouser&lt;/username&gt;</span></span><br><span class="line"><span class="comment">      &lt;password&gt;repopwd&lt;/password&gt;</span></span><br><span class="line"><span class="comment">    &lt;/server&gt;</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- Another sample, using keys to authenticate.</span></span><br><span class="line"><span class="comment">    &lt;server&gt;</span></span><br><span class="line"><span class="comment">      &lt;id&gt;siteServer&lt;/id&gt;</span></span><br><span class="line"><span class="comment">      &lt;privateKey&gt;/path/to/private/key&lt;/privateKey&gt;</span></span><br><span class="line"><span class="comment">      &lt;passphrase&gt;optional; leave empty if not used.&lt;/passphrase&gt;</span></span><br><span class="line"><span class="comment">    &lt;/server&gt;</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">servers</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- mirrors</span></span><br><span class="line"><span class="comment">   | This is a list of mirrors to be used in downloading artifacts from remote repositories.</span></span><br><span class="line"><span class="comment">   |</span></span><br><span class="line"><span class="comment">   | It works like this: a POM may declare a repository to use in resolving certain artifacts.</span></span><br><span class="line"><span class="comment">   | However, this repository may have problems with heavy traffic at times, so people have mirrored</span></span><br><span class="line"><span class="comment">   | it to several places.</span></span><br><span class="line"><span class="comment">   |</span></span><br><span class="line"><span class="comment">   | That repository definition will have a unique id, so we can create a mirror reference for that</span></span><br><span class="line"><span class="comment">   | repository, to be used as an alternate download site. The mirror site will be the preferred</span></span><br><span class="line"><span class="comment">   | server for that repository.</span></span><br><span class="line"><span class="comment">   |--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">mirrors</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- mirror</span></span><br><span class="line"><span class="comment">     | Specifies a repository mirror site to use instead of a given repository. The repository that</span></span><br><span class="line"><span class="comment">     | this mirror serves has an ID that matches the mirrorOf element of this mirror. IDs are used</span></span><br><span class="line"><span class="comment">     | for inheritance and direct lookup purposes, and must be unique across the set of mirrors.</span></span><br><span class="line"><span class="comment">     |</span></span><br><span class="line"><span class="comment">    &lt;mirror&gt;</span></span><br><span class="line"><span class="comment">      &lt;id&gt;mirrorId&lt;/id&gt;</span></span><br><span class="line"><span class="comment">      &lt;mirrorOf&gt;repositoryId&lt;/mirrorOf&gt;</span></span><br><span class="line"><span class="comment">      &lt;name&gt;Human Readable Name for this Mirror.&lt;/name&gt;</span></span><br><span class="line"><span class="comment">      &lt;url&gt;http://my.repository.com/repo/path&lt;/url&gt;</span></span><br><span class="line"><span class="comment">    &lt;/mirror&gt;</span></span><br><span class="line"><span class="comment">     --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">id</span>&gt;</span>nexus_aliyun<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>central<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">name</span>&gt;</span>Nexus aliyun<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://maven.aliyun.com/nexus/content/groups/public<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br><span class="line">     </span><br><span class="line">    <span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">id</span>&gt;</span>aliyunmaven<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>*<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">name</span>&gt;</span>阿里云公共仓库<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">url</span>&gt;</span>https://maven.aliyun.com/repository/central<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--&lt;mirror&gt;  </span></span><br><span class="line"><span class="comment">      &lt;id&gt;alimaven&lt;/id&gt;</span></span><br><span class="line"><span class="comment">      &lt;mirrorOf&gt;central&lt;/mirrorOf&gt;</span></span><br><span class="line"><span class="comment">      &lt;name&gt;aliyun maven&lt;/name&gt;</span></span><br><span class="line"><span class="comment">      &lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public&lt;/url&gt;</span></span><br><span class="line"><span class="comment">    &lt;/mirror&gt;--&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">mirror</span>&gt;</span> </span><br><span class="line">      <span class="tag">&lt;<span class="name">id</span>&gt;</span>Central<span class="tag">&lt;/<span class="name">id</span>&gt;</span> </span><br><span class="line">      <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://repo1.maven.org/maven2<span class="tag">&lt;/<span class="name">url</span>&gt;</span> </span><br><span class="line">      <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>central<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">mirrors</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- profiles</span></span><br><span class="line"><span class="comment">   | This is a list of profiles which can be activated in a variety of ways, and which can modify</span></span><br><span class="line"><span class="comment">   | the build process. Profiles provided in the settings.xml are intended to provide local machine-</span></span><br><span class="line"><span class="comment">   | specific paths and repository locations which allow the build to work in the local environment.</span></span><br><span class="line"><span class="comment">   |</span></span><br><span class="line"><span class="comment">   | For example, if you have an integration testing plugin - like cactus - that needs to know where</span></span><br><span class="line"><span class="comment">   | your Tomcat instance is installed, you can provide a variable here such that the variable is</span></span><br><span class="line"><span class="comment">   | dereferenced during the build process to configure the cactus plugin.</span></span><br><span class="line"><span class="comment">   |</span></span><br><span class="line"><span class="comment">   | As noted above, profiles can be activated in a variety of ways. One way - the activeProfiles</span></span><br><span class="line"><span class="comment">   | section of this document (settings.xml) - will be discussed later. Another way essentially</span></span><br><span class="line"><span class="comment">   | relies on the detection of a system property, either matching a particular value for the property,</span></span><br><span class="line"><span class="comment">   | or merely testing its existence. Profiles can also be activated by JDK version prefix, where a</span></span><br><span class="line"><span class="comment">   | value of &#x27;1.4&#x27; might activate a profile when the build is executed on a JDK version of &#x27;1.4.2_07&#x27;.</span></span><br><span class="line"><span class="comment">   | Finally, the list of active profiles can be specified directly from the command line.</span></span><br><span class="line"><span class="comment">   |</span></span><br><span class="line"><span class="comment">   | <span class="doctag">NOTE:</span> For profiles defined in the settings.xml, you are restricted to specifying only artifact</span></span><br><span class="line"><span class="comment">   |       repositories, plugin repositories, and free-form properties to be used as configuration</span></span><br><span class="line"><span class="comment">   |       variables for plugins in the POM.</span></span><br><span class="line"><span class="comment">   |</span></span><br><span class="line"><span class="comment">   |--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">profiles</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- profile</span></span><br><span class="line"><span class="comment">     | Specifies a set of introductions to the build process, to be activated using one or more of the</span></span><br><span class="line"><span class="comment">     | mechanisms described above. For inheritance purposes, and to activate profiles via &lt;activatedProfiles/&gt;</span></span><br><span class="line"><span class="comment">     | or the command line, profiles have to have an ID that is unique.</span></span><br><span class="line"><span class="comment">     |</span></span><br><span class="line"><span class="comment">     | An encouraged best practice for profile identification is to use a consistent naming convention</span></span><br><span class="line"><span class="comment">     | for profiles, such as &#x27;env-dev&#x27;, &#x27;env-test&#x27;, &#x27;env-production&#x27;, &#x27;user-jdcasey&#x27;, &#x27;user-brett&#x27;, etc.</span></span><br><span class="line"><span class="comment">     | This will make it more intuitive to understand what the set of introduced profiles is attempting</span></span><br><span class="line"><span class="comment">     | to accomplish, particularly when you only have a list of profile id&#x27;s for debug.</span></span><br><span class="line"><span class="comment">     |</span></span><br><span class="line"><span class="comment">     | This profile example uses the JDK version to trigger activation, and provides a JDK-specific repo.</span></span><br><span class="line"><span class="comment">    &lt;profile&gt;</span></span><br><span class="line"><span class="comment">      &lt;id&gt;jdk-1.4&lt;/id&gt;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">      &lt;activation&gt;</span></span><br><span class="line"><span class="comment">        &lt;jdk&gt;1.4&lt;/jdk&gt;</span></span><br><span class="line"><span class="comment">      &lt;/activation&gt;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">      &lt;repositories&gt;</span></span><br><span class="line"><span class="comment">        &lt;repository&gt;</span></span><br><span class="line"><span class="comment">          &lt;id&gt;jdk14&lt;/id&gt;</span></span><br><span class="line"><span class="comment">          &lt;name&gt;Repository for JDK 1.4 builds&lt;/name&gt;</span></span><br><span class="line"><span class="comment">          &lt;url&gt;http://www.myhost.com/maven/jdk14&lt;/url&gt;</span></span><br><span class="line"><span class="comment">          &lt;layout&gt;default&lt;/layout&gt;</span></span><br><span class="line"><span class="comment">          &lt;snapshotPolicy&gt;always&lt;/snapshotPolicy&gt;</span></span><br><span class="line"><span class="comment">        &lt;/repository&gt;</span></span><br><span class="line"><span class="comment">      &lt;/repositories&gt;</span></span><br><span class="line"><span class="comment">    &lt;/profile&gt;</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">     | Here is another profile, activated by the system property &#x27;target-env&#x27; with a value of &#x27;dev&#x27;,</span></span><br><span class="line"><span class="comment">     | which provides a specific path to the Tomcat instance. To use this, your plugin configuration</span></span><br><span class="line"><span class="comment">     | might hypothetically look like:</span></span><br><span class="line"><span class="comment">     |</span></span><br><span class="line"><span class="comment">     | ...</span></span><br><span class="line"><span class="comment">     | &lt;plugin&gt;</span></span><br><span class="line"><span class="comment">     |   &lt;groupId&gt;org.myco.myplugins&lt;/groupId&gt;</span></span><br><span class="line"><span class="comment">     |   &lt;artifactId&gt;myplugin&lt;/artifactId&gt;</span></span><br><span class="line"><span class="comment">     |</span></span><br><span class="line"><span class="comment">     |   &lt;configuration&gt;</span></span><br><span class="line"><span class="comment">     |     &lt;tomcatLocation&gt;$&#123;tomcatPath&#125;&lt;/tomcatLocation&gt;</span></span><br><span class="line"><span class="comment">     |   &lt;/configuration&gt;</span></span><br><span class="line"><span class="comment">     | &lt;/plugin&gt;</span></span><br><span class="line"><span class="comment">     | ...</span></span><br><span class="line"><span class="comment">     |</span></span><br><span class="line"><span class="comment">     | <span class="doctag">NOTE:</span> If you just wanted to inject this configuration whenever someone set &#x27;target-env&#x27; to</span></span><br><span class="line"><span class="comment">     |       anything, you could just leave off the &lt;value/&gt; inside the activation-property.</span></span><br><span class="line"><span class="comment">     |</span></span><br><span class="line"><span class="comment">    &lt;profile&gt;</span></span><br><span class="line"><span class="comment">      &lt;id&gt;env-dev&lt;/id&gt;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">      &lt;activation&gt;</span></span><br><span class="line"><span class="comment">        &lt;property&gt;</span></span><br><span class="line"><span class="comment">          &lt;name&gt;target-env&lt;/name&gt;</span></span><br><span class="line"><span class="comment">          &lt;value&gt;dev&lt;/value&gt;</span></span><br><span class="line"><span class="comment">        &lt;/property&gt;</span></span><br><span class="line"><span class="comment">      &lt;/activation&gt;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">      &lt;properties&gt;</span></span><br><span class="line"><span class="comment">        &lt;tomcatPath&gt;/path/to/tomcat/instance&lt;/tomcatPath&gt;</span></span><br><span class="line"><span class="comment">      &lt;/properties&gt;</span></span><br><span class="line"><span class="comment">    &lt;/profile&gt;</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">profiles</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- activeProfiles</span></span><br><span class="line"><span class="comment">   | List of profiles that are active for all builds.</span></span><br><span class="line"><span class="comment">   |</span></span><br><span class="line"><span class="comment">  &lt;activeProfiles&gt;</span></span><br><span class="line"><span class="comment">    &lt;activeProfile&gt;alwaysActiveProfile&lt;/activeProfile&gt;</span></span><br><span class="line"><span class="comment">    &lt;activeProfile&gt;anotherAlwaysActiveProfile&lt;/activeProfile&gt;</span></span><br><span class="line"><span class="comment">  &lt;/activeProfiles&gt;</span></span><br><span class="line"><span class="comment">  --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>前端配置操作</title>
      <link href="/2023/02/08/qian-duan-pei-zhi-cao-zuo/"/>
      <url>/2023/02/08/qian-duan-pei-zhi-cao-zuo/</url>
      
        <content type="html"><![CDATA[<h2 id="npm"><a href="#npm" class="headerlink" title="npm"></a>npm</h2><ol><li>npm项目初始化操作<br><img src="/images/2023020816411101.png" alt="2023020816411101.png"></li></ol><p>npm init 项目初始化后会生成package.json文件，类似于java中的pom.xml文件</p><p>#按照提示输入相关信息，如果是用默认值则直接回车即可。</p><p>#name: 项目名称</p><p>#version: 项目版本号</p><p>#description: 项目描述</p><p>#keywords: {Array}关键词，便于用户搜索到我们的项目</p><p>npm init -y 直接初始化项目，不用一步一步确定</p><ol start="2"><li>npm下载js依赖<br><img src="/images/2023020816411102.png" alt="2023020816411102.png"><ol><li>npm install 依赖名称 例如：（npm install jquery）</li><li>npm install 指定依赖版本  （npm install <a href="mailto:&#x6a;&#x71;&#x75;&#x65;&#114;&#x79;&#x40;&#x32;&#x2e;&#49;&#x2e;&#x78;">&#x6a;&#x71;&#x75;&#x65;&#114;&#x79;&#x40;&#x32;&#x2e;&#49;&#x2e;&#x78;</a>）</li></ol></li></ol><p>下载npm依赖之前最好修改下npm镜像地址<br>npm官方的管理包都是从<a href="http://npmjs.com/">http://npmjs.com</a>下载，这个网站国内访问速度慢，推荐使用淘宝的npm镜像<a href="http://npm.taobao.org/">http://npm.taobao.org</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#经过下面的配置，以后所有的 npm install 都会经过淘宝的镜像地址下载</span></span><br><span class="line">npm config <span class="built_in">set</span> registry https://registry.npm.taobao.org</span><br><span class="line"></span><br><span class="line"><span class="comment">#查看npm配置信息</span></span><br><span class="line">npm config list</span><br></pre></td></tr></table></figure><p>npm install 命令使用</p><ol><li>npm 全局安装<br>   全局安装的目录在 用户目录\AppData\Roaming\npm\node_modules<br>   npm intall -g webpack</li><li>其他命令</li><li>根据package.json文件下载依赖<br>   使用命令 npm install<br>   npm安装webpack出现如下图问题<br>   <img src="/images/2023020816411103.png" alt="2023020816411103.png"><br>   发现在之前安装的hadoop中有yarn.cmd文件发生冲突，将改文件改名或者删除都可以<br>   <img src="/images/2023020816411104.png" alt="2023020816411104.png"></li></ol><h2 id="Bable安装"><a href="#Bable安装" class="headerlink" title="Bable安装"></a>Bable安装</h2><ol><li>安装命令</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm install --global babel-cli</span><br><span class="line"></span><br><span class="line"><span class="comment">#查看是否安装成功</span></span><br><span class="line">babel --version</span><br></pre></td></tr></table></figure><ol start="2"><li>初始化项目<br>npm init -y</li><li>创建文件，编写es6代码</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义数据</span></span><br><span class="line"><span class="keyword">let</span> input = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="comment">// 将数组的每个元素 乘10</span></span><br><span class="line">input = input.<span class="title function_">map</span>(<span class="function"><span class="params">item</span> =&gt;</span> item * <span class="number">10</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(input)</span><br></pre></td></tr></table></figure><ol start="4"><li>配置文件.babelrc<br>配置文件是 .babelrc,放在项目的根目录，配置转码规则</li></ol><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;presets&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;es2015&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;plugins&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><ol start="5"><li>安装转码器<br>npm install –save-dev babel-preset-es2015</li><li>转码</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 转码结果写入一个文件</span></span><br><span class="line"><span class="built_in">mkdir</span> dist</span><br><span class="line"><span class="comment"># --out-file 或 -o 参数指定输出文件</span></span><br><span class="line">babel src/test.js --out-file dist/test.js</span><br><span class="line"><span class="comment"># 或者简写</span></span><br><span class="line">babel src/test.js -o dist/test.js</span><br><span class="line"></span><br><span class="line"><span class="comment"># 整个目录转码</span></span><br><span class="line"><span class="built_in">mkdir</span> dist</span><br><span class="line"><span class="comment"># --out-dir 或 -d 参数指定输出目录</span></span><br><span class="line">babel src --out-dir dist</span><br><span class="line"><span class="comment"># 或者简写</span></span><br><span class="line">babel src -d dist</span><br></pre></td></tr></table></figure><h2 id="webpack安装"><a href="#webpack安装" class="headerlink" title="webpack安装"></a>webpack安装</h2><ol><li>全局安装<br>npm install -g webpack webpack-cli</li><li>查看安装后的版本<br>webpack -v</li><li>初始化项目<br>npm init -y</li><li>写入后代码<br>创建add.js</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">exports</span>.<span class="property">add</span> = <span class="keyword">function</span> (<span class="params">a, b</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>创建main.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> opr= <span class="built_in">require</span>(<span class="string">&#x27;./add&#x27;</span>);  <span class="comment">//引入add.js</span></span><br><span class="line">common.<span class="title function_">info</span>( opr.<span class="title function_">add</span>(<span class="number">10</span>, <span class="number">2</span>));</span><br></pre></td></tr></table></figure><ol start="5"><li>配置文件 webpack.config.js</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>); <span class="comment">//Node.js内置模块</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="attr">entry</span>: <span class="string">&#x27;./src/main.js&#x27;</span>, <span class="comment">//配置入口文件</span></span><br><span class="line">    <span class="attr">output</span>: &#123;</span><br><span class="line">        <span class="attr">path</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&#x27;./dist&#x27;</span>), <span class="comment">//输出路径，__dirname：当前文件所在路径</span></span><br><span class="line">        <span class="attr">filename</span>: <span class="string">&#x27;example.js&#x27;</span> <span class="comment">//输出文件</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="6"><li>执行编译命令<br>webpack   #带有警告<br>webpack –mode&#x3D;development # 无警告<br>mode 有development 和 production</li><li>css打包配置文件，在webpack.config.js中增加</li></ol><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">module<span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line">        rules<span class="punctuation">:</span><span class="punctuation">[</span></span><br><span class="line">            <span class="punctuation">&#123;</span></span><br><span class="line">                test<span class="punctuation">:</span> /\.css$/<span class="punctuation">,</span> <span class="comment">//打包规则引用到css结尾的文件上</span></span><br><span class="line">                use<span class="punctuation">:</span><span class="punctuation">[</span>&#x27;style-loader&#x27;<span class="punctuation">,</span>&#x27;css-loader&#x27;<span class="punctuation">]</span></span><br><span class="line">            <span class="punctuation">&#125;</span></span><br><span class="line">        <span class="punctuation">]</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><ol start="8"><li>安装css加载工具，打包方法与js相同<br>npm install –save-dev style-loader css-loader</li></ol>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vscode 终端中运行执行js文件</title>
      <link href="/2023/02/08/vscode-zhong-duan-zhong-yun-xing-zhi-xing-js-wen-jian/"/>
      <url>/2023/02/08/vscode-zhong-duan-zhong-yun-xing-zhi-xing-js-wen-jian/</url>
      
        <content type="html"><![CDATA[<p>问题汇总</p><p>在vscode中执行node -v没有反应或者执行js文件出现下图错误<br><img src="/images/2023020815380801.png" alt="2023020815380801.png"><br>解决办法：</p><ol><li>先关闭vscode，找到vscode的执行文件，在兼容性中勾上以管理员身份运行此程序，该问题win10出现比较多<br><img src="/images/2023020815380802.png" alt="2023020815380802.png"></li><li>如果上面操作之后，还没有出现版本号<ol><li>确定nodejs是否安装成功</li><li>使用cmd能看到版本号，确定成功了，重启下电脑</li></ol></li></ol>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VSCode 抽取vue的代码片段</title>
      <link href="/2023/02/08/vscode-chou-qu-vue-de-dai-ma-pian-duan/"/>
      <url>/2023/02/08/vscode-chou-qu-vue-de-dai-ma-pian-duan/</url>
      
        <content type="html"><![CDATA[<p>在vscode中文件——&gt;首选项——&gt;用户片段，输入名字按去确定，输入代码片段</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;vue htm&quot;: &#123;</span><br><span class="line">        &quot;scope&quot;: &quot;html&quot;,</span><br><span class="line">        &quot;prefix&quot;: &quot;vuehtml&quot;,</span><br><span class="line">        &quot;body&quot;: [</span><br><span class="line">            &quot;<span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span>&quot;,</span><br><span class="line">            &quot;<span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">\</span>&quot;<span class="attr">en</span>\&quot;&gt;</span>&quot;,</span><br><span class="line">            &quot;&quot;,</span><br><span class="line">            &quot;<span class="tag">&lt;<span class="name">head</span>&gt;</span>&quot;,</span><br><span class="line">            &quot;    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">\</span>&quot;<span class="attr">UTF-8</span>\&quot;&gt;</span>&quot;,</span><br><span class="line">            &quot;    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">\</span>&quot;<span class="attr">viewport</span>\&quot; <span class="attr">content</span>=<span class="string">\</span>&quot;<span class="attr">width</span>=<span class="string">device-width,</span> <span class="attr">initial-scale</span>=<span class="string">1.0\</span>&quot;&gt;</span>&quot;,</span><br><span class="line">            &quot;    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">\</span>&quot;<span class="attr">X-UA-Compatible</span>\&quot; <span class="attr">content</span>=<span class="string">\</span>&quot;<span class="attr">ie</span>=<span class="string">edge\</span>&quot;&gt;</span>&quot;,</span><br><span class="line">            &quot;    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span>&quot;,</span><br><span class="line">            &quot;<span class="tag">&lt;/<span class="name">head</span>&gt;</span>&quot;,</span><br><span class="line">            &quot;    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">\</span>&quot;<span class="attr">text</span>/<span class="attr">javascript</span>\&quot; <span class="attr">src</span>=<span class="string">\</span>&quot;<span class="attr">https:</span>//<span class="attr">unpkg.com</span>/<span class="attr">vue</span>@<span class="attr">2.6.14</span>/<span class="attr">dist</span>/<span class="attr">vue.min.js</span>\&quot;&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>&quot;,</span><br><span class="line">            &quot;&quot;,</span><br><span class="line">            &quot;<span class="tag">&lt;<span class="name">body</span>&gt;</span>&quot;,</span><br><span class="line">            &quot;    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">\</span>&quot;<span class="attr">app</span>\&quot;&gt;</span>&quot;,</span><br><span class="line">            &quot;&quot;,</span><br><span class="line">            &quot;    <span class="tag">&lt;/<span class="name">div</span>&gt;</span>&quot;,</span><br><span class="line">            &quot;    <span class="tag">&lt;<span class="name">script</span>&gt;</span>&quot;,</span><br><span class="line">            &quot;        new Vue(&#123;&quot;,</span><br><span class="line">            &quot;            el: &#x27;#app&#x27;,&quot;,</span><br><span class="line">            &quot;            data: &#123;&quot;,</span><br><span class="line">            &quot;                $1&quot;,</span><br><span class="line">            &quot;            &#125;&quot;,</span><br><span class="line">            &quot;        &#125;)&quot;,</span><br><span class="line">            &quot;    <span class="tag">&lt;/<span class="name">script</span>&gt;</span>&quot;,</span><br><span class="line">            &quot;<span class="tag">&lt;/<span class="name">body</span>&gt;</span>&quot;,</span><br><span class="line">            &quot;&quot;,</span><br><span class="line">            &quot;<span class="tag">&lt;/<span class="name">html</span>&gt;</span>&quot;,</span><br><span class="line">        ],</span><br><span class="line">        &quot;description&quot;: &quot;my vue template in html&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MyBatisPlus 报MP_OPTLOCK_VERSION_ORIGINAL not found. Available parameters are错误</title>
      <link href="/2023/01/04/mybatisplus-bao-mp-optlock-version-original-not-found.available-parameters-are-cuo-wu/"/>
      <url>/2023/01/04/mybatisplus-bao-mp-optlock-version-original-not-found.available-parameters-are-cuo-wu/</url>
      
        <content type="html"><![CDATA[<p>配置mybatisplus乐观锁的过程</p><ol><li>在数据库表中添加version字段类型int<br><img src="/images/2023010415551501.png" alt="2023010415551501.png"></li><li>在实体类中增加version属性，属性上增加@Version注解<br><img src="/images/2023010415551502.png" alt="2023010415551502.png"></li><li>配置乐观锁插件<br>提示Parameter ‘MP_OPTLOCK_VERSION_ORIGINAL’ not found. Available parameters are [param1, et]是因为mybatisplus版本的原因， 新的版本这样配置相当于没有生效，老本的是OptimisticLockerInterceptor已经过时了</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyBatisConfig</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//乐观锁插件</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> MybatisPlusInterceptor <span class="title function_">mybatisPlusInterceptor</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">MybatisPlusInterceptor</span> <span class="variable">interceptor</span> <span class="operator">=</span><span class="keyword">new</span> <span class="title class_">MybatisPlusInterceptor</span>();</span><br><span class="line">        interceptor.addInnerInterceptor(<span class="keyword">new</span> <span class="title class_">OptimisticLockerInnerInterceptor</span>());</span><br><span class="line">        <span class="keyword">return</span> interceptor;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/images/2023010415551503.png" alt="2023010415551503.png"></p><p>参考：<a href="https://baomidou.com/pages/0d93c0/#_1-%E9%85%8D%E7%BD%AE%E6%8F%92%E4%BB%B6">https://baomidou.com/pages/0d93c0/#_1-%E9%85%8D%E7%BD%AE%E6%8F%92%E4%BB%B6</a></p><p><img src="/images/2023010415551504.png" alt="2023010415551504.png"></p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>docker中安装elasticsarch 等镜像</title>
      <link href="/2022/12/26/docker-zhong-an-zhuang-elasticsarch-deng-jing-xiang/"/>
      <url>/2022/12/26/docker-zhong-an-zhuang-elasticsarch-deng-jing-xiang/</url>
      
        <content type="html"><![CDATA[<ol><li><p>在<a href="https://hub.docker.com/">dockerhub</a>中查找镜像</p></li><li><p>查看镜像下的说明，如下图标识成功</p><ol><li>安装elasticsearch<br>运行命令</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run --name myes01 -d -p 9200:9200 -p 9300:9300 -e ES_JAVA_OPTS=<span class="string">&quot;-Xms256m -Xmx256m&quot;</span> -e <span class="string">&quot;discovery.type=single-node&quot;</span> elasticsearch:tag</span><br></pre></td></tr></table></figure><p> ES_JAVA_OPTS&#x3D;”-Xms256m -Xmx256m”表示限制初始化内存占用大小<br> –name 容器启动后的名称<br> -d     后台运行<br> -p ip1：ip2 映射端口号 ip1 主机端口 ip2 docker容器内部端口。<br> 注意：<br> 启动失败可以设置max_map_count、nofile<br> vi &#x2F;etc&#x2F;security&#x2F;limits.conf<br> #新增如下内容在limits.conf文件中<br> * soft nofile 200000<br> * hard nofile 200000</p><p> vi &#x2F;etc&#x2F;sysctl.conf<br> 添加参数:新增如下内容在sysctl.conf文件中，当前用户拥有的内存权限大小<br> vm.max_map_count&#x3D;262144<br> 重启生效:让系统控制权限配置生效<br> sysctl -p<br> 或者 sysctl -w vm.max_map_count&#x3D;262144 之后 sysctl -p<br> <img src="/images/2022122610551501.png" alt="2022122610551501.png"><br>2. 安装mysql<br>运行命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run --name mysql01 -p 3306:330 -e MYSQL_ROOT_PASSWORD=123456 -d mysql:tag</span><br></pre></td></tr></table></figure><ol start="3"><li>安装rabbitmq，选择带management的有管理界面<br><img src="/images/2022122610551502.png" alt="2022122610551502.png"><br>运行命令</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -p 5672:5672 -p 15672:15672 --name myrabbitmq rabbitmq:tag</span><br></pre></td></tr></table></figure><p>端口15672是访问管理界面的端口号，地址是 ip：15672</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Jenkins安装和自动化部署</title>
      <link href="/2022/11/07/jenkins-an-zhuang-he-zi-dong-hua-bu-shu/"/>
      <url>/2022/11/07/jenkins-an-zhuang-he-zi-dong-hua-bu-shu/</url>
      
        <content type="html"><![CDATA[<ol><li><p>Jenkins安装机器安装要求可以参考官网 <a href="https://www.jenkins.io/">https://www.jenkins.io</a><br><img src="/images/2022110714041401.png" alt="2022110714041401.png"></p></li><li><p>下载jenkins的war包上传到linux上部署<br><img src="/images/2022110714041402.png" alt="2022110714041402.png"></p></li><li><p>安装jdk、git、maven</p><ol><li>安装jdk<br>搜索可以的jdk包并安装</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum search java|grep jdk</span><br><span class="line">yum install java-1.8.0-openjdk</span><br></pre></td></tr></table></figure><ol start="2"><li>安装git</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y git</span><br></pre></td></tr></table></figure><ol start="3"><li>在maven官网下载的安装包<br>解压maven包</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf maven包名</span><br><span class="line"> <span class="built_in">mv</span> 解压maven包名 /usr/local/maven</span><br><span class="line"> 使用 /usr/local/maven/bin/mvn 验证是否成功</span><br></pre></td></tr></table></figure><p> <img src="/images/2022110714041403.png" alt="2022110714041403.png"><br> 然后在Global Tool configuration配置maven<br> <img src="/images/2022110714041404.png" alt="2022110714041404.png"></p></li><li><p>使用ip+8080访问jenkins<br>访问不了，可以查看防火墙是否开启，关闭防火墙</p></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl status firewalld</span><br><span class="line">systemctl stop firewalld</span><br></pre></td></tr></table></figure><ol start="5"><li>新建Item并配置<br><img src="/images/2022110714041405.png" alt="2022110714041405.png"><br>jenkins构建编译出现下图报错需要安装java jdk<br><img src="/images/2022110714041406.png" alt="2022110714041406.png"></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y java-devel</span><br></pre></td></tr></table></figure><p>安装publisher over ssh插件后在Configure System配置测试服务器，测试服务器需要安装jdk<br><img src="/images/2022110714041407.png" alt="2022110714041407.png"><br>在项目构建完成后设置传送到测试服务器并启动<br><img src="/images/2022110714041407.png" alt="2022110714041408.png"><br>jenkins发布后传输到测试服务器并自动运行程序，清理之前的程序<br><img src="/images/2022110714041409.png" alt="2022110714041409.png"><br> shell脚本</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#删除数据文件</span></span><br><span class="line"><span class="built_in">rm</span> -rf first</span><br><span class="line"></span><br><span class="line">appname=<span class="variable">$1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#输入的参数</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;arg:<span class="variable">$appname</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#获取正在运行jar包的pid</span></span><br><span class="line">pid=`ps -ef |grep <span class="variable">$appname</span> |grep <span class="string">&#x27;java -jar&#x27;</span> | awk <span class="string">&#x27;&#123;printf $2&#125;&#x27;</span>`</span><br><span class="line"></span><br><span class="line"><span class="comment">#输出pid</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$pid</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#判断pid是否为空，为空则不处理，不为空则kill</span></span><br><span class="line"><span class="keyword">if</span> [ -z <span class="variable">$pid</span>  ];</span><br><span class="line">        <span class="keyword">then</span></span><br><span class="line">                <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$appname</span> not started&quot;</span></span><br><span class="line">                <span class="built_in">exit</span> 0</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">                <span class="built_in">kill</span> -9 <span class="variable">$pid</span></span><br><span class="line">                <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$appname</span> is stopping ...&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line">checkpid=`ps -ef |grep -w <span class="variable">$pid</span> |grep java`</span><br><span class="line"><span class="keyword">if</span> [ -z <span class="variable">$checkpid</span>  ];</span><br><span class="line">        <span class="keyword">then</span></span><br><span class="line">                <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$appanme</span> pid: <span class="variable">$pid</span> kill fail&quot;</span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">                <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$appname</span> pid: <span class="variable">$pid</span> is killed&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure><p>注意： <strong>shell脚本中定义变量时，&#x3D;周围不能存在空格，否则会报错</strong></p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Oracle 创建dblink</title>
      <link href="/2022/10/28/oracle-chuang-jian-dblink/"/>
      <url>/2022/10/28/oracle-chuang-jian-dblink/</url>
      
        <content type="html"><![CDATA[<ol><li>检查该用户是否拥有创建dblink权限</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> user_sys_privs a <span class="keyword">where</span> a.privilege <span class="keyword">like</span> <span class="built_in">upper</span>(<span class="string">&#x27;%DATABASE LINK%&#x27;</span>);</span><br></pre></td></tr></table></figure><p><img src="/images/2022102810501501.png" alt="2022102810501501.png"></p><ol start="2"><li>用户没有dblink权限，则需要赋权限</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">grant</span> public database link <span class="keyword">to</span> username</span><br></pre></td></tr></table></figure><ol start="3"><li>创建dblink，dblink_name可以随便写</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> database link dblink_name</span><br><span class="line"> <span class="keyword">CONNECT</span> <span class="keyword">TO</span> userName IDENTIFIED <span class="keyword">BY</span> password</span><br><span class="line"> <span class="keyword">USING</span> <span class="string">&#x27;(DESCRIPTION=</span></span><br><span class="line"><span class="string">    (ADDRESS_LIST=</span></span><br><span class="line"><span class="string">         (ADDRESS=(PROTOCOL=TCP)(HOST=ip地址)(PORT=1521))</span></span><br><span class="line"><span class="string">     )</span></span><br><span class="line"><span class="string">     (CONNECT_DATA=</span></span><br><span class="line"><span class="string">         (SERVICE_NAME=数据库实例名)</span></span><br><span class="line"><span class="string">     )</span></span><br><span class="line"><span class="string">  )&#x27;</span>;</span><br></pre></td></tr></table></figure><ol start="4"><li>不需要dblink可以删除</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> public database link dblink_name</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL连接提示 public key retrieval is not allowed</title>
      <link href="/2022/10/24/mysql-lian-jie-ti-shi-public-key-retrieval-is-not-allowed/"/>
      <url>/2022/10/24/mysql-lian-jie-ti-shi-public-key-retrieval-is-not-allowed/</url>
      
        <content type="html"><![CDATA[<p>使用DBeaver连接mysql数据提示public key retrieval is not allowed<br>修改DBeaver的驱动属性中的allowPublicKeyRetrieval<br><img src="/images/2022102413211101.png" alt="2022102413211101.png"></p>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>eclipse 安装sts插件</title>
      <link href="/2022/10/11/eclipse-an-zhuang-sts-cha-jian/"/>
      <url>/2022/10/11/eclipse-an-zhuang-sts-cha-jian/</url>
      
        <content type="html"><![CDATA[<ol><li>在线安装<br><img src="/images/2022101114531301.png" alt="2022101114531301.png"><br><a href="http://download.springsource.com/release/TOOLS/update/e4.16/">http://download.springsource.com/release/TOOLS/update/e4.16/</a><ol><li>查看eclise版本，把对应的版本修改下</li><li>点击help-install new software，输入name和url，勾选要安装的选项，记得取消自动更新选项<br><img src="/images/2022101114531302.png" alt="2022101114531302.png"></li></ol></li><li>离线安装<br><a href="https://github.com/spring-attic/toolsuite-distribution/wiki/Spring-Tool-Suite-3">sts</a><br>和在线安装差不多，选择对应的版本安装</li></ol>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Win10安装环回适配器</title>
      <link href="/2022/10/09/win10-an-zhuang-huan-hui-gua-pei-qi/"/>
      <url>/2022/10/09/win10-an-zhuang-huan-hui-gua-pei-qi/</url>
      
        <content type="html"><![CDATA[<ol><li><p>以管理员方式运行dos窗口</p></li><li><p>输入hdwwiz命令回车<br><img src="/images/2022100914100101.png" alt="2022100914100101.png"></p></li></ol>]]></content>
      
      
      <categories>
          
          <category> Computer </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Computer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>oracle统计表空间语句</title>
      <link href="/2022/09/26/oracle-tong-ji-biao-kong-jian-yu-ju/"/>
      <url>/2022/09/26/oracle-tong-ji-biao-kong-jian-yu-ju/</url>
      
        <content type="html"><![CDATA[<ol><li>统计单个表所占空间<br>使用dba_segments或user_segments都可以</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">   <span class="keyword">select</span> segment_name,round(<span class="built_in">sum</span>(BYTES)<span class="operator">/</span><span class="number">1024</span><span class="operator">/</span><span class="number">1024</span><span class="operator">/</span><span class="number">1024</span>,<span class="number">2</span>) GB  <span class="keyword">from</span> user_segments</span><br><span class="line"><span class="keyword">where</span> partition_name <span class="keyword">like</span> <span class="string">&#x27;DWB_PSUSCPN%&#x27;</span></span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> segment_name</span><br></pre></td></tr></table></figure><ol start="2"><li>查看oracle空间</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> a.tablespace_name 表空间名,</span><br><span class="line">round(a.bytes<span class="operator">/</span><span class="number">1024</span><span class="operator">/</span><span class="number">1024</span><span class="operator">/</span><span class="number">1024</span>,<span class="number">2</span>) 总空间,</span><br><span class="line">round(b.bytes<span class="operator">/</span><span class="number">1024</span><span class="operator">/</span><span class="number">1024</span><span class="operator">/</span><span class="number">1024</span>,<span class="number">2</span>) 使用空间,</span><br><span class="line">round(c.bytes<span class="operator">/</span><span class="number">1024</span><span class="operator">/</span><span class="number">1024</span><span class="operator">/</span><span class="number">1024</span>,<span class="number">2</span>) 空闲空间,</span><br><span class="line">d.maxbytes 最大空间,</span><br><span class="line">round((b.bytes <span class="operator">*</span> <span class="number">100</span>) <span class="operator">/</span> a.bytes,<span class="number">2</span>) &quot;% USED &quot;,</span><br><span class="line">round((c.bytes <span class="operator">*</span> <span class="number">100</span>) <span class="operator">/</span> a.bytes,<span class="number">2</span>) &quot;% FREE &quot;</span><br><span class="line"><span class="keyword">FROM</span> sys.sm$ts_avail a, sys.sm$ts_used b, sys.sm$ts_free c,</span><br><span class="line">(<span class="keyword">SELECT</span> tablespace_name,round(<span class="built_in">SUM</span>(maxbytes) <span class="operator">/</span> <span class="number">1024</span> <span class="operator">/</span> <span class="number">1024</span> <span class="operator">/</span> <span class="number">1024</span>, <span class="number">2</span>) maxbytes <span class="keyword">FROM</span> dba_data_files <span class="keyword">GROUP</span> <span class="keyword">BY</span> tablespace_name) d</span><br><span class="line"><span class="keyword">WHERE</span> a.tablespace_name <span class="operator">=</span> b.tablespace_name</span><br><span class="line"><span class="keyword">AND</span> a.tablespace_name <span class="operator">=</span> c.tablespace_name</span><br><span class="line"><span class="keyword">AND</span> a.tablespace_name <span class="operator">=</span> d.tablespace_name;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>截取指定错误信息长度</title>
      <link href="/2022/07/25/jie-qu-zhi-ding-cuo-wu-xin-xi-chang-du/"/>
      <url>/2022/07/25/jie-qu-zhi-ding-cuo-wu-xin-xi-chang-du/</url>
      
        <content type="html"><![CDATA[<p>截取指定长度错误信息</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 截取消息长度</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> errorMsg 消息</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> interceptLength 截取长度</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> String</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">private</span> String <span class="title function_">getMessage</span><span class="params">(String errorMsg, <span class="type">int</span> interceptLength)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (StringUtils.isBlank(errorMsg)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> <span class="variable">minLength</span> <span class="operator">=</span> Math.min(interceptLength, errorMsg.getBytes(StandardCharsets.UTF_8).length);</span><br><span class="line">    <span class="type">int</span> <span class="variable">byteLength</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">String</span> <span class="variable">subStr</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        subStr = errorMsg.substring(<span class="number">0</span>, minLength--);</span><br><span class="line">        byteLength = subStr.getBytes(StandardCharsets.UTF_8).length;</span><br><span class="line">    &#125; <span class="keyword">while</span> (byteLength &gt; interceptLength);</span><br><span class="line">    <span class="keyword">return</span> subStr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>win11离线安装netframework3</title>
      <link href="/2022/07/20/win11-chi-xian-an-zhuang-netframework3/"/>
      <url>/2022/07/20/win11-chi-xian-an-zhuang-netframework3/</url>
      
        <content type="html"><![CDATA[<ol><li><a href="https://pan.baidu.com/s/1eAM8YGcTH3SMoDiV3L-2ww?pwd=p4dw">下载cab包</a></li><li>以管理员方式运行dos，dism.exe &#x2F;online &#x2F;enable-feature &#x2F;featurename:netfx3 &#x2F;Source:D:\sources\sxs (D:\sources\sxs这里根据自己电脑情况建立文件夹)</li><li>在设置-&gt;应用中打开可勾选功能<br><img src="/images/2022072014590901.png" alt="2022072014590901.png"></li></ol>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>TortoiseGit切换分支提示pull requires the selected local branch to be the current branch</title>
      <link href="/2022/07/20/tortoisegit-qie-huan-fen-zhi-ti-shi-pull-requires-the-selected-local-branch-to-be-the-current-branch/"/>
      <url>/2022/07/20/tortoisegit-qie-huan-fen-zhi-ti-shi-pull-requires-the-selected-local-branch-to-be-the-current-branch/</url>
      
        <content type="html"><![CDATA[<p>切换分支提示pull requires the selected local branch to be the current branch<br><img src="/images/2022072014471701.png" alt="2022072014471701.png"><br>解决办法，安装高版本的TortoiseGit就可以了。</p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MyBatis QueryWrapper 简单用法</title>
      <link href="/2022/07/19/mybatis-querywrapper-jian-dan-yong-fa/"/>
      <url>/2022/07/19/mybatis-querywrapper-jian-dan-yong-fa/</url>
      
        <content type="html"><![CDATA[<p>sql 语句</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> data_log <span class="keyword">where</span> status <span class="keyword">is</span> <span class="keyword">null</span> <span class="keyword">and</span> ((ind <span class="keyword">is</span> <span class="keyword">null</span> <span class="keyword">and</span> data_type<span class="operator">=</span><span class="string">&#x27;A&#x27;</span>) <span class="keyword">or</span> (ind <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">and</span> data_type<span class="operator">=</span><span class="string">&#x27;B&#x27;</span>))</span><br></pre></td></tr></table></figure><p>翻译java代码</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">QueryWrapper&lt;T&gt; qw =<span class="keyword">new</span> <span class="title class_">QueryWrapper</span>&lt;&gt;();</span><br><span class="line">qw.isNull(<span class="string">&quot;status&quot;</span>);</span><br><span class="line">qw.and(a-&gt;a.isNull(<span class="string">&quot;ind&quot;</span>).eq(<span class="string">&quot;data_type&quot;</span>,<span class="string">&quot;A&quot;</span>)</span><br><span class="line">            .or(b-&gt;b.isNotNull(<span class="string">&quot;ind&quot;</span>).eq(<span class="string">&quot;data_type&quot;</span>,<span class="string">&quot;B&quot;</span>)));</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>win10 替换背景图片提示文件夹拒绝访问</title>
      <link href="/2022/07/18/win10-ti-huan-bei-jing-tu-pian-ti-shi-wen-jian-jia-ju-jue-fang-wen/"/>
      <url>/2022/07/18/win10-ti-huan-bei-jing-tu-pian-ti-shi-wen-jian-jia-ju-jue-fang-wen/</url>
      
        <content type="html"><![CDATA[<p><img src="/images/2022071817051501.png" alt="2022071817051501.png"></p>]]></content>
      
      
      <categories>
          
          <category> Computer </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Computer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Jenkins建立一个指定的分支</title>
      <link href="/2022/04/27/jenkins-jian-li-yi-ge-zhi-ding-de-fen-zhi/"/>
      <url>/2022/04/27/jenkins-jian-li-yi-ge-zhi-ding-de-fen-zhi/</url>
      
        <content type="html"><![CDATA[<p><img src="/images/2022042710531301.png" alt="2022042710531301.png"><br><img src="/images/2022042710531302.png" alt="2022042710531302.png"></p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SpringBoot Profile多环境支持</title>
      <link href="/2022/04/11/springboot-profile-duo-huan-jing-zhi-chi/"/>
      <url>/2022/04/11/springboot-profile-duo-huan-jing-zhi-chi/</url>
      
        <content type="html"><![CDATA[<p>多profiles文件使用spring.profiles.active&#x3D;dev没有生效，需要在pom.xml文件中增加</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- profile多环境支持需要配置 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/resources<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">filtering</span>&gt;</span>true<span class="tag">&lt;/<span class="name">filtering</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure><p>applicaiton.properties，需要切换环境只需要在application.properties中修改spring.profiles.active&#x3D;dev或者prod</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">server.port=8089</span><br><span class="line">spring.profiles.active=dev</span><br></pre></td></tr></table></figure><p>application-dev.properties</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">server.port=8081</span><br></pre></td></tr></table></figure><p>application-prod.properties</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">server.port=8082</span><br></pre></td></tr></table></figure><p>yaml文件配置</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">profiles:</span></span><br><span class="line">    <span class="attr">active:</span> <span class="string">dev</span></span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8084</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">profiles:</span> <span class="string">dev</span></span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8085</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">profiles:</span> <span class="string">prod</span></span><br></pre></td></tr></table></figure><p><strong>yaml文件和properties文件只能存在一种，使用yaml文件需要把properties文件里的内容全部注释掉。</strong></p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Postman Cloud not get response</title>
      <link href="/2022/04/11/postman-cloud-not-get-response/"/>
      <url>/2022/04/11/postman-cloud-not-get-response/</url>
      
        <content type="html"><![CDATA[<p>使用post输入https请求是提示cloud not get response<br><img src="/images/2022041114501501.png" alt="2022041114501501.png"><br>只需要在设置中关闭ssl certificate verification<br><img src="/images/2022041114501502.png" alt="2022041114501502.png"></p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Docker安装出现的问题</title>
      <link href="/2022/03/29/docker-an-zhuang-chu-xian-de-wen-ti/"/>
      <url>/2022/03/29/docker-an-zhuang-chu-xian-de-wen-ti/</url>
      
        <content type="html"><![CDATA[<ol><li>.bash:docker.exe Common not found<br><img src="/images/2022032914521201.png" alt="2022032914521201.png"><br>在系统环境变量中配置一下docker的安装路径</li><li>Looks like something went wrong in step ´Looking for vboxmanage.exe´<br>需要一步步排除docker安装目录下的文件（start.sh）中的系统环境变量读取是否正确<br>配置环境变量还是读取不了，直接赋值具体路径（D:\Program Files\Docker Toolbox\docker-machine.exe)<br><img src="/images/2022032914521202.png" alt="2022032914521202.png"><br>同样的方法排除变量VBOX_MSI_INSTALL_PATH<br><img src="/images/2022032914521203.png" alt="2022032914521203.png"></li></ol>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java SimpleDateFormat用法</title>
      <link href="/2022/02/23/java-simpledateformat-yong-fa/"/>
      <url>/2022/02/23/java-simpledateformat-yong-fa/</url>
      
        <content type="html"><![CDATA[<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         *SimpleDateFormat函数语法：</span></span><br><span class="line"><span class="comment">          G 年代标志符</span></span><br><span class="line"><span class="comment">          y 年</span></span><br><span class="line"><span class="comment">          M 月</span></span><br><span class="line"><span class="comment">          d 日</span></span><br><span class="line"><span class="comment">          h 时 在上午或下午 (1~12)</span></span><br><span class="line"><span class="comment">          H 时 在一天中 (0~23)</span></span><br><span class="line"><span class="comment">          m 分</span></span><br><span class="line"><span class="comment">          s 秒</span></span><br><span class="line"><span class="comment">          S 毫秒</span></span><br><span class="line"><span class="comment">          E 星期</span></span><br><span class="line"><span class="comment">          D 一年中的第几天</span></span><br><span class="line"><span class="comment">          F 一月中第几个星期几</span></span><br><span class="line"><span class="comment">          w 一年中第几个星期</span></span><br><span class="line"><span class="comment">          W 一月中第几个星期</span></span><br><span class="line"><span class="comment">          a 上午 / 下午 标记符</span></span><br><span class="line"><span class="comment">          k 时 在一天中 (1~24)</span></span><br><span class="line"><span class="comment">          K 时 在上午或下午 (0~11)</span></span><br><span class="line"><span class="comment">          z 时区</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        SimpleDateFormat simple=<span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(</span><br><span class="line">                <span class="string">&quot;yyyyMMdd HH:mm:ss 一年中的第 D 天 第w个星期 一月中第W个星期 E 在一天中k时 z时区&quot;</span>);</span><br><span class="line">        System.out.println(simple.format(<span class="keyword">new</span> <span class="title class_">Date</span>()));</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/images/2022022316061601.png" alt="2022022316061601.png"></p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Oracle 操作表</title>
      <link href="/2021/12/20/oracle-cao-zuo-biao/"/>
      <url>/2021/12/20/oracle-cao-zuo-biao/</url>
      
        <content type="html"><![CDATA[<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--查询回收站中的表</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> recyclebin;</span><br><span class="line"><span class="comment">--清空回收站中的表</span></span><br><span class="line">purge recyclebin;</span><br><span class="line"><span class="comment">--清空回收站中指定的表</span></span><br><span class="line">purge <span class="keyword">table</span> <span class="operator">&amp;</span>ORIGINAL_NAME;</span><br><span class="line"></span><br><span class="line"><span class="comment">--恢复回收站中的指定表</span></span><br><span class="line">FLASHBACK <span class="keyword">TABLE</span> TABLE_NAME <span class="keyword">TO</span> BEFORE <span class="keyword">DROP</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">--恢复回收站中的指定表并重命名</span></span><br><span class="line">flashback <span class="keyword">table</span> TABLE_NAME <span class="keyword">to</span> before <span class="keyword">drop</span> rename <span class="keyword">to</span> new_table_name;</span><br><span class="line"></span><br><span class="line"><span class="comment">--一次性彻底删除表</span></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> TABLE_NAME purge;</span><br><span class="line"></span><br><span class="line"><span class="comment">--删除带约束的表</span></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> TABLE_NAME cascade constraints;</span><br><span class="line"></span><br><span class="line"><span class="comment">--删除表，并未真正删除，只是把表放入回收站中</span></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> TABLE_NAME;</span><br><span class="line"></span><br><span class="line"><span class="comment">--查询表名</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> user_tables;</span><br><span class="line"></span><br><span class="line"><span class="comment">--批量生成删除语句</span></span><br><span class="line"><span class="keyword">select</span> <span class="string">&#x27;drop table &#x27;</span><span class="operator">||</span> table_name <span class="operator">||</span> <span class="string">&#x27; cascade constraints;&#x27;</span> <span class="keyword">from</span> user_tables;</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="comment">--判断是否存在表再删除</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">declare</span></span><br><span class="line">  n_count number;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  <span class="keyword">select</span> <span class="built_in">count</span>(<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">into</span> n_count</span><br><span class="line">    <span class="keyword">from</span> user_tables</span><br><span class="line">   <span class="keyword">where</span> table_name <span class="operator">=</span> <span class="string">&#x27;TABLE_NAME&#x27;</span>;</span><br><span class="line">  if n_count <span class="operator">&gt;</span> <span class="number">0</span> <span class="keyword">then</span></span><br><span class="line">    <span class="keyword">execute</span> immediate <span class="string">&#x27;drop table TABLE_NAMEcascade constraints&#x27;</span>;</span><br><span class="line">  <span class="keyword">end</span> if;</span><br><span class="line"><span class="keyword">end</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">--查询表最后的更新时间（last_ddl_time）</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> object_name,object_type,created,last_ddl_time <span class="keyword">FROM</span> USER_OBJECTS <span class="keyword">WHERE</span> OBJECT_TYPE <span class="operator">=</span> <span class="string">&#x27;TABLE&#x27;</span> <span class="keyword">order</span> <span class="keyword">by</span> last_ddl_time <span class="keyword">desc</span>;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>plsql导出表结构</title>
      <link href="/2021/11/03/plsql-dao-chu-biao-jie-gou/"/>
      <url>/2021/11/03/plsql-dao-chu-biao-jie-gou/</url>
      
        <content type="html"><![CDATA[<ol><li>点击export table,选中导出的表</li><li>在where clause加上 where rownum&lt;1,控制是否导出数据<br><img src="/images/2021110316201201.png" alt="2021110316201201.png"></li></ol>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java中http请求</title>
      <link href="/2021/09/18/java-zhong-http-qing-qiu/"/>
      <url>/2021/09/18/java-zhong-http-qing-qiu/</url>
      
        <content type="html"><![CDATA[<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Http请求</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> url         请求地址</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> requestType 请求方式(GET,POST)</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> String</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">sendRequest</span><span class="params">(String httpUrl, String requestType)</span> &#123;</span><br><span class="line">    <span class="type">HttpURLConnection</span> <span class="variable">con</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="type">BufferedReader</span> <span class="variable">reader</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="type">StringBuilder</span> <span class="variable">result</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="type">InputStream</span> <span class="variable">stream</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="type">URL</span> <span class="variable">url</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">URL</span>(httpUrl);</span><br><span class="line">        con = (HttpURLConnection) url.openConnection();</span><br><span class="line">        con.setRequestMethod(requestType);</span><br><span class="line">        con.setRequestProperty(<span class="string">&quot;Content-Type&quot;</span>, <span class="string">&quot;application/json;charset=UTF-8&quot;</span>);</span><br><span class="line">        con.setDoOutput(<span class="literal">true</span>);</span><br><span class="line">        con.setDoInput(<span class="literal">true</span>);</span><br><span class="line">        con.setUseCaches(<span class="literal">false</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">respon</span> <span class="operator">=</span> con.getResponseCode();</span><br><span class="line">        <span class="keyword">if</span> (respon == <span class="number">200</span>) &#123;</span><br><span class="line">            stream = con.getInputStream();</span><br><span class="line">            result = <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">            String line;</span><br><span class="line">            reader = <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(stream, <span class="string">&quot;UTF-8&quot;</span>));</span><br><span class="line">            <span class="keyword">while</span> ((line = reader.readLine()) != <span class="literal">null</span>) &#123;</span><br><span class="line">                result.append(line);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> result.toString();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        log.error(<span class="string">&quot;请求异常：&quot;</span> + e.toString());</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (reader != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                reader.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                log.error(<span class="string">&quot;关闭读取流失败：&quot;</span> + e.toString());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (stream != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                stream.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                log.error(<span class="string">&quot;关闭流失败：&quot;</span> + e.toString());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (con != <span class="literal">null</span>) &#123;</span><br><span class="line">            con.disconnect();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>计算两个日期相隔月份</title>
      <link href="/2021/09/14/ji-suan-liang-ge-ri-qi-xiang-ge-yue-fen/"/>
      <url>/2021/09/14/ji-suan-liang-ge-ri-qi-xiang-ge-yue-fen/</url>
      
        <content type="html"><![CDATA[<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * 比较日期月份</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> start 开始日期</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> end 结束日期</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> Integer</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Integer <span class="title function_">diffMonth</span><span class="params">(Date start, Date end)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (start == <span class="literal">null</span> || end == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">Calendar</span> <span class="variable">cStart</span> <span class="operator">=</span> Calendar.getInstance();</span><br><span class="line">    cStart.setTime(start);</span><br><span class="line">    <span class="type">Calendar</span> <span class="variable">cEnd</span> <span class="operator">=</span> Calendar.getInstance();</span><br><span class="line">    cEnd.setTime(end);</span><br><span class="line">    <span class="type">int</span> <span class="variable">month</span> <span class="operator">=</span> cEnd.get(Calendar.MONTH) - cStart.get(Calendar.MONTH);</span><br><span class="line">    <span class="type">int</span> <span class="variable">year</span> <span class="operator">=</span> cEnd.get(Calendar.YEAR) - cStart.get(Calendar.YEAR);</span><br><span class="line">    <span class="keyword">return</span> year * <span class="number">12</span> + month;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java 日期验证和获取</title>
      <link href="/2021/09/14/java-ri-qi-yan-zheng-he-huo-qu/"/>
      <url>/2021/09/14/java-ri-qi-yan-zheng-he-huo-qu/</url>
      
        <content type="html"><![CDATA[<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* 日期格式 yyyyMMdd</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">DATEFORMAT</span> <span class="operator">=</span> <span class="string">&quot;([0-9]&#123;4&#125;)(0[1-9]|1[012])(0[1-9]|[12][0-9]|3[01])&quot;</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * isDate 判断是否是有效的日期</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> date 日期字符串</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> 是否</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">isDate</span><span class="params">(String date)</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="type">Pattern</span> <span class="variable">pattern</span> <span class="operator">=</span> Pattern.compile(DATEFORMAT);</span><br><span class="line">    <span class="type">Matcher</span> <span class="variable">matcher</span> <span class="operator">=</span> pattern.matcher(date);</span><br><span class="line">    <span class="keyword">if</span> (matcher.matches()) &#123;</span><br><span class="line">        pattern = Pattern.compile(DATE);</span><br><span class="line">        matcher = pattern.matcher(date);</span><br><span class="line">        <span class="keyword">if</span> (matcher.matches()) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">y</span> <span class="operator">=</span> Integer.valueOf(matcher.group(<span class="number">1</span>));</span><br><span class="line">            <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> Integer.valueOf(matcher.group(<span class="number">2</span>));</span><br><span class="line">            <span class="type">int</span> <span class="variable">d</span> <span class="operator">=</span> Integer.valueOf(matcher.group(<span class="number">3</span>));</span><br><span class="line">            <span class="keyword">if</span> (d &gt; <span class="number">28</span>) &#123;</span><br><span class="line">                <span class="type">Calendar</span> <span class="variable">c</span> <span class="operator">=</span> Calendar.getInstance();</span><br><span class="line">                c.set(y, m - <span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">                <span class="comment">// 每个月的最大天数</span></span><br><span class="line">                <span class="type">int</span> <span class="variable">lastDay</span> <span class="operator">=</span> c.getActualMaximum(Calendar.DAY_OF_MONTH);</span><br><span class="line">                <span class="keyword">return</span> (lastDay &gt;= d);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">DATEFORMAT</span> <span class="operator">=</span> <span class="string">&quot;([0-9]&#123;4&#125;)(0[1-9]|1[012])&quot;</span>;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">DATE</span> <span class="operator">=</span> <span class="string">&quot;(\\d&#123;4&#125;)(\\d&#123;2&#125;)&quot;</span>;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 返回月份最后一天</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> month  日期 yyyyMM</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> amount 增加月份</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> String</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">addMonth</span><span class="params">(String month, <span class="type">int</span> amount)</span> &#123;</span><br><span class="line">    <span class="type">Date</span> <span class="variable">result</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="type">Pattern</span> <span class="variable">pattern</span> <span class="operator">=</span> Pattern.compile(DATEFORMAT);</span><br><span class="line">    <span class="type">Matcher</span> <span class="variable">matcher</span> <span class="operator">=</span> pattern.matcher(month);</span><br><span class="line">    <span class="keyword">if</span> (matcher.matches()) &#123;</span><br><span class="line">        pattern = Pattern.compile(DATE);</span><br><span class="line">        matcher = pattern.matcher(month);</span><br><span class="line">        <span class="keyword">if</span> (matcher.matches()) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">y</span> <span class="operator">=</span> Integer.parseInt(matcher.group(<span class="number">1</span>));</span><br><span class="line">            <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> Integer.parseInt(matcher.group(<span class="number">2</span>));</span><br><span class="line">            <span class="type">Calendar</span> <span class="variable">c</span> <span class="operator">=</span> Calendar.getInstance();</span><br><span class="line">            c.set(y, (m - <span class="number">1</span> + amount), <span class="number">1</span>);</span><br><span class="line">            <span class="comment">// 每个月的最大天数</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">lastDay</span> <span class="operator">=</span> c.getActualMaximum(Calendar.DAY_OF_MONTH);</span><br><span class="line">            c.set(Calendar.DAY_OF_MONTH, lastDay);</span><br><span class="line">            result = c.getTime();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">SimpleDateFormat</span> <span class="variable">sdfDay</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">&quot;yyyyMMdd&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> sdfDay.format(result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MyBatis注解调用存储过程获取返回值</title>
      <link href="/2021/08/11/mybatis-zhu-jie-diao-yong-cun-chu-guo-cheng-huo-qu-fan-hui-zhi/"/>
      <url>/2021/08/11/mybatis-zhu-jie-diao-yong-cun-chu-guo-cheng-huo-qu-fan-hui-zhi/</url>
      
        <content type="html"><![CDATA[<ol><li>准备存储过程</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">or</span> replace <span class="keyword">procedure</span> P_Test(vc_num1 <span class="keyword">in</span> varchar2,</span><br><span class="line">                                   vc_num2 <span class="keyword">in</span> varchar2,</span><br><span class="line">                                   vc_sql <span class="keyword">out</span> varchar2) <span class="keyword">is</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  <span class="operator">/</span><span class="operator">/</span>具体操作</span><br><span class="line"><span class="keyword">end</span> P_Test;</span><br></pre></td></tr></table></figure><ol start="2"><li>在dao文件配置<br>statementType &#x3D; StatementType.CALLABLE 表示存储过程</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Select(&quot;&#123;call P_Test(#&#123;map.num1,jdbcType=VARCHAR,mode=IN&#125;,&quot;</span></span><br><span class="line"><span class="meta">            + &quot;#&#123;map.num2,jdbcType=VARCHAR,mode=IN&#125;,&quot;</span></span><br><span class="line"><span class="meta">            + &quot;#&#123;map.sql,jdbcType=VARCHAR,mode=OUT&#125;)&#125;&quot;)</span></span><br><span class="line">    <span class="meta">@Result(column = &quot;sql&quot;, property = &quot;sql&quot;, jdbcType = JdbcType.VARCHAR)</span></span><br><span class="line">    <span class="meta">@Options(statementType = StatementType.CALLABLE)</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">getSqlBycondition</span><span class="params">(<span class="meta">@Param(&quot;map&quot;)</span> Map&lt;String, Object&gt; map)</span>;</span><br></pre></td></tr></table></figure><ol start="3"><li>在service中调用<br>在通过map.get(“sql”)获取返回值</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">        Map&lt;String, Object&gt; mapSql = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        mapSql.put(<span class="string">&quot;num1&quot;</span>, <span class="string">&quot;1&quot;</span>);</span><br><span class="line">        mapSql.put(<span class="string">&quot;num2&quot;</span>, <span class="string">&quot;2&quot;</span>);</span><br><span class="line">        mapSql.put(<span class="string">&quot;sql&quot;</span>, sql);</span><br><span class="line">        middleService.getSqlBycondition(mapSql);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>DBeaver连接oracle声明变量使用</title>
      <link href="/2021/08/02/dbeaver-lian-jie-oracle-sheng-ming-bian-liang-shi-yong/"/>
      <url>/2021/08/02/dbeaver-lian-jie-oracle-sheng-ming-bian-liang-shi-yong/</url>
      
        <content type="html"><![CDATA[<p>在<strong>plsql</strong>中使用&amp;接收用户输入的值</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">&amp;</span>变量名 <span class="keyword">from</span> dual;</span><br></pre></td></tr></table></figure><p>在<strong>dbeaver</strong>可以定义变量实现<br>声明变量</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@set</span> 变量名（startdate）<span class="operator">=</span><span class="string">&#x27;2021-08-02&#x27;</span></span><br></pre></td></tr></table></figure><p>使用变量</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> $&#123;startdate&#125; <span class="keyword">from</span> dual</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Oracle复制表中数据</title>
      <link href="/2021/07/07/oracle-fu-zhi-biao-zhong-shu-ju/"/>
      <url>/2021/07/07/oracle-fu-zhi-biao-zhong-shu-ju/</url>
      
        <content type="html"><![CDATA[<ol><li>insert into select<br>这种方式需要table1表和对象的字段都必须存在</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> table1 (字段<span class="number">1</span>,字段<span class="number">2</span>) <span class="keyword">select</span>  字段<span class="number">1</span>,字段<span class="number">2</span> <span class="keyword">from</span> table2</span><br></pre></td></tr></table></figure><ol start="2"><li>create table as select<br>这种方式是根据table2的表结构创建table1</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> table1 <span class="keyword">as</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> table2</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git配置</title>
      <link href="/2021/06/11/git-pei-zhi/"/>
      <url>/2021/06/11/git-pei-zhi/</url>
      
        <content type="html"><![CDATA[<ol><li>配置git<br>git config –global user.name “用户名”<br>git config –global user.email “用户邮箱”</li><li>git配置修改<ol><li>方法一　<br>git config –global –replace-all user.name “用户名”<br>git config –global –replace-all user.email “用户邮箱”</li><li>方法二<br>找到本地配置文件，路径：C:\Users{user 电脑登陆账号}.gitconfig，直接修改文件中name或email<br>如有name或email有重复值，需删除多个重复值，保留一个值即可。<br><img src="/images/2021061115381801.png" alt="2021061115381801.png"></li></ol></li></ol>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jdbc连接oracle方法</title>
      <link href="/2021/06/11/jdbc-lian-jie-oracle-fang-fa/"/>
      <url>/2021/06/11/jdbc-lian-jie-oracle-fang-fa/</url>
      
        <content type="html"><![CDATA[<ol><li><p>servicename连接方式<br>jdbc:oracle:thin:@&#x2F;&#x2F;<host>:<port>&#x2F;<service_name></p></li><li><p>sid连接方式</p><ol><li>jdbc:oracle:thin:@<host>:<port>&#x2F;<SID></li><li>jdbc:oracle:thin:@<host>:<port>:<SID></li></ol></li></ol><p>转载：<a href="https://www.cnblogs.com/zhuitian/p/11530694.html">https://www.cnblogs.com/zhuitian/p/11530694.html</a></p>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Oracle 查看所有表结构</title>
      <link href="/2021/06/09/oracle-cha-kan-suo-you-biao-jie-gou/"/>
      <url>/2021/06/09/oracle-cha-kan-suo-you-biao-jie-gou/</url>
      
        <content type="html"><![CDATA[<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> temp <span class="keyword">as</span></span><br><span class="line"> (<span class="keyword">select</span> table_name name,</span><br><span class="line">         <span class="string">&#x27;表&#x27;</span> type,</span><br><span class="line">         comments comments,</span><br><span class="line">         <span class="string">&#x27;&#x27;</span> tablename,</span><br><span class="line">         <span class="number">0</span> num,</span><br><span class="line">         <span class="string">&#x27;&#x27;</span> nullable</span><br><span class="line">    <span class="keyword">from</span> user_tab_comments</span><br><span class="line">   <span class="keyword">where</span> table_type <span class="operator">=</span> <span class="string">&#x27;TABLE&#x27;</span></span><br><span class="line">  <span class="keyword">union</span> <span class="keyword">all</span></span><br><span class="line">  <span class="keyword">select</span> <span class="string">&#x27;      &#x27;</span> <span class="operator">||</span> a.column_name name,</span><br><span class="line">         a.data_type <span class="operator">||</span> <span class="string">&#x27;(&#x27;</span> <span class="operator">||</span> a.data_length <span class="operator">||</span> <span class="string">&#x27;)&#x27;</span> type,</span><br><span class="line">         b.comments comments,</span><br><span class="line">         a.table_name tablename,</span><br><span class="line">         column_id num,</span><br><span class="line">         nullable nullable</span><br><span class="line">    <span class="keyword">from</span> user_tab_columns a, user_col_comments b</span><br><span class="line">   <span class="keyword">where</span> a.table_name <span class="operator">=</span> b.table_name</span><br><span class="line">     <span class="keyword">and</span> a.column_name <span class="operator">=</span> b.column_name)</span><br><span class="line"><span class="keyword">select</span> name, type, nullable, comments</span><br><span class="line">  <span class="keyword">from</span> temp t</span><br><span class="line"> <span class="keyword">start</span> <span class="keyword">with</span> tablename <span class="keyword">is</span> <span class="keyword">null</span></span><br><span class="line"><span class="keyword">connect</span> <span class="keyword">by</span> prior t.name <span class="operator">=</span> t.tablename</span><br><span class="line"> <span class="keyword">order</span> siblings <span class="keyword">by</span> num;</span><br></pre></td></tr></table></figure><p>转载：<a href="https://www.cnblogs.com/fighter7/p/12667366.html">https://www.cnblogs.com/fighter7/p/12667366.html</a></p>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Orale 多列转多行</title>
      <link href="/2021/05/28/orale-duo-lie-zhuan-duo-xing/"/>
      <url>/2021/05/28/orale-duo-lie-zhuan-duo-xing/</url>
      
        <content type="html"><![CDATA[<ol><li>创建表</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> TESTDATE</span><br><span class="line">(</span><br><span class="line">  calc_type NVARCHAR2(<span class="number">10</span>),</span><br><span class="line">  calc_no   NVARCHAR2(<span class="number">10</span>),</span><br><span class="line">  calc_name NVARCHAR2(<span class="number">10</span>),</span><br><span class="line">  calc_aca1 NVARCHAR2(<span class="number">10</span>),</span><br><span class="line">  calc_aca2 NVARCHAR2(<span class="number">10</span>),</span><br><span class="line">  calc_acn1 NVARCHAR2(<span class="number">10</span>),</span><br><span class="line">  calc_acn2 NVARCHAR2(<span class="number">10</span>)</span><br><span class="line">)</span><br></pre></td></tr></table></figure><ol start="2"><li>插入数据 如下图<br><img src="/images/2021052817261601.png" alt="2021052817261601.png"></li><li>sql语句</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> calc_type,calc_no,calc_name,aca,acn,newname</span><br><span class="line"><span class="keyword">from</span> testdate unpivot ((aca,acn) <span class="comment">--多列合并一列别名</span></span><br><span class="line"> <span class="keyword">for</span> newname <span class="keyword">in</span> (</span><br><span class="line">   (calc_aca1,calc_acn1),(calc_aca2,calc_acn2) <span class="comment">--实际数据库的列明</span></span><br><span class="line">   ))</span><br></pre></td></tr></table></figure><p><img src="/images/2021052817261602.png" alt="2021052817261602.png"></p>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Win10 离线安装CAB和MSU格式不定</title>
      <link href="/2021/04/23/win10-chi-xian-an-zhuang-cab-he-msu-ge-shi-bu-ding/"/>
      <url>/2021/04/23/win10-chi-xian-an-zhuang-cab-he-msu-ge-shi-bu-ding/</url>
      
        <content type="html"><![CDATA[<ol><li><p>CAB包安装<br>以管理员方式运行dos<br>dism &#x2F;online &#x2F;add-package &#x2F;packagepath:”文件路径”<br>文件路径例如 D:\test\test.cab</p></li><li><p>MUS安装<br>wusa.exe “文件路径” &#x2F;quiet &#x2F;norestart<br>文件路径例如 D:\test\test.mus</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> Computer </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Computer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>oracle 查看表是否被锁定</title>
      <link href="/2021/03/12/oracle-cha-kan-biao-shi-fou-bei-suo-ding/"/>
      <url>/2021/03/12/oracle-cha-kan-biao-shi-fou-bei-suo-ding/</url>
      
        <content type="html"><![CDATA[<ol><li>查看哪个表被锁</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> b.owner,b.object_name,a.session_id,a.locked_mode</span><br><span class="line"><span class="keyword">from</span> v$locked_object a,dba_objects b</span><br><span class="line"><span class="keyword">where</span> b.object_id <span class="operator">=</span> a.object_id;</span><br></pre></td></tr></table></figure><ol start="2"><li>查看哪个进程锁的</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> b.username,b.sid,b.serial#,logon_time</span><br><span class="line"><span class="keyword">from</span> v$locked_object a,v$session b</span><br><span class="line"><span class="keyword">where</span> a.session_id <span class="operator">=</span> b.sid <span class="keyword">order</span> <span class="keyword">by</span> b.logon_time;</span><br></pre></td></tr></table></figure><ol start="3"><li>杀掉进程</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">system</span> kill session <span class="string">&#x27;sid,serial#&#x27;</span>;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>eclipse this compilation unit is not on the build path</title>
      <link href="/2021/02/19/eclipse-this-compilation-unit-is-not-on-the-build-path/"/>
      <url>/2021/02/19/eclipse-this-compilation-unit-is-not-on-the-build-path/</url>
      
        <content type="html"><![CDATA[<p>先看看项目中的project文件中的javabuilder和javanature有没有，没有就添加</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 检查有没有javabuilder,没有的话添加--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">buildSpec</span>&gt;</span>    </span><br><span class="line">    <span class="tag">&lt;<span class="name">buildCommand</span>&gt;</span>    </span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>org.eclipse.jdt.core.javabuilder<span class="tag">&lt;/<span class="name">name</span>&gt;</span>    </span><br><span class="line">        <span class="tag">&lt;<span class="name">arguments</span>&gt;</span>    </span><br><span class="line">        <span class="tag">&lt;/<span class="name">arguments</span>&gt;</span>    </span><br><span class="line">    <span class="tag">&lt;/<span class="name">buildCommand</span>&gt;</span>    </span><br><span class="line"><span class="tag">&lt;/<span class="name">buildSpec</span>&gt;</span>   </span><br><span class="line"><span class="tag">&lt;<span class="name">natures</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 检查有没有javanature,没有的话添加--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">nature</span>&gt;</span>org.eclipse.jdt.core.javanature<span class="tag">&lt;/<span class="name">nature</span>&gt;</span>    </span><br><span class="line">    <span class="tag">&lt;<span class="name">nature</span>&gt;</span>org.apache.ivyde.eclipse.ivynature<span class="tag">&lt;/<span class="name">nature</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">natures</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Win10 中javac命令无法执行</title>
      <link href="/2021/02/19/win10-zhong-javac-ming-ling-wu-fa-zhi-xing/"/>
      <url>/2021/02/19/win10-zhong-javac-ming-ling-wu-fa-zhi-xing/</url>
      
        <content type="html"><![CDATA[<p>在win10系统中配置Java jdk环境后，javac无法执行<br>网上没有找到解决办法<br>在系统变量中配置无用，在用户变量中也配置了一遍居然可以了<br><img src="/images/2021021914051501.png" alt="2021021914051501.png"><br><img src="/images/2021021914051502.png" alt="2021021914051502.png"><br><img src="/images/2021021914051503.png" alt="2021021914051503.png"></p><p>win10以下可以参考 <a href="https://www.cnblogs.com/ZJ199012/p/4033353.html">Java Jdk 环境配置和测</a></p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Docker安装</title>
      <link href="/2021/02/19/docker-an-zhuang/"/>
      <url>/2021/02/19/docker-an-zhuang/</url>
      
        <content type="html"><![CDATA[<h2 id="win10以下用户推荐下载Docker-Toolbox"><a href="#win10以下用户推荐下载Docker-Toolbox" class="headerlink" title="win10以下用户推荐下载Docker Toolbox"></a>win10以下用户推荐下载Docker Toolbox</h2><ol><li><p>安装docker Toolbox<br>　　安装完成后建议断开本地网络</p></li><li><p>指定docker machine的位置<br>　　a.在Windows的系统环境添加MACHINE_STORAGE_PATH ，指向虚拟机的位置（例如F:\vm\docker）<br>　　b.复制安装目录下boot2docker.iso到虚拟机的位置同级目录cache中,没有该文件夹自己创建（F:\vm\docker\cache）</p></li><li><p>修改start.sh脚本<br>　　找到”${DOCKER_MACHINE}” create</p><p>   –engine-registry-mirror 指定加速地址<br>   –virtualbox-disk-size 指定虚机空间大小，单位M</p><p>  调整为<br>  “${DOCKER_MACHINE}” create ‘–engine-registry-mirror&#x3D;<a href="https://8080ka5p.mirror.aliyuncs.com/">https://8080ka5p.mirror.aliyuncs.com</a>‘ -d virtualbox –virtualbox-disk-size “100000” $PROXY_ENV “${VM}”</p></li></ol><p><img src="/images/2021021907371701.png" alt="2021021907371701.png"><br>4. 运行Docker QuickStart安装即可</p><ol start="5"><li>镜像加速</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">docker-machine ssh default</span><br><span class="line">sudo sed -i <span class="string">&quot;s|EXTRA_ARGS=&#x27;|EXTRA_ARGS=&#x27;--registry-mirror=https://registry.docker-cn.com |g&quot;</span> /var/lib/boot2docker/profile</span><br><span class="line"></span><br><span class="line"><span class="built_in">exit</span></span><br><span class="line">docker-machine restart default</span><br></pre></td></tr></table></figure><ol start="6"><li>建议虚机分配至少2cpu、2G内存，在Oracle VM VirtualBox关闭虚机后调整<br><img src="/images/2021021907371702.png" alt="2021021907371702.png"></li><li>验证命令</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">docker ps</span><br><span class="line"></span><br><span class="line">docker-machine ssh default</span><br><span class="line"></span><br><span class="line"><span class="comment">#当类似</span></span><br><span class="line">docker search mysql</span><br><span class="line"></span><br><span class="line"><span class="comment">#该命令无法执行使，需要调整一下dns</span></span><br><span class="line">sudo vi /etc/resolv.conf</span><br><span class="line">nameserver  8.8.8.8</span><br></pre></td></tr></table></figure><h2 id="win10"><a href="#win10" class="headerlink" title="win10"></a>win10</h2><ol><li><p>对于Windows 10 Home的用户</p><ol><li>安装要求</li></ol></li></ol><p>Windows 10 Home machines must meet the following requirements to install Docker Desktop:</p><p>Install Windows 10, version 1903 or higher.<br>Enable the WSL 2 feature on Windows. For detailed instructions, refer to the <a href="https://docs.microsoft.com/en-us/windows/wsl/install-win10">Microsoft documentation</a>.<br>The following hardware prerequisites are required to successfully run WSL 2 on Windows 10 Home:<br>    64 bit processor with <a href="https://en.wikipedia.org/wiki/Second_Level_Address_Translation">Second Level Address Translation (SLAT)</a><br>    4GB system RAM<br>    BIOS-level hardware virtualization support must be enabled in the BIOS settings. For more information, see <a href="https://docs.docker.com/docker-for-windows/troubleshoot/#virtualization-must-be-enabled">Virtualization</a>.</p><p>Download and install the <a href="https://docs.microsoft.com/zh-cn/windows/wsl/install-win10#step-4---download-the-linux-kernel-update-package">Linux kernel update package</a>.<br>   2. 客户端安装<br><a href="https://docs.docker.com/docker-for-windows/install-windows-home/">https://docs.docker.com/docker-for-windows/install-windows-home/</a><br>   3. 镜像加速<br>在系统右下角托盘图标内右键菜单选择 Settings，打开配置窗口后左侧导航菜单选择 Docker Daemon。编辑窗口内的JSON串，填写下方加速器地址：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;registry-mirrors&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;https://registry.docker-cn.com&quot;</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><ol start="2"><li><p>对于Windows 10 专业版以上的用户</p><ol><li>安装要求</li></ol></li></ol><p>Windows 10 64-bit: Pro, Enterprise, or Education (Build 15063 or later).<br>Hyper-V and Containers Windows features must be enabled.<br>   2. 客户端安装<br><a href="https://docs.docker.com/docker-for-windows/install/">https://docs.docker.com/docker-for-windows/install/</a><br>   3. 镜像加速<br>在系统右下角托盘图标内右键菜单选择 Settings，打开配置窗口后左侧导航菜单选择 Docker Daemon。编辑窗口内的JSON串，填写下方加速器地址：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;registry-mirrors&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;https://registry.docker-cn.com&quot;</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p><strong>注意</strong><br>Docker for Windows 和 Docker Toolbox互不兼容，如果同时安装两者的话，需要使用hyperv的参数启动。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-machine create --engine-registry-mirror=https://8080ka5p.mirror.aliyuncs.com -d hyperv default</span><br></pre></td></tr></table></figure><p>Docker for Windows 有两种运行模式，一种运行Windows相关容器，一种运行传统的Linux容器。同一时间只能选择一种模式运行。<br>运行出现如下错误：<br>Caused by: com.github.dockerjava.api.exception.InternalServerErrorException: {“message”:”driver failed programming external connectivity on endpoint objective_wright (709b2f91ae761c8cfb7c2c1caa99360265da62eb7c20f82de40d4038545c6dfb): Bind for 0.0.0.0:6379 failed: port is already allocated”}<br>解决办法：<br>打开oracle虚拟机，重启虚拟机</p><p>参考文档<br><a href="https://docs.docker.com/engine/reference/commandline/cli/?spm=5176.8351553.0.0.c4471991tz57hG">Docker 命令参考文档</a><br><a href="https://docs.docker.com/engine/reference/builder/?spm=5176.8351553.0.0.c4471991tz57hG">Dockerfile 镜像构建参考文档</a></p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git统计代码量和常用命令</title>
      <link href="/2021/02/18/git-tong-ji-dai-ma-liang-he-chang-yong-ming-ling/"/>
      <url>/2021/02/18/git-tong-ji-dai-ma-liang-he-chang-yong-ming-ling/</url>
      
        <content type="html"><![CDATA[<h2 id="Git统计代码量"><a href="#Git统计代码量" class="headerlink" title="Git统计代码量"></a>Git统计代码量</h2><ol><li>根据用户名时间段统计</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> --author=<span class="string">&quot;username&quot;</span> --since=2018-01-01 --<span class="keyword">until</span>=2019-12-31 --pretty=tformat: --numstat | awk <span class="string">&#x27;&#123; add += $1; subs += $2; loc += $1 - $2 &#125; END &#123; printf &quot;added lines: %s, removed lines: %s, total lines: %s\n&quot;, add, subs, loc &#125;&#x27;</span> -</span><br></pre></td></tr></table></figure><ol start="2"><li>查看提交者排名前N位</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> --pretty=<span class="string">&#x27;%aN&#x27;</span> | <span class="built_in">sort</span> | <span class="built_in">uniq</span> -c | <span class="built_in">sort</span> -k1 -n -r | <span class="built_in">head</span> -n 5</span><br></pre></td></tr></table></figure><ol start="3"><li>提交数统计</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> --oneline | <span class="built_in">wc</span> -l</span><br></pre></td></tr></table></figure><ol start="4"><li>根据用户名统计</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> --author=<span class="string">&quot;username&quot;</span> --pretty=tformat: --numstat | awk <span class="string">&#x27;&#123; add += $1; subs += $2; loc += $1 - $2 &#125; END &#123; printf &quot;added lines: %s, removed lines: %s, total lines: %s\n&quot;, add, subs, loc &#125;&#x27;</span> -</span><br></pre></td></tr></table></figure><ol start="5"><li>根据时间段统计</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> --since=2020-01-01 --<span class="keyword">until</span>=2021-02-04 --pretty=tformat: --numstat | awk <span class="string">&#x27;&#123; add += $1; subs += $2; loc += $1 - $2 &#125; END &#123; printf &quot;added lines: %s, removed lines: %s, total lines: %s\n&quot;, add, subs, loc &#125;&#x27;</span></span><br></pre></td></tr></table></figure><ol start="6"><li>统计每个人的增删行数</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> --format=<span class="string">&#x27;%aN&#x27;</span> | <span class="built_in">sort</span> -u | <span class="keyword">while</span> <span class="built_in">read</span> name; <span class="keyword">do</span> <span class="built_in">echo</span> -en <span class="string">&quot;<span class="variable">$name</span>\t&quot;</span>; git <span class="built_in">log</span> --author=<span class="string">&quot;<span class="variable">$name</span>&quot;</span> --pretty=tformat: --numstat | awk <span class="string">&#x27;&#123; add += $1; subs += $2; loc += $1 - $2 &#125; END &#123; printf &quot;added lines: %s, removed lines: %s, total lines: %s &quot;, add, subs, loc &#125;&#x27;</span> -; <span class="keyword">done</span></span><br></pre></td></tr></table></figure><ol start="7"><li>贡献者统计</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> --pretty=<span class="string">&#x27;%aN&#x27;</span> | <span class="built_in">sort</span> -u | <span class="built_in">wc</span> -l</span><br></pre></td></tr></table></figure><ol start="8"><li>根据时间段排除文件夹统计</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> --since=2021-01-28 --<span class="keyword">until</span>=2021-02-03 --pretty=tformat: --numstat -- . <span class="string">&quot;:(exclude)src/test&quot;</span> | awk <span class="string">&#x27;&#123; add += $1; subs += $2; loc += $1 + $2 &#125; END &#123; printf &quot;added lines: %s, removed lines: %s, total lines: %s\n&quot;, add, subs, loc &#125;&#x27;</span></span><br></pre></td></tr></table></figure><p>– . “:(exclude)folderName”  folderName指src&#x2F;test文件夹，这里是相对路径<br>– . “:(exclude)folderName1”  “:(exclude)folderName2”  排除多个文件夹<br>– . “:(exclude)folderName”也 可以用在其他的统计中；–前只能有一个空格，有多个空格识别不了</p><ol start="9"><li>根据指定文件夹统计</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> --since=2021-06-24 --<span class="keyword">until</span>=2021-06-30 --pretty=tformat: --numstat | grep src/test | gawk <span class="string">&#x27;&#123; add += $1; subs += $2; loc += $1 + $2 &#125; END &#123; printf &quot;added lines: %s, removed lines: %s, total lines: %s\n&quot;, add, subs, loc &#125;&#x27;</span></span><br></pre></td></tr></table></figure><p>src&#x2F;test 指定src的test目录下<br>注意：增删也算统计的代码量就修改loc +&#x3D; $1 + $2</p><ol start="10"><li>代码存量</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find . -name *\.java  -<span class="built_in">exec</span> <span class="built_in">wc</span> -l  &#123;&#125; \; | awk <span class="string">&#x27;&#123;s+=$1&#125;END&#123;print s&#125;&#x27;</span></span><br></pre></td></tr></table></figure><h2 id="Git常用命令"><a href="#Git常用命令" class="headerlink" title="Git常用命令"></a>Git常用命令</h2><ol><li>克隆一个git项目到本地,将git项目拉取到本地</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span>  项目地址</span><br></pre></td></tr></table></figure><ol start="2"><li>查看文件状态,列出当前目录没有被git管理，以及被修改过还未提交的文件</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git status</span><br></pre></td></tr></table></figure><ol start="3"><li>将我们提交的文件添加到索引库中（添加到缓冲区），*可以是路径也可以是.符号，git add . 代表将当前目录下的所有文件都添加到索引库中,如果指定路径则代表将制定路径的文件添加到索引库中。</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add *</span><br></pre></td></tr></table></figure><ol start="4"><li>将文件推送到本地仓库中,-m 后可以填写此次提交的备注如git commit -m “提交删除功能代码”，那么在git项目中的提交记录里面就能看见你的推送备注。</li></ol><p>这一步仅仅是放在缓冲区中，还未真正提交代码</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -m <span class="string">&quot;备注&quot;</span></span><br></pre></td></tr></table></figure><ol start="5"><li>这一步才是推送代码推送时需要跟分支名，表示需要将代码推送至某个分支.如git push origin dev表示你要讲代码推送至dev分支</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin 分支名</span><br></pre></td></tr></table></figure><ol start="6"><li>更新当前分支的代码,获取最新的代码</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git pull</span><br></pre></td></tr></table></figure><ol start="7"><li>从当前分支切换至另一个分支</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout 分支名</span><br></pre></td></tr></table></figure><ol start="8"><li>当前分支合并其他分支</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git merge 分支名</span><br></pre></td></tr></table></figure><ol start="9"><li>提交被忽略的文件</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git add src/XXX</span><br></pre></td></tr></table></figure><p>如果抛出如下异常</p><p>The following paths are ignored by one of your .gitignore files:src&#x2F;XXX<br>Use -f if you really want to add them.<br>提示提交的时候，需要加 –f。使用如下命令即可解决：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git add -f src/XXX</span><br></pre></td></tr></table></figure><p>参考 <a href="https://git-scm.com/docs/git-log">https://git-scm.com/docs/git-log</a></p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>查找ORA-04021等待超时</title>
      <link href="/2020/09/03/cha-zhao-ora-04021-deng-dai-chao-shi/"/>
      <url>/2020/09/03/cha-zhao-ora-04021-deng-dai-chao-shi/</url>
      
        <content type="html"><![CDATA[<h2 id="第一步-知道sid"><a href="#第一步-知道sid" class="headerlink" title="第一步:知道sid"></a>第一步:知道sid</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> session_id sid, owner, name, type,</span><br><span class="line">mode_held held, mode_requested request</span><br><span class="line"><span class="keyword">from</span> dba_ddl_locks</span><br><span class="line"><span class="keyword">where</span> name <span class="operator">=</span> <span class="string">&#x27;&amp;存储过程名称&#x27;</span>  ;</span><br></pre></td></tr></table></figure><h2 id="第二步：通过sid查找"><a href="#第二步：通过sid查找" class="headerlink" title="第二步：通过sid查找"></a>第二步：通过sid查找</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> b.sid,b.serial#,b.machine,b.terminal,b.program,b.process,b.status <span class="keyword">from</span> v$lock a , v$session b</span><br><span class="line"><span class="keyword">where</span> a.SID <span class="operator">=</span> b.SID <span class="keyword">and</span> b.sid <span class="keyword">in</span> (<span class="number">178</span>,<span class="number">152</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> b.serial#,a.<span class="operator">*</span> <span class="keyword">from</span> v$session_wait a,v$session b <span class="keyword">where</span> a.sid <span class="operator">=</span> b.sid <span class="keyword">and</span> b.sid <span class="keyword">in</span> (<span class="number">178</span>,<span class="number">152</span>);</span><br></pre></td></tr></table></figure><h2 id="通过电脑名称查找"><a href="#通过电脑名称查找" class="headerlink" title="通过电脑名称查找"></a>通过电脑名称查找</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> V$SESSION.<span class="operator">*</span></span><br><span class="line">  <span class="keyword">from</span> v$lock,</span><br><span class="line">       V$SESSION</span><br><span class="line"> <span class="keyword">where</span> v$lock.sid <span class="operator">=</span> v$session.sid</span><br><span class="line">   <span class="keyword">and</span> V$SESSION.MACHINE <span class="operator">=</span> <span class="string">&#x27;电脑名称&#x27;</span>;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C#中时间戳和日期相互转换</title>
      <link href="/2020/08/06/csharp-zhong-shi-jian-chuo-he-ri-qi-xiang-hu-zhuan-huan/"/>
      <url>/2020/08/06/csharp-zhong-shi-jian-chuo-he-ri-qi-xiang-hu-zhuan-huan/</url>
      
        <content type="html"><![CDATA[<ol><li>日期转换时间戳</li></ol><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 将日期转换为时间戳</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;time&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="built_in">long</span> <span class="title">ConverDateTimeToLong</span>(<span class="params">DateTime time</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    DateTime startTime = TimeZone.CurrentTimeZone.ToLocalTime(<span class="keyword">new</span> DateTime(<span class="number">1970</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>));</span><br><span class="line">    <span class="built_in">long</span> t = (time.Ticks - startTime.Ticks) / <span class="number">10000</span>;   <span class="comment">//除10000调整为13位      </span></span><br><span class="line">    <span class="keyword">return</span> t;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>时间戳转换日期</li></ol><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 将时间戳转换为日期</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;timespan&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">private</span> DateTime <span class="title">ConvertToDateTime</span>(<span class="params"><span class="built_in">long</span> timespan</span>)</span></span><br><span class="line">&#123; </span><br><span class="line">    DateTime dtStart = TimeZone.CurrentTimeZone.ToLocalTime(<span class="keyword">new</span> DateTime(<span class="number">1970</span>, <span class="number">1</span>, <span class="number">1</span>));</span><br><span class="line">    <span class="built_in">string</span> l = timespan + <span class="string">&quot;0000&quot;</span>;</span><br><span class="line">    TimeSpan ts = <span class="keyword">new</span> TimeSpan(<span class="built_in">long</span>.Parse(l));</span><br><span class="line">    <span class="keyword">return</span> dtStart.Add(ts);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>记事本中快速查看数字对应的ASCII</title>
      <link href="/2020/08/06/ji-shi-ben-zhong-kuai-su-cha-kan-shu-zi-dui-ying-de-ascii/"/>
      <url>/2020/08/06/ji-shi-ben-zhong-kuai-su-cha-kan-shu-zi-dui-ying-de-ascii/</url>
      
        <content type="html"><![CDATA[<p>先按键盘上的 ATL键，输入数字，然后放开ALT键<br><img src="/images/2020080715301301.gif" alt="2020080715301301.gif"></p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Dos命令调用FlashFXP上传文件</title>
      <link href="/2020/07/02/dos-ming-ling-diao-yong-flashfxp-shang-chuan-wen-jian/"/>
      <url>/2020/07/02/dos-ming-ling-diao-yong-flashfxp-shang-chuan-wen-jian/</url>
      
        <content type="html"><![CDATA[<p>DOS命令调用FlashFXP上传文件到FTP</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flashfxp.exe -upload ftp://user:password@192.168.2.1:21 -localpath=本地路径  -remotepath=FTP路径</span><br></pre></td></tr></table></figure><p>远程FTP路径根目录直接用  “&#x2F;”  表示</p><p>本地路径如果想上传文件夹下的所有文件，必须在文件夹后加“&#x2F;”；例如：D:\test\表示把test文件夹上所有文件都上传</p><p>下载文件到本地使用<br>flashfxp.exe -download<br>flashfxp上传文件完成后自动关闭</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flashfxp.exe -min -c2 -upload ftp://user:password@192.168.2.1:21 -localpath=本地路径  -remotepath=FTP路径</span><br></pre></td></tr></table></figure><p>-c2表示上传完成后自动关闭flashfxp，还有其他参数看下图<br><img src="/images/2020070215481801.png" alt="2020070215481801.png"></p><p>-min 最小化<br>-max 最大化<br>-tray 启动flashfxp在系统托盘</p><p>参考 <a href="https://www.flashfxp.com/forum/flashfxp/frequently-asked-questions-faq-/14748-command-line-switches.html">https://www.flashfxp.com/forum/flashfxp/frequently-asked-questions-faq-/14748-command-line-switches.html</a></p>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>curl 上传文件</title>
      <link href="/2020/07/02/curl-shang-chuan-wen-jian/"/>
      <url>/2020/07/02/curl-shang-chuan-wen-jian/</url>
      
        <content type="html"><![CDATA[<p>cur下载地址<br><a href="https://curl.haxx.se/download.html">curl</a></p><p>curl FTP 上传下载文件</p><ol><li>查看文件</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl ftp://192.168.2.10/test/ -u user:passwd    <span class="comment">#查看test文件夹下的文件（文件夹后必须加 /）,查看更目录直接写ftp://192.168.2.10/</span></span><br><span class="line">curl ftp://192.168.2.10/test/test.txt -u user:passwd    <span class="comment">#在dos界面查看test.txt文件内容</span></span><br><span class="line">curl ftp://user:passwd@192.168.2.10/test/    <span class="comment">#查看test文件夹下内容的简洁写法</span></span><br></pre></td></tr></table></figure><ol start="2"><li>上传文件</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#上传test.txt文件并以test.txt保存在ftp上</span></span><br><span class="line">curl ftp://user:passwd@192.168.2.10/test/ -u user:passwd -T <span class="string">&quot;test.txt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#上传test.txt文件并以test_new.txt保存在ftp上</span></span><br><span class="line">curl ftp://user:passwd@192.168.2.10/test/test_new.txt -u user:passwd -T <span class="string">&quot;test.txt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#上传多个文件</span></span><br><span class="line">curl ftp://user:passwd@192.168.2.10/test/ -u user:passwd -T <span class="string">&quot;&#123;test1.txt,test2.txt&#125;&quot;</span>  </span><br></pre></td></tr></table></figure><ol start="3"><li>下载文件</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#下载 FTP 指定文件 /test/test.txt, 以原文件名命名保存到当前目录</span></span><br><span class="line">curl ftp://user:passwd@192.168.2.10/test/test.txt -u user:passwd -O</span><br><span class="line"></span><br><span class="line"><span class="comment">#下载 FTP 指定文件 /test/test.txt, 以 test_new.txt 命名保存</span></span><br><span class="line">curl ftp://192.168.2.10/test/test.txt -u user:passwd -o test_new.txt</span><br></pre></td></tr></table></figure><p>上传中文名称文件有问题，还没有找到解决的办法</p><p>参考 <a href="https://curl.haxx.se/docs/manual.html">https://curl.haxx.se/docs/manual.html</a></p><p><a href="https://blog.csdn.net/wulong710/article/details/53127606">https://blog.csdn.net/wulong710/article/details/53127606</a></p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>批处理文件中等待几秒</title>
      <link href="/2020/06/22/pi-chu-li-wen-jian-zhong-deng-dai-ji-miao/"/>
      <url>/2020/06/22/pi-chu-li-wen-jian-zhong-deng-dai-ji-miao/</url>
      
        <content type="html"><![CDATA[<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="built_in">echo</span> 开始延时5秒</span><br><span class="line">ping -n 5 127.0.0.1&gt;nul</span><br><span class="line"><span class="built_in">echo</span> 这句话延时了5秒</span><br><span class="line">pause</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>转载 C# 连接oracle 10g 出现ora-1017用户名/口令无效; 登录被拒绝</title>
      <link href="/2020/06/14/zhuan-zai-csharp-lian-jie-oracle-10g-chu-xian-ora-1017-yong-hu-ming-kou-ling-wu-xiao-deng-lu-bei-ju-jue/"/>
      <url>/2020/06/14/zhuan-zai-csharp-lian-jie-oracle-10g-chu-xian-ora-1017-yong-hu-ming-kou-ling-wu-xiao-deng-lu-bei-ju-jue/</url>
      
        <content type="html"><![CDATA[<h2 id="出现症状"><a href="#出现症状" class="headerlink" title="出现症状"></a>出现症状</h2><ol><li>使用sqlplus连接正常</li><li>C#使用10g的ODP.NET连接时，报上面的错误</li></ol><h2 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h2><ol><li>Oracle11G之前密码是不区分大小写的，从11G开始默认密码区分大小写</li><li>使用10G的ODP.NET时，会自动把密码转换成大写</li></ol><h2 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h2><ol><li>给连接字符串中密码使用加上引号，这样密码就不会转成大写了</li><li>换成11G客户端</li><li>修改数据库，禁用大小写敏感模式：ALTER SYSTEM SET SEC_CASE_SENSITIVE_LOGON &#x3D; FALSE</li></ol><p>因连接字符串是写在XML文件里，在XML文件里“引号”是需要转义的，现提供XML中常用的转义字符：</p><table><thead><tr><th>转义符</th><th>符号</th><th>说明</th></tr></thead><tbody><tr><td>&amp;lt;</td><td>&lt;</td><td>小于号</td></tr><tr><td>&amp;gt;</td><td>&gt;</td><td>大于号</td></tr><tr><td>&amp;amp;</td><td>&amp;</td><td>和</td></tr><tr><td>&amp;apos;</td><td>‘</td><td>单引号</td></tr><tr><td>&amp;quot;</td><td>“</td><td>双引号</td></tr></tbody></table><p>转载 <a href="https://www.cnblogs.com/tommyli/archive/2013/10/15/3370569.html">https://www.cnblogs.com/tommyli/archive/2013/10/15/3370569.html</a></p>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>转载 Oracle字符的拼接和拆解</title>
      <link href="/2020/06/10/zhuan-zai-oracle-zi-fu-de-pin-jie-he-chai-jie/"/>
      <url>/2020/06/10/zhuan-zai-oracle-zi-fu-de-pin-jie-he-chai-jie/</url>
      
        <content type="html"><![CDATA[<h3 id="字符串拼接方法-LISTAGG"><a href="#字符串拼接方法-LISTAGG" class="headerlink" title="字符串拼接方法 LISTAGG"></a>字符串拼接方法 LISTAGG</h3><ol><li>基本语法：listagg(‘p1’, ‘p2’) within group(order by ‘p3’) over (partition by ‘p4’)<ol><li>p1: 需要进行拼接的字段，一般是分组条件查询后存在多个值的字段</li><li>p2: 指定什么符号作为连接分隔符，例如：’,’</li><li>p3: 这个参数是被按照用来对 p1 指定的字段进行排序的</li><li>p4: 这个参数类似于 group by 条件语句。group by 语句需要将查询的参数都置于其后这样会显得累赘，而 partition 则不会存在这个问题，相对要灵活一点。</li></ol></li><li>完整用例</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">/</span><span class="operator">/</span> 简单的用法，将查询出的所有ID字段进行拼接，这也是我最常用的</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">LISTAGG</span>(A.ACPE_ID, <span class="string">&#x27;,&#x27;</span>) <span class="keyword">WITHIN</span> <span class="keyword">GROUP</span>(<span class="keyword">ORDER</span> <span class="keyword">BY</span> A.ACPE_ID)</span><br><span class="line">  <span class="keyword">FROM</span> BD_CRM_ACPE A;</span><br><span class="line"></span><br><span class="line"><span class="operator">/</span><span class="operator">/</span> 加上 <span class="keyword">GROUP</span> <span class="keyword">BY</span> 语句后的使用方式</span><br><span class="line"><span class="keyword">SELECT</span> A.ACPE_TYPE,</span><br><span class="line">       <span class="built_in">LISTAGG</span>(A.ACPE_ID, <span class="string">&#x27;,&#x27;</span>) <span class="keyword">WITHIN</span> <span class="keyword">GROUP</span>(<span class="keyword">ORDER</span> <span class="keyword">BY</span> A.ACPE_ID)</span><br><span class="line">  <span class="keyword">FROM</span> BD_CRM_ACPE A</span><br><span class="line"> <span class="keyword">GROUP</span> <span class="keyword">BY</span> A.ACPE_TYPE;</span><br><span class="line"></span><br><span class="line"><span class="operator">/</span><span class="operator">/</span> 这种查询会得到与上一种相同的结果</span><br><span class="line"><span class="keyword">SELECT</span> A.ACPE_TYPE,</span><br><span class="line">       <span class="built_in">LISTAGG</span>(A.ACPE_ID, <span class="string">&#x27;,&#x27;</span>) <span class="keyword">WITHIN</span> <span class="keyword">GROUP</span>(<span class="keyword">ORDER</span> <span class="keyword">BY</span> A.ACPE_ID) <span class="keyword">OVER</span>(<span class="keyword">PARTITION</span> <span class="keyword">BY</span> A.ACPE_TYPE)</span><br><span class="line">  <span class="keyword">FROM</span> BD_CRM_ACPE A;</span><br></pre></td></tr></table></figure><h3 id="字符串的拆解方法"><a href="#字符串的拆解方法" class="headerlink" title="字符串的拆解方法"></a>字符串的拆解方法</h3><p>要完成字符串按照特定符号拆解成多行的效果，需要了解 oracle 内置的三种方法的用法。当然如果觉得麻烦也可以自己创建一个函数来处理。</p><ol><li>正则匹配截取字符串函数 REGEXP_SUBSTR<br>语法：regexp_substr( str, regexp, start-pos, choice)<br>str：要被处理的字符串<br>regexp：正则表达式匹配模式<br>start-pos：从第几个字符开始匹配，默认为1<br>choice：返回第几个匹配到的数据</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> REGEXP_SUBSTR(<span class="string">&#x27;1,2,3&#x27;</span>, <span class="string">&#x27;[^,]+&#x27;</span>, <span class="number">1</span>, <span class="number">1</span>) <span class="keyword">FROM</span> DUAL;</span><br><span class="line"><span class="comment">--返回：1</span></span><br><span class="line"><span class="comment">--正则：&#x27;[^,]+&#x27; 表示匹配一个或多个不包含 &#x27;,&#x27; 的字符</span></span><br></pre></td></tr></table></figure><ol start="2"><li>条件语句 CONNECT BY<br>该语句一般是用于递归查询数据库中存在上下级关系的数据，但这里只是用它来获取一个连续的值，用于REGEXP_SUBSTR函数的choice参数</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">/</span><span class="operator">/</span> 这样会返回三个值：<span class="number">1</span>、<span class="number">2</span>、<span class="number">3</span></span><br><span class="line"><span class="keyword">SELECT</span> ROWNUM <span class="keyword">FROM</span> DUAL <span class="keyword">CONNECT</span> <span class="keyword">BY</span> ROWNUM <span class="operator">&lt;=</span> <span class="number">3</span>;</span><br></pre></td></tr></table></figure><ol start="3"><li>正则匹配字符替换函数 REGEXP_REPLACE<br>因为这里的需求是分割字符串，现在需要知道分割后到底有几个值，这个值需要赋值给 CONNECT BY 语句后。<br>所以现在的解决思路是先得到原来字符串的长度，然后将符号替换掉，再求出长度，然后之前的长度减去现在去掉符号后的长度然后加一就是我们需要的值了。</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">length(<span class="string">&#x27;1,2,3&#x27;</span>) <span class="operator">=</span> <span class="number">5</span></span><br><span class="line">length(<span class="string">&#x27;123&#x27;</span>) <span class="operator">=</span> <span class="number">3</span></span><br><span class="line">length(<span class="string">&#x27;1,2,3&#x27;</span>) <span class="operator">-</span> length(<span class="string">&#x27;123&#x27;</span>) <span class="operator">+</span> <span class="number">1</span> <span class="operator">=</span> <span class="number">3</span></span><br></pre></td></tr></table></figure><p>语法：REGEXP_REPLACE(source_char, pattern , replace_string)<br>source_char：需要替换字符的原始字符串<br>pattern：正则匹配需要被替换的字符<br>replace_string：替换后的字符</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> REGEXP_REPLACE(<span class="string">&#x27;1,2,3&#x27;</span>, <span class="string">&#x27;,&#x27;</span> ,<span class="string">&#x27;&#x27;</span>) <span class="keyword">FROM</span> DUAL;</span><br><span class="line"><span class="comment">--最终得到：&#x27;123&#x27;</span></span><br></pre></td></tr></table></figure><h3 id="方法整合"><a href="#方法整合" class="headerlink" title="方法整合"></a>方法整合</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"> <span class="operator">/</span><span class="operator">/</span> 最终的完整语句，你只需要将 <span class="string">&#x27;1,2,3&#x27;</span> 替换成需要拆分的表字段</span><br><span class="line"> <span class="keyword">SELECT</span> REGEXP_SUBSTR(<span class="string">&#x27;1,2,3&#x27;</span>, <span class="string">&#x27;[^,]+&#x27;</span>, <span class="number">1</span>, ROWNUM) <span class="keyword">FROM</span> DUAL</span><br><span class="line"><span class="keyword">CONNECT</span> <span class="keyword">BY</span> ROWNUM <span class="operator">&lt;=</span> LENGTH(<span class="string">&#x27;1,2,3&#x27;</span>) <span class="operator">-</span> LENGTH(REGEXP_REPLACE(<span class="string">&#x27;1,2,3&#x27;</span>, <span class="string">&#x27;,&#x27;</span> ,<span class="string">&#x27;&#x27;</span>)) <span class="operator">+</span> <span class="number">1</span></span><br></pre></td></tr></table></figure><p>转载 <a href="https://www.jianshu.com/p/3ccc45ea3953">https://www.jianshu.com/p/3ccc45ea3953</a></p>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>WinForm控件置顶或置底</title>
      <link href="/2020/06/10/winform-kong-jian-zhi-ding-huo-zhi-di/"/>
      <url>/2020/06/10/winform-kong-jian-zhi-ding-huo-zhi-di/</url>
      
        <content type="html"><![CDATA[<p>BringToFront 方法将控件置于所有控件的顶层</p><p>SendToBack 方法将控件置于所有控件的底层</p>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windows批处理FTP上传文件</title>
      <link href="/2020/06/01/windows-pi-chu-li-ftp-shang-chuan-wen-jian/"/>
      <url>/2020/06/01/windows-pi-chu-li-ftp-shang-chuan-wen-jian/</url>
      
        <content type="html"><![CDATA[<h2 id="ftp上传文件批处理文件"><a href="#ftp上传文件批处理文件" class="headerlink" title="ftp上传文件批处理文件"></a>ftp上传文件批处理文件</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="built_in">echo</span> open ip地址 端口（默认端口21） &gt;&gt; temp.txt</span><br><span class="line"><span class="built_in">echo</span> user 用户名 密码&gt;&gt; temp.txt</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> put 文件（例如 D:\<span class="built_in">test</span>\test.txt） &gt;&gt; temp.txt</span><br><span class="line"><span class="built_in">echo</span> <span class="built_in">bye</span> &gt;&gt; temp.txt</span><br><span class="line">ftp -n -s:<span class="string">&quot;temp.txt&quot;</span></span><br><span class="line">del /q 文件（例如 D:\<span class="built_in">test</span>\test.txt）</span><br><span class="line">del /q temp.txt</span><br><span class="line">pause</span><br></pre></td></tr></table></figure><h2 id="ftp-批量上传文件批处理文件"><a href="#ftp-批量上传文件批处理文件" class="headerlink" title="ftp 批量上传文件批处理文件"></a>ftp 批量上传文件批处理文件</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="built_in">echo</span> open ip地址 端口（默认端口21） &gt;&gt; temp.txt</span><br><span class="line"><span class="built_in">echo</span> user 用户名 密码&gt;&gt; temp.txt</span><br><span class="line">::lcd切换本地路径</span><br><span class="line"><span class="built_in">echo</span> lcd %~dp0\Data &gt;&gt; temp.txt</span><br><span class="line"><span class="built_in">echo</span> prompt&gt;&gt;temp.txt</span><br><span class="line"><span class="built_in">echo</span> bin &gt;&gt; temp.txt</span><br><span class="line"><span class="built_in">echo</span> mput *.* &gt;&gt; temp.txt</span><br><span class="line"><span class="built_in">echo</span> <span class="built_in">bye</span> &gt;&gt; temp.txt</span><br><span class="line">ftp -n -s:<span class="string">&quot;temp.txt&quot;</span></span><br><span class="line">del /q temp.txt</span><br><span class="line">pause</span><br></pre></td></tr></table></figure><h2 id="ftp命令行参考"><a href="#ftp命令行参考" class="headerlink" title="ftp命令行参考"></a>ftp命令行参考</h2><p>FTP命令是Internet用户使用最频繁的命令之一，不论是在DOS还是UNIX操作系统下使用FTP，都会遇到大量的FTP内部命令。熟悉并灵活应用FTP的内部命令，可以大大方便使用者，并收到事半功倍之效。　　<br>FTP的命令行格式为：ftp-v-d-i-n-g[主机名]，其中　<br>-v显示远程服务器的所有响应信息；<br>-i限制ftp的自动登录，即不使用；<br>-netrc文件；　　<br>-d使用调试方式；<br>-g取消全局文件名。<br>ftp使用的内部命令如下(中括号表示可选项): </p><ol><li>![cmd[args]]：在本地机中执行交互shell，exit回到ftp环境，如：!ls*.zip。 </li><li>$macro-ame[args]：执行宏定义macro-name。 </li><li>account[password]：提供登录远程系统成功后访问系统资源所需的补充口令。 </li><li>appendlocal-file[remote-file]：将本地文件追加到远程系统主机，若未指定远程系统文件名，则使用本地文件名。 </li><li>ascii：使用ascii类型传输方式。 </li><li>bell：每个命令执行完毕后计算机响铃一次。 </li><li>bin：使用二进制文件传输方式。 </li><li>bye：退出ftp会话过程。　　 </li><li>case：在使用mget时，将远程主机文件名中的大写转为小写字母。 </li><li>cdremote-dir：进入远程主机目录。　　 </li><li>cdup：进入远程主机目录的父目录。 </li><li>chmodmodefile-name：将远程主机文件file-name的存取方式设置为mode，如：chmod777a.out。 </li><li>close：中断与远程服务器的ftp会话(与open对应)。 </li><li>cr：使用asscii方式传输文件时，将回车换行转换为回行。　</li><li>deleteremote-file：删除远程主机文件。 </li><li>debug[debug-value]：设置调试方式，显示发送至远程主机的每条命令，如：debup3，若设为0，表示取消debug。 </li><li>dir[remote-dir][local-file]：显示远程主机目录，并将结果存入本地文件local-file。　 </li><li>disconnection：同close。 </li><li>formformat：将文件传输方式设置为format，缺省为file方式。 </li><li>getremote-file[local-file]：将远程主机的文件remote-file传至本地硬盘的local-file。 </li><li>glob：设置mdelete，mget，mput的文件名扩展，缺省时不扩展文件名，同命令行的-g参数。 </li><li>hash：每传输1024字节，显示一个hash符号(#)。 </li><li>help[cmd]：显示ftp内部命令cmd的帮助信息，如：helpget。 </li><li>idle[seconds]：将远程服务器的休眠计时器设为[seconds]秒。 </li><li>image：设置二进制传输方式(同binary)。 </li><li>lcd[dir]：将本地工作目录切换至dir。 </li><li>ls[remote-dir][local-file]：显示远程目录remote-dir，并存入本地文件local-file。 </li><li>macdefmacro-name：定义一个宏，遇到macdef下的空行时，宏定义结束。 </li><li>mdelete[remote-file]：删除远程主机文件。 </li><li>mdirremote-fileslocal-file：与dir类似，但可指定多个远程文件，如：mdir*.o.*.zipoutfile。 </li><li>mgetremote-files：传输多个远程文件。 </li><li>mkdirdir-name：在远程主机中建一目录。 </li><li>mlsremote-filelocal-file：同nlist，但可指定多个文件名。 </li><li>mode[modename]：将文件传输方式设置为modename，缺省为stream方式。 </li><li>modtimefile-name：显示远程主机文件的最后修改时间。 </li><li>mputlocal-file：将多个文件传输至远程主机。　　</li><li>newerfile-name：如果远程机中file-name的修改时间比本地硬盘同名文件的时间更近，则重传该文件。 </li><li>nlist[remote-dir][local-file]：显示远程主机目录的文件清单，并存入本地硬盘的local-file。 </li><li>nmap[inpatternoutpattern]：设置文件名映射机制，使得文件传输时，文件中的某些字符相互转换，如：nmap$1.$2.$3[$1，$2].[$2，$3]，则传输文件a1.a2.a3时，文件名变为a1，a2。该命令特别适用于远程主机为非UNIX机的情况。 </li><li>ntrans[inchars[outchars]]：设置文件名字符的翻译机制，如ntrans1R，则文件名LLL将变为RRR。 </li><li>openhost[port]：建立指定ftp服务器连接，可指定连接端口。 </li><li>passive：进入被动传输方式。 </li><li>prompt：设置多个文件传输时的交互提示。　　 </li><li>proxyftp-cmd：在次要控制连接中，执行一条ftp命令，该命令允许连接两个ftp服务器，以在两个服务器间传输文件。第一条ftp命令必须为open，以首先建立两个服务器间的连接。　　 </li><li>putlocal-file[remote-file]：将本地文件local-file传送至远程主机。 </li><li>pwd：显示远程主机的当前工作目录。 </li><li>quit：同bye，退出ftp会话。 </li><li>quotearg1，arg2…：将参数逐字发至远程ftp服务器，如：quotesyst。 </li><li>recvremote-file[local-file]：同get。　　 </li><li>regetremote-file[local-file]：类似于get，但若local-file存在，则从上次传输中断处续传。 </li><li>rhelp[cmd-name]：请求获得远程主机的帮助。 </li><li>rstatus[file-name]：若未指定文件名，则显示远程主机的状态，否则显示文件状态。 </li><li>rename[from][to]：更改远程主机文件名。 </li><li>reset：清除回答队列。 </li><li>restartmarker：从指定的标志marker处，重新开始get或put，如：restart130。 </li><li>rmdirdir-name：删除远程主机目录。 </li><li>runique：设置文件名唯一性存储。　　 </li><li>sendlocal-file[remote-file]：同put。　　 </li><li>sendport：设置PORT命令的使用。　　 </li><li>sitearg1，arg2…：将参数作为SITE命令逐字发送至远程ftp主机。 </li><li>sizefile-name：显示远程主机文件大小，如：siteidle7200。 </li><li>status：显示当前ftp状态。 </li><li>struct[struct-name]：将文件传输结构设置为struct-name，缺省时使用stream结构。 </li><li>sunique：将远程主机文件名存储设置为唯一(与runique对应)。 </li><li>system：显示远程主机的操作系统类型。　　 </li><li>tenex：将文件传输类型设置为TENEX机的所需的类型。 </li><li>tick：设置传输时的字节计数器。 </li><li>trace：设置包跟踪。　　 </li><li>type[type-name]：设置文件传输类型为type-name，缺省为ascii，如：typebinary，设置二进制传输方式。 </li><li>umask[newmask]：将远程服务器的缺省umask设置为newmask，如：umask3。 　 </li><li>useruser-name[password][account]：向远程主机表明自己的身份，需要口令时，必须输入口令，如：anyone@email。　　 </li><li>verbose：同命令行的-v参数，即设置详尽报告方式，ftp服务器的所有响应都将显示给用户，缺省为on。　　 </li><li>?[cmd]：同help。</li></ol><p>参考：<a href="https://www.jb51.net/article/85324.htm">https://www.jb51.net/article/85324.htm</a><br><a href="https://www.cnblogs.com/dotnetsong/archive/2008/08/05/1261543.html">https://www.cnblogs.com/dotnetsong/archive/2008/08/05/1261543.html</a></p>]]></content>
      
      
      <categories>
          
          <category> Other </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Other </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>在右键菜单中添加Git Bash Here</title>
      <link href="/2020/05/27/zai-you-jian-cai-dan-zhong-tian-jia-git-bash-here/"/>
      <url>/2020/05/27/zai-you-jian-cai-dan-zhong-tian-jia-git-bash-here/</url>
      
        <content type="html"><![CDATA[<p>安装Git后一般右键菜单都会有“Git Bash Here”选项，如果没有可以按下面方法添加</p><ol><li>进入注册表找到HKEY_CLASSES_ROOT\Directory\Background\shell，没有shell就新建一个<br><img src="/images/2020052713501001.png" alt="2020052713501001.png"></li><li>在shell下面右键新建项名称为Git，在其默认值中输入“Git Bash Here”<br><img src="/images/2020052713501002.png" alt="2020052713501002.png"></li><li>在Git下新建项，名称为command，在其默认值中输入“ Git安装目录\git-bash.exe”<br><img src="/images/2020052713501003.png" alt="2020052713501003.png"></li><li>在Git Bash Here 设置一个icon图标，在Git下右键新建字符串Icon输入值 “Git安装目录\mingw64\share\git\git-for-windows.ico”<br><img src="/images/2020052713501004.png" alt="2020052713501004.png"></li></ol><p>参考 <a href="https://blog.csdn.net/johnnymartin/article/details/80802425">https://blog.csdn.net/johnnymartin/article/details/80802425</a></p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>转载 sqludr2导出数据</title>
      <link href="/2020/05/26/zhuan-zai-sqludr2-dao-chu-shu-ju/"/>
      <url>/2020/05/26/zhuan-zai-sqludr2-dao-chu-shu-ju/</url>
      
        <content type="html"><![CDATA[<h2 id="sqluldr2下载与安装"><a href="#sqluldr2下载与安装" class="headerlink" title="sqluldr2下载与安装"></a>sqluldr2下载与安装</h2><ol><li>软件下载地址：</li></ol><p>百度云链接：<a href="https://pan.baidu.com/s/1V8eqyyYsbJqQSD-Sn-RQGg">https://pan.baidu.com/s/1V8eqyyYsbJqQSD-Sn-RQGg</a><br>提取码：6mdn</p><p>下载完后并解压会生成4个文件</p><p><strong>sqluldr2.exe</strong>                用于32位windows平台；<br><strong>sqluldr2_linux32_10204.bin</strong>  适用于linux32位操作系统；<br><strong>sqluldr2_linux64_10204.bin</strong>  适用于linux64位操作系统；<br><strong>sqluldr264.exe</strong>              用于64位windows平台。</p><ol start="2"><li>直接在cmd上运行（我的sqluldr文件放在F盘里，我电脑是64位，所以使用sqluldr264）</li></ol><h2 id="sqluldr2-导出"><a href="#sqluldr2-导出" class="headerlink" title="sqluldr2 导出"></a>sqluldr2 导出</h2><ol><li>导出命令的主要参数</li></ol><p>user&#x3D;用户名&#x2F;密码@ip地址:1521&#x2F;服务   ,如果是本地库，可以只写 用户名和密码：eg：user&#x3D;用户名&#x2F;密码</p><p>query&#x3D;”sql查询语句”</p><p>head&#x3D;yes|no  是否导出表头</p><p>file&#x3D;文件存放路径（该文件可以写很多后缀: .txt  .csv   .dmp 等等，我发现，导出.dmp文件速度快）</p><p>table&#x3D;查询的表名 有这句话，sqluldr2会自动生成一个.ctl文件，导入的时候会用到（）;</p><p>Field：分隔符，指定字段分隔符，默认为逗号； 比如：field&#x3D;#  在选择分隔符时，一定不能选择会在字段值中出现的字符组合，如常见的单词等，很多次导入时报错，回过头来找原因时，都发现是因为分隔符出现在字段值中了。</p><p>record：分隔符，指定记录分隔符，默认为回车换行，Windows下的换行；</p><p>quote：引号符，指定非数字字段前后的引号符；</p><p>charset：字符集，执行导出时的字符集，一般有UTF8、GBK等；<br>2. 常规的命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqluldr264 user=zxx/zxx123@127.0.0.1:1521/orcl query=<span class="string">&quot;select * from mv_xlsymx1 where ysyddm=&#x27;00001H&#x27;&quot;</span>  <span class="built_in">head</span>=<span class="built_in">yes</span> file=h:\mx.csv  <span class="built_in">log</span>=+F:\tem.log</span><br></pre></td></tr></table></figure><ol start="3"><li>可以使用sql参数</li></ol><p>可以使用sql参数代替query</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqluldr264 user=zxx/zxx  sql=h:\test.sql <span class="built_in">head</span>=<span class="built_in">yes</span> file=h:\mx.csv </span><br></pre></td></tr></table></figure><p>test.sql是提前维护好的一个文件，文件的内容为sql语句。</p><ol><li>带有table参数的导出</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqluldr264 user=zxx/zxx query=<span class="string">&quot;select * from mv_xlsymx1 where ysyddm=&#x27;00001H&#x27;&quot;</span> table=mv_xlsymx1  <span class="built_in">head</span>=<span class="built_in">yes</span> file=F:\mx.csv</span><br></pre></td></tr></table></figure><p>它会生成一个.ctl文件(mv_xlsymx1_sqlldr.ctl,默认生成在sqluldr文件下，我的就生成在F:\sqluldr\ mv_xlsymx1_sqlldr.ctl)<br>5. 指定.ctl文件生成的位置</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqluldr264 user=zxx/zxx  query=<span class="string">&quot;select * from mv_xlsymx1 where ysyddm=&#x27;00001H&#x27;&quot;</span> table=mv_xlsymx1  control=F:\mx.ctl <span class="built_in">head</span>=<span class="built_in">yes</span> file=F:\mx.csv</span><br></pre></td></tr></table></figure><ol start="6"><li>带有日志log参数</li></ol><p>当集成sqluldr2在脚本中时，就希望屏蔽上不输出这些信息，但又希望这些信息能保留，这时可以用“LOG”选项来指定日志文件名。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqluldr264 user=zxx/zxx query=<span class="string">&quot;select * from mv_xlsymx1 where ysyddm=&#x27;00001H&#x27;&quot;</span>  <span class="built_in">head</span>=<span class="built_in">yes</span> file=F:\mx.csv  <span class="built_in">log</span>=+F:\tmp.log</span><br></pre></td></tr></table></figure><p>注意：这里的log路径要写上“+”</p><p>转载：<a href="https://www.cnblogs.com/your-Name/p/10315286.html">https://www.cnblogs.com/your-Name/p/10315286.html</a></p>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>批处理文件 中文乱码</title>
      <link href="/2020/05/26/pi-chu-li-wen-jian-zhong-wen-luan-ma/"/>
      <url>/2020/05/26/pi-chu-li-wen-jian-zhong-wen-luan-ma/</url>
      
        <content type="html"><![CDATA[<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off </span><br><span class="line">REM 后续命令使用的是：GBK编码</span><br><span class="line">chcp 936</span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> %~dp0 </span><br><span class="line"><span class="built_in">set</span> fileName=%~dp0\testfile.csv</span><br><span class="line"><span class="built_in">set</span> rarName=%~dp0\testfile.rar</span><br><span class="line"></span><br><span class="line">sqluldr264.exe USER=<span class="built_in">test</span>/test@oracl sql=%~dp0\exportsql.sql <span class="built_in">head</span>=<span class="built_in">yes</span> FILE=%fileName%</span><br><span class="line">D:</span><br><span class="line"><span class="built_in">cd</span>/</span><br><span class="line"><span class="built_in">cd</span> D:\Program Files\WinRAR</span><br><span class="line"></span><br><span class="line">winrar a -ep1 -o+ -inul -r -ibck %rarName% %fileName%</span><br><span class="line"></span><br><span class="line">del %fileName%</span><br><span class="line"></span><br><span class="line">pause</span><br><span class="line"><span class="built_in">exit</span></span><br></pre></td></tr></table></figure><p>注意：批处理文件中定义变量最好不要有空格，有空个变量名也要带上空格</p><p>chcp 65001 UTF-8<br>chcp 936 GBK<br>chcp 437 美国英语</p><p>参考 <a href="http://www.360doc.com/content/19/0121/16/17585043_810413905.shtml">http://www.360doc.com/content/19/0121/16/17585043_810413905.shtml</a></p><p><a href="https://www.jianshu.com/p/6d0c5cda5d8e">https://www.jianshu.com/p/6d0c5cda5d8e</a></p>]]></content>
      
      
      <categories>
          
          <category> Computer </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Computer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>谷歌浏览器software_reporter_tool</title>
      <link href="/2020/05/07/gu-ge-liu-lan-qi-software-reporter-tool/"/>
      <url>/2020/05/07/gu-ge-liu-lan-qi-software-reporter-tool/</url>
      
        <content type="html"><![CDATA[<p>早上打开电脑cpu使用率很高，排序看了下什么程序占用cpu了，一看是software_reporter_tool，直接定位到目录</p><p><img src="/images/2020050717151501.png" alt="2020050717151501.png"></p><p>直接用记事本工具打开manifest.json，修改allow-reporter-logs值为false</p><p><img src="/images/2020050717151502.png" alt="2020050717151502.png"></p><p>在software_reporter_tool右键属性</p><p><img src="/images/2020050717151503.png" alt="2020050717151503.png"></p><p>在弹出的框中选择删除，然后点击应用，确定即可。</p>]]></content>
      
      
      <categories>
          
          <category> Computer </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Computer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Win10 家庭版输入gpedit.msc命令提示找不到</title>
      <link href="/2020/04/01/win10-jia-ting-ban-shu-ru-gpedit.msc-ming-ling-ti-shi-zhao-bu-dao/"/>
      <url>/2020/04/01/win10-jia-ting-ban-shu-ru-gpedit.msc-ming-ling-ti-shi-zhao-bu-dao/</url>
      
        <content type="html"><![CDATA[<p>新建一个bat文件，然后编辑输入</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="built_in">pushd</span> <span class="string">&quot;%~dp0&quot;</span></span><br><span class="line"><span class="built_in">dir</span> /b C:\Windows\servicing\Packages\Microsoft-Windows-GroupPolicy-ClientExtensions-Package~3*.mum &gt;List.txt</span><br><span class="line"><span class="built_in">dir</span> /b C:\Windows\servicing\Packages\Microsoft-Windows-GroupPolicy-ClientTools-Package~3*.mum &gt;&gt;List.txt</span><br><span class="line"><span class="keyword">for</span> /f %%i <span class="keyword">in</span> (<span class="string">&#x27;findstr /i . List.txt 2^&gt;nul&#x27;</span>) <span class="keyword">do</span> dism /online /norestart /add-package:<span class="string">&quot;C:\Windows\servicing\Packages\%%i&quot;</span></span><br><span class="line">pause</span><br></pre></td></tr></table></figure><p>在该文件上右键，以管理员身份运行<br>然后在数据gpedit.msc命令运行就可以了</p><p>转载 <a href="https://blog.csdn.net/u013642500/article/details/80138799">https://blog.csdn.net/u013642500/article/details/80138799</a></p>]]></content>
      
      
      <categories>
          
          <category> Computer </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Computer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PLSQL查询显示乱码或者问号</title>
      <link href="/2020/01/16/plsql-cha-xun-xian-shi-luan-ma-huo-zhe-wen-hao/"/>
      <url>/2020/01/16/plsql-cha-xun-xian-shi-luan-ma-huo-zhe-wen-hao/</url>
      
        <content type="html"><![CDATA[<p>在plsql中查询数据，查询出的结果中包含中文就显示乱码</p><h2 id="使用-select-from-V-NLS-PARAMETERS查看字符集"><a href="#使用-select-from-V-NLS-PARAMETERS查看字符集" class="headerlink" title="使用 select * from V$NLS_PARAMETERS查看字符集"></a>使用 select * from V$NLS_PARAMETERS查看字符集</h2><p><img src="/images/2020011616311301.png" alt="2020011616311301.png"></p><h2 id="如果没有看注册表中的oracle是否包含-NLS-LANG并且值为-SIMPLIFIED-CHINESE-CHINA-ZHS16GBK，没有则新建配置上"><a href="#如果没有看注册表中的oracle是否包含-NLS-LANG并且值为-SIMPLIFIED-CHINESE-CHINA-ZHS16GBK，没有则新建配置上" class="headerlink" title="如果没有看注册表中的oracle是否包含 NLS_LANG并且值为 SIMPLIFIED CHINESE_CHINA.ZHS16GBK，没有则新建配置上"></a>如果没有看注册表中的oracle是否包含 NLS_LANG并且值为 SIMPLIFIED CHINESE_CHINA.ZHS16GBK，没有则新建配置上</h2><p><img src="/images/2020011616311302.png" alt="2020011616311302.png"></p><h2 id="以上配置都没有问题，就看电脑环境变量中是否存在NLS-LANG，没有则新建，然后重新打开plsql。"><a href="#以上配置都没有问题，就看电脑环境变量中是否存在NLS-LANG，没有则新建，然后重新打开plsql。" class="headerlink" title="以上配置都没有问题，就看电脑环境变量中是否存在NLS_LANG，没有则新建，然后重新打开plsql。"></a>以上配置都没有问题，就看电脑环境变量中是否存在NLS_LANG，没有则新建，然后重新打开plsql。</h2><p><img src="/images/2020011616311303.png" alt="2020011616311303.png"></p><p>转载： <a href="https://jingyan.baidu.com/article/a3aad71aa9bfefb1fa00964d.html">https://jingyan.baidu.com/article/a3aad71aa9bfefb1fa00964d.html</a></p>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Sonar 扫描C#代码 排除文件</title>
      <link href="/2020/01/07/sonar-sao-miao-csharp-dai-ma-pai-chu-wen-jian/"/>
      <url>/2020/01/07/sonar-sao-miao-csharp-dai-ma-pai-chu-wen-jian/</url>
      
        <content type="html"><![CDATA[<h3 id="用管理员账户登录sonaqube配置排除选项"><a href="#用管理员账户登录sonaqube配置排除选项" class="headerlink" title="用管理员账户登录sonaqube配置排除选项"></a>用管理员账户登录sonaqube配置排除选项</h3><p>参考 <a href="https://www.jianshu.com/p/ffeb73eeccd6">https://www.jianshu.com/p/ffeb73eeccd6</a></p><h3 id="在本地的sonar-project-properties文件中配置"><a href="#在本地的sonar-project-properties文件中配置" class="headerlink" title="在本地的sonar-project.properties文件中配置"></a>在本地的sonar-project.properties文件中配置</h3><p>　　sonar.exclusions 表示不包含的项目</p><p>　　? 匹配单个字符<br>　　** 匹配0个或多个文件夹<br>　　* 匹配0个或多个字符</p><pre><code>例如排除所有的Test结尾的cs文件，多个以逗号分隔</code></pre><p>　　sonar.exclusions&#x3D; **&#x2F;*Test.cs,**&#x2F;*Dao.cs</p><pre><code>排除文件夹下所有的文件</code></pre><p>　　sonar.exclusions&#x3D;test&#x2F;entity&#x2F;*</p><pre><code>参考 &lt;https://docs.sonarqube.org/7.1/NarrowingtheFocus.html&gt;</code></pre>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C# 短日期转换为DateTime</title>
      <link href="/2020/01/06/csharp-duan-ri-qi-zhuan-huan-wei-datetime/"/>
      <url>/2020/01/06/csharp-duan-ri-qi-zhuan-huan-wei-datetime/</url>
      
        <content type="html"><![CDATA[<p>将字符串“201804”转换为DateTime</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DateTime dTime = DateTime.ParseExact(<span class="string">&quot;201804&quot;</span>, <span class="string">&quot;yyyyMM&quot;</span>, CultureInfo.CurrentCulture);</span><br></pre></td></tr></table></figure><p> 常见的日期转换</p><ol><li>Convert.ToDateTime(string date)<ol><li>date格式为 yyyy-mm-dd hh:mm:ss</li></ol></li><li>Convert.ToDateTime(string date, IFormatProvider formatter)<ol><li>formatter 指日期格式</li></ol></li><li>DateTime.Parse(dateInput)</li></ol><p>参考 <a href="http://www.bubuko.com/infodetail-3293058.html">http://www.bubuko.com/infodetail-3293058.html</a><br><a href="https://docs.microsoft.com/en-us/dotnet/standard/base-types/parsing-datetime?redirectedfrom=MSDN">https://docs.microsoft.com/en-us/dotnet/standard/base-types/parsing-datetime?redirectedfrom=MSDN</a></p>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>电脑远程连接不上或者ip的地址一直是169.254</title>
      <link href="/2019/12/30/dian-nao-yuan-cheng-lian-jie-bu-shang-huo-zhe-ip-de-di-zhi-yi-zhi-shi-169.254/"/>
      <url>/2019/12/30/dian-nao-yuan-cheng-lian-jie-bu-shang-huo-zhe-ip-de-di-zhi-yi-zhi-shi-169.254/</url>
      
        <content type="html"><![CDATA[<p>如果出现如标题的情况后按常规的方法解决不了，可以试试重置网络</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dos命令netsh winsock reset</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Computer </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Computer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C#导出CSV或者EXCEL文件转换文本</title>
      <link href="/2019/12/26/csharp-dao-chu-csv-huo-zhe-excel-wen-jian-zhuan-huan-wen-ben/"/>
      <url>/2019/12/26/csharp-dao-chu-csv-huo-zhe-excel-wen-jian-zhuan-huan-wen-ben/</url>
      
        <content type="html"><![CDATA[<p>C#写入CSV文件是日期格式会自动转换，不需要转换在内容前加一个制表符TAB（表示缩进），C#的\t对应tab键</p><p>写入EXCEL不需要转换需要在内容前加一个’(英文的单引号)</p>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Oracle 计算两个日期相差天时分秒</title>
      <link href="/2019/12/16/oracle-ji-suan-liang-ge-ri-qi-xiang-chai-tian-shi-fen-miao/"/>
      <url>/2019/12/16/oracle-ji-suan-liang-ge-ri-qi-xiang-chai-tian-shi-fen-miao/</url>
      
        <content type="html"><![CDATA[<h3 id="用到oracle相关函数"><a href="#用到oracle相关函数" class="headerlink" title="用到oracle相关函数"></a>用到oracle相关函数</h3><p> round、trunc、to_number、to_date</p><ol><li>round(number[,decimals]) 四舍五入<ol><li>number：指需要处理的数值，是必须填写的值。</li><li>decimals：指在进行四舍五入运算时 , 小数的应取的位数，该参数可以不填，不填的时候，系统默认小数位数取0。</li></ol></li><li>trunc(number[,num_digits])<ol><li>number：指需要处理的数值，是必须填写的值。</li><li>num_digits：用于指定取整精度的数字，截取时不进行四舍五入。该参数可以不填，不填的时候num_digits 的默认值为 0。</li></ol></li><li>[to_number(expr [, fmt [, ‘nlsparam’ ] ])](<a href="https://docs.oracle.com/cd/E11882_01/server.112/e41084/functions211.htm#SQLRF06140">https://docs.oracle.com/cd/E11882_01/server.112/e41084/functions211.htm#SQLRF06140</a>) 转换数据类型<ol><li>expr：如果expr为char、nchar、varchar2,nvarchar2则可以指定格式fmt，如果是binary_float、binary_double则不能指定格式</li><li>nlsparam： 用于数字转换的TO_CHAR函数中的nlsparam参数具有相同的目的。有关更多信息，请参阅TO_CHAR（nuber）。此功能不直接支持CLOB数据。然而，CLOB可以通过隐式数据转换作为参数传入</li></ol></li><li>[to_date(char [, fmt [, ‘nlsparam’ ] ])](<a href="https://docs.oracle.com/cd/E11882_01/server.112/e41084/functions203.htm#SQLRF06132">https://docs.oracle.com/cd/E11882_01/server.112/e41084/functions203.htm#SQLRF06132</a>) 将字符转换为日期格式<ol><li>char：需要转换的字符</li><li>fmt：是一种指定char格式的日期时间模型格式。如果省略FMT，则char必须是默认日期格式。默认日期格式由NLS_Area初始化参数隐式确定，也可以由NLS_DATE_FORCT参数显式设置。如果fmt是J，对于Julian，char必须是一个整数。</li><li>nlsparam： 指定正在转换为日期的文本字符串的语言。该参数可以具有以下形式</li></ol></li><li><a href="https://docs.oracle.com/cd/E11882_01/server.112/e41084/functions101.htm#SQLRF00668">mod(n1,n2)</a> 取余（n1&#x2F;n2的小数部分）<ol><li>n1,n2 都为数字类型</li></ol></li></ol><h3 id="相差时分秒"><a href="#相差时分秒" class="headerlink" title="相差时分秒"></a>相差时分秒</h3><p>第一种</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--4天2小时10分 =353405秒</span></span><br><span class="line"><span class="keyword">select</span> trunc(<span class="number">353405</span><span class="operator">/</span>(<span class="number">24</span><span class="operator">*</span><span class="number">60</span><span class="operator">*</span><span class="number">60</span>)) 天,trunc( <span class="built_in">mod</span>(<span class="number">353405</span>,<span class="number">24</span><span class="operator">*</span><span class="number">60</span><span class="operator">*</span><span class="number">60</span>)<span class="operator">/</span>(<span class="number">60</span><span class="operator">*</span><span class="number">60</span>) ) 时, </span><br><span class="line">trunc(<span class="built_in">mod</span>(<span class="number">353405</span>,<span class="number">60</span><span class="operator">*</span><span class="number">60</span>)<span class="operator">/</span><span class="number">60</span>) 分,trunc(<span class="built_in">mod</span>(<span class="number">353405</span>,<span class="number">60</span>)) 秒 <span class="keyword">from</span> dual;</span><br></pre></td></tr></table></figure><p><img src="/images/2019121611290901.png" alt="2019121611290901.png"></p><p>第二种<br>两个日期相减得出一个数字类型</p><p><strong>1天2小时5分10秒&#x3D;1.0869212962963</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> to_date(<span class="string">&#x27;2020-01-06 14:35:35&#x27;</span>,<span class="string">&#x27;yyyy-mm-dd hh24:mi:ss&#x27;</span>)<span class="operator">-</span></span><br><span class="line">to_date(<span class="string">&#x27;2020-01-05 12:30:25&#x27;</span>,<span class="string">&#x27;yyyy-mm-dd hh24:mi:ss&#x27;</span>) <span class="keyword">from</span> dual;</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> trunc(<span class="number">1.0869212962963</span>) 天 ,</span><br><span class="line">             trunc(<span class="built_in">mod</span>(<span class="number">1.0869212962963</span>, <span class="number">1</span>) <span class="operator">*</span> <span class="number">24</span>) 时,</span><br><span class="line">             trunc(<span class="built_in">mod</span>(<span class="built_in">mod</span>(<span class="number">1.0869212962963</span>, <span class="number">1</span>) <span class="operator">*</span> <span class="number">24</span>, <span class="number">1</span>) <span class="operator">*</span> <span class="number">60</span>) 分,</span><br><span class="line">             trunc(<span class="built_in">mod</span>(<span class="built_in">mod</span>(<span class="built_in">mod</span>(<span class="number">1.0869212962963</span>, <span class="number">1</span>) <span class="operator">*</span> <span class="number">24</span>, <span class="number">1</span>) <span class="operator">*</span> <span class="number">60</span>,<span class="number">1</span>)<span class="operator">*</span><span class="number">60</span>) 秒</span><br><span class="line">        <span class="keyword">from</span> dual;</span><br></pre></td></tr></table></figure><p><img src="/images/2019121611290902.png" alt="2019121611290902.png"></p><p>第三种</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> startTime, endTime, tday, thour, tminute, round((tt_minute<span class="operator">-</span>tminute)<span class="operator">*</span><span class="number">60</span>) <span class="keyword">as</span> tseconds  </span><br><span class="line"><span class="keyword">from</span> </span><br><span class="line">(</span><br><span class="line">  <span class="keyword">select</span> startTime, endTime, tday, thour, trunc((tt_hour<span class="operator">-</span>thour)<span class="operator">*</span><span class="number">60</span>) <span class="keyword">as</span> tminute, (tt_hour<span class="operator">-</span>thour)<span class="operator">*</span><span class="number">60</span> <span class="keyword">as</span> tt_minute </span><br><span class="line">  <span class="keyword">from</span> </span><br><span class="line">  (<span class="keyword">select</span> startTime, endTime, tday, trunc((tt_day<span class="operator">-</span>tday)<span class="operator">*</span><span class="number">24</span>) <span class="keyword">as</span> thour, (tt_day<span class="operator">-</span>tday)<span class="operator">*</span><span class="number">24</span> <span class="keyword">as</span> tt_hour <span class="keyword">from</span> </span><br><span class="line">    (<span class="keyword">select</span> to_number(endTime <span class="operator">-</span> startTime) <span class="keyword">as</span> tt_day, </span><br><span class="line">         trunc(to_number(endTime <span class="operator">-</span> startTime)) <span class="keyword">as</span> tday, startTime, endTime <span class="keyword">from</span> </span><br><span class="line">     (<span class="keyword">select</span> to_date(<span class="string">&#x27;2012-11-01 00:20:31&#x27;</span>,<span class="string">&#x27;yyyy-mm-dd hh24:mi:ss&#x27;</span>) <span class="keyword">as</span> startTime,sysdate <span class="keyword">as</span> endTime <span class="keyword">from</span> dual) </span><br><span class="line">    )</span><br><span class="line">  )</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p><img src="/images/2019121611290903.png" alt="2019121611290903.png"></p>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>T4模板生成自定义的实体类</title>
      <link href="/2019/12/09/t4-mo-ban-sheng-cheng-zi-ding-yi-de-shi-ti-lei/"/>
      <url>/2019/12/09/t4-mo-ban-sheng-cheng-zi-ding-yi-de-shi-ti-lei/</url>
      
        <content type="html"><![CDATA[<h2 id="开发工具"><a href="#开发工具" class="headerlink" title="开发工具"></a>开发工具</h2><p>VS2017、Oracle、PL&#x2F;SQL、<a href="https://www.cnblogs.com/ZJ199012/p/T4Toolbox">T4Toolbox</a><br>T4模板编辑工具 <a href="https://t4-editor.tangible-engineering.com/Download_T4Editor_Plus_ModelingTools.html">T4 Editor</a></p><h2 id="数据库查询语句"><a href="#数据库查询语句" class="headerlink" title="数据库查询语句"></a>数据库查询语句</h2><ol><li>oracle</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--查询当前用户的所有表</span></span><br><span class="line"><span class="keyword">SELECT</span> TABLE_NAME <span class="keyword">FROM</span> USER_TABLES;</span><br><span class="line"><span class="comment">--根据表名查询表结构数据</span></span><br><span class="line"><span class="keyword">SELECT</span> A.column_name    字段名,                                                                                      </span><br><span class="line">A.data_type      数据类型,</span><br><span class="line">A.data_length    长度,</span><br><span class="line">A.data_precision 整数位,</span><br><span class="line">A.Data_Scale     小数位,</span><br><span class="line">A.nullable       允许空值,</span><br><span class="line">A.Data_default   缺省值,</span><br><span class="line">B.comments       备注,</span><br><span class="line">A.TABLE_NAME     表名</span><br><span class="line"><span class="keyword">FROM</span> user_tab_columns A, user_col_comments B</span><br><span class="line"><span class="keyword">WHERE</span> a.column_name <span class="operator">=</span> b.column_name</span><br><span class="line"><span class="keyword">AND</span> A.Table_Name <span class="operator">=</span> B.Table_Name</span><br><span class="line"><span class="keyword">AND</span> A.Table_Name <span class="operator">=</span> <span class="string">&#x27;test&#x27;</span></span><br></pre></td></tr></table></figure><ol start="2"><li>mysql</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--查询数据库表</span></span><br><span class="line">    string connectionString <span class="operator">=</span> &quot;Data Source=.;Initial Catalog=NFineBase;User ID=sa;Password=hjf19870810;&quot;; </span><br><span class="line">    SqlConnection conn <span class="operator">=</span> <span class="keyword">new</span> SqlConnection(connectionString); </span><br><span class="line">    conn.Open(); </span><br><span class="line">    System.Data.DataTable schema <span class="operator">=</span> conn.GetSchema(&quot;TABLES&quot;); </span><br><span class="line"><span class="comment">--通过数据库表查询表结构</span></span><br><span class="line"><span class="keyword">SELECT</span> 表名<span class="operator">=</span>sobj.name,字段名<span class="operator">=</span>scol.name,字段说明<span class="operator">=</span>sprop.[<span class="keyword">value</span>] <span class="keyword">FROM</span> syscolumns <span class="keyword">as</span> scol <span class="keyword">inner</span> <span class="keyword">join</span> sys.sysobjects <span class="keyword">as</span> sobj <span class="keyword">on</span> scol.id<span class="operator">=</span>sobj.id <span class="keyword">and</span> sobj.xtype<span class="operator">=</span><span class="string">&#x27;U&#x27;</span> <span class="keyword">and</span> sobj.name<span class="operator">&lt;&gt;</span><span class="string">&#x27;dtproperties&#x27;</span> <span class="keyword">left</span> <span class="keyword">join</span> sys.extended_properties <span class="keyword">as</span> sprop <span class="keyword">on</span> scol.id<span class="operator">=</span>sprop.major_id <span class="keyword">and</span> scol.colid<span class="operator">=</span>sprop.minor_id <span class="keyword">where</span> sobj.name<span class="operator">=</span><span class="string">&#x27;@tableName&#x27;</span> <span class="keyword">and</span> scol.name<span class="operator">=</span><span class="string">&#x27;@columnName&#x27;</span></span><br></pre></td></tr></table></figure><ol start="3"><li>sqlserver</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--SQL 查询所有表名</span></span><br><span class="line"><span class="keyword">SELECT</span> NAME <span class="keyword">FROM</span> SYSOBJECTS <span class="keyword">WHERE</span> TYPE<span class="operator">=</span><span class="string">&#x27;U&#x27;</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> INFORMATION_SCHEMA.TABLES</span><br><span class="line"><span class="comment">--查询表的所有字段名</span></span><br><span class="line"><span class="keyword">SELECT</span> NAME <span class="keyword">FROM</span> SYSCOLUMNS <span class="keyword">WHERE</span> ID<span class="operator">=</span>OBJECT_ID(<span class="string">&#x27; 表名&#x27;</span> )</span><br></pre></td></tr></table></figure><h2 id="生成类文件公用类-ModelAuto-ttinclude"><a href="#生成类文件公用类-ModelAuto-ttinclude" class="headerlink" title="生成类文件公用类 ModelAuto.ttinclude"></a>生成类文件公用类 ModelAuto.ttinclude</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="meta">#@ assembly name=&quot;System.Core&quot;#&gt;</span></span><br><span class="line">&lt;<span class="meta">#@ assembly name=&quot;EnvDTE&quot;#&gt;</span></span><br><span class="line">&lt;<span class="meta">#@ import namespace=&quot;System.Collections.Generic&quot;#&gt;</span></span><br><span class="line">&lt;<span class="meta">#@ import namespace=&quot;System.IO&quot;#&gt;</span></span><br><span class="line">&lt;<span class="meta">#@ import namespace=&quot;System.Text&quot;#&gt;</span></span><br><span class="line">&lt;<span class="meta">#@ import namespace=&quot;Microsoft.VisualStudio.TextTemplating&quot;#&gt;</span></span><br><span class="line"></span><br><span class="line">&lt;<span class="meta">#+</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Manager</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">struct</span> Block &#123;</span><br><span class="line">        <span class="keyword">public</span> String Name;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">int</span> Start, Length;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> List&lt;Block&gt; blocks = <span class="keyword">new</span> List&lt;Block&gt;();</span><br><span class="line">    <span class="keyword">public</span> Block currentBlock;</span><br><span class="line">    <span class="keyword">public</span> Block footerBlock = <span class="keyword">new</span> Block();</span><br><span class="line">    <span class="keyword">public</span> Block headerBlock = <span class="keyword">new</span> Block();</span><br><span class="line">    <span class="keyword">public</span> ITextTemplatingEngineHost host;</span><br><span class="line">    <span class="keyword">public</span> ManagementStrategy strategy;</span><br><span class="line">    <span class="keyword">public</span> StringBuilder template;</span><br><span class="line">    <span class="keyword">public</span> String OutputPath &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Manager</span>(<span class="params">ITextTemplatingEngineHost host, StringBuilder template, <span class="built_in">bool</span> commonHeader</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.host = host;</span><br><span class="line">        <span class="keyword">this</span>.template = template;</span><br><span class="line">        OutputPath = String.Empty;</span><br><span class="line">        strategy = ManagementStrategy.Create(host);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">StartBlock</span>(<span class="params">String name</span>)</span> &#123;</span><br><span class="line">        currentBlock = <span class="keyword">new</span> Block &#123; Name = name, Start = template.Length &#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">StartFooter</span>()</span> &#123;</span><br><span class="line">        footerBlock.Start = template.Length;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">EndFooter</span>()</span> &#123;</span><br><span class="line">        footerBlock.Length = template.Length - footerBlock.Start;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">StartHeader</span>()</span> &#123;</span><br><span class="line">        headerBlock.Start = template.Length;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">EndHeader</span>()</span> &#123;</span><br><span class="line">        headerBlock.Length = template.Length - headerBlock.Start;</span><br><span class="line">    &#125;    </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">EndBlock</span>()</span> &#123;</span><br><span class="line">        currentBlock.Length = template.Length - currentBlock.Start;</span><br><span class="line">        blocks.Add(currentBlock);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Process</span>(<span class="params"><span class="built_in">bool</span> split</span>)</span> &#123;</span><br><span class="line">        String header = template.ToString(headerBlock.Start, headerBlock.Length);</span><br><span class="line">        String footer = template.ToString(footerBlock.Start, footerBlock.Length);</span><br><span class="line">        blocks.Reverse();</span><br><span class="line">        <span class="keyword">foreach</span>(Block block <span class="keyword">in</span> blocks) &#123;</span><br><span class="line">            String fileName = Path.Combine(OutputPath, block.Name);</span><br><span class="line">            <span class="keyword">if</span> (!Directory.Exists(OutputPath))</span><br><span class="line">            &#123;</span><br><span class="line">                Directory.CreateDirectory(OutputPath);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (split) &#123;</span><br><span class="line">                String content = header + template.ToString(block.Start, block.Length) + footer;</span><br><span class="line">                strategy.CreateFile(fileName, content);</span><br><span class="line">                template.Remove(block.Start, block.Length);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                strategy.DeleteFile(fileName);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">ManagementStrategy</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">internal</span> <span class="keyword">static</span> ManagementStrategy <span class="title">Create</span>(<span class="params">ITextTemplatingEngineHost host</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> (host <span class="keyword">is</span> IServiceProvider) ? <span class="keyword">new</span> VSManagementStrategy(host) : <span class="keyword">new</span> ManagementStrategy(host);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">internal</span> <span class="title">ManagementStrategy</span>(<span class="params">ITextTemplatingEngineHost host</span>)</span> &#123; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">internal</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">CreateFile</span>(<span class="params">String fileName, String content</span>)</span> &#123;</span><br><span class="line">        File.WriteAllText(fileName, content);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">internal</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">DeleteFile</span>(<span class="params">String fileName</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (File.Exists(fileName))</span><br><span class="line">            File.Delete(fileName);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">VSManagementStrategy</span> : <span class="title">ManagementStrategy</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> EnvDTE.ProjectItem templateProjectItem;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">internal</span> <span class="title">VSManagementStrategy</span>(<span class="params">ITextTemplatingEngineHost host</span>) : <span class="title">base</span>(<span class="params">host</span>)</span> &#123;</span><br><span class="line">        IServiceProvider hostServiceProvider = (IServiceProvider)host;</span><br><span class="line">        <span class="keyword">if</span> (hostServiceProvider == <span class="literal">null</span>)</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentNullException(<span class="string">&quot;Could not obtain hostServiceProvider&quot;</span>);</span><br><span class="line"></span><br><span class="line">        EnvDTE.DTE dte = (EnvDTE.DTE)hostServiceProvider.GetService(<span class="keyword">typeof</span>(EnvDTE.DTE));</span><br><span class="line">        <span class="keyword">if</span> (dte == <span class="literal">null</span>)</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentNullException(<span class="string">&quot;Could not obtain DTE from host&quot;</span>);</span><br><span class="line"></span><br><span class="line">        templateProjectItem = dte.Solution.FindProjectItem(host.TemplateFile);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">internal</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">CreateFile</span>(<span class="params">String fileName, String content</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">base</span>.CreateFile(fileName, content);</span><br><span class="line">        ((EventHandler)<span class="built_in">delegate</span> &#123; templateProjectItem.ProjectItems.AddFromFile(fileName); &#125;).BeginInvoke(<span class="literal">null</span>, <span class="literal">null</span>, <span class="literal">null</span>, <span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">internal</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">DeleteFile</span>(<span class="params">String fileName</span>)</span> &#123;</span><br><span class="line">        ((EventHandler)<span class="built_in">delegate</span> &#123; FindAndDeleteFile(fileName); &#125;).BeginInvoke(<span class="literal">null</span>, <span class="literal">null</span>, <span class="literal">null</span>, <span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">FindAndDeleteFile</span>(<span class="params">String fileName</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">foreach</span>(EnvDTE.ProjectItem projectItem <span class="keyword">in</span> templateProjectItem.ProjectItems) &#123;</span><br><span class="line">            <span class="keyword">if</span> (projectItem.get_FileNames(<span class="number">0</span>) == fileName) &#123;</span><br><span class="line">                projectItem.Delete();</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;<span class="meta">#&gt;</span></span><br></pre></td></tr></table></figure><h2 id="T4模板文件"><a href="#T4模板文件" class="headerlink" title="T4模板文件"></a>T4模板文件</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="meta">#@ template debug=&quot;true&quot; hostspecific=&quot;true&quot; language=&quot;C#&quot; #&gt;</span></span><br><span class="line">&lt;<span class="meta">#@ output extension=&quot;.cs&quot; #&gt;</span></span><br><span class="line">&lt;<span class="meta">#@ assembly name=&quot;System.Data&quot; #&gt;</span></span><br><span class="line">&lt;<span class="meta">#@ assembly name=&quot;System.Xml&quot; #&gt;</span></span><br><span class="line">&lt;<span class="meta">#@ assembly name=&quot;System.Linq&quot; #&gt;</span></span><br><span class="line">&lt;<span class="meta">#@ assembly name=&quot;System.IO&quot; #&gt;</span></span><br><span class="line">&lt;<span class="meta">#@ assembly name=&quot;$(ProjectDir)\Lib\Oracle.ManagedDataAccess.dll&quot; #&gt;</span></span><br><span class="line">&lt;<span class="meta">#@ import namespace=&quot;System&quot; #&gt;</span></span><br><span class="line">&lt;<span class="meta">#@ import namespace=&quot;System.Xml&quot; #&gt;</span></span><br><span class="line">&lt;<span class="meta">#@ import namespace=&quot;System.Data&quot; #&gt;</span></span><br><span class="line">&lt;<span class="meta">#@ import namespace=&quot;System.IO&quot; #&gt;</span></span><br><span class="line">&lt;<span class="meta">#@ import namespace=&quot;System.Collections.Generic&quot;#&gt;</span></span><br><span class="line">&lt;<span class="meta">#@ import namespace=&quot;System.Linq&quot;#&gt;</span></span><br><span class="line">&lt;<span class="meta">#@ import namespace=&quot;Oracle.ManagedDataAccess.Client&quot; #&gt;</span></span><br><span class="line">&lt;<span class="meta">#@ include file=&quot;ModelAuto.ttinclude&quot;#&gt;</span></span><br><span class="line"></span><br><span class="line">&lt;<span class="meta"># var manager2 = new Manager(Host, GenerationEnvironment, true) &#123; OutputPath = Path.GetDirectoryName(Host.TemplateFile)+&quot;\\DefaultModel&quot;&#125;; #&gt;</span></span><br><span class="line">&lt;<span class="meta"># </span></span><br><span class="line">ModelManager manager = <span class="keyword">new</span> ModelManager();</span><br><span class="line">List&lt;<span class="built_in">string</span>&gt; list=manager.GetTableList();</span><br><span class="line"><span class="meta">#&gt;</span></span><br><span class="line"></span><br><span class="line">&lt;<span class="meta"># </span></span><br><span class="line">    <span class="keyword">foreach</span> (<span class="keyword">var</span> item <span class="keyword">in</span> list)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">string</span> tableName=item;</span><br><span class="line">        DataTable table= manager.GetTableSchema(tableName);</span><br><span class="line"> <span class="meta">#&gt;</span></span><br><span class="line"></span><br><span class="line"> &lt;<span class="meta"># </span></span><br><span class="line">        <span class="built_in">string</span> tempTableName=manager.FirstCharToUpper(tableName);</span><br><span class="line">        manager2.StartBlock(tempTableName+<span class="string">&quot;Entity.cs&quot;</span>);</span><br><span class="line"> <span class="meta">#&gt;</span></span><br><span class="line"><span class="comment">/*********************************************************</span></span><br><span class="line"><span class="comment">* Copyright (c) 2019</span></span><br><span class="line"><span class="comment">* All rights reserved.</span></span><br><span class="line"><span class="comment">* </span></span><br><span class="line"><span class="comment">* 文件名称：&lt;#=tempTableName #&gt;.cs</span></span><br><span class="line"><span class="comment">* 摘    要：业务实体&lt;#=tableName#&gt;的对象</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">* 当前版本：1.0.0</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">* 作    者：test</span></span><br><span class="line"><span class="comment">* 完成日期：&lt;#=System.DateTime.Now.ToString(&quot;yyyy年MM月dd日&quot;) #&gt;</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">*********************************************************/</span></span><br><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">Common.Entity</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 业务实体<span class="doctag">&lt;#= tableName #&gt;</span>的对象</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    [<span class="meta">Serializable</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> &lt;#= <span class="title">tempTableName</span>  #&gt;<span class="title">Entity</span>: <span class="title">BaseEntity</span>, <span class="title">ITableInfo</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="meta">#<span class="keyword">region</span> Parameter List</span></span><br><span class="line">&lt;<span class="meta">#</span></span><br><span class="line"><span class="keyword">foreach</span>(DataRow row <span class="keyword">in</span> table.Rows)</span><br><span class="line">&#123;</span><br><span class="line"><span class="meta">#&gt;</span></span><br><span class="line">        <span class="keyword">private</span> &lt;<span class="meta">#= manager.TransFromSqlType(row[&quot;数据类型&quot;].ToString(),row[&quot;整数位&quot;].ToString(),row[&quot;小数位&quot;].ToString())#&gt; &lt;#= row[&quot;字段名&quot;].ToString().ToLower()#&gt; = &lt;#= manager.MapValue(row[&quot;数据类型&quot;].ToString(),row[&quot;整数位&quot;].ToString(),row[&quot;小数位&quot;].ToString()) #&gt;;    //&lt;#= row[&quot;备注&quot;]#&gt;</span></span><br><span class="line"></span><br><span class="line">&lt;<span class="meta">#&#125;</span></span><br><span class="line"><span class="meta">#&gt;</span></span><br><span class="line">        <span class="keyword">private</span> <span class="built_in">string</span> tableName = <span class="string">&quot;&lt;#= tableName #&gt;&quot;</span>;</span><br><span class="line">        <span class="keyword">private</span> <span class="built_in">string</span> tableSchema = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line">        <span class="meta">#<span class="keyword">region</span> Property List</span></span><br><span class="line">&lt;<span class="meta">#</span></span><br><span class="line"><span class="keyword">foreach</span>(DataRow row <span class="keyword">in</span> table.Rows)</span><br><span class="line">&#123;</span><br><span class="line"><span class="meta">#&gt;</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;#=row[&quot;备注&quot;]#&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span>   </span></span><br><span class="line">        <span class="keyword">public</span> &lt;<span class="meta">#= manager.TransFromSqlType(row[&quot;数据类型&quot;].ToString(),row[&quot;整数位&quot;].ToString(),row[&quot;小数位&quot;].ToString())#&gt; &lt;#= manager.FirstCharToUpper(row[&quot;字段名&quot;].ToString())#&gt;</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">get</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> &lt;<span class="meta">#= row[&quot;字段名&quot;].ToString().ToLower() #&gt;;</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">set</span></span><br><span class="line">            &#123;</span><br><span class="line">                &lt;<span class="meta">#= row[&quot;字段名&quot;].ToString().ToLower() #&gt; = value;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">       </span><br><span class="line">&lt;<span class="meta">#&#125;</span></span><br><span class="line"><span class="meta">#&gt;</span></span><br><span class="line">        <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line">        <span class="meta">#<span class="keyword">region</span> ITableInfo Members</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> Database Table Name</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> TableName</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">get</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> tableName;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">set</span></span><br><span class="line">            &#123;</span><br><span class="line">                tableName = <span class="keyword">value</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> Database Table Schema</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> TableSchema</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">get</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> tableSchema;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">set</span></span><br><span class="line">            &#123;</span><br><span class="line">                tableSchema = <span class="keyword">value</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;<span class="meta"># manager2.EndBlock(); #&gt;</span></span><br><span class="line"></span><br><span class="line">&lt;<span class="meta">#</span></span><br><span class="line">    &#125;  </span><br><span class="line"> <span class="meta">#&gt;     </span></span><br><span class="line">   </span><br><span class="line">&lt;<span class="meta"># manager2.Process(true); #&gt;</span></span><br><span class="line"></span><br><span class="line">&lt;<span class="meta">#+</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ModelManager</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 数据库连接字符串</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">       <span class="keyword">private</span> <span class="keyword">const</span> <span class="built_in">string</span> CONNECTION_STRING = <span class="string">&quot;DATA SOURCE=testPRO;USER ID=APP;PASSWORD=APP;&quot;</span>;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 用户信息表名</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">const</span> <span class="built_in">string</span> PERSONINFO_TABLE_NAME = <span class="string">&quot;USERINFO&quot;</span>;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 根据表名查询表结构信息</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">const</span> <span class="built_in">string</span> SELECT_SCHEMA_BY_TABLE_NAME = <span class="string">@&quot;SELECT </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        A.column_name  字段名                                        A.data_type      数据类型,</span></span><br><span class="line"><span class="string">        A.data_length    长度,</span></span><br><span class="line"><span class="string">        A.data_precision 整数位,</span></span><br><span class="line"><span class="string">        A.Data_Scale     小数位,</span></span><br><span class="line"><span class="string">        A.nullable       允许空值,</span></span><br><span class="line"><span class="string">        A.Data_default   缺省值,</span></span><br><span class="line"><span class="string">        B.comments       备注,</span></span><br><span class="line"><span class="string">        A.TABLE_NAME     表名</span></span><br><span class="line"><span class="string">        FROM user_tab_columns A, user_col_comments B </span></span><br><span class="line"><span class="string">        WHERE a.COLUMN_NAME = b.column_name </span></span><br><span class="line"><span class="string">        AND A.Table_Name = B.Table_Name </span></span><br><span class="line"><span class="string">        AND A.Table_Name = &#x27;&#123;0&#125;&#x27;&quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 获得数据连接</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">private</span> OracleConnection <span class="title">GetConnection</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> OracleConnection(CONNECTION_STRING);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 得到当前用户的所有表名</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> List&lt;<span class="built_in">string</span>&gt; <span class="title">GetTableList</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">string</span> sql = <span class="string">&quot;SELECT * FROM USER_TABLES&quot;</span>;</span><br><span class="line">            DataTable dt = OracleHelper.ExecuteDataTable(sql);</span><br><span class="line">            List&lt;<span class="built_in">string</span>&gt; list = <span class="keyword">new</span> List&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">            <span class="keyword">if</span> (dt!=<span class="literal">null</span>&amp;&amp;dt.Rows.Count&gt;<span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; dt.Rows.Count; i++)</span><br><span class="line">                &#123;</span><br><span class="line">                    list.Add(dt.Rows[i][<span class="string">&quot;TABLE_NAME&quot;</span>].ToString());</span><br><span class="line">                &#125; </span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> list;</span><br><span class="line">         &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 释放连接</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;con&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">ReleaseConnection</span>(<span class="params">OracleConnection con</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (con != <span class="literal">null</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (con.State == ConnectionState.Open)</span><br><span class="line">                &#123;</span><br><span class="line">                    con.Close();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> DataTable <span class="title">GetTableSchema</span>(<span class="params"><span class="built_in">string</span> tableName</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            DataTable dt;</span><br><span class="line">            <span class="keyword">using</span> (OracleConnection con = GetConnection())</span><br><span class="line">            &#123;</span><br><span class="line">                con.Open();</span><br><span class="line">                OracleCommand cmd = con.CreateCommand();</span><br><span class="line">                cmd.CommandText = <span class="built_in">string</span>.Format(SELECT_SCHEMA_BY_TABLE_NAME,tableName);</span><br><span class="line">                cmd.CommandType = CommandType.Text;</span><br><span class="line">                OracleDataAdapter adapter = <span class="keyword">new</span> OracleDataAdapter(cmd);</span><br><span class="line">                DataSet ds = <span class="keyword">new</span> DataSet(); </span><br><span class="line">                adapter.Fill(ds);</span><br><span class="line">                dt = ds.Tables[<span class="number">0</span>];</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> dt;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="built_in">string</span> <span class="title">FirstCharToUpper</span>(<span class="params"><span class="built_in">string</span> input</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (String.IsNullOrEmpty(input))</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentException(<span class="string">&quot;ARGH!&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span> input.First().ToString().ToUpper() + input.Substring(<span class="number">1</span>).ToLower();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="built_in">string</span> <span class="title">MapValue</span>(<span class="params"><span class="built_in">string</span> type, <span class="built_in">string</span> number, <span class="built_in">string</span> small</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">string</span> dataType = TransFromSqlType(type, number, small);</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">string</span>.Equals(dataType, <span class="string">&quot;string&quot;</span>, StringComparison.OrdinalIgnoreCase))</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="string">&quot;null&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> dataType + <span class="string">&quot;.MinValue&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> SQL[不完善,需要的自己改造]</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;type&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="built_in">string</span> <span class="title">TransFromSqlType</span>(<span class="params"><span class="built_in">string</span> type, <span class="built_in">string</span> number, <span class="built_in">string</span> small</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">string</span>.IsNullOrEmpty(type))</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="built_in">string</span>.Empty;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">string</span>.Equals(type, <span class="string">&quot;number&quot;</span>, StringComparison.OrdinalIgnoreCase))</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (!<span class="built_in">string</span>.IsNullOrEmpty(number))</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span> (!<span class="built_in">string</span>.IsNullOrEmpty(small) &amp;&amp; <span class="built_in">int</span>.Parse(small) &gt; <span class="number">0</span>)</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="keyword">return</span> <span class="string">&quot;decimal&quot;</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span> (<span class="built_in">int</span>.Parse(number) &gt;= <span class="number">10</span> &amp;&amp; (<span class="built_in">string</span>.IsNullOrEmpty(small) || (!<span class="built_in">string</span>.IsNullOrEmpty(small)&amp;&amp;<span class="built_in">int</span>.Parse(small)==<span class="number">0</span>)))</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="keyword">return</span> <span class="string">&quot;Int64&quot;</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">int</span>.Parse(number) &lt; <span class="number">10</span> &amp;&amp; (<span class="built_in">string</span>.IsNullOrEmpty(small) || (!<span class="built_in">string</span>.IsNullOrEmpty(small) &amp;&amp; <span class="built_in">int</span>.Parse(small) == <span class="number">0</span>)))</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="keyword">return</span> <span class="string">&quot;Int32&quot;</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                   </span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="string">&quot;Int32&quot;</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">string</span>.Equals(type, <span class="string">&quot;date&quot;</span>, StringComparison.OrdinalIgnoreCase))</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="string">&quot;DateTime&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">string</span>.Equals(type, <span class="string">&quot;nvarchar2&quot;</span>, StringComparison.OrdinalIgnoreCase) || <span class="built_in">string</span>.Equals(type, <span class="string">&quot;char&quot;</span>, StringComparison.OrdinalIgnoreCase))</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="string">&quot;string&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;string&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"><span class="meta">#&gt;</span></span><br><span class="line"></span><br><span class="line">&lt;<span class="meta">#+ </span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">OracleHelper</span></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="built_in">string</span> oracleConnectionStr = <span class="string">&quot;DATA SOURCE=testPRO;USER ID=APP;PASSWORD=APP;&quot;</span>;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> DataTable <span class="title">ExecuteDataTable</span>(<span class="params"><span class="built_in">string</span> sql, <span class="keyword">params</span> OracleParameter[] paramList</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">using</span> (OracleConnection conn = <span class="keyword">new</span> OracleConnection(oracleConnectionStr))</span><br><span class="line">            &#123;</span><br><span class="line">                conn.Open();</span><br><span class="line">                <span class="keyword">using</span> (OracleCommand command = conn.CreateCommand())</span><br><span class="line">                &#123;</span><br><span class="line">                    command.CommandText = sql;</span><br><span class="line">                    command.Parameters.AddRange(paramList);</span><br><span class="line">                    DataTable dt = <span class="keyword">new</span> DataTable();</span><br><span class="line">                    OracleDataAdapter adapter = <span class="keyword">new</span> OracleDataAdapter(command);</span><br><span class="line">                    adapter.Fill(dt);</span><br><span class="line">                    <span class="keyword">return</span> dt;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">int</span> <span class="title">ExecuteNonQuery</span>(<span class="params"><span class="built_in">string</span> sql, <span class="keyword">params</span> OracleParameter[] paramList</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">using</span> (OracleConnection conn = <span class="keyword">new</span> OracleConnection(oracleConnectionStr))</span><br><span class="line">            &#123;</span><br><span class="line">                conn.Open();</span><br><span class="line">                <span class="keyword">using</span> (OracleCommand command = conn.CreateCommand())</span><br><span class="line">                &#123;</span><br><span class="line">                    command.CommandText = sql;</span><br><span class="line">                    command.Parameters.AddRange(paramList);</span><br><span class="line">                    <span class="keyword">return</span> command.ExecuteNonQuery();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">object</span> <span class="title">ExecuteScalar</span>(<span class="params"><span class="built_in">string</span> sql, <span class="keyword">params</span> OracleParameter[] paramList</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">using</span> (OracleConnection conn = <span class="keyword">new</span> OracleConnection(oracleConnectionStr))</span><br><span class="line">            &#123;</span><br><span class="line">                conn.Open();</span><br><span class="line">                <span class="keyword">using</span> (OracleCommand command = conn.CreateCommand())</span><br><span class="line">                &#123;</span><br><span class="line">                    command.CommandText = sql;</span><br><span class="line">                    command.Parameters.AddRange(paramList);</span><br><span class="line">                    <span class="keyword">return</span> command.ExecuteScalar();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"> <span class="meta">#&gt;</span></span><br></pre></td></tr></table></figure><p>生成文件如下图<br><img src="/images/2019120910561601.png" alt="2019120910561601.png"></p><h2 id="T4模板语法"><a href="#T4模板语法" class="headerlink" title="T4模板语法"></a>T4模板语法</h2><p>　主要分为 1指令 2文本块 3指令块</p><p>  &lt;# 标准控制块 #&gt; 可以包含语句。<br>  &lt;#&#x3D; 表达式控制块 #&gt; 可以包含表达式。<br>  &lt;#+ 类功能控制块 #&gt; 可以包含方法、字段和属性，就像一个类的内部</p><p>　　1 指令</p><p>　　主要包括template, output, assembly, import, include等类型</p><p>　　$(SolutionDir):当前项目所在解决方案目录<br>　　$(ProjectDir):当前项目所在目录<br>　　$(TargetPath):当前项目编译输出文件绝对路径<br>　　$(TargetDir):当前项目编译输出目录，即web项目的Bin目录，控制台、类库项目bin目录下的debug或release目录(取决于当前的编译模式)</p><p>　　2 文本块</p><p>　　文本块直接向输出文件插入文本。 文本块没有特殊格式，就像我们刚才初体验中写的类一样。</p><p>　　3 指令块</p><p>　　标准控制块：</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="meta">#</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line"><span class="meta">#&gt;</span></span><br><span class="line">Hello World!</span><br><span class="line">&lt;<span class="meta">#</span></span><br><span class="line">    &#125; </span><br><span class="line"><span class="meta">#&gt;</span></span><br></pre></td></tr></table></figure><p>表达式控制块：</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="meta">#</span></span><br><span class="line">    XmlDocument xDoc = <span class="keyword">new</span> XmlDocument();</span><br><span class="line">    xDoc.Load(<span class="string">@&quot;E:\CSharp\Overview.xml&quot;</span>);</span><br><span class="line">    XmlAttributeCollection attributes = xDoc.Attributes;</span><br><span class="line">    <span class="keyword">if</span> (attributes != <span class="literal">null</span>)</span><br><span class="line">    &#123;</span><br><span class="line">       <span class="keyword">foreach</span> (XmlAttribute attr <span class="keyword">in</span> attributes)</span><br><span class="line">       &#123;</span><br><span class="line"><span class="meta">#&gt;&lt;#= attr.Name #&gt;&lt;#</span></span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="meta">#&gt;</span></span><br></pre></td></tr></table></figure><p>类功能控制块：</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="meta">#+ </span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">OracleHelper</span></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="built_in">string</span> oracleConnectionStr = <span class="string">&quot;DATA SOURCE=testPRO;USER ID=APP;PASSWORD=APP;&quot;</span>;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> DataTable <span class="title">ExecuteDataTable</span>(<span class="params"><span class="built_in">string</span> sql, <span class="keyword">params</span> OracleParameter[] paramList</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">using</span> (OracleConnection conn = <span class="keyword">new</span> OracleConnection(oracleConnectionStr))</span><br><span class="line">            &#123;</span><br><span class="line">                conn.Open();</span><br><span class="line">                <span class="keyword">using</span> (OracleCommand command = conn.CreateCommand())</span><br><span class="line">                &#123;</span><br><span class="line">                    command.CommandText = sql;</span><br><span class="line">                    command.Parameters.AddRange(paramList);</span><br><span class="line">                    DataTable dt = <span class="keyword">new</span> DataTable();</span><br><span class="line">                    OracleDataAdapter adapter = <span class="keyword">new</span> OracleDataAdapter(command);</span><br><span class="line">                    adapter.Fill(dt);</span><br><span class="line">                    <span class="keyword">return</span> dt;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">int</span> <span class="title">ExecuteNonQuery</span>(<span class="params"><span class="built_in">string</span> sql, <span class="keyword">params</span> OracleParameter[] paramList</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">using</span> (OracleConnection conn = <span class="keyword">new</span> OracleConnection(oracleConnectionStr))</span><br><span class="line">            &#123;</span><br><span class="line">                conn.Open();</span><br><span class="line">                <span class="keyword">using</span> (OracleCommand command = conn.CreateCommand())</span><br><span class="line">                &#123;</span><br><span class="line">                    command.CommandText = sql;</span><br><span class="line">                    command.Parameters.AddRange(paramList);</span><br><span class="line">                    <span class="keyword">return</span> command.ExecuteNonQuery();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">object</span> <span class="title">ExecuteScalar</span>(<span class="params"><span class="built_in">string</span> sql, <span class="keyword">params</span> OracleParameter[] paramList</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">using</span> (OracleConnection conn = <span class="keyword">new</span> OracleConnection(oracleConnectionStr))</span><br><span class="line">            &#123;</span><br><span class="line">                conn.Open();</span><br><span class="line">                <span class="keyword">using</span> (OracleCommand command = conn.CreateCommand())</span><br><span class="line">                &#123;</span><br><span class="line">                    command.CommandText = sql;</span><br><span class="line">                    command.Parameters.AddRange(paramList);</span><br><span class="line">                    <span class="keyword">return</span> command.ExecuteScalar();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"> <span class="meta">#&gt;</span></span><br></pre></td></tr></table></figure><p>更多的T4模板语法参考 <a href="https://docs.microsoft.com/zh-cn/visualstudio/modeling/code-generation-and-t4-text-templates?view=vs-2015">https://docs.microsoft.com/zh-cn/visualstudio/modeling/code-generation-and-t4-text-templates?view=vs-2015</a></p><p>参考：<a href="https://www.cnblogs.com/fenglingyi/p/5927082.html">https://www.cnblogs.com/fenglingyi/p/5927082.html</a></p><p>　　　<a href="https://www.cnblogs.com/maiaimei/p/8994552.html">https://www.cnblogs.com/maiaimei/p/8994552.html</a></p>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C# UrlEncode 编码</title>
      <link href="/2019/11/26/urlencode-bian-ma/"/>
      <url>/2019/11/26/urlencode-bian-ma/</url>
      
        <content type="html"><![CDATA[<p>在开发中遇见一个将文件流转换为Base64码，这个码中有特殊字符需要处理，然后选择用</p><p>HttpUtility.UrlEncode进行编码</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">HttpUtility.UrlEncode(text);  <span class="comment">//utf-8 编码</span></span><br><span class="line">HttpUtility.UrlDecode(text);  <span class="comment">//utf-8 解码</span></span><br><span class="line">HttpUtility.UrlEncode(text, System.Text.Encoding.GetEncoding(<span class="number">936</span>));  <span class="comment">//gb2312编码</span></span><br><span class="line">HttpUtility.UrlDecode(text, System.Text.Encoding.GetEncoding(<span class="number">936</span>));  <span class="comment">//gb2312解码</span></span><br></pre></td></tr></table></figure><p>后来查找文章发现这个方法会将空格转换为+</p><p>这是就需要将+替换为空格对应的ASCII码（%20）</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fileStream = HttpUtility.UrlEncode(fileStream); </span><br><span class="line">fileStream = fileStream (<span class="string">&quot;+&quot;</span>, <span class="string">&quot;%20&quot;</span>); </span><br></pre></td></tr></table></figure><p> js的转码可以查看文章 <a href="https://www.cnblogs.com/ZJ199012/p/7356753.html">https://www.cnblogs.com/ZJ199012/p/7356753.html</a></p><p>参考 <a href="https://www.cnblogs.com/luckyuns/p/6396792.html">https://www.cnblogs.com/luckyuns/p/6396792.html</a></p>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PLSQL快速生成增删改查语句</title>
      <link href="/2019/11/26/plsql-kuai-su-sheng-cheng-zeng-shan-gai-cha-yu-ju/"/>
      <url>/2019/11/26/plsql-kuai-su-sheng-cheng-zeng-shan-gai-cha-yu-ju/</url>
      
        <content type="html"><![CDATA[<ol><li>在PLSQL中新建一个SQL Windows<br><img src="/images/2019112614270701.png" alt="2019112614270701.png"></li><li>鼠标左键选中表名往SQL Windows中拖，会出现一个菜单<br><img src="/images/2019112614270702.png" alt="2019112614270702.png"></li></ol>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Oracle 检查星期只能是1-7的数字不能重复</title>
      <link href="/2019/11/26/oracle-jian-cha-xing-qi-zhi-neng-shi-1-7-de-shu-zi-bu-neng-chong-fu/"/>
      <url>/2019/11/26/oracle-jian-cha-xing-qi-zhi-neng-shi-1-7-de-shu-zi-bu-neng-chong-fu/</url>
      
        <content type="html"><![CDATA[<ol><li>利用Oracle的REGEXP_INSTR匹配数字</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> REGEXP_INSTR (<span class="string">&#x27;1357&#x27;</span>, <span class="string">&#x27;^[1-7]&#123;1,7&#125;$&#x27;</span>) <span class="keyword">into</span> n_Count <span class="keyword">from</span> dual;</span><br></pre></td></tr></table></figure><ol start="2"><li>循环查找是否存在重复的数字</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">1.</span>.length(i_vc_Week) loop</span><br><span class="line">   v_findStr:<span class="operator">=</span>substr(i_vc_Week,i,<span class="number">1</span>);</span><br><span class="line">   if nvl(instr(i_vc_Week,v_findStr,(i<span class="operator">+</span><span class="number">1</span>)),<span class="number">0</span>)<span class="operator">&gt;</span><span class="number">0</span> <span class="keyword">then</span></span><br><span class="line">     <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">   <span class="keyword">end</span> if;</span><br><span class="line"><span class="keyword">end</span> loop;</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">FUNCTION</span> P_SR_CheckWeekLegal(i_vc_Week varchar2)</span><br><span class="line">  <span class="keyword">return</span> <span class="type">integer</span></span><br><span class="line">  <span class="keyword">IS</span></span><br><span class="line">     n_Count <span class="type">integer</span>;</span><br><span class="line">     v_findStr varchar2(<span class="number">1</span>);</span><br><span class="line">  <span class="keyword">BEGIN</span></span><br><span class="line">   n_Count:<span class="operator">=</span><span class="number">0</span>;</span><br><span class="line">   <span class="keyword">select</span> REGEXP_INSTR (i_vc_Week, <span class="string">&#x27;^[1-7]&#123;1,7&#125;$&#x27;</span>) <span class="keyword">into</span> n_Count <span class="keyword">from</span> dual;</span><br><span class="line">   if n_Count<span class="operator">=</span><span class="number">0</span> <span class="keyword">then</span></span><br><span class="line">     <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">   <span class="keyword">end</span> if;</span><br><span class="line">   <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">1.</span>.length(i_vc_Week) loop</span><br><span class="line">      v_findStr:<span class="operator">=</span>substr(i_vc_Week,i,<span class="number">1</span>);</span><br><span class="line">      if nvl(instr(i_vc_Week,v_findStr,(i<span class="operator">+</span><span class="number">1</span>)),<span class="number">0</span>)<span class="operator">&gt;</span><span class="number">0</span> <span class="keyword">then</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">      <span class="keyword">end</span> if;</span><br><span class="line">   <span class="keyword">end</span> loop;</span><br><span class="line">       <span class="keyword">return</span> n_Count;</span><br><span class="line">  <span class="keyword">END</span>;</span><br></pre></td></tr></table></figure><p>参考 <a href="https://docs.oracle.com/database/121/SQLRF/functions162.">https://docs.oracle.com/database/121/SQLRF/functions162.</a>htm#SQLRF06300</p>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PLSQL 插入数据无响应</title>
      <link href="/2019/11/26/plsql-cha-ru-shu-ju-wu-xiang-ying/"/>
      <url>/2019/11/26/plsql-cha-ru-shu-ju-wu-xiang-ying/</url>
      
        <content type="html"><![CDATA[<p>插入数据一直没有成功，可能是该条记录被锁住了</p><ol><li>查询锁定记录</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> s.sid, s.serial# <span class="keyword">FROM</span> v$locked_object lo, dba_objects ao, v$session s </span><br><span class="line"><span class="keyword">WHERE</span> ao.object_id <span class="operator">=</span> lo.object_id <span class="keyword">AND</span> lo.session_id <span class="operator">=</span> s.sid;</span><br></pre></td></tr></table></figure><ol start="2"><li>删除</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">system</span> KILL session <span class="string">&#x27;SID,serial&#x27;</span></span><br></pre></td></tr></table></figure><p>参考 <a href="https://blog.csdn.net/xujiangdong1992/article/details/70766419">https://blog.csdn.net/xujiangdong1992/article/details/70766419</a></p>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C# DataTable 排序</title>
      <link href="/2019/11/25/csharp-datatable-pai-xu/"/>
      <url>/2019/11/25/csharp-datatable-pai-xu/</url>
      
        <content type="html"><![CDATA[<p>使用DataTable的DefaultView中Sort方法排序，如果遇见数字类型就会有问题<br><img src="/images/2019112513381801.png" alt="2019112513381801.png"></p><ol><li>补齐年龄位数（不建议）</li></ol><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">region</span> 补齐年龄位数，然后排序</span></span><br><span class="line"><span class="keyword">foreach</span> (DataRow item <span class="keyword">in</span> dt.Rows)</span><br><span class="line">&#123;</span><br><span class="line">    item[<span class="string">&quot;Age&quot;</span>] = item[<span class="string">&quot;Age&quot;</span>].ToString().PadLeft(<span class="number">2</span>, <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line">dt.DefaultView.Sort = <span class="string">&quot;Age ASC&quot;</span>;</span><br><span class="line">dt = dt.DefaultView.ToTable();</span><br><span class="line"><span class="meta">#<span class="keyword">endregion</span></span></span><br></pre></td></tr></table></figure><ol start="2"><li>增加一列，判断年龄长度然后排序</li></ol><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">region</span> 增加一列，判断年龄长度然后排序</span></span><br><span class="line">dt.Columns.Add(<span class="string">&quot;AgeLength&quot;</span>, <span class="keyword">typeof</span>(<span class="built_in">int</span>), <span class="string">&quot;len(Age)&quot;</span>);</span><br><span class="line">dt.DefaultView.Sort = <span class="string">&quot;AgeLength,Age ASC&quot;</span>;</span><br><span class="line">dt = dt.DefaultView.ToTable();</span><br><span class="line"><span class="meta">#<span class="keyword">endregion</span> </span></span><br></pre></td></tr></table></figure><ol start="3"><li>克隆表结构，将年龄列数据类型修改为数字类型</li></ol><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">region</span> 克隆表结构，将年龄列数据类型修改为数字类型</span></span><br><span class="line">DataTable dtNew = dt.Clone();</span><br><span class="line">dtNew.Columns[<span class="number">1</span>].DataType = <span class="keyword">typeof</span>(<span class="built_in">int</span>);</span><br><span class="line"><span class="keyword">foreach</span> (DataRow item <span class="keyword">in</span> dt.Rows)</span><br><span class="line">&#123;</span><br><span class="line">    dtNew.ImportRow(item);</span><br><span class="line">&#125;</span><br><span class="line">dtNew.DefaultView.Sort = <span class="string">&quot;Age ASC&quot;</span>;</span><br><span class="line">dtNew = dtNew.DefaultView.ToTable();</span><br><span class="line"><span class="meta">#<span class="keyword">endregion</span></span></span><br></pre></td></tr></table></figure><ol start="4"><li>利用linq将dataTable转换为集合，然后排序</li></ol><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">region</span> 利用linq将dataTable转换为集合，然后排序</span></span><br><span class="line">dt = dt.Rows.Cast&lt;DataRow&gt;().OrderBy(r =&gt; <span class="built_in">int</span>.Parse(r[<span class="string">&quot;Age&quot;</span>].ToString())).CopyToDataTable();</span><br><span class="line"><span class="meta">#<span class="keyword">endregion</span></span></span><br></pre></td></tr></table></figure><p>参考 <a href="https://www.jb51.net/article/43343.htm">https://www.jb51.net/article/43343.htm</a></p>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C# 获取程序集信息</title>
      <link href="/2019/11/25/csharp-huo-qu-cheng-xu-ji-xin-xi/"/>
      <url>/2019/11/25/csharp-huo-qu-cheng-xu-ji-xin-xi/</url>
      
        <content type="html"><![CDATA[<p>在C#的程序中都会有AssemblyInfo.cs文件，该文件中包含着程序的一些信息</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Reflection;</span><br><span class="line"><span class="keyword">using</span> System.Runtime.CompilerServices;</span><br><span class="line"><span class="keyword">using</span> System.Runtime.InteropServices;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 有关程序集的常规信息通过以下</span></span><br><span class="line"><span class="comment">// 特性集控制。更改这些特性值可修改</span></span><br><span class="line"><span class="comment">// 与程序集关联的信息。</span></span><br><span class="line">[<span class="meta">assembly: AssemblyTitle(<span class="string">&quot;ConsoleApplication1&quot;</span>)</span>]</span><br><span class="line">[<span class="meta">assembly: AssemblyDescription(<span class="string">&quot;测试&quot;</span>)</span>]</span><br><span class="line">[<span class="meta">assembly: AssemblyConfiguration(<span class="string">&quot;&quot;</span>)</span>]</span><br><span class="line">[<span class="meta">assembly: AssemblyCompany(<span class="string">&quot;Microsoft&quot;</span>)</span>]</span><br><span class="line">[<span class="meta">assembly: AssemblyProduct(<span class="string">&quot;ConsoleApplication1&quot;</span>)</span>]</span><br><span class="line">[<span class="meta">assembly: AssemblyCopyright(<span class="string">&quot;Copyright © Microsoft 2019&quot;</span>)</span>]</span><br><span class="line">[<span class="meta">assembly: AssemblyTrademark(<span class="string">&quot;&quot;</span>)</span>]</span><br><span class="line">[<span class="meta">assembly: AssemblyCulture(<span class="string">&quot;&quot;</span>)</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// 将 ComVisible 设置为 false 使此程序集中的类型</span></span><br><span class="line"><span class="comment">// 对 COM 组件不可见。如果需要从 COM 访问此程序集中的类型，</span></span><br><span class="line"><span class="comment">// 则将该类型上的 ComVisible 特性设置为 true。</span></span><br><span class="line">[<span class="meta">assembly: ComVisible(false)</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// 如果此项目向 COM 公开，则下列 GUID 用于类型库的 ID</span></span><br><span class="line">[<span class="meta">assembly: Guid(<span class="string">&quot;8b945092-ddb6-4163-943b-1b36e99475d3&quot;</span>)</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// 程序集的版本信息由下面四个值组成:</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//      主版本</span></span><br><span class="line"><span class="comment">//      次版本 </span></span><br><span class="line"><span class="comment">//      内部版本号</span></span><br><span class="line"><span class="comment">//      修订号</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// 可以指定所有这些值，也可以使用“内部版本号”和“修订号”的默认值，</span></span><br><span class="line"><span class="comment">// 方法是按如下所示使用“*”:</span></span><br><span class="line"><span class="comment">// [assembly: AssemblyVersion(&quot;1.0.*&quot;)]</span></span><br><span class="line">[<span class="meta">assembly: AssemblyVersion(<span class="string">&quot;1.2.5.0&quot;</span>)</span>]</span><br><span class="line">[<span class="meta">assembly: AssemblyFileVersion(<span class="string">&quot;1.0.5.0&quot;</span>)</span>]</span><br></pre></td></tr></table></figure><p>如何获取程序集中的一些信息呢</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">AssemblyInfos</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 获取程序集标题</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">string</span> <span class="title">GetAssemblyTitle</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">object</span>[] attributes = Assembly.GetExecutingAssembly().GetCustomAttributes(<span class="keyword">typeof</span>(AssemblyTitleAttribute), <span class="literal">false</span>);</span><br><span class="line">        <span class="keyword">if</span> (attributes.Length &gt; <span class="number">0</span>)</span><br><span class="line">        &#123; </span><br><span class="line">            AssemblyTitleAttribute title = (AssemblyTitleAttribute)attributes[<span class="number">0</span>];</span><br><span class="line">            <span class="keyword">if</span> (!<span class="built_in">string</span>.IsNullOrEmpty(title.Title))</span><br><span class="line">                <span class="keyword">return</span> title.Title;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> Path.GetFileNameWithoutExtension(Assembly.GetExecutingAssembly().CodeBase);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 获取程序集版本</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">string</span> <span class="title">GetAssemblyVersion</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> Assembly.GetExecutingAssembly().GetName().Version.ToString();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 获取程序集描述说明</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">string</span> <span class="title">GetAssemblyDescription</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">object</span>[] attributes = Assembly.GetExecutingAssembly().GetCustomAttributes(<span class="keyword">typeof</span>(AssemblyDescriptionAttribute), <span class="literal">false</span>);</span><br><span class="line">        <span class="keyword">if</span> (attributes.Length == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ((AssemblyDescriptionAttribute)attributes[<span class="number">0</span>]).Description;</span><br><span class="line">    &#125;</span><br><span class="line">   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>还有许多的自定义消息，都和获取程序集描述说明类似<br><img src="/images/2019112509341401.png" alt="2019112509341401.png"></p><p>获取AssemblyFileVersion可以直接通过Application.ProductVersion获取版本<br>还可以通过Application.ProductName获取AssemblyProduct信息</p><p>参考：,<a href="https://blog.csdn.net/zhaoyuqings/article/details/77480727%3E">https://blog.csdn.net/zhaoyuqings/article/details/77480727&gt;</a></p>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C# 调用WinRAR解压缩文件</title>
      <link href="/2019/11/22/csharp-diao-yong-winrar-jie-ya-suo-wen-jian/"/>
      <url>/2019/11/22/csharp-diao-yong-winrar-jie-ya-suo-wen-jian/</url>
      
        <content type="html"><![CDATA[<p>在项目中有可能会用到解压缩，代码如下</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">CompressHelper</span></span><br><span class="line">&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 压缩</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;sourceFilePath&quot;&gt;</span>源文件路径<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;sourceName&quot;&gt;</span>源文件名称<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;compressName&quot;&gt;</span>压缩文件名<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;compressPath&quot;&gt;</span>压缩文件路径<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">bool</span> <span class="title">CompressFile</span>(<span class="params"><span class="built_in">string</span> sourceFilePath, <span class="built_in">string</span> sourceName, <span class="built_in">string</span> compressName, <span class="built_in">string</span> compressPath</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">string</span> winrarPath = <span class="built_in">string</span>.Empty;</span><br><span class="line">        <span class="keyword">if</span> (!ExistsCompressApp(<span class="keyword">out</span> winrarPath))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">string</span>.IsNullOrEmpty(compressPath))</span><br><span class="line">        &#123;</span><br><span class="line">            compressPath = sourceFilePath;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">string</span> type = compressName.Substring(compressName.IndexOf(<span class="string">&#x27;.&#x27;</span>) + <span class="number">1</span>);</span><br><span class="line">        <span class="built_in">string</span> compressType = <span class="built_in">string</span>.Empty;</span><br><span class="line">        <span class="keyword">if</span> (type.ToUpper() == CompressType.RAR.ToString())</span><br><span class="line">        &#123;</span><br><span class="line">            compressType = <span class="string">&quot;-af&quot;</span> + CompressType.RAR.ToString().ToLower();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (type.ToUpper() == CompressType.ZIP.ToString())</span><br><span class="line">        &#123;</span><br><span class="line">            compressType = <span class="string">&quot;-af&quot;</span> + CompressType.ZIP.ToString().ToLower();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            compressType = <span class="string">&quot;-af&quot;</span> + CompressType.RAR.ToString().ToLower();</span><br><span class="line">            compressName = compressName + <span class="string">&quot;.&quot;</span> + CompressType.RAR.ToString().ToLower();</span><br><span class="line">        &#125;</span><br><span class="line">        CreateFolder(compressPath);</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * &lt;命令&gt; -&lt;开关1&gt; -&lt;开关N&gt; &lt;压缩文件 &gt; &lt;文件...&gt; &lt;@列表文件...&gt; &lt;解压路径\&gt; </span></span><br><span class="line"><span class="comment">         * 压缩 a      a -ep -o+ -df d:\test.rar d:\test.jpg</span></span><br><span class="line"><span class="comment">         * 压缩 -ep（排除文件名的路径） -o+（覆盖全部文件 (更新压缩文件时的默认值)）</span></span><br><span class="line"><span class="comment">         *      -df（压缩后删除源文件）-afrar（-AF&lt;类型&gt; - 指定压缩文件格式）</span></span><br><span class="line"><span class="comment">         * */</span></span><br><span class="line">        <span class="built_in">string</span> cmd = <span class="built_in">string</span>.Format(<span class="string">@&quot; a -ep -o+ &#123;2&#125; -df &#123;0&#125; &#123;1&#125;&quot;</span>, Path.Combine(compressPath, compressName), Path.Combine(sourceFilePath, sourceName), compressType);</span><br><span class="line">        <span class="keyword">return</span> StartProcess(winrarPath, cmd);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 解压</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;unCompressPath&quot;&gt;</span>解压文件路径<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;unCompressName&quot;&gt;</span>解压文件名<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;filePath&quot;&gt;</span>解压后文件路径<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">bool</span> <span class="title">UnCompressFile</span>(<span class="params"><span class="built_in">string</span> unCompressPath, <span class="built_in">string</span> unCompressName, <span class="built_in">string</span> filePath</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">string</span> winrarPath = <span class="built_in">string</span>.Empty;</span><br><span class="line">        <span class="keyword">if</span> (!ExistsCompressApp(<span class="keyword">out</span> winrarPath))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">string</span>.IsNullOrEmpty(filePath))</span><br><span class="line">        &#123;</span><br><span class="line">            filePath = unCompressPath;</span><br><span class="line">        &#125;</span><br><span class="line">        CreateFolder(filePath);</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * &lt;命令&gt; -&lt;开关1&gt; -&lt;开关N&gt; &lt;压缩文件 &gt; &lt;文件...&gt; &lt;@列表文件...&gt; &lt;解压路径\&gt; </span></span><br><span class="line"><span class="comment">         * 解压 x      x -ibck -inul -y -mt5 d:\test.rar d:\test</span></span><br><span class="line"><span class="comment">         * 解压 -ibck(在后台执行 WinRAR) -inul(禁用错误信息)  -y(所有问题的默认值为“是”)</span></span><br><span class="line"><span class="comment">         *      -mt5(设置线程数量)</span></span><br><span class="line"><span class="comment">         * */</span></span><br><span class="line">        <span class="built_in">string</span> cmd = <span class="built_in">string</span>.Format(<span class="string">@&quot; x -ibck -inul -y -mt5 &#123;0&#125; &#123;1&#125;&quot;</span>, Path.Combine(unCompressPath, unCompressName), filePath);</span><br><span class="line">        <span class="keyword">return</span> StartProcess(winrarPath, cmd);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 判断是否安装了压缩软件</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;winrarPath&quot;&gt;</span>软件安装路径<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="built_in">bool</span> <span class="title">ExistsCompressApp</span>(<span class="params"><span class="keyword">out</span> <span class="built_in">string</span> winrarPath</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        winrarPath = <span class="built_in">string</span>.Empty;</span><br><span class="line">        <span class="comment">//通过注册表找到WinRAR软件</span></span><br><span class="line">        RegistryKey key = Registry.LocalMachine.OpenSubKey(<span class="string">@&quot;SOFTWARE\Microsoft\Windows\CurrentVersion\App Paths\WinRAR.exe&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (key == <span class="literal">null</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        winrarPath = key.GetValue(<span class="string">&quot;&quot;</span>).ToString();<span class="comment">//获取winrar软件安装路径</span></span><br><span class="line">        key.Close(); <span class="comment">//关闭注册表</span></span><br><span class="line">        <span class="keyword">return</span> !<span class="built_in">string</span>.IsNullOrEmpty(winrarPath);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 执行压缩操作</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;exePath&quot;&gt;</span>WinRAR路径<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;exeArg&quot;&gt;</span>WinRAR参数<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;isHide&quot;&gt;</span>是否显示窗体<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="built_in">bool</span> <span class="title">StartProcess</span>(<span class="params"><span class="built_in">string</span> exePath, <span class="built_in">string</span> exeArg, <span class="built_in">bool</span> isHide = <span class="literal">false</span></span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Process p = <span class="keyword">new</span> Process();</span><br><span class="line">        p.StartInfo.FileName = exePath;</span><br><span class="line">        p.StartInfo.Arguments = exeArg;</span><br><span class="line">        <span class="keyword">if</span> (isHide)</span><br><span class="line">        &#123;</span><br><span class="line">            p.StartInfo.WindowStyle = ProcessWindowStyle.Hidden;</span><br><span class="line">            p.StartInfo.CreateNoWindow = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            p.StartInfo.WindowStyle = ProcessWindowStyle.Normal;</span><br><span class="line">            p.StartInfo.CreateNoWindow = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        p.Start();</span><br><span class="line">        <span class="built_in">int</span> idx = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (!p.HasExited)</span><br><span class="line">        &#123;</span><br><span class="line">            idx++;</span><br><span class="line">            p.WaitForExit(<span class="number">1000</span>);</span><br><span class="line">            <span class="keyword">if</span> (idx == <span class="number">50</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                p.Kill();</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        p.Close();</span><br><span class="line">        p.Dispose();</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 判断文件夹是否存在</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;path&quot;&gt;</span>路径<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">CreateFolder</span>(<span class="params"><span class="built_in">string</span> path</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (!File.Exists(path))</span><br><span class="line">        &#123;</span><br><span class="line">            Directory.CreateDirectory(path);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 压缩类型</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="keyword">public</span> <span class="built_in">enum</span> CompressType</span><br><span class="line">&#123; </span><br><span class="line">    RAR,</span><br><span class="line">    ZIP</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>具体的命令可以参考winrar的帮助文档</p><p><img src="/images/2019112109411101.png" alt="2019112109411101.png"></p><p>参考 <a href="https://www.cnblogs.com/zhoub/p/3841276.html">https://www.cnblogs.com/zhoub/p/3841276.html</a></p>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>DataTable 获取一列最大值并修改</title>
      <link href="/2019/11/11/datatable-huo-qu-yi-lie-zui-da-zhi-bing-xiu-gai/"/>
      <url>/2019/11/11/datatable-huo-qu-yi-lie-zui-da-zhi-bing-xiu-gai/</url>
      
        <content type="html"><![CDATA[<p>DataTable中获取分数的最大值</p><ol><li>创建DataTable并赋值</li></ol><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">DataTable dt = <span class="keyword">new</span> DataTable();</span><br><span class="line">dt.Columns.Add(<span class="string">&quot;ID&quot;</span>, <span class="keyword">typeof</span>(<span class="built_in">int</span>));</span><br><span class="line">dt.Columns.Add(<span class="string">&quot;Name&quot;</span>, <span class="keyword">typeof</span>(<span class="built_in">string</span>));</span><br><span class="line">dt.Columns.Add(<span class="string">&quot;Score&quot;</span>, <span class="keyword">typeof</span>(<span class="built_in">double</span>));</span><br><span class="line"><span class="comment">//设置datable主键列</span></span><br><span class="line">dt.PrimaryKey = <span class="keyword">new</span> DataColumn[] &#123; dt.Columns[<span class="string">&quot;ID&quot;</span>] &#125;;</span><br><span class="line"><span class="meta">#<span class="keyword">region</span> 添加数据</span></span><br><span class="line">DataRow dr = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">    dr = dt.NewRow();</span><br><span class="line">    dr[<span class="string">&quot;ID&quot;</span>] = <span class="number">100</span> + i.ToString();</span><br><span class="line">    dr[<span class="string">&quot;Name&quot;</span>] = <span class="string">&quot;Name&quot;</span> + i.ToString();</span><br><span class="line">    dr[<span class="string">&quot;Score&quot;</span>] = (i + <span class="number">1</span>) * <span class="number">30</span>;</span><br><span class="line">    dt.Rows.Add(dr);</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="keyword">endregion</span></span></span><br></pre></td></tr></table></figure><ol start="2"><li>找出DataTable中分数的最大值</li></ol><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">double</span> maxScore = <span class="number">0</span>;</span><br><span class="line"><span class="built_in">double</span>.TryParse(dt.Compute(<span class="string">&quot;Max(Score)&quot;</span>, <span class="string">&quot;&quot;</span>).ToString(), <span class="keyword">out</span> maxScore);<span class="comment">// 取得datable中Score的最大值</span></span><br><span class="line">DataRow row = dt.Select(<span class="string">&quot;Score=&quot;</span> + maxScore)[<span class="number">0</span>];    </span><br></pre></td></tr></table></figure><ol start="3"><li>修改最大分数值</li></ol><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">row[<span class="string">&quot;Score&quot;</span>] = <span class="number">100000000.12</span>;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VS2019 离线安装</title>
      <link href="/2019/11/08/vs2019-chi-xian-an-zhuang/"/>
      <url>/2019/11/08/vs2019-chi-xian-an-zhuang/</url>
      
        <content type="html"><![CDATA[<ol><li>在微软官网下载需要的版本<br>例如 <a href="https://visualstudio.microsoft.com/zh-hans/downloads/">VS2019 Enterprise</a></li><li>下载组件到指定目录<br>例如（D:\VS2019_Enterprise）</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vs_enterprise.exe --layout D:\VS2019_Enterprise --all --includeRecommended --includeOptional --lang zh-CN</span><br></pre></td></tr></table></figure><p>下载 .NET 桌面和 .NET Web 工作负载，以及所有推荐组件和 GitHub 扩展。 仅包括中文语言包：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vs_enterprise.exe --layout D:\VS2019_Enterprise ^ --lang zh-CN ^ --add Microsoft.VisualStudio.Workload.NetWeb ^ --add Microsoft.VisualStudio.Workload.ManagedDesktop ^ --add Component.GitHub.VisualStudio ^ --includeRecommended</span><br></pre></td></tr></table></figure><p>具体参数详解请参考 <a href="https://docs.microsoft.com/zh-cn/visualstudio/install/use-command-line-parameters-to-install-visual-studio?view=vs-2019">https://docs.microsoft.com/zh-cn/visualstudio/install/use-command-line-parameters-to-install-visual-studio?view=vs-2019</a></p><p>参考 <a href="https://docs.microsoft.com/zh-cn/visualstudio/install/create-an-offline-installation-of-visual-studio?view=vs-2019">https://docs.microsoft.com/zh-cn/visualstudio/install/create-an-offline-installation-of-visual-studio?view=vs-2019</a></p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>oracle11g安装客户端检查先决条件失败</title>
      <link href="/2019/10/23/oracle11g-an-zhuang-ke-hu-duan-jian-cha-xian-jue-tiao-jian-shi-bai/"/>
      <url>/2019/10/23/oracle11g-an-zhuang-ke-hu-duan-jian-cha-xian-jue-tiao-jian-shi-bai/</url>
      
        <content type="html"><![CDATA[<p>在64bit的WIN7上安装64bit的oracle11gR2客户端，执行检查先决条件失败</p><h2 id="错误信息"><a href="#错误信息" class="headerlink" title="错误信息"></a>错误信息</h2><ol><li>物理内存信息<br>预期值:?N&#x2F;A</li></ol><p>　　　　实际值:?N&#x2F;A<br>2. 可用物理内存信息（实际的物理内存是够用的）<br>       预期值:?N&#x2F;A<br>　　　　实际值:?N&#x2F;A<br>3. 环境变量PATH信息<br>       预期值:?N&#x2F;A<br>　　　　实际值:?N&#x2F;A</p><h2 id="错误原因"><a href="#错误原因" class="headerlink" title="错误原因"></a>错误原因</h2><p>可能是操作系统未开启默认共享，导致oracle无法检查环境的可用性</p><h2 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h2><p>打开系统注册表HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\services\LanmanServer\Parameters选中Parameters，修改右边的AutoShareWks值，将0改为1，然后重启电脑，安装完成后再将值改为0<br><img src="/images/2019102315480801.png" alt="2019102315480801.png"><br>查找到一些文章说只要将C盘的默认共享设置为共享就可以了，但是实际安装还是出现一样的问题。</p><h2 id="Dos设置默认共享"><a href="#Dos设置默认共享" class="headerlink" title="Dos设置默认共享"></a>Dos设置默认共享</h2><ol><li>打开C盘默认共享</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">net share c$=c:</span><br></pre></td></tr></table></figure><ol start="2"><li>删除C盘默认共享</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">net share c$ /del</span><br></pre></td></tr></table></figure><p>参考：<a href="https://jingyan.baidu.com/article/b0b63dbf058bdb4a483070f7.html">https://jingyan.baidu.com/article/b0b63dbf058bdb4a483070f7.html</a></p>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>WinForm textbox 只允许输入数字</title>
      <link href="/2019/10/23/winform-textbox-zhi-yun-xu-shu-ru-shu-zi/"/>
      <url>/2019/10/23/winform-textbox-zhi-yun-xu-shu-ru-shu-zi/</url>
      
        <content type="html"><![CDATA[<p>textbox只允许输入指定数字（1-7），并且不能重复</p><p>在KeyPress事件中实现</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">txtWeek_KeyPress</span>(<span class="params"><span class="built_in">object</span> sender, KeyPressEventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> ((e.KeyChar &lt; <span class="string">&#x27;1&#x27;</span> || e.KeyChar &gt; <span class="string">&#x27;7&#x27;</span>) &amp;&amp; e.KeyChar != (<span class="built_in">char</span>)<span class="number">8</span>) <span class="comment">//允许输入退格键</span></span><br><span class="line">    &#123;</span><br><span class="line">        e.Handled = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (((TextBox)sender).Text.Trim().IndexOf(e.KeyChar)&gt;=<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        e.Handled = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Oracle存储过程</title>
      <link href="/2019/10/07/oracle-cun-chu-guo-cheng/"/>
      <url>/2019/10/07/oracle-cun-chu-guo-cheng/</url>
      
        <content type="html"><![CDATA[<ol><li>作用<ol><li>在开发中，为了一个特定的业务功能，会向数据库进行多次连接关闭(连接和关闭是很耗资源)，需要对数据库进行多次I&#x2F;O读写，性能比较低。如果把这些业务放入存储过程中，就可以做到连接关闭一次数据库就可以实现业务，可以大大的提高效率。</li><li>Oracle官方建议，能够让数据库操作的不要放在程序中，在数据库中实现基本上不会出现错误，在程序中操作可能会存在错误。（如果在数据库中操作，可以有一定的日志恢复功能。）</li></ol></li><li>语法</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">OR</span> REPLACE <span class="keyword">PROCEDURE</span> 存储过程名称[(参数列表)] <span class="keyword">IS</span></span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line"><span class="keyword">END</span> 存储过程名称;</span><br></pre></td></tr></table></figure><p>根据参数的类型，可以分为3类</p><ol><li><p>不带参数</p></li><li><p>带输入参数</p></li><li><p>带输入输出参数（返回值）</p></li><li><p>无参存储</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">or</span> replace <span class="keyword">procedure</span> p_hello <span class="keyword">as</span></span><br><span class="line"><span class="comment">--声明变量</span></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">    dbms_output.put_line(<span class="string">&#x27;Hello World!&#x27;</span>);</span><br><span class="line"><span class="keyword">end</span> p_hello ;</span><br></pre></td></tr></table></figure><p>调用 在plsql中可以直接在begin end中直接写存储过程名，或者在命令窗口中执行 exec 存储过程名;。</p><p>注意：</p><ol><li><p>is和as是可以相互用的</p></li><li><p>过程中没有declare关键字，declare用在语句块中</p></li><li><p>带输入参数存储</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">or</span> replace <span class="keyword">procedure</span> p_queryName(i_empno <span class="keyword">in</span> emp.empno<span class="operator">%</span>type) <span class="keyword">as</span></span><br><span class="line"><span class="comment">--声明变量</span></span><br><span class="line">v_name emp.ename<span class="operator">%</span>type;</span><br><span class="line">v_sal emp.sal<span class="operator">%</span>type;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">    <span class="comment">--查询emp表中对应员工的信息</span></span><br><span class="line">    <span class="keyword">select</span> ename,sal <span class="keyword">into</span> v_name,v_sal <span class="keyword">from</span> emp <span class="keyword">where</span> empno<span class="operator">=</span>i_empno;</span><br><span class="line">    dbms_output.put_line(<span class="string">&#x27;名称：&#x27;</span><span class="operator">||</span>v_name<span class="operator">||</span><span class="string">&#x27;薪水：&#x27;</span><span class="operator">||</span>v_sal);</span><br><span class="line"><span class="keyword">end</span> p_queryName;</span><br></pre></td></tr></table></figure><ol start="5"><li>带输入输出参数存储</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">or</span> replace <span class="keyword">procedure</span> p_querySalOut(i_empno <span class="keyword">in</span> emp.empno<span class="operator">%</span>type,o_sal <span class="keyword">out</span> emp.sal<span class="operator">%</span>type) <span class="keyword">as</span></span><br><span class="line"><span class="comment">--声明变量</span></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">    <span class="comment">--查询emp表中对应员工的信息</span></span><br><span class="line">    <span class="keyword">select</span> sal <span class="keyword">into</span> o_sal <span class="keyword">from</span> emp <span class="keyword">where</span> empno<span class="operator">=</span>i_empno;</span><br><span class="line">    dbms_output.put_line(<span class="string">&#x27;名称：&#x27;</span><span class="operator">||</span>v_name<span class="operator">||</span><span class="string">&#x27;薪水：&#x27;</span><span class="operator">||</span>v_sal);</span><br><span class="line"><span class="keyword">end</span> p_querySalOut;</span><br></pre></td></tr></table></figure><p>调用</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span></span><br><span class="line"><span class="comment">--声明变量接受存储过程中的输出参数</span></span><br><span class="line">    v_sal emp.sal<span class="operator">%</span>type;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">    p_querySalOut(<span class="number">7839</span>,v_sal);</span><br><span class="line">    dbms_output.put_line(v_sal);</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Oracle游标</title>
      <link href="/2019/10/07/oracle-you-biao/"/>
      <url>/2019/10/07/oracle-you-biao/</url>
      
        <content type="html"><![CDATA[<p>游标是用于临时存储一个查询返回的多行数据（结果集），通过遍历游标，可以逐行访问处理改结果集的数据。</p><h2 id="使用方式"><a href="#使用方式" class="headerlink" title="使用方式"></a>使用方式</h2><p>声明——&gt;打开——&gt;读取——&gt;关闭</p><h2 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h2><p><strong>游标声明：</strong><br>CURSOR 游标名[（参数列表）] IS 查询语句;<br><strong>游标打开：</strong><br>OPEN 游标名;<br><strong>游标读取：</strong><br>FETCH 游标名 INTO 变量列表;<br><strong>游标关闭：</strong><br>CLOSE 游标名;</p><h2 id="游标属性"><a href="#游标属性" class="headerlink" title="游标属性"></a>游标属性</h2><table><thead><tr><th>游标的属性</th><th>返回值类型</th><th>说明</th></tr></thead><tbody><tr><td>%ROWCOUNT</td><td>整型</td><td>获得FETCH语句返回的数据行数</td></tr><tr><td>%FOUND</td><td>布尔型</td><td>最近的FETCH语句返回的一行数据则为证，否则为假</td></tr><tr><td>%NOTFOUND</td><td>布尔型</td><td>与%FOUND属性返回值相反</td></tr><tr><td>%ISOPEN</td><td>布尔型</td><td>游标已经打开时值为真，否则为假</td></tr></tbody></table><p>无参数游标</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span></span><br><span class="line">    <span class="comment">--声明游标</span></span><br><span class="line">    <span class="keyword">cursor</span> c_emp <span class="keyword">is</span> <span class="keyword">select</span> ename,sal <span class="keyword">from</span> emp;</span><br><span class="line">    <span class="comment">--声明变量</span></span><br><span class="line">    v_ename emp.ename<span class="operator">%</span>type;</span><br><span class="line">    v_sal emp.sal<span class="operator">%</span>type;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">    <span class="comment">--打开游标</span></span><br><span class="line">    <span class="keyword">open</span> c_emp;</span><br><span class="line">    <span class="comment">--遍历循环</span></span><br><span class="line">    loop</span><br><span class="line">        <span class="comment">--获取游标中的数据</span></span><br><span class="line">        <span class="keyword">fetch</span> c_emp <span class="keyword">into</span> v_ename,v_sal;</span><br><span class="line">        </span><br><span class="line">        exit <span class="keyword">when</span> c_emp<span class="operator">%</span>notfound;</span><br><span class="line">        dbms_output.put_line(<span class="string">&#x27;姓名：&#x27;</span><span class="operator">||</span>v_name<span class="operator">||</span><span class="string">&#x27;工资：&#x27;</span><span class="operator">||</span>v_sal);</span><br><span class="line">    <span class="keyword">end</span> loop；</span><br><span class="line">    <span class="comment">--关闭游标</span></span><br><span class="line">    <span class="keyword">close</span> c_emp;</span><br><span class="line">    </span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure><p>有参数游标</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span></span><br><span class="line">    <span class="comment">--声明游标</span></span><br><span class="line">    <span class="keyword">cursor</span> c_emp(v_deptno emp.deptno<span class="operator">%</span>type) <span class="keyword">is</span> <span class="keyword">select</span> ename,sal <span class="keyword">from</span> emp <span class="keyword">where</span> deptno<span class="operator">=</span>v_deptno;</span><br><span class="line">    <span class="comment">--声明变量</span></span><br><span class="line">    v_ename emp.ename<span class="operator">%</span>type;</span><br><span class="line">    v_sal emp.sal<span class="operator">%</span>type;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">    <span class="comment">--打开游标</span></span><br><span class="line">    <span class="keyword">open</span> c_emp(<span class="number">10</span>);</span><br><span class="line">    <span class="comment">--遍历循环</span></span><br><span class="line">    loop</span><br><span class="line">        <span class="comment">--获取游标中的数据</span></span><br><span class="line">        <span class="keyword">fetch</span> c_emp <span class="keyword">into</span> v_ename,v_sal;</span><br><span class="line">        </span><br><span class="line">        exit <span class="keyword">when</span> c_emp<span class="operator">%</span>notfound;</span><br><span class="line">        dbms_output.put_line(<span class="string">&#x27;姓名：&#x27;</span><span class="operator">||</span>v_name<span class="operator">||</span><span class="string">&#x27;工资：&#x27;</span><span class="operator">||</span>v_sal);</span><br><span class="line">    <span class="keyword">end</span> loop；</span><br><span class="line">    <span class="comment">--关闭游标</span></span><br><span class="line">    <span class="keyword">close</span> c_emp;</span><br><span class="line">    </span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Oracle之PL/SQL流程控制</title>
      <link href="/2019/10/05/oracle-zhi-plsql-liu-cheng-kong-zhi/"/>
      <url>/2019/10/05/oracle-zhi-plsql-liu-cheng-kong-zhi/</url>
      
        <content type="html"><![CDATA[<h2 id="条件分支"><a href="#条件分支" class="headerlink" title="条件分支"></a>条件分支</h2><ol><li>IF语法</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">begin</span></span><br><span class="line">　　if 条件<span class="number">1</span> <span class="keyword">then</span> 执行<span class="number">1</span></span><br><span class="line">　　elsif 条件<span class="number">2</span> <span class="keyword">then</span> 执行<span class="number">2</span></span><br><span class="line">　　<span class="keyword">else</span> 执行<span class="number">3</span></span><br><span class="line">　　<span class="keyword">end</span> if；</span><br><span class="line"><span class="keyword">end</span>；</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span></span><br><span class="line">    <span class="comment">--emp表中记录数</span></span><br><span class="line">    v_count number;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">    <span class="keyword">select</span> <span class="built_in">count</span>(<span class="number">1</span>) <span class="keyword">into</span> v_count <span class="keyword">from</span> emp;</span><br><span class="line">    if v_count<span class="operator">&gt;</span><span class="number">20</span> <span class="keyword">then</span></span><br><span class="line">        dbms_output.put_line(<span class="string">&#x27;表中记录数超过20条，为：&#x27;</span><span class="operator">||</span>v_count);</span><br><span class="line">     elsif v_count<span class="operator">&gt;=</span><span class="number">10</span> <span class="keyword">then</span></span><br><span class="line">        dbms_output.put_line(<span class="string">&#x27;表中记录数在10到20之间，为：&#x27;</span><span class="operator">||</span>v_count)</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        dbms_output.put_line(<span class="string">&#x27;表中记录数小于10条，为：&#x27;</span><span class="operator">||</span>v_count)</span><br><span class="line">    <span class="keyword">end</span> if；</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure><p><strong>注意：关键字elsif不是elseif</strong><br>2. Case 语法</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">case</span> 条件表达式</span><br><span class="line">　　<span class="keyword">WHEN</span> 条件表达式结果<span class="number">1</span> <span class="keyword">THEN</span></span><br><span class="line">    　　　　语句<span class="number">1</span></span><br><span class="line">　　 <span class="keyword">WHEN</span> 条件表达式结果<span class="number">2</span> <span class="keyword">THEN</span></span><br><span class="line">    　　　　语句<span class="number">2</span></span><br><span class="line">　　　　　　......</span><br><span class="line">　　<span class="keyword">WHEN</span> 条件表达式结果n <span class="keyword">THEN</span></span><br><span class="line">    　　　　语句n</span><br><span class="line">　 [<span class="keyword">else</span> 条件表达式结果]</span><br><span class="line"><span class="keyword">end</span> <span class="keyword">case</span>;</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span></span><br><span class="line">    v_name varchar2(<span class="number">20</span>);</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">    v_name:<span class="operator">=</span><span class="string">&#x27;zhangsan&#x27;</span>;</span><br><span class="line">    <span class="keyword">case</span> v_name</span><br><span class="line">      <span class="keyword">when</span> <span class="string">&#x27;zhangsan&#x27;</span> <span class="keyword">then</span> dbms_output.put_line(<span class="string">&#x27;张三&#x27;</span>);  </span><br><span class="line">      <span class="keyword">when</span> <span class="string">&#x27;lisi&#x27;</span> <span class="keyword">then</span> dbms_output.put_line(<span class="string">&#x27;李四&#x27;</span>);      </span><br><span class="line">      <span class="keyword">else</span> dbms_output.put_line(<span class="string">&#x27;无法找到改名称&#x27;</span>); </span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">case</span></span><br><span class="line">　　　<span class="keyword">WHEN</span> 条件表达式<span class="number">1</span> <span class="keyword">THEN</span></span><br><span class="line"> 　　　　语句<span class="number">1</span></span><br><span class="line">　　　<span class="keyword">WHEN</span> 条件表达式<span class="number">2</span> <span class="keyword">THEN</span></span><br><span class="line"> 　　　　语句<span class="number">2</span></span><br><span class="line">　　　......</span><br><span class="line">　　　<span class="keyword">WHEN</span> 条件表达式n <span class="keyword">THEN</span></span><br><span class="line">　　　　语句n</span><br><span class="line">　　　[<span class="keyword">else</span> 语句]</span><br><span class="line"><span class="keyword">end</span> <span class="keyword">case</span>;</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span></span><br><span class="line">    v_name varchar2(<span class="number">20</span>);</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">    v_name:<span class="operator">=</span><span class="string">&#x27;zhangsan&#x27;</span>;</span><br><span class="line">    <span class="keyword">case</span> </span><br><span class="line">      <span class="keyword">when</span> v_name<span class="operator">=</span><span class="string">&#x27;zhangsan&#x27;</span> <span class="keyword">then</span> dbms_output.put_line(<span class="string">&#x27;张三&#x27;</span>);  </span><br><span class="line">      <span class="keyword">when</span> v_name<span class="operator">=</span><span class="string">&#x27;lisi&#x27;</span> <span class="keyword">then</span> dbms_output.put_line(<span class="string">&#x27;李四&#x27;</span>);      </span><br><span class="line">      <span class="keyword">else</span> dbms_output.put_line(<span class="string">&#x27;无法找到改名称&#x27;</span>); </span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure><h2 id="循环"><a href="#循环" class="headerlink" title="循环"></a>循环</h2><ol><li>Loop</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">begin</span> 　</span><br><span class="line">　　loop　</span><br><span class="line">　　    exit <span class="keyword">when</span> 执行<span class="number">2</span> 　退出循环条件　</span><br><span class="line"><span class="keyword">end</span> loop；</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span></span><br><span class="line">    num number:<span class="operator">=</span><span class="number">1</span>;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">    loop</span><br><span class="line">      exit <span class="keyword">when</span> num<span class="operator">&gt;</span><span class="number">10</span></span><br><span class="line">      dbms_output.put_line(num);</span><br><span class="line">      num :<span class="operator">=</span> num<span class="operator">+</span><span class="number">1</span>;  </span><br><span class="line">    <span class="keyword">end</span> loop;</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure><ol start="2"><li>While</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">while <span class="operator">&lt;</span>布尔表达式<span class="operator">&gt;</span> loop</span><br><span class="line">　　循环体语句;</span><br><span class="line"><span class="keyword">end</span> loop;</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span></span><br><span class="line">    flag <span class="type">boolean</span>:<span class="operator">=</span><span class="literal">TRUE</span>;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">    while flag loop</span><br><span class="line">      dbms_output.put_line (<span class="string">&#x27;Hello World!&#x27;</span>);</span><br><span class="line">      flag:<span class="operator">=</span><span class="literal">FALSE</span>;</span><br><span class="line">    <span class="keyword">end</span> loop;</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure><ol start="3"><li>For</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[<span class="operator">&lt;&lt;</span>标签<span class="operator">&gt;&gt;</span>] <span class="keyword">for</span> 循环计数器 <span class="keyword">in</span> [ REVERSE ] 下限 .. 上限 loop</span><br><span class="line">　　　　　　循环体语句;</span><br><span class="line"><span class="keyword">end</span> loop [<span class="operator">&lt;&lt;</span>标签<span class="operator">&gt;&gt;</span>];</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">begin</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">1.</span><span class="number">.3</span> loop</span><br><span class="line">        dbms_output.put_line(i);</span><br><span class="line">    <span class="keyword">end</span> loop;        </span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Oracle 变量</title>
      <link href="/2019/10/04/oracle-bian-liang/"/>
      <url>/2019/10/04/oracle-bian-liang/</url>
      
        <content type="html"><![CDATA[<h2 id="变量分类"><a href="#变量分类" class="headerlink" title="变量分类"></a>变量分类</h2><ol><li>普通数据类型（char，varchar2,date,number,boolean,long）</li><li>特殊变量类型 （引用型变量，记录型变量）</li></ol><h2 id="声明方式"><a href="#声明方式" class="headerlink" title="声明方式"></a>声明方式</h2><p>变量名 变量类型（变量长度）  例如： address varchar2(200);</p><ol><li><p>普通变量<br>变量赋值</p><ol><li>直接赋值 :&#x3D; 例如   age:&#x3D;20;</li><li>语句赋值,select … into 赋值；（语法 select 值 into 变量）</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DECLARE</span></span><br><span class="line"><span class="comment">--姓名</span></span><br><span class="line">v_name varchar2(<span class="number">20</span>):<span class="operator">=</span><span class="string">&#x27;zhangsan&#x27;</span>;</span><br><span class="line"><span class="comment">--薪水</span></span><br><span class="line">v_sal number;</span><br><span class="line"><span class="comment">--地址</span></span><br><span class="line">v_addr varchar2(<span class="number">200</span>);</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">    <span class="comment">--直接赋值</span></span><br><span class="line">    v_sal:<span class="operator">=</span><span class="number">20000</span>;</span><br><span class="line">    <span class="keyword">select</span> <span class="string">&#x27;北京市&#x27;</span> <span class="keyword">into</span> v_addr <span class="keyword">from</span> dual;</span><br><span class="line">    <span class="comment">--打印变量</span></span><br><span class="line">    dbms_output.put_line(<span class="string">&#x27;姓名：&#x27;</span><span class="operator">||</span>v_name<span class="operator">||</span><span class="string">&#x27;,薪水：&#x27;</span><span class="operator">||</span>v_sal<span class="operator">||</span><span class="string">&#x27;,地址：&#x27;</span><span class="operator">||</span>v_addr);</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure></li><li><p>引用型变量（变量的类型长度取决于表中字段类型和长度）<br>通过表名.列名%TYPE指定变量的类型和长度，例如： v_name emp.ename%TYPE;</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DECLARE</span></span><br><span class="line">    <span class="comment">--姓名</span></span><br><span class="line">    v_name emp.ename<span class="operator">%</span>TYPE:<span class="operator">=</span><span class="string">&#x27;zhangsan&#x27;</span>;</span><br><span class="line">    <span class="comment">--薪水</span></span><br><span class="line">    v_sal emp.sal<span class="operator">%</span>TYPE;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">    <span class="comment">--查询表中姓名和薪水并赋值给变量</span></span><br><span class="line">    <span class="keyword">select</span> ename，sal <span class="keyword">into</span> v_name,v_sal <span class="keyword">from</span> emp <span class="keyword">where</span> empno<span class="operator">=</span><span class="number">7839</span>;</span><br><span class="line">    <span class="comment">--打印变量</span></span><br><span class="line">    dbms_output.put_line(<span class="string">&#x27;姓名：&#x27;</span><span class="operator">||</span>v_name<span class="operator">||</span><span class="string">&#x27;,薪水：&#x27;</span><span class="operator">||</span>v_sal);</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure><ol start="3"><li>记录型变量（接受表中的一行记录）<br>语法：变量名 表名%ROWTYPE，例如： v_emp emp%ROWTYPE;</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DECLARE</span></span><br><span class="line">    <span class="comment">--记录型变量</span></span><br><span class="line">   v_emp emp<span class="operator">%</span>ROWTYPE;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">    <span class="comment">--直接赋值</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">into</span> v_emp <span class="keyword">from</span> emp <span class="keyword">where</span> empno<span class="operator">=</span><span class="number">7839</span>;</span><br><span class="line">    <span class="comment">--打印变量</span></span><br><span class="line">    dbms_output.put_line(<span class="string">&#x27;姓名：&#x27;</span><span class="operator">||</span>v_emp.ename<span class="operator">||</span><span class="string">&#x27;,薪水：&#x27;</span><span class="operator">||</span>v_emp.sal);</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>log4net 使用</title>
      <link href="/2019/07/17/log4net-shi-yong/"/>
      <url>/2019/07/17/log4net-shi-yong/</url>
      
        <content type="html"><![CDATA[<h3 id="在nuget中搜索log4net-然后直接安装"><a href="#在nuget中搜索log4net-然后直接安装" class="headerlink" title="在nuget中搜索log4net,然后直接安装"></a>在nuget中搜索log4net,然后直接安装</h3><h3 id="无论是CS还是BS都可以在AssemblyInfo-cs文件里添加以下的语句："><a href="#无论是CS还是BS都可以在AssemblyInfo-cs文件里添加以下的语句：" class="headerlink" title="无论是CS还是BS都可以在AssemblyInfo.cs文件里添加以下的语句："></a>无论是CS还是BS都可以在AssemblyInfo.cs文件里添加以下的语句：</h3><p>[assembly: log4net.Config .XmlConfigurator(ConfigFile &#x3D;”log4net.config”)]<br>还有ConfigFileExtension（配置文件的扩展名） 和 Watch（表示是否监视该配置文件）<br>或者建一个类，CS端在Main方法中调用，BS在Global.asax.cs的Application_Start方法中调用</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">LogHelper</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="title">LogHelper</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">var</span> logCfg = <span class="keyword">new</span> FileInfo(AppDomain.CurrentDomain.BaseDirectory + <span class="string">&quot;log4net.config&quot;</span>);</span><br><span class="line">        XmlConfigurator.Configure(logCfg);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> LogHelper _instance = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> ILog ILog;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> ILog <span class="title">Log</span>(<span class="params">Type t</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (_instance == <span class="literal">null</span>)</span><br><span class="line">            _instance = <span class="keyword">new</span> LogHelper();</span><br><span class="line">        ILog = LogManager.GetLogger(t);</span><br><span class="line">        <span class="keyword">return</span> ILog;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> ILog <span class="title">Log</span>(<span class="params"><span class="built_in">string</span> type</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (_instance == <span class="literal">null</span>)</span><br><span class="line">            _instance = <span class="keyword">new</span> LogHelper();</span><br><span class="line">        ILog = LogManager.GetLogger(type);</span><br><span class="line">        <span class="keyword">return</span> ILog;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>注意配置文件必须要放到bin下面的目录里</p><h3 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;utf-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">configSections</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">section</span> <span class="attr">name</span>=<span class="string">&quot;log4net&quot;</span> <span class="attr">type</span>=<span class="string">&quot;log4net.Config.Log4NetConfigurationSectionHandler, log4net&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">configSections</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">log4net</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">appender</span> <span class="attr">name</span>=<span class="string">&quot;FileAppender&quot;</span> <span class="attr">type</span>=<span class="string">&quot;log4net.Appender.RollingFileAppender&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">file</span> <span class="attr">value</span>=<span class="string">&quot;log\&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">appendToFile</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">rollingStyle</span> <span class="attr">value</span>=<span class="string">&quot;Date&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">datePattern</span> <span class="attr">value</span>=<span class="string">&quot;yyyyMMdd&#x27;.log&#x27;&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">staticLogFileName</span> <span class="attr">value</span>=<span class="string">&quot;false&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">layout</span> <span class="attr">type</span>=<span class="string">&quot;log4net.Layout.PatternLayout&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">conversionPattern</span> <span class="attr">value</span>=<span class="string">&quot;%date [%thread] %-5level %logger [%property&#123;NDC&#125;] - %message%newline&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">layout</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">appender</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">root</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">level</span> <span class="attr">value</span>=<span class="string">&quot;ALL&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;FileAppender&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">root</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">log4net</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><p>也可以使用代码配置</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 日志</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title">LogHelper</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Setup</span>(<span class="params">Level level</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Hierarchy hierarchy = (Hierarchy)LogManager.GetRepository();</span><br><span class="line">        <span class="comment">// 文件Appender</span></span><br><span class="line">        PatternLayout filePatternLayout = <span class="keyword">new</span> PatternLayout</span><br><span class="line">        &#123;</span><br><span class="line">            ConversionPattern = <span class="string">&quot;%date&#123;yyyy-MM-dd HH:mm:ss&#125; [%thread] %-5level %-75.75logger - %message%newline&quot;</span></span><br><span class="line">        &#125;;</span><br><span class="line">        filePatternLayout.ActivateOptions();</span><br><span class="line">        RollingFileAppender fileAppender = <span class="keyword">new</span> RollingFileAppender</span><br><span class="line">        &#123;</span><br><span class="line">            Encoding = Encoding.UTF8,</span><br><span class="line">            AppendToFile = <span class="literal">true</span>,</span><br><span class="line">            File = <span class="string">@&quot;.\log\&quot;</span>,</span><br><span class="line">            RollingStyle = RollingFileAppender.RollingMode.Date,</span><br><span class="line">            StaticLogFileName = <span class="literal">false</span>,</span><br><span class="line">            PreserveLogFileNameExtension = <span class="literal">true</span>,</span><br><span class="line">            Layout = filePatternLayout,</span><br><span class="line">            DatePattern = <span class="string">&quot;yyyyMMdd&#x27;.log&#x27;&quot;</span></span><br><span class="line">        &#125;;</span><br><span class="line">        fileAppender.ActivateOptions();</span><br><span class="line">        <span class="comment">// 控制台Appender</span></span><br><span class="line">        PatternLayout consolePatternLayout = <span class="keyword">new</span> PatternLayout</span><br><span class="line">        &#123;</span><br><span class="line">            ConversionPattern = <span class="string">&quot;%date&#123;yyyy-MM-dd HH:mm:ss&#125; [%thread] - %message%newline&quot;</span></span><br><span class="line">        &#125;;</span><br><span class="line">        consolePatternLayout.ActivateOptions();</span><br><span class="line">        ConsoleAppender consoleAppender = <span class="keyword">new</span> ConsoleAppender();</span><br><span class="line">        consoleAppender.Layout = consolePatternLayout;</span><br><span class="line">        consoleAppender.ActivateOptions();</span><br><span class="line">        <span class="comment">// 添加Appenders</span></span><br><span class="line">        hierarchy.Root.AddAppender(fileAppender);</span><br><span class="line">        hierarchy.Root.AddAppender(consoleAppender);</span><br><span class="line">        hierarchy.Root.Level = level;</span><br><span class="line">        hierarchy.Configured = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Dictionary&lt;Type, ILog&gt; Loggers = <span class="keyword">new</span> Dictionary&lt;Type, ILog&gt;();</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="built_in">object</span> locker = <span class="keyword">new</span> <span class="built_in">object</span>();</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> ILog Write</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">get</span></span><br><span class="line">        &#123;</span><br><span class="line">            Type triggerType = <span class="keyword">new</span> StackTrace().GetFrames().Skip(<span class="number">1</span>).First().GetMethod().DeclaringType;</span><br><span class="line">            <span class="keyword">if</span> (triggerType == <span class="literal">null</span>)</span><br><span class="line">                triggerType = <span class="keyword">typeof</span>(LogHelper);</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span> (!Loggers.ContainsKey(triggerType))</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">lock</span> (locker)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span> (!Loggers.ContainsKey(triggerType))</span><br><span class="line">                    &#123;</span><br><span class="line">                        Loggers.Add(triggerType, LogManager.GetLogger(triggerType));</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> Loggers[triggerType];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>还有很多配置可以参考<br><a href="http://logging.apache.org/log4net/release/config-examples.html">http://logging.apache.org/log4net/release/config-examples.html</a></p><h3 id="调用"><a href="#调用" class="headerlink" title="调用"></a>调用</h3><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;dfasdfas&quot;</span>);</span><br><span class="line">        ILog log = LogHelper.Log(<span class="keyword">typeof</span>(Program));</span><br><span class="line">        log.Info(<span class="string">&quot;dadafds&quot;</span>);</span><br><span class="line">        log.Debug(<span class="string">&quot;debug&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python Matplotlib 画图显示中文问题</title>
      <link href="/2019/07/04/python-matplotlib-hua-tu-xian-shi-zhong-wen-wen-ti/"/>
      <url>/2019/07/04/python-matplotlib-hua-tu-xian-shi-zhong-wen-wen-ti/</url>
      
        <content type="html"><![CDATA[<p>画图显示中文出现问题<br><img src="/images/2019070416010101.png" alt="2019070416010101.png"></p><p><strong>解决办法</strong></p><ol><li>安装字体（黑体 SimHei），系统中有改字体就不用安装了</li><li>找到matplotlib包的安装目录（Lib\site-packages\matplotlib\mpl-data）</li><li>修改matplotlib的配置（matplotlibrc）<br> font.family         : sans-serif<br>　　font.sans-serif     : SimHei<br>　　axes.unicode_minus  : False<br>　　去掉这些配置前面的#<br><img src="/images/2019070416010102.png" alt="2019070416010102.png"><br>或者在代码里修改配置也可以</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>] = [<span class="string">&#x27;SimHei&#x27;</span>]</span><br><span class="line">plt.rcParams[<span class="string">&#x27;axes.unicode_minus&#x27;</span>] = <span class="literal">False</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SQL 将科学计算字符串转换为数值</title>
      <link href="/2019/05/15/sql-jiang-ke-xue-ji-suan-zi-fu-chuan-zhuan-huan-wei-shu-zhi/"/>
      <url>/2019/05/15/sql-jiang-ke-xue-ji-suan-zi-fu-chuan-zhuan-huan-wei-shu-zhi/</url>
      
        <content type="html"><![CDATA[<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">convert</span>(<span class="type">decimal</span>(<span class="number">19</span>,<span class="number">2</span>),<span class="keyword">convert</span>(<span class="type">float</span>,<span class="string">&#x27;1.635359e+006&#x27;</span>))</span><br><span class="line">或</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">cast</span>(<span class="built_in">cast</span>(<span class="string">&#x27;1.635359e+006&#x27;</span> <span class="keyword">as</span> <span class="type">float</span>) <span class="keyword">as</span> <span class="type">decimal</span>(<span class="number">19</span>,<span class="number">2</span>))</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Oracle 数据迁移到 SQL Server</title>
      <link href="/2019/05/09/oracle-shu-ju-qian-yi-dao-sql-server/"/>
      <url>/2019/05/09/oracle-shu-ju-qian-yi-dao-sql-server/</url>
      
        <content type="html"><![CDATA[<p>现在需要将Oracle数据迁移到SQL Server ，在网上找资料，发现微软官方提供了一个工具 <a href="https://www.microsoft.com/en-us/download/details.aspx?id=54258">Microsoft SQL Server Migration Assistant 8.1 for Oracle</a></p><ol><li>安装工具后新建一个项目，选择对应版本的数据库<br><img src="/images/2019050915321201.png" alt="2019050915321201.png"></li><li>连接数据库<br>连接oracle<br><img src="/images/2019050915321202.png" alt="2019050915321202.png"><br>连接sqlserver<br><img src="/images/2019050915321203.png" alt="2019050915321203.png"></li><li>转换Schema<br>在oracle中勾选需要转换的表Convert Schema<br><img src="/images/2019050915321204.png" alt="2019050915321204.png"><br>在sqlserver中Synchronize with Database<br><img src="/images/2019050915321205.png" alt="2019050915321205.png"></li><li>在Oracle Metadata Explorer窗口中执行Migrate Data，开始迁移数据。<br><img src="/images/2019050915321206.png" alt="2019050915321206.png"><br><img src="/images/2019050915321207.png" alt="2019050915321207.png"><br>还有将mysql、Access、DB2 数据导入到SQL数据库中的工具</li></ol><p>问题：提示如图警告<br><img src="/images/2019050915321208.png" alt="2019050915321208.png"><br>在开始菜单中找到“数据库配置工具”，启动sqlserver 代理服务<br><img src="/images/2019050915321209.png" alt="2019050915321209.png"></p><p>参考 <a href="https://blogs.msdn.microsoft.com/ssma/2017/02/21/released-sql-server-migration-assistant-ssma-v7-3/">https://blogs.msdn.microsoft.com/ssma/2017/02/21/released-sql-server-migration-assistant-ssma-v7-3/</a></p>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Oracle 导入导出dmp文件</title>
      <link href="/2019/05/06/oracle-dao-ru-dao-chu-dmp-wen-jian/"/>
      <url>/2019/05/06/oracle-dao-ru-dao-chu-dmp-wen-jian/</url>
      
        <content type="html"><![CDATA[<p><strong>EXP和IMP</strong>是客户端工具程序，它们既可以在客户端使用，也可以在服务端使用。<br><strong>EXPDP和IMPDP</strong>是服务端的工具程序，他们只能在ORACLE服务端使用，不能在客户端使用。<br>IMP只适用于EXP导出的文件，不适用于EXPDP导出文件；IMPDP只适用于EXPDP导出的文件，而不适用于EXP导出文件。</p><p><strong>–exp导出数据</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">exp <span class="built_in">test</span>/test@orcl file=D:\<span class="built_in">test</span>\orcl.dmp <span class="built_in">log</span>=D:\<span class="built_in">test</span>\<span class="built_in">log</span>\orcl.log </span><br></pre></td></tr></table></figure><p><strong>–imp导入数据</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">imp <span class="built_in">test</span>/test@orcl file=D:\<span class="built_in">test</span>\orcl.dmp <span class="built_in">log</span>=D:\<span class="built_in">test</span>\<span class="built_in">log</span>\orcl.log full=y ignore=y</span><br></pre></td></tr></table></figure><p>说明：test&#x2F;test@orcl —&gt;用户名&#x2F;密码@数据库实例<br>      file&#x3D;”本地路径+需要导入&#x2F;导出的dmp文件全称”<br>      log&#x3D;”日志文件”<br>      full&#x3D;y;<br>　　   ignore&#x3D;y: 如果没有的表，创建并倒入数据，如果已经有的表，忽略创建的，但不忽略倒入。</p><p>使用ignore&#x3D;y,Oracle不检查要导入的数据结构和现存在数据库中表的结构是否相同</p><p>在后面也可以加入其它参数</p><p>如：tables&#x3D;(table1,table2)：表示值导入&#x2F;导出table1、table2这两张表；compress&#x3D;y:表示压缩文件，还有fromuser、touser等</p><p>注意：上面的命令只需打开dos窗口输入直接执行即可；如果使用sqlplus登陆进入使用上面的命令会报“<strong>sp2-0734:未知的命令开头</strong>‘imp 忽略了剩余行”错误。</p><p>–expdp导出数据</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">expdp <span class="built_in">test</span>/test@orcl directory = <span class="string">&quot;testdata&quot;</span> dumpfile =<span class="string">&quot;orcl.dmp&quot;</span> logfile = orcl.log</span><br></pre></td></tr></table></figure><p>–impdp导入数据</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">impdp <span class="built_in">test</span>/test@orcl directory=<span class="string">&quot;testdata&quot;</span> dumpfile=<span class="string">&quot;orcl.dmp&quot;</span> logfile = orcl.log full=y; </span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Oracle 创建用户并授权</title>
      <link href="/2019/05/06/oracle-chuang-jian-yong-hu-bing-shou-quan/"/>
      <url>/2019/05/06/oracle-chuang-jian-yong-hu-bing-shou-quan/</url>
      
        <content type="html"><![CDATA[<h2 id="创建表空间"><a href="#创建表空间" class="headerlink" title="创建表空间"></a>创建表空间</h2><p>进入dos界面，输入 sqlplus &#x2F; as sysdba;以dba的权限登陆oracle (sqlplus test&#x2F;test as sysdba);test指用户名，&#x2F;后的test是密码。</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span>space testSpace datafile <span class="string">&#x27;D:\test.dbf&#x27;</span> size <span class="number">100</span>M autoextend <span class="keyword">on</span> next <span class="number">50</span>M;</span><br></pre></td></tr></table></figure><p>说明：</p><p>testSpace：表空间名<br>datafile 数据库文件及路径</p><h2 id="创建用户，并设置默认表空间"><a href="#创建用户，并设置默认表空间" class="headerlink" title="创建用户，并设置默认表空间"></a>创建用户，并设置默认表空间</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">user</span> test identified <span class="keyword">by</span> test <span class="keyword">default</span> tablespace testSpace</span><br></pre></td></tr></table></figure><p>说明：</p><p>user后的test是用户名<br>by后的test 是 密码<br>从11g后 创建公用用户需要以 <strong>C##或c##开头</strong></p><h2 id="授权"><a href="#授权" class="headerlink" title="授权"></a>授权</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grant connect,dba to test;</span><br></pre></td></tr></table></figure><p>将连接、dba的权限给test用户</p><h2 id="常用查询"><a href="#常用查询" class="headerlink" title="常用查询"></a>常用查询</h2><ol><li><p>查询表空间</p><ol><li>查所有表空间</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> dba_tablespacer t;</span><br></pre></td></tr></table></figure><ol start="2"><li>只查表空间名称：</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> tablespace_name <span class="keyword">from</span> dba_tablespaces;</span><br></pre></td></tr></table></figure><p>也可以进Oracle点击TABLESPACE里面看。</p></li><li><p>查询目录</p></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> dba_directories;</span><br></pre></td></tr></table></figure><p>也可以进Oracle点击DIRECTORY里面看.点击右键properties可以看到目录路径</p><ol start="3"><li>查看当前数据库版本号</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> v$version;</span><br></pre></td></tr></table></figure><p>参考 <a href="http://www.cnblogs.com/xqzt/p/5034261.html">http://www.cnblogs.com/xqzt/p/5034261.html</a></p>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mysql incorrect string value 错误</title>
      <link href="/2019/05/05/mysql-incorrect-string-value-cuo-wu/"/>
      <url>/2019/05/05/mysql-incorrect-string-value-cuo-wu/</url>
      
        <content type="html"><![CDATA[<p>Mysql中添加数据时,报错(incorrect string value ) 字符转换不正确</p><p>这个问题，原因是UTF-8编码有可能是两个、三个、四个字节。而Mysql的utf8编码最多3个字节，遇到超过3个字节的的数据就插不进去。</p><p>在网上找到了解决办法</p><ol><li>在Mysql的安装目录下有一个文件叫做my.ini。（如没有可以自己新建一个）<br>在其中添加两句：</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[mysqld]</span><br><span class="line">character-set-server=utf8mb4</span><br><span class="line">[mysql]</span><br><span class="line">default-character-set=utf8mb4</span><br></pre></td></tr></table></figure><p>然后进行重启Mysql服务。<br>也可以用命令将数据库转换格式<br><img src="/images/2019050510310101.png" alt="2019050510310101.png"><br>将红色框中的名称替换为自己的数据库名</p><ol start="2"><li>将已经建好的表也转换为utf8mb4格式</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> banner <span class="keyword">convert</span> <span class="keyword">to</span> <span class="type">character</span> <span class="keyword">set</span> utf8mb4 <span class="keyword">collate</span> utf8mb4_bin;</span><br></pre></td></tr></table></figure><p><img src="/images/2019050510310102.png" alt="2019050510310102.png"><br>将红色框中的表名替换为自己要修改的表名</p><p>参考 <a href="https://www.jianshu.com/p/4aa27b7b0ab0">https://www.jianshu.com/p/4aa27b7b0ab0</a></p>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>根据坐标经纬度计算两点之间的距离</title>
      <link href="/2019/04/30/gen-ju-zuo-biao-jing-wei-du-ji-suan-liang-dian-zhi-jian-de-ju-chi/"/>
      <url>/2019/04/30/gen-ju-zuo-biao-jing-wei-du-ji-suan-liang-dian-zhi-jian-de-ju-chi/</url>
      
        <content type="html"><![CDATA[<p>地球是一个近乎标准的椭球体，它的赤道半径为6378.140千米，极半径为 6356.755千米，平均半径6371.004千米。</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 给定的经度1，纬度1；经度2，纬度2. 计算2个经纬度之间的距离。</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;lat1&quot;&gt;</span>纬度1<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;lon1&quot;&gt;</span>经度1<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;lat2&quot;&gt;</span>纬度2<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;lon2&quot;&gt;</span>经度2<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>距离（公里、千米）<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="built_in">double</span> <span class="title">Distance</span>(<span class="params"><span class="built_in">double</span> lat1, <span class="built_in">double</span> lon1, <span class="built_in">double</span> lat2, <span class="built_in">double</span> lon2</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">double</span> EARTH_RADIUS = <span class="number">6371.0</span>;</span><br><span class="line">    <span class="comment">//用haversine公式计算球面两点间的距离。</span></span><br><span class="line">    <span class="comment">//经纬度转换成弧度</span></span><br><span class="line">    lat1 = ConvertDegreesToRadians(lat1);</span><br><span class="line">    lon1 = ConvertDegreesToRadians(lon1);</span><br><span class="line">    lat2 = ConvertDegreesToRadians(lat2);</span><br><span class="line">    lon2 = ConvertDegreesToRadians(lon2);</span><br><span class="line">    <span class="comment">//差值</span></span><br><span class="line">    <span class="keyword">var</span> vLon = Math.Abs(lon1 - lon2);</span><br><span class="line">    <span class="keyword">var</span> vLat = Math.Abs(lat1 - lat2);</span><br><span class="line">    <span class="comment">// h is the great circle distance in radians, great circle</span></span><br><span class="line">    <span class="comment">// 就是一个球体上的切面，它的圆心即是球心的一个周长最大的圆。</span></span><br><span class="line">    <span class="keyword">var</span> h = HaverSin(vLat) + Math.Cos(lat1) * Math.Cos(lat2) * HaverSin(vLon);</span><br><span class="line">    <span class="keyword">var</span> distance = <span class="number">2</span> * EARTH_RADIUS * Math.Asin(Math.Sqrt(h));</span><br><span class="line">    <span class="keyword">return</span> distance;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 将角度换算为弧度。</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;degrees&quot;&gt;</span>角度<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>弧度<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="built_in">double</span> <span class="title">ConvertDegreesToRadians</span>(<span class="params"><span class="built_in">double</span> degrees</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> degrees * Math.PI / <span class="number">180</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 将弧度换算为角度。</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;radian&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="built_in">double</span> <span class="title">ConvertRadiansToDegrees</span>(<span class="params"><span class="built_in">double</span> radian</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> radian * <span class="number">180.0</span> / Math.PI;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> HaverSin</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;theta&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="built_in">double</span> <span class="title">HaverSin</span>(<span class="params"><span class="built_in">double</span> theta</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> v = Math.Sin(theta / <span class="number">2</span>);</span><br><span class="line">    <span class="keyword">return</span> v * v;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在线计算经纬度距离工具 <a href="http://www.gpsspg.com/distance.htm">http://www.gpsspg.com/distance.htm</a></p><p>参考 <a href="https://blog.csdn.net/xiejm2333/article/details/73297004">https://blog.csdn.net/xiejm2333/article/details/73297004</a></p><p><a href="https://www.cnblogs.com/zhoug2020/p/3950933.html">https://www.cnblogs.com/zhoug2020/p/3950933.html</a></p>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C# 获取类名</title>
      <link href="/2019/04/17/csharp-huo-qu-lei-ming/"/>
      <url>/2019/04/17/csharp-huo-qu-lei-ming/</url>
      
        <content type="html"><![CDATA[<ol><li>获取C#类中类名</li></ol><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">System.Reflection.MethodBase.GetCurrentMethod().DeclaringType.Name;</span><br></pre></td></tr></table></figure><ol start="2"><li>获取C#类中类名（包含命名空间）</li></ol><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">System.Reflection.MethodBase.GetCurrentMethod().DeclaringType.FullName;</span><br></pre></td></tr></table></figure><ol start="3"><li>获取C# 类中方法名</li></ol><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">System.Reflection.MethodBase.GetCurrentMethod().Name;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Post、Get请求</title>
      <link href="/2019/03/05/post-get-qing-qiu/"/>
      <url>/2019/03/05/post-get-qing-qiu/</url>
      
        <content type="html"><![CDATA[<p>post、get请求方法</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> Post、Get请求</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;url&quot;&gt;</span>请求地址（http:localshost：8080）<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;method&quot;&gt;</span>请求方式（post、get）<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;bodys&quot;&gt;</span>post请求参数<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;querys&quot;&gt;</span>get请求蚕食<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;headers&quot;&gt;</span>请求头<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;contentType&quot;&gt;</span>编码方式（application/x-www-form-urlencoded）<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">string</span> <span class="title">HttpInvoker</span>(<span class="params"><span class="built_in">string</span> url, <span class="built_in">string</span> method, <span class="built_in">string</span> bodys, <span class="built_in">string</span> querys, Dictionary&lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt; headers, <span class="built_in">string</span> contentType</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    HttpWebRequest httpRequest = <span class="literal">null</span>;</span><br><span class="line">    HttpWebResponse httpResponse = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">if</span> (querys.Length &lt; <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        url = url + <span class="string">&quot;?&quot;</span> + querys;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (url.Contains(<span class="string">&quot;https://&quot;</span>))</span><br><span class="line">    &#123;</span><br><span class="line">        ServicePointManager.ServerCertificateValidationCallback = <span class="keyword">new</span> RemoteCertificateValidationCallback(CheckValidationResult);</span><br><span class="line">        httpRequest = (HttpWebRequest)WebRequest.CreateDefault(<span class="keyword">new</span> Uri(url));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        httpRequest = (HttpWebRequest)WebRequest.Create(url);</span><br><span class="line">    &#125;</span><br><span class="line">    httpRequest.Method = method.ToUpper();</span><br><span class="line">    <span class="keyword">foreach</span> (<span class="keyword">var</span> header <span class="keyword">in</span> headers)</span><br><span class="line">    &#123;</span><br><span class="line">        httpRequest.Headers.Add(header.Key, header.Value);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//根据API的要求，定义相对应的Content-Type</span></span><br><span class="line">    httpRequest.ContentType = contentType;</span><br><span class="line">    <span class="keyword">if</span> (bodys.Length &lt; <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//添加post参数</span></span><br><span class="line">        <span class="built_in">byte</span>[] data = Encoding.UTF8.GetBytes(bodys);</span><br><span class="line">        <span class="keyword">using</span> (Stream stream = httpRequest.GetRequestStream())</span><br><span class="line">        &#123;</span><br><span class="line">            stream.Write(data, <span class="number">0</span>, data.Length);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    &#123;</span><br><span class="line">        httpResponse = (HttpWebResponse)httpRequest.GetResponse();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (WebException ex)</span><br><span class="line">    &#123;</span><br><span class="line">        httpResponse = (HttpWebResponse)ex.Response;</span><br><span class="line">    &#125;</span><br><span class="line">    Stream s = httpResponse.GetResponseStream();</span><br><span class="line">    <span class="built_in">string</span> result = <span class="built_in">string</span>.Empty;</span><br><span class="line">    <span class="keyword">using</span> (StreamReader reader = <span class="keyword">new</span> StreamReader(s, Encoding.UTF8))</span><br><span class="line">    &#123;</span><br><span class="line">        result = reader.ReadToEnd();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="built_in">bool</span> <span class="title">CheckValidationResult</span>(<span class="params"><span class="built_in">object</span> sender, X509Certificate certificate, X509Chain chain, SslPolicyErrors errors</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Image和Base64相互转换</title>
      <link href="/2019/03/05/image-he-base64-xiang-hu-zhuan-huan/"/>
      <url>/2019/03/05/image-he-base64-xiang-hu-zhuan-huan/</url>
      
        <content type="html"><![CDATA[<ol><li>图片转换为Base64</li></ol><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 图片转换为base64</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;imagefile&quot;&gt;</span>图片路径<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;picFomatter&quot;&gt;</span>图片格式(.jpg、.png等)<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="built_in">string</span> <span class="title">GetBase64FromImage</span>(<span class="params"><span class="built_in">string</span> imagefile,<span class="built_in">string</span> icFomatter</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">string</span> strbaser64 = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    &#123;</span><br><span class="line">        Bitmap bmp = <span class="keyword">new</span> Bitmap(imagefile);</span><br><span class="line">        MemoryStream ms = <span class="keyword">new</span> MemoryStream();</span><br><span class="line">        ImageFormat format = ImageFormat.Jpeg;</span><br><span class="line">        <span class="keyword">switch</span> (picFomatter)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;png&quot;</span>:</span><br><span class="line">                format = ImageFormat.Png;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;bmp&quot;</span>:</span><br><span class="line">                format = ImageFormat.Bmp;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        bmp.Save(ms, format);</span><br><span class="line">        <span class="built_in">byte</span>[] arr = <span class="keyword">new</span> <span class="built_in">byte</span>[ms.Length];</span><br><span class="line">        ms.Position = <span class="number">0</span>;</span><br><span class="line">        ms.Read(arr, <span class="number">0</span>, (<span class="built_in">int</span>)ms.Length);</span><br><span class="line">        ms.Close();</span><br><span class="line">        ms.Dispose();</span><br><span class="line">        strbaser64 = Convert.ToBase64String(arr);</span><br><span class="line">        <span class="keyword">switch</span> (picFomatter)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;jpg&quot;</span>:</span><br><span class="line">                strbaser64 = <span class="string">&quot;data:image/&quot;</span> + picFomatter + <span class="string">&quot;;base64,&quot;</span> + strbaser64;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;jpeg&quot;</span>:</span><br><span class="line">                strbaser64 = <span class="string">&quot;data:image/&quot;</span> + picFomatter + <span class="string">&quot;;base64,&quot;</span> + strbaser64;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;bmp&quot;</span>:</span><br><span class="line">                strbaser64 = <span class="string">&quot;data:image/&quot;</span> + picFomatter + <span class="string">&quot;;base64,&quot;</span> + strbaser64;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="literal">default</span>:</span><br><span class="line">                strbaser64 = <span class="string">&quot;data:image/png&quot;</span> + <span class="string">&quot;;base64,&quot;</span> + strbaser64;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (Exception)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;Something wrong during convert!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> strbaser64;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>Base64转换图片</li></ol><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> Base64转换图片</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;strbase64&quot;&gt;</span>base64字符串<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;picFomatter&quot;&gt;</span>图片格式<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="built_in">string</span> <span class="title">Base64StringToImage</span>(<span class="params"><span class="built_in">string</span> strbase64, <span class="built_in">string</span> icFomatter</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">byte</span>[] arr = Convert.FromBase64String(strbase64);</span><br><span class="line">        MemoryStream ms = <span class="keyword">new</span> MemoryStream(arr);</span><br><span class="line">        Bitmap bmp = <span class="keyword">new</span> Bitmap(ms);</span><br><span class="line">        <span class="built_in">string</span> filePath = System.AppDomain.CurrentDomain.BaseDirectory;</span><br><span class="line">        ImageFormat format = ImageFormat.Jpeg;</span><br><span class="line">        <span class="keyword">switch</span> (picFomatter)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;png&quot;</span>:</span><br><span class="line">                format = ImageFormat.Png;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;bmp&quot;</span>:</span><br><span class="line">                format = ImageFormat.Bmp;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">string</span> filename = filePath + DateTime.Now.ToFileTime().ToString() + <span class="string">&quot;.&quot;</span> + picFomatter;</span><br><span class="line">        bmp.Save(filename, format);</span><br><span class="line">        ms.Close();</span><br><span class="line">        <span class="keyword">return</span> filename;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (Exception ex)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 判断是否Base64编码</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;s&quot;&gt;</span>编码字符串<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="built_in">bool</span> <span class="title">IsBase64</span>(<span class="params"><span class="built_in">string</span> s</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    &#123;</span><br><span class="line">        Convert.FromBase64String(s);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (FormatException)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Html checkbox全选</title>
      <link href="/2019/03/04/html-checkbox-quan-xuan/"/>
      <url>/2019/03/04/html-checkbox-quan-xuan/</url>
      
        <content type="html"><![CDATA[<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;table <span class="keyword">class</span>=<span class="string">&quot;data-table td-center&quot;</span>&gt;</span><br><span class="line">     <span class="language-xml"><span class="tag">&lt;<span class="name">tr</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">id</span>=<span class="string">&quot;ckAll&quot;</span> <span class="attr">name</span>=<span class="string">&quot;checkAll&quot;</span>  /&gt;</span>全选<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>编号<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>姓名<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>班级<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>年龄<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>邮箱<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>操作<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">     <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span></span><br><span class="line">     <span class="language-xml"><span class="tag">&lt;<span class="name">tr</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;checkItem&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;checkOne(this)&quot;</span>/&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>张三<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>2班<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>12<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>zs@qq.com<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&#x27;javascript:void(0);&#x27;</span>&gt;</span>删除<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">tr</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;checkItem&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;checkOne(this)&quot;</span> /&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>2<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>李四<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>1班<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>11<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>ls@qq.com<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&#x27;javascript:void(0);&#x27;</span>&gt;</span>删除<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span></span><br><span class="line">&lt;/table&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C# DataTable 用法</title>
      <link href="/2019/01/22/csharp-datatable-yong-fa/"/>
      <url>/2019/01/22/csharp-datatable-yong-fa/</url>
      
        <content type="html"><![CDATA[<ol><li>创建DataTable</li></ol><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DataTable dataTable = <span class="keyword">new</span> DataTable(); <span class="comment">//创建一个空表</span></span><br></pre></td></tr></table></figure><ol start="2"><li>创建DataRow</li></ol><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">DataRow row =  dataTable.NewRow(); <span class="comment">//创建空行</span></span><br><span class="line">dataTable.Rows.Add(row); <span class="comment">//添加行</span></span><br><span class="line"></span><br><span class="line">DataRow row = dataTable.Rows.Add(); <span class="comment">//创建空行</span></span><br></pre></td></tr></table></figure><ol start="3"><li>创建DataColumn</li></ol><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.创建空列</span></span><br><span class="line">DataColumn dc = <span class="keyword">new</span> DataColumn();</span><br><span class="line">dataTable.Columns.Add(dc);</span><br><span class="line"><span class="comment">//2.创建带列名和类型名的列(两种方式任选其一)</span></span><br><span class="line">dataTable.Columns.Add(<span class="string">&quot;column0&quot;</span>,System.Type.GetType(<span class="string">&quot;System.String&quot;</span>));</span><br><span class="line">dataTable.Columns.Add(<span class="string">&quot;column0&quot;</span>, <span class="keyword">typeof</span>(String));</span><br></pre></td></tr></table></figure><ol start="4"><li>筛选</li></ol><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dataTable.Select(<span class="string">&quot;column0 like &#x27;li%&#x27;&quot;</span>); <span class="comment">//类似写sql语句</span></span><br><span class="line">dataTable.Select(<span class="string">&quot;column0 like &#x27;li%&#x27;&quot;</span>,<span class="string">&quot;column0 DESC&quot;</span>); <span class="comment">//可以排序</span></span><br><span class="line"><span class="built_in">object</span> obj = dataTable.Compute(<span class="string">&quot;max(列名)&quot;</span>, <span class="string">&quot;&quot;</span>);  <span class="comment">//还可以使用其它sql的函数</span></span><br></pre></td></tr></table></figure><ol start="5"><li>删除</li></ol><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dataTable.Rows.Remove(dataTable.Rows[<span class="number">0</span>]);</span><br><span class="line">dataTable.Rows.RemoveAt(<span class="number">0</span>);<span class="comment">//通过索引删除</span></span><br></pre></td></tr></table></figure><ol start="6"><li>复制表</li></ol><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">DataTable newdt = dataTable.Clone(); <span class="comment">//复制DataTable的表结构</span></span><br><span class="line">DataTable dtNew = dataTable.Copy();<span class="comment">//复制DataTable的表结构及数据</span></span><br><span class="line">dataTable.ImportRow(dataRow); <span class="comment">//将dataRow中的数据复制到dataTable的dataRow中</span></span><br></pre></td></tr></table></figure><ol start="7"><li>排序</li></ol><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">DataView dv = dataTable.DefaultView;</span><br><span class="line">dv.Sort = <span class="string">&quot; 列名 DESC&quot;</span>;</span><br><span class="line">DataTable dtNew = dv.ToTable();</span><br></pre></td></tr></table></figure><p>参考： <a href="https://docs.microsoft.com/zh-cn/dotnet/api/system.data.datatable?view=netframework-4.7.2">https://docs.microsoft.com/zh-cn/dotnet/api/system.data.datatable?view=netframework-4.7.2</a></p>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Math.round、Math.floor、Math.ceil 区别</title>
      <link href="/2019/01/17/math.round-math.floor-math.ceil-qu-bie/"/>
      <url>/2019/01/17/math.round-math.floor-math.ceil-qu-bie/</url>
      
        <content type="html"><![CDATA[<ol><li><p>Math.round（） 按照四舍五入的方式返回值</p><p> 例如：Math.round（9.5）&#x3D;10</p></li></ol><p>　　      Math.round（9.4）&#x3D;9</p><ol start="2"><li><p>Math.floor（）返回最小整数</p><p> 例如：Math.floor（9.5）&#x3D;9</p></li></ol><p>　　　    Math.floor（9.2）&#x3D;9</p><ol start="3"><li><p>Math.ceil（）返回最大整数</p><p> 例如： Math.ceil（9.1）&#x3D;10</p></li></ol><p>　　       Math.ceil（9.5）&#x3D;10</p>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSS中margin属性</title>
      <link href="/2018/12/18/css-zhong-margin-shu-xing/"/>
      <url>/2018/12/18/css-zhong-margin-shu-xing/</url>
      
        <content type="html"><![CDATA[<p>css中margin块级元素的垂直相邻外边距会合并，比如<br><img src="/images/2018121813270701.png" alt="2018121813270701.png"></p><p>方框的上下外边距并不是2px，而是合并为1px了。</p><p>设置float属性就可以避免这种同级元素边距合并</p>]]></content>
      
      
      <categories>
          
          <category> HTML/CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTML/CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SQL Server 常用函数</title>
      <link href="/2018/12/12/sql-server-chang-yong-han-shu/"/>
      <url>/2018/12/12/sql-server-chang-yong-han-shu/</url>
      
        <content type="html"><![CDATA[<h2 id="SUBSTRING-expression-start-length"><a href="#SUBSTRING-expression-start-length" class="headerlink" title="SUBSTRING ( expression ,start , length )"></a>SUBSTRING ( expression ,start , length )</h2><p>参数</p><p>. expression<br>字符串、二进制字符串、文本、图像、列或包含列的表达式。不要使用包含聚合函数的表达式。</p><p>.start<br>指定子字符串从何处开始的整数。start可以是bigint类型；索引从1开始</p><p>.length<br>长度是一个正整数，它指定返回表达式的字符或字节数。如果长度为负值，则返回错误。长度可以是bigint型</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">SUBSTRING</span>(<span class="string">&#x27;LGAG4DY30B353&#x27;</span>,<span class="number">1</span>,<span class="number">10</span>)  <span class="comment">--截取前10位返回结果 LGAG4DY30B</span></span><br></pre></td></tr></table></figure><h2 id="STUFF-character-expression-start-length-replaceWith-expression"><a href="#STUFF-character-expression-start-length-replaceWith-expression" class="headerlink" title="STUFF ( character_expression , start , length , replaceWith_expression )"></a>STUFF ( character_expression , start , length , replaceWith_expression )</h2><p>参数</p><p>.character_expression<br>字符数据的表达式可以是常量、变量，也可以是字符列或二进制数据列。</p><p>.start<br>一个整数值，指定删除和插入的开始位置。 如果 start 为负或为零，则返回空字符串。 如果 start 的长度大于第一个 character_expression，则返回空字符串。 start 的类型可以是 bigint。索引从1开始。</p><p>.length<br>一个整数，指定要删除的字符数。 如果 length 为负，则返回空字符串。 如果 length 的长度大于第一个 character_expression，则最多可以删除到最后一个 character_expression 中的最后一个字符。 如果 length 为零，则在字符串中第一个字符之前插入内容。 length 的类型可以是 bigint。</p><p>.replaceWith_expression<br>字符数据的表达式。 character_expression 可以是常量、变量，也可以是字符列或二进制数据列。 此表达式从 start 开始替换 length 个字符的 character_expression。 如果 replaceWith_expression 为 NULL，则在不插入任何内容的情况下删除字符。</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> STUFF(<span class="string">&#x27;LGAG4DY30B&#x27;</span>,<span class="number">9</span>,<span class="number">1</span>,<span class="string">&#x27;-&#x27;</span>) <span class="comment">--返回结果 LGAG4DY3-B</span></span><br></pre></td></tr></table></figure><p><strong>SELECT 字段 FROM 表名 FOR JSON AUTO</strong><br><strong>SELECT 字段 FROM 表名 FOR JSON PATH</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> top <span class="number">1</span> Id,Name,CreateTime <span class="keyword">from</span> Log <span class="keyword">for</span> json path  <span class="comment">--返回结果 [&#123;&quot;Id&quot;:1,&quot;Name&quot;:&quot;车辆信息查询&quot;,&quot;CreateTime&quot;:&quot;2018-09-06T09:00:28.090&quot;&#125;]</span></span><br></pre></td></tr></table></figure><p><strong>SELECT 字段 FROM 表名 FOR JSON PATH，ROOT(‘ ‘)</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> top <span class="number">1</span> Id,Name,CreateTime <span class="keyword">from</span> Log <span class="keyword">for</span> json path,root(<span class="string">&#x27;Log&#x27;</span>)  <span class="comment">--返回结果 &#123;&quot;Log&quot;:[&#123;&quot;Id&quot;:1,&quot;Name&quot;:&quot;车辆信息查询&quot;,&quot;CreateTime&quot;:&quot;2018-09-06T09:00:28.090&quot;&#125;]&#125;</span></span><br></pre></td></tr></table></figure><p><strong>FOR XML PATH 用法类似</strong><br><strong>FOR XML PATH和STUFF结合使用，将字段用逗号连接起来</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> STUFF((<span class="keyword">select</span> <span class="string">&#x27;,&#x27;</span><span class="operator">+</span><span class="keyword">CONVERT</span>(<span class="type">varchar</span>(<span class="number">200</span>),ID) <span class="keyword">from</span>  SMP_Case <span class="keyword">for</span> xml path(<span class="string">&#x27;&#x27;</span>)),<span class="number">1</span>,<span class="number">1</span>,<span class="string">&#x27;&#x27;</span>) <span class="keyword">as</span> IDs</span><br></pre></td></tr></table></figure><h2 id="CHARINDEX-expressionToFind-expressionToSearch-start-location"><a href="#CHARINDEX-expressionToFind-expressionToSearch-start-location" class="headerlink" title="CHARINDEX ( expressionToFind , expressionToSearch [ , start_location ] )"></a>CHARINDEX ( expressionToFind , expressionToSearch [ , start_location ] )</h2><p>参数</p><p>.expressionToFind<br>一个字符表达式，其中包含要查找的序列。 expressionToFind 限制为 8000 个字符 。</p><p>.expressionToSearch<br>要搜索的字符表达式。</p><p>.start_location<br>表示搜索开始位置的 integer 或 bigint 表达式 。 如果 start_location 未指定、具有负数值或 0，搜索将从 expressionToSearch 的开头开始 。</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> CHARINDEX(<span class="string">&#x27;-&#x27;</span>,<span class="string">&#x27;LGWE13243-ABC&#x27;</span>)  <span class="comment">--返回结果10</span></span><br></pre></td></tr></table></figure><h2 id="PATINDEX-‘-pattern-’-expression"><a href="#PATINDEX-‘-pattern-’-expression" class="headerlink" title="PATINDEX ( ‘%pattern%’ , expression )"></a>PATINDEX ( ‘%pattern%’ , expression )</h2><p>参数</p><p>.pattern<br>包含要查找的序列的字符表达式。 可以使用通配符；但 pattern 之前和之后必须有 % 字符（搜索第一个或最后一个字符时除外） 。 pattern 是字符串数据类型类别的表达式 。 pattern最多包含 8000 个字符 。</p><p>.expression<br>是一个expression，通常是针对指定模式搜索的列。 expression 是字符串数据类型类别的表达式 。</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> PATINDEX(<span class="string">&#x27;%-%&#x27;</span>,<span class="string">&#x27;243532B-ACFDF3333&#x27;</span>) <span class="comment">--返回结果8</span></span><br></pre></td></tr></table></figure><p>参考：  <a href="https://docs.microsoft.com/zh-cn/sql/t-sql/functions/len-transact-sql?view=sql-server-2017">https://docs.microsoft.com/zh-cn/sql/t-sql/functions/len-transact-sql?view=sql-server-2017</a></p><p>　　　<a href="https://docs.microsoft.com/en-us/sql/relational-databases/json/format-query-results-as-json-with-for-json-sql-server?view=sql-server-2017">https://docs.microsoft.com/en-us/sql/relational-databases/json/format-query-results-as-json-with-for-json-sql-server?view=sql-server-2017</a></p>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>API 接口收集</title>
      <link href="/2018/12/12/api-jie-kou-shou-ji/"/>
      <url>/2018/12/12/api-jie-kou-shou-ji/</url>
      
        <content type="html"><![CDATA[<p>节假日</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">http://api.goseek.cn/</span><br><span class="line">http://timor.tech/api/holiday</span><br><span class="line">http://www.easybots.cn/api/holiday.php?d=20130101</span><br><span class="line">https://tool.bitefu.net/jiari/?d=20181001&amp;info=1</span><br></pre></td></tr></table></figure><p>发票验证</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://market.aliyun.com/products/56928005/cmapi025075.html?spm=5176.10695662.1996646101.searchclickresult.112d7d3dtnP9jR#sku=yuncode1907500000</span><br><span class="line">https://market.aliyun.com/products/57124001/cmapi027758.html#sku=yuncode2175800000</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Other </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Other </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Json 序列化为Dictionary</title>
      <link href="/2018/11/16/json-xu-lie-hua-wei-dictionary/"/>
      <url>/2018/11/16/json-xu-lie-hua-wei-dictionary/</url>
      
        <content type="html"><![CDATA[<p>如下所示的json字符串中包含中文属性转换成英文属性</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">[</span><span class="attr">&quot;sid&quot;</span><span class="punctuation">:</span><span class="string">&quot;dd1312&quot;</span><span class="punctuation">,</span><span class="attr">&quot;success&quot;</span><span class="punctuation">:</span><span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span><span class="attr">&quot;data&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;发票代码&quot;</span><span class="punctuation">:</span> <span class="string">&quot;032001500XXX&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;发票号码&quot;</span><span class="punctuation">:</span> <span class="string">&quot;25272XXX&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;开票日期&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2017年XX月XX日&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;校验码&quot;</span><span class="punctuation">:</span> <span class="string">&quot;15922733756000XXXXXX&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;发票金额&quot;</span><span class="punctuation">:</span> <span class="string">&quot;XXX.00&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;发票税额&quot;</span><span class="punctuation">:</span> <span class="string">&quot;XXX.43&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;不含税金额&quot;</span><span class="punctuation">:</span> <span class="string">&quot;XXX.57&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;受票方名称&quot;</span><span class="punctuation">:</span> <span class="string">&quot;XXX&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;受票方税号&quot;</span><span class="punctuation">:</span> <span class="string">&quot;XXXX&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;受票方地址、电话&quot;</span><span class="punctuation">:</span> <span class="string">&quot;XXX&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;受票方开户行、账号&quot;</span><span class="punctuation">:</span> <span class="string">&quot;XXX&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;销售方名称&quot;</span><span class="punctuation">:</span> <span class="string">&quot;XXX&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;销售方税号&quot;</span><span class="punctuation">:</span> <span class="string">&quot;913201043023368XXX&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;销售方地址、电话&quot;</span><span class="punctuation">:</span> <span class="string">&quot;XXX&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;销售方开户行、账号&quot;</span><span class="punctuation">:</span> <span class="string">&quot;XXX&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">]</span></span><br></pre></td></tr></table></figure><p>现将json字符串转换成Dictionary类型</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 将Json数据反序列化为Dictionary</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;jsonData&quot;&gt;</span>json数据<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Dictionary&lt;<span class="built_in">string</span>, <span class="built_in">object</span>&gt; <span class="title">JsonToDictionary</span>(<span class="params"><span class="built_in">string</span> sonData</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//实例化JavaScriptSerializer类的新实例</span></span><br><span class="line">    JavaScriptSerializer javaScriptSerializer = <span class="keyword">new</span> JavaScriptSerializer();</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//将指定的 JSON 字符串转换为 Dictionary&lt;string, object&gt; 类型的对象</span></span><br><span class="line">        <span class="keyword">return</span> javaScriptSerializer.Deserialize&lt;Dictionary&lt;<span class="built_in">string</span>, <span class="built_in">object</span>&gt;&gt;(jsonData);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (Exception ex)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> Exception(ex.Message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>然后将中文属性转换成对应的英文属性</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">Dictionary&lt;<span class="built_in">string</span>,<span class="built_in">object</span>&gt; dic = JsonToDictionary(ress);</span><br><span class="line">InvoiceAliOcr res = <span class="keyword">new</span> InvoiceAliOcr();</span><br><span class="line">res.data = <span class="keyword">new</span> Ocr();</span><br><span class="line"><span class="keyword">if</span> (dic != <span class="literal">null</span> &amp;&amp;dic.ContainsKey(<span class="string">&quot;data&quot;</span>))</span><br><span class="line">&#123;</span><br><span class="line">    Dictionary&lt;<span class="built_in">string</span>, <span class="built_in">object</span>&gt; dataSet = (Dictionary&lt;<span class="built_in">string</span>, <span class="built_in">object</span>&gt;)dic[<span class="string">&quot;data&quot;</span>];</span><br><span class="line">    <span class="keyword">foreach</span> (KeyValuePair&lt;<span class="built_in">string</span>, <span class="built_in">object</span>&gt; item <span class="keyword">in</span> dataSet)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">switch</span> (item.Key)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;发票代码&quot;</span>:</span><br><span class="line">                res.data.fpdm = item.Value.ToString();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;发票号码&quot;</span>:</span><br><span class="line">                res.data.fphm = item.Value.ToString();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;开票日期&quot;</span>:</span><br><span class="line">                res.data.kprq = <span class="built_in">string</span>.IsNullOrEmpty(item.Value.ToString()) ? <span class="string">&quot;&quot;</span> : Convert.ToDateTime(item.Value.ToString()).ToString(<span class="string">&quot;yyyyMMdd&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;校验码&quot;</span>:</span><br><span class="line">                res.data.code = item.Value.ToString();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;发票金额&quot;</span>:</span><br><span class="line">                res.data.sumamount = item.Value.ToString();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;发票税额&quot;</span>:</span><br><span class="line">                res.data.taxamount = item.Value.ToString();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;不含税金额&quot;</span>:</span><br><span class="line">                res.data.notaxamount = item.Value.ToString();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;受票方名称&quot;</span>:</span><br><span class="line">                res.data.gfMc = item.Value.ToString();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;受票方税号&quot;</span>:</span><br><span class="line">                res.data.gfCode = item.Value.ToString();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;销售方名称&quot;</span>:</span><br><span class="line">                res.data.sfMc = item.Value.ToString();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;销售方税号&quot;</span>:</span><br><span class="line">                res.data.sfCode = item.Value.ToString();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="literal">default</span>:</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>RedisClient 连接redis 提示 ERR Client sent AUTH, but no password is set</title>
      <link href="/2018/11/16/redisclient-lian-jie-redis-ti-shi-err-client-sent-auth-but-no-password-is-set/"/>
      <url>/2018/11/16/redisclient-lian-jie-redis-ti-shi-err-client-sent-auth-but-no-password-is-set/</url>
      
        <content type="html"><![CDATA[<p><img src="/images/2018111610561601.png" alt="2018111610561601.png"><br>使用redisclient连接redis出现上图的错误</p><p>在配置中已经找到requirepass修改了密码，但是还是出现上图错误。在网上找了资料在dos设置<br><img src="/images/2018111610561602.png" alt="2018111610561602.png"></p><p>出现上图红框中的错误，研究了半天也没有解决。后来将配置中的requirepass重新注释掉，在重新配置就可以了。<br><img src="/images/2018111610561603.png" alt="2018111610561603.png"></p><p>参考文章 <a href="http://www.cnblogs.com/robinli/p/9265186.html">http://www.cnblogs.com/robinli/p/9265186.html</a></p>]]></content>
      
      
      <categories>
          
          <category> MVC </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MVC </tag>
            
            <tag> Redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MVC JSON JavaScriptSerializer 进行序列化或反序列化时出错</title>
      <link href="/2018/11/12/mvc-json-javascriptserializer-jin-xing-xu-lie-hua-huo-fan-xu-lie-hua-shi-chu-cuo/"/>
      <url>/2018/11/12/mvc-json-javascriptserializer-jin-xing-xu-lie-hua-huo-fan-xu-lie-hua-shi-chu-cuo/</url>
      
        <content type="html"><![CDATA[<p>MVC control中返回json格式数据一般都是如下格式</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">HttpPost</span>]</span><br><span class="line"><span class="function"><span class="keyword">public</span> ActionResult <span class="title">CaseAudit</span>(<span class="params"><span class="built_in">string</span> name</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> data =<span class="string">&quot;dasda&quot;</span>；    </span><br><span class="line">    <span class="keyword">return</span> Json(data);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>但是这样如果字符串长度太大会报错</p><p><strong>JSON JavaScriptSerializer 进行序列化或反序列化时出错。字符串的长度超过了为 maxJsonLength 属性设置的值</strong></p><p>按下面方法可以解决</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">HttpPost</span>]</span><br><span class="line"><span class="function"><span class="keyword">public</span> ActionResult <span class="title">CaseAudit</span>(<span class="params"><span class="built_in">string</span> name</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> data =<span class="string">&quot;dasda&quot;</span>；    </span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> JsonResult() &#123; Data = data, MaxJsonLength = <span class="built_in">int</span>.MaxValue, ContentType = <span class="string">&quot;application/json&quot;</span> &#125;；</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>或者在Web.config中配置</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">system.web.extensions</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scripting</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">webServices</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">jsonSerialization</span> <span class="attr">maxJsonLength</span>=<span class="string">&quot;1024000000&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">webServices</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">scripting</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">system.web.extensions</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> MVC </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MVC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MVC Control 接收post请求的json数据</title>
      <link href="/2018/11/07/mvc-control-jie-shou-post-qing-qiu-de-json-shu-ju/"/>
      <url>/2018/11/07/mvc-control-jie-shou-post-qing-qiu-de-json-shu-ju/</url>
      
        <content type="html"><![CDATA[<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">HttpPost</span>]</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="built_in">string</span> <span class="title">QueryInvoice</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">string</span> stream;</span><br><span class="line">    <span class="keyword">using</span> (<span class="keyword">var</span> sr = <span class="keyword">new</span> StreamReader(Request.InputStream))</span><br><span class="line">    &#123;</span><br><span class="line">        stream = sr.ReadToEnd();</span><br><span class="line">    &#125;</span><br><span class="line">    JavaScriptSerializer js = <span class="keyword">new</span> JavaScriptSerializer();</span><br><span class="line">    QueryInfo info = js.Deserialize&lt;QueryInfo&gt;(stream);</span><br><span class="line">    <span class="keyword">if</span> (info == <span class="literal">null</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> “请输入正确参数”;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">QueryInfo</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> caseNumber &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> picture &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> MVC </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MVC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python 数据类型</title>
      <link href="/2018/09/04/python-shu-ju-lei-xing/"/>
      <url>/2018/09/04/python-shu-ju-lei-xing/</url>
      
        <content type="html"><![CDATA[<h2 id="Python数据类型"><a href="#Python数据类型" class="headerlink" title="Python数据类型"></a>Python数据类型</h2><p>查看数据类型的方法：例如看int类型的方法，在pycharm里 输入int，然后按住ctrl鼠标点击int即可查看int类型的方法</p><h3 id="数字"><a href="#数字" class="headerlink" title="数字"></a>数字</h3><p>int （整型）</p><p>在python2中<br>在32位机器上，整数的位数为32位，范围是 -231<del>231-1<br>在64位机器上，整数的位数为64位，范围是 -263</del>263-1</p><p>在python3中<br>整型长度无限制<br><img src="/images/2018091411011101.png" alt="2018091411011101.png"></p><h3 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h3><p><img src="/images/2018091411011102.png" alt="2018091411011102.png"><br>特性：</p><ol><li>字符串按照从左到右的字符集存放，可以使用索引的方式访问（从0开始），是有序的</li><li>只能存放一个值，不可变</li></ol><h3 id="布尔"><a href="#布尔" class="headerlink" title="布尔"></a>布尔</h3><p>真或假<br>假包括 False、0、空字符串（‘ ’）、[]列表、（）元组、{}字典、None</p><h3 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h3><p>创建列表<br>lst &#x3D; [1, 3, ‘jack’]  或者<br>lst &#x3D; list([1, 3, ‘jack’])</p><p>特性:</p><ol><li>可以存放多个值</li><li>可以使用索引的方式访问（从0开始），是<strong>有序</strong>的</li><li><strong>可以</strong>修改指定索引对应的值</li></ol><h3 id="元组"><a href="#元组" class="headerlink" title="元组"></a>元组</h3><p>创建元组<br>tu &#x3D; (1, 2, [‘jack’], ‘abc’,)   或者<br>tu &#x3D; list((1, 2, [‘jack’], ‘abc’,))</p><p>特性</p><ol><li>可以存放多个值</li><li>可以使用索引的方式访问（从0开始），是<strong>有序</strong>的</li><li><strong>不可以</strong>修改指定索引对应的值</li></ol><h3 id="字典"><a href="#字典" class="headerlink" title="字典"></a>字典</h3><p>创建字典<br>dic &#x3D; {‘name’: ‘jack’, ‘age’: 18}  或者<br>dic &#x3D; dict({‘name’: ‘jack’, ‘age’: 18})</p><p>特性</p><ol><li>可以存放多个值</li><li><strong>可以</strong>使用键值对的方式访问，是<strong>无序</strong>的</li></ol><h3 id="集合"><a href="#集合" class="headerlink" title="集合"></a>集合</h3><p>创建集合<br>s &#x3D; {1, 3, (1, 5, 9), [‘jack’, 2]} 或者<br>s &#x3D; set({1, 3, (1, 5, 9), [‘jack’, 2]})</p><p>特性</p><ol><li><strong>无序且不重复</strong>元素的集合</li></ol><h2 id="Python运算符"><a href="#Python运算符" class="headerlink" title="Python运算符"></a>Python运算符</h2><h3 id="算术运算符"><a href="#算术运算符" class="headerlink" title="算术运算符"></a>算术运算符</h3><p><img src="/images/2018091411011103.png" alt="2018091411011103.png"></p><h3 id="比较运算符"><a href="#比较运算符" class="headerlink" title="比较运算符"></a>比较运算符</h3><p><img src="/images/2018091411011104.png" alt="2018091411011104.png"></p><h3 id="赋值运算符"><a href="#赋值运算符" class="headerlink" title="赋值运算符"></a>赋值运算符</h3><p><img src="/images/2018091411011105.png" alt="2018091411011105.png"></p><h3 id="位运算符"><a href="#位运算符" class="headerlink" title="位运算符"></a>位运算符</h3><p><img src="/images/2018091411011106.png" alt="2018091411011106.png"></p><h3 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h3><p><img src="/images/2018091411011107.png" alt="2018091411011107.png"></p><h3 id="成员运算符"><a href="#成员运算符" class="headerlink" title="成员运算符"></a>成员运算符</h3><p><img src="/images/2018091411011108.png" alt="2018091411011108.png"></p><h3 id="身份运算符"><a href="#身份运算符" class="headerlink" title="身份运算符"></a>身份运算符</h3><p><img src="/images/2018091411011109.png" alt="2018091411011109.png"></p><h3 id="运算符优先级"><a href="#运算符优先级" class="headerlink" title="运算符优先级"></a>运算符优先级</h3><p><img src="/images/2018091411011110.png" alt="2018091411011110.png"></p><h2 id="数据类型转换"><a href="#数据类型转换" class="headerlink" title="数据类型转换"></a>数据类型转换</h2><p><img src="/images/2018091411011111.png" alt="2018091411011111.png"></p><h2 id="数据类型分类"><a href="#数据类型分类" class="headerlink" title="数据类型分类"></a>数据类型分类</h2><p>按存值个数区分</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>标量／原子类型</td><td>数字，字符串</td></tr><tr><td>容器类型</td><td>列表，元组，字典</td></tr></tbody></table><p>按可变不可变区分</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>可变</td><td>列表，字典</td></tr><tr><td>不可变</td><td>数字，字符串，元组</td></tr></tbody></table><p>按访问顺序区分</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>直接访问</td><td>数字</td></tr><tr><td>顺序访问（序列类型）</td><td>字符串，列表，元组</td></tr><tr><td>key值访问（映射类型）</td><td>字典</td></tr></tbody></table><p>参考：<a href="http://www.runoob.com/python/python-operators.html">http://www.runoob.com/python/python-operators.html</a></p><p>　　　<a href="https://docs.python.org/3/library/stdtypes.html">https://docs.python.org/3/library/stdtypes.html</a></p><p><a href="http://www.cnblogs.com/linhaifeng/articles/5935801.html">http://www.cnblogs.com/linhaifeng/articles/5935801.html</a></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Quartz和TopShelf Windows服务作业调度</title>
      <link href="/2018/07/18/quartz-he-topshelf-windows-fu-wu-zuo-ye-diao-du/"/>
      <url>/2018/07/18/quartz-he-topshelf-windows-fu-wu-zuo-ye-diao-du/</url>
      
        <content type="html"><![CDATA[<p>上一次写了一遍关于Quartz作业调度的文章</p><p>现在使用TopShelf和Quartz实现windows服务作业调度</p><p>TopShelf版本4.0<br>Quartz版本3.0.6</p><p>任务文件和上次文章的一样将日期写入txt文件中，TimeJob代码如下</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">TimeJob</span> : <span class="title">IJob</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Task <span class="title">Execute</span>(<span class="params">IJobExecutionContext context</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">string</span> filePath = <span class="string">@&quot;D:\\log.txt&quot;</span>;</span><br><span class="line">        File.AppendAllText(filePath, DateTime.Now.ToString(<span class="string">&quot;yyyy年MM月dd日 HH:mm:ss&quot;</span>) + Environment.NewLine);</span><br><span class="line">        Console.WriteLine(DateTime.Now.ToString(<span class="string">&quot;yyyy年MM月dd日 HH:mm:ss&quot;</span>) + Environment.NewLine);</span><br><span class="line">        <span class="keyword">return</span> Task.FromResult(<span class="literal">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>.创建调度器工厂  ISchedulerFactory factory &#x3D; new StdSchedulerFactory();</li><li>创建任务调度器 IScheduler scheduler &#x3D; null;</li><li>创建任务和触发器</li></ol><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">scheduler = <span class="keyword">await</span> factory.GetScheduler();</span><br><span class="line"><span class="comment">//创建一个任务</span></span><br><span class="line">IJobDetail job = JobBuilder.Create&lt;TimeJob&gt;().WithIdentity<span class="string">&quot;myJob1&quot;</span>, <span class="string">&quot;group1&quot;</span>).Build();</span><br><span class="line"><span class="comment">//创建一个触发器</span></span><br><span class="line">ITrigger trigger = TriggerBuilder.Create().WithIdentity<span class="string">&quot;myTrigger1&quot;</span>, <span class="string">&quot;group1&quot;</span>).StartNow().</span><br><span class="line">    WithSimpleSchedule(a =&gt; a.WithIntervalInSeconds(<span class="number">10</span>).RepeatForever()).Build();</span><br><span class="line"><span class="comment">//将任务和触发器添加到调度器里</span></span><br><span class="line"><span class="keyword">await</span> scheduler.ScheduleJob(job, trigger);</span><br></pre></td></tr></table></figure><ol start="4"><li>开始执行 scheduler.Start()<br>Manager代码如下</li></ol><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Manager</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//创建调度器工厂</span></span><br><span class="line">    ISchedulerFactory factory = <span class="keyword">new</span> StdSchedulerFactory();</span><br><span class="line">    <span class="comment">//创建调度器</span></span><br><span class="line">    IScheduler scheduler = <span class="literal">null</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Manager</span>()</span> &#123;</span><br><span class="line">        Init();</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">async</span> <span class="keyword">void</span> <span class="title">Init</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        scheduler = <span class="keyword">await</span> factory.GetScheduler();</span><br><span class="line">        <span class="comment">//创建一个任务</span></span><br><span class="line">        IJobDetail job = JobBuilder.Create&lt;TimeJob&gt;().WithIdentity(<span class="string">&quot;myJob1&quot;</span>, <span class="string">&quot;group1&quot;</span>).Build();</span><br><span class="line">        <span class="comment">//创建一个触发器</span></span><br><span class="line">        ITrigger trigger = TriggerBuilder.Create().WithIdentity(<span class="string">&quot;myTrigger1&quot;</span>, <span class="string">&quot;group1&quot;</span>).StartNow().</span><br><span class="line">            WithSimpleSchedule(a =&gt; a.WithIntervalInSeconds(<span class="number">10</span>).RepeatForever()).Build();</span><br><span class="line">        <span class="comment">//将任务和触发器添加到调度器里</span></span><br><span class="line">        <span class="keyword">await</span> scheduler.ScheduleJob(job, trigger);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">async</span> <span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//开始执行</span></span><br><span class="line">        <span class="keyword">await</span> scheduler.Start();</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">async</span> <span class="keyword">void</span> <span class="title">Stop</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//停止</span></span><br><span class="line">        <span class="keyword">await</span> scheduler.Shutdown(<span class="literal">false</span>);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">async</span> <span class="keyword">void</span> <span class="title">Pause</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//暂停</span></span><br><span class="line">        <span class="keyword">await</span> scheduler.PauseAll();</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">async</span> <span class="keyword">void</span> <span class="title">Continue</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//继续</span></span><br><span class="line">        <span class="keyword">await</span> scheduler.ResumeAll();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="5"><li>调用</li></ol><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> fac = HostFactory.New(x =&gt;</span><br><span class="line">    &#123;</span><br><span class="line">        x.Service&lt;Manager&gt;(s =&gt;</span><br><span class="line">        &#123;</span><br><span class="line">            s.ConstructUsing(name =&gt; <span class="keyword">new</span> Manager());</span><br><span class="line">            s.WhenStarted(m =&gt; m.Start());</span><br><span class="line">            s.WhenStopped(m =&gt; m.Stop());</span><br><span class="line">            s.WhenPaused(m =&gt; m.Pause());</span><br><span class="line">            s.WhenContinued(m =&gt; m.Continue());</span><br><span class="line">        &#125;);</span><br><span class="line">        x.RunAsLocalSystem();</span><br><span class="line">        x.SetDescription(<span class="string">&quot;QuartzTopShelfDemo Windows服务&quot;</span>);</span><br><span class="line">        x.SetDisplayName(<span class="string">&quot;QuartzTopShelfDemo 服务&quot;</span>);</span><br><span class="line">        x.SetServiceName(<span class="string">&quot;QuartzTopShelfDemoService&quot;</span>);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    fac.Run();</span><br><span class="line"></span><br><span class="line">   </span><br><span class="line">    Console.ReadKey();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="6"><li>配置安装服务</li></ol><p>安装：TopshelfDemo.exe install<br>启动：TopshelfDemo.exe start<br>卸载：TopshelfDemo.exe uninstall</p><p><img src="/images/2018071811491901.png" alt="2018071811491901.png"><br><img src="/images/2018071811491902.png" alt="2018071811491902.png"></p><p>参考：<a href="https://topshelf.readthedocs.io/en/latest/configuration/config_api.html#service-name">https://topshelf.readthedocs.io/en/latest/configuration/config_api.html#service-name</a></p>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Quartz.NET 作业调度使用</title>
      <link href="/2018/07/16/quartz.net-zuo-ye-diao-du-shi-yong/"/>
      <url>/2018/07/16/quartz.net-zuo-ye-diao-du-shi-yong/</url>
      
        <content type="html"><![CDATA[<p>Quartz.NET的使用方法有很多，今天使用Quartz.NET3.0.6的时候发现和2.0版本的语法不太一样，百度上找了一圈也没有找到解决办法</p><p>后来在<a href="https://github.com/quartznet/quartznet">GitHub</a>上下载源代码解决了<br><img src="/images/2018071617291901.png" alt="2018071617291901.png"><br>实现每隔10s将时间写入txt文件</p><ol><li>新建一个类，实现IJob接口的Execute方法<strong>Task Execute(IJobExecutionContext context)</strong></li></ol><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">TimeJob</span> : <span class="title">IJob</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Task <span class="title">Execute</span>(<span class="params">IJobExecutionContext context</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">string</span> filePath = <span class="string">@&quot;D:\\log.txt&quot;</span>;</span><br><span class="line">        File.AppendAllText(filePath, DateTime.Now + Environment.NewLine);</span><br><span class="line">        Console.WriteLine(DateTime.Now + Environment.NewLine);</span><br><span class="line">        <span class="keyword">return</span> Task.FromResult(<span class="literal">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>实现任务调度</li></ol><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    TestJob();</span><br><span class="line">    Console.ReadKey();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">async</span> Task <span class="title">TestJob</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//创建调度器工厂</span></span><br><span class="line">    ISchedulerFactory factory = <span class="keyword">new</span> StdSchedulerFactory();</span><br><span class="line">    <span class="comment">//创建调度器</span></span><br><span class="line">    IScheduler scheduler = <span class="keyword">await</span> factory.GetScheduler();</span><br><span class="line">     </span><br><span class="line">    <span class="comment">//创建一个任务</span></span><br><span class="line">    IJobDetail job = JobBuilder.Create&lt;TimeJob&gt;().WithIdentity(<span class="string">&quot;myJob1&quot;</span>, <span class="string">&quot;group1&quot;</span>).Build();</span><br><span class="line">    <span class="comment">//创建一个触发器</span></span><br><span class="line">    ITrigger trigger = TriggerBuilder.Create().WithIdentity(<span class="string">&quot;myTrigger1&quot;</span>, <span class="string">&quot;group1&quot;</span>).StartNow().</span><br><span class="line">        WithSimpleSchedule(a =&gt; a.WithIntervalInSeconds(<span class="number">10</span>).RepeatForever()).Build();</span><br><span class="line">    <span class="comment">//将任务和触发器添加到调度器里</span></span><br><span class="line">    <span class="keyword">await</span> scheduler.ScheduleJob(job, trigger);</span><br><span class="line">    <span class="comment">//开始执行</span></span><br><span class="line">    <span class="keyword">await</span> scheduler.Start();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> 参考 <a href="https://github.com/quartznet/quartznet">https://github.com/quartznet/quartznet</a><br><a href="https://quartznet.sourceforge.io/apidoc/3.0/html/">https://quartznet.sourceforge.io/apidoc/3.0/html/</a></p>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Epplus导出Excel(DataTable)</title>
      <link href="/2018/07/09/epplus-dao-chu-excel-datatable/"/>
      <url>/2018/07/09/epplus-dao-chu-excel-datatable/</url>
      
        <content type="html"><![CDATA[<ol><li>先将dataTable转换成流</li></ol><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Stream <span class="title">DataTableToExcel</span>(<span class="params">DataTable dataTable, <span class="built_in">string</span>[] columns, <span class="built_in">string</span> sheetName</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">using</span> (ExcelPackage pck = <span class="keyword">new</span> ExcelPackage())</span><br><span class="line">        &#123;</span><br><span class="line">            ExcelWorksheet ws = pck.Workbook.Worksheets.Add(sheetName);</span><br><span class="line">            ws.Cells[<span class="string">&quot;A1&quot;</span>].LoadFromDataTable(dataTable, <span class="literal">true</span>);</span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">1</span>; i &lt;= columns.Length; i++) <span class="comment">//设置excel列名</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">using</span> (ExcelRange rng = ws.Cells[<span class="number">1</span>, i])</span><br><span class="line">                &#123;</span><br><span class="line">                    rng.Style.Font.Bold = <span class="literal">true</span>;</span><br><span class="line">                    rng.Value = columns[i - <span class="number">1</span>];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            MemoryStream ms = <span class="keyword">new</span> MemoryStream();</span><br><span class="line">            pck.SaveAs(ms);</span><br><span class="line">            ms.Flush();</span><br><span class="line">            ms.Position = <span class="number">0</span>;<span class="comment">//指定当前流的位置从0开始</span></span><br><span class="line">            <span class="keyword">return</span> ms;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (Exception ex)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">throw</span> ex;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>设置Excel单元格格式  <strong>ws.Column(1).Style.Numberformat.Format &#x3D; “YYYY-MM-DD HH:mm:ss”</strong></p><p>保存excel文件</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">ExportExcel</span>(<span class="params">DataTable dt, <span class="built_in">string</span>[] columns, <span class="built_in">string</span> sheetName, DownResult result</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">   </span><br><span class="line">    Stream stream = DataTableToExcel(dt, columns, sheetName);</span><br><span class="line">    ExcelPackage package = <span class="keyword">new</span> ExcelPackage(stream);</span><br><span class="line">    fileName = sheetName + DateTime.Now.ToString(<span class="string">&quot;yyyyMMddHHmmss&quot;</span>) + <span class="string">&quot;.xlsx&quot;</span>;</span><br><span class="line">    filePath = HttpContext.Current.Server.MapPath(<span class="string">&quot;~/UploadFile/&quot;</span>);<span class="comment">//文件保存地址  </span></span><br><span class="line">    <span class="keyword">if</span> (!Directory.Exists(filePath))<span class="comment">//如果不存在就创建file文件夹</span></span><br><span class="line">    &#123;</span><br><span class="line">        Directory.CreateDirectory(filePath);</span><br><span class="line">    &#125;</span><br><span class="line">    package.SaveAs(<span class="keyword">new</span> FileInfo(filePath + fileName));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>直接将dataTable 保存为Excel文件</li></ol><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">DataTableToExcel</span>(<span class="params">DataTable dtResult,<span class="built_in">string</span> sheetName</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">string</span> path = AppDomain.CurrentDomain.BaseDirectory + DateTime.Now.ToString(<span class="string">&quot;yyyyMMdd&quot;</span>) + <span class="string">&quot;.xlsx&quot;</span>;</span><br><span class="line">    FileInfo file = <span class="keyword">new</span> FileInfo(path);</span><br><span class="line">    <span class="keyword">using</span> (ExcelPackage pck = <span class="keyword">new</span> ExcelPackage(file))</span><br><span class="line">    &#123;</span><br><span class="line">        ExcelWorksheet w = pack.Workbook.Worksheets[sheetName]; </span><br><span class="line">        <span class="keyword">if</span> (w != <span class="literal">null</span> &amp;&amp; w.Name.Equals(sheetName)) <span class="comment">//判断是否存在该sheet表，存在则删除</span></span><br><span class="line">            pack.Workbook.Worksheets.Delete(w);</span><br><span class="line">        ExcelWorksheet ws = pack.Workbook.Worksheets.Add(sheetName);</span><br><span class="line">        ws.Cells[<span class="string">&quot;A1&quot;</span>].LoadFromDataTable(dtResult, <span class="literal">true</span>); <span class="comment">//第二个参数设置为true则显示datable表头</span></span><br><span class="line">        pck.Save();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Echart 动态生成series数据</title>
      <link href="/2018/05/29/echart-dong-tai-sheng-cheng-series-shu-ju/"/>
      <url>/2018/05/29/echart-dong-tai-sheng-cheng-series-shu-ju/</url>
      
        <content type="html"><![CDATA[<p>要做成页面只传入数据，js生成图表，如下图<br><img src="/images/2018052914271701.png" alt="2018052914271701.png"><br>下面是js代码</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">LineChart</span> = <span class="keyword">function</span> (<span class="params">ID, title, axisData,seriesData</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> myChart = echarts.<span class="title function_">init</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="variable constant_">ID</span>));</span><br><span class="line">    <span class="keyword">var</span> newData = [];</span><br><span class="line">    <span class="keyword">var</span> legendData = [];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; seriesData.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">var</span> lineItem = <span class="keyword">new</span> <span class="title function_">serLineItem</span>();</span><br><span class="line">        lineItem.<span class="property">name</span> = seriesData[i].<span class="property">name</span>;</span><br><span class="line">        legendData.<span class="title function_">push</span>(seriesData[i].<span class="property">name</span>);</span><br><span class="line">        lineItem.<span class="property">data</span> = seriesData[i].<span class="property">data</span>;</span><br><span class="line">        newData.<span class="title function_">push</span>(lineItem);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> option = &#123;</span><br><span class="line">        <span class="attr">title</span>: &#123;</span><br><span class="line">            <span class="attr">text</span>: title,</span><br><span class="line">            <span class="attr">subtext</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">            <span class="attr">x</span>: <span class="string">&#x27;center&#x27;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">tooltip</span>: &#123;</span><br><span class="line">            <span class="attr">trigger</span>: <span class="string">&#x27;axis&#x27;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">legend</span>: &#123;</span><br><span class="line">            <span class="attr">data</span>: legendData,</span><br><span class="line">            <span class="attr">bottom</span>:<span class="number">0</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">toolbox</span>: &#123;</span><br><span class="line">            <span class="attr">show</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="attr">feature</span>: &#123;</span><br><span class="line">                <span class="attr">dataZoom</span>: &#123;</span><br><span class="line">                   <span class="attr">yAxisIndex</span>: <span class="string">&#x27;none&#x27;</span></span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="attr">magicType</span>: &#123; <span class="attr">type</span>: [<span class="string">&#x27;line&#x27;</span>, <span class="string">&#x27;bar&#x27;</span>] &#125;,</span><br><span class="line">                <span class="attr">restore</span>: &#123;&#125;,</span><br><span class="line">                <span class="attr">saveAsImage</span>: &#123;&#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">xAxis</span>: &#123;</span><br><span class="line">            <span class="attr">type</span>: <span class="string">&#x27;category&#x27;</span>,</span><br><span class="line">            <span class="attr">boundaryGap</span>: <span class="literal">false</span>,</span><br><span class="line">            <span class="attr">data</span>: axisData</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">yAxis</span>: &#123;</span><br><span class="line">            <span class="attr">type</span>: <span class="string">&#x27;value&#x27;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">series</span>: newData</span><br><span class="line">    &#125;;</span><br><span class="line">    myChart.<span class="title function_">setOption</span>(option);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> serLineItem = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&#x27;line&#x27;</span>,</span><br><span class="line">        <span class="attr">data</span>: []</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>前台页面调用</p><p>引入相关的js文件</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="variable language_">document</span>).<span class="title function_">ready</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">　　<span class="keyword">var</span> axisData= [<span class="string">&#x27;周一&#x27;</span>, <span class="string">&#x27;周二&#x27;</span>, <span class="string">&#x27;周三&#x27;</span>, <span class="string">&#x27;周四&#x27;</span>, <span class="string">&#x27;周五&#x27;</span>, <span class="string">&#x27;周六&#x27;</span>, <span class="string">&#x27;周日&#x27;</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> seriesData = [&#123; <span class="attr">name</span>: <span class="string">&#x27;直接访问&#x27;</span>, <span class="attr">data</span>: [<span class="number">320</span>, <span class="number">302</span>, <span class="number">301</span>, <span class="number">334</span>, <span class="number">390</span>, <span class="number">330</span>, <span class="number">320</span>] &#125;,</span><br><span class="line">&#123;<span class="attr">name</span>: <span class="string">&#x27;邮件营销&#x27;</span>, <span class="attr">data</span>: [<span class="number">120</span>, <span class="number">132</span>, <span class="number">101</span>, <span class="number">134</span>, <span class="number">120</span>, <span class="number">230</span>, <span class="number">210</span>]&#125;,</span><br><span class="line">&#123;<span class="attr">name</span>: <span class="string">&#x27;联盟广告&#x27;</span>, <span class="attr">data</span>: [<span class="number">220</span>, <span class="number">182</span>, <span class="number">191</span>, <span class="number">234</span>, <span class="number">290</span>, <span class="number">330</span>, <span class="number">310</span>]&#125;,</span><br><span class="line">&#123;<span class="attr">name</span>: <span class="string">&#x27;视频广告&#x27;</span>, <span class="attr">data</span>: [<span class="number">150</span>, <span class="number">212</span>, <span class="number">201</span>, <span class="number">154</span>, <span class="number">190</span>, <span class="number">330</span>, <span class="number">410</span>]&#125;,</span><br><span class="line">&#123; <span class="attr">name</span>: <span class="string">&#x27;搜索引擎&#x27;</span>, <span class="attr">data</span>: [<span class="number">820</span>, <span class="number">832</span>, <span class="number">901</span>, <span class="number">934</span>, <span class="number">1290</span>, <span class="number">1330</span>, <span class="number">1320</span>] &#125;];</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="title class_">LineChart</span>(<span class="string">&#x27;main&#x27;</span>, <span class="string">&#x27;访问&#x27;</span>, axisData, seriesData);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>转换Excel格式</title>
      <link href="/2018/05/22/zhuan-huan-excel-ge-shi/"/>
      <url>/2018/05/22/zhuan-huan-excel-ge-shi/</url>
      
        <content type="html"><![CDATA[<p>做一个功能需要将excel2003格式转成2007的格式，代码如下</p><p>需要引用office的microsoft.office.interop.excel.dll</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> app = <span class="keyword">new</span> Microsoft.Office.Interop.Excel.Application();</span><br><span class="line"><span class="keyword">var</span> wb = app.Workbooks.Open(fileInfos[n].ullName); <span class="comment">//文件的路径名称</span></span><br><span class="line">wb.SaveAs(fileInfos[n].FullName + <span class="string">&quot;x&quot;</span>, icrosoft.Office.Interop.Excel.lFileFormat.xlOpenXMLWorkbook);</span><br><span class="line">wb.Close();</span><br><span class="line">app.Quit();</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>百度Echart 地图</title>
      <link href="/2017/08/14/bai-du-echart-di-tu/"/>
      <url>/2017/08/14/bai-du-echart-di-tu/</url>
      
        <content type="html"><![CDATA[<p>使用百度地图做一个全国地图数据分析的功能，如下图<br><img src="/images/2017081411180801.png" alt="2017081411180801.png"></p><p>代码</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ Page Language=&quot;C#&quot; AutoEventWireup=&quot;true&quot; CodeBehind=&quot;EchartMap.aspx.cs&quot; Inherits=&quot;Demo.EchartMap&quot; %&gt;</span><br><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span> <span class="keyword">PUBLIC</span> <span class="string">&quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot;</span> <span class="string">&quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.w3.org/1999/xhtml&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span> <span class="attr">runat</span>=<span class="string">&quot;server&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;Script/jquery/jquery-1.10.1.min.js&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">id</span>=<span class="string">&quot;frmEchartMap&quot;</span> <span class="attr">runat</span>=<span class="string">&quot;server&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;mainChart&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 100%; height: 500px; margin-top: 20px;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;Script/echarts/echarts.min.js&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;Script/echarts/china.js&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;Script/1.9.3/layer.js&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> myChart = echarts.<span class="title function_">init</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;mainChart&#x27;</span>));</span></span><br><span class="line"><span class="language-javascript">        option = &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">title</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">text</span>: <span class="string">&#x27;订单量&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">subtext</span>: <span class="string">&#x27;纯属虚构&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">x</span>: <span class="string">&#x27;center&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">tooltip</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">trigger</span>: <span class="string">&#x27;item&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">legend</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">orient</span>: <span class="string">&#x27;vertical&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">x</span>: <span class="string">&#x27;left&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>: [<span class="string">&#x27;订单量&#x27;</span>]</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">dataRange</span>:</span></span><br><span class="line"><span class="language-javascript">            &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">x</span>: <span class="string">&#x27;left&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">y</span>: <span class="string">&#x27;bottom&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">splitList</span>:</span></span><br><span class="line"><span class="language-javascript">                [</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                    &#123; <span class="attr">start</span>: <span class="number">900</span>, <span class="attr">end</span>: <span class="number">1500</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                    &#123; <span class="attr">start</span>: <span class="number">310</span>, <span class="attr">end</span>: <span class="number">1000</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                    &#123; <span class="attr">start</span>: <span class="number">200</span>, <span class="attr">end</span>: <span class="number">300</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                    &#123; <span class="attr">end</span>: <span class="number">10</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                    &#123; <span class="attr">start</span>: <span class="number">10</span>, <span class="attr">end</span>: <span class="number">200</span>, <span class="attr">label</span>: <span class="string">&#x27;10 到 200（自定义label）&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                    &#123; <span class="attr">start</span>: <span class="number">5</span>, <span class="attr">end</span>: <span class="number">5</span>, <span class="attr">label</span>: <span class="string">&#x27;5（自定义特殊颜色）&#x27;</span>, <span class="attr">color</span>: <span class="string">&#x27;black&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                    &#123; <span class="attr">start</span>: <span class="number">1500</span> &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                ],</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">color</span>: [<span class="string">&#x27;#E0022B&#x27;</span>, <span class="string">&#x27;#E09107&#x27;</span>, <span class="string">&#x27;#A3E00B&#x27;</span>]</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">toolbox</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">show</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">orient</span>: <span class="string">&#x27;vertical&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">x</span>: <span class="string">&#x27;right&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">y</span>: <span class="string">&#x27;center&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">feature</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">mark</span>: &#123; <span class="attr">show</span>: <span class="literal">true</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">dataView</span>: &#123; <span class="attr">show</span>: <span class="literal">true</span>, <span class="attr">readOnly</span>: <span class="literal">false</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">restore</span>: &#123; <span class="attr">show</span>: <span class="literal">true</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">saveAsImage</span>: &#123; <span class="attr">show</span>: <span class="literal">true</span> &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">roamController</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">show</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">x</span>: <span class="string">&#x27;right&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">mapTypeControl</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="string">&#x27;china&#x27;</span>: <span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">series</span>:</span></span><br><span class="line"><span class="language-javascript">            [</span></span><br><span class="line"><span class="language-javascript">                &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>: <span class="string">&#x27;订单量&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">type</span>: <span class="string">&#x27;map&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">mapType</span>: <span class="string">&#x27;china&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">roam</span>: <span class="literal">false</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">itemStyle</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">normal</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">label</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">show</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">textStyle</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                                    <span class="attr">color</span>: <span class="string">&quot;#080808&quot;</span></span></span><br><span class="line"><span class="language-javascript">                                &#125;</span></span><br><span class="line"><span class="language-javascript">                            &#125;,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">areaColor</span>: <span class="string">&quot;#EDEDED&quot;</span></span></span><br><span class="line"><span class="language-javascript">                        &#125;,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">emphasis</span>:</span></span><br><span class="line"><span class="language-javascript">                                &#123;</span></span><br><span class="line"><span class="language-javascript">                                    <span class="attr">label</span>: &#123; <span class="attr">show</span>: <span class="literal">true</span> &#125;</span></span><br><span class="line"><span class="language-javascript">                                &#125;</span></span><br><span class="line"><span class="language-javascript">                            &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">showLegendSymbol</span>: <span class="literal">false</span>, <span class="comment">//去掉地图的上标志点</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">data</span>: [</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">name</span>: <span class="string">&#x27;北京&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">2000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">name</span>: <span class="string">&#x27;天津&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">2000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">name</span>: <span class="string">&#x27;上海&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">2000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">name</span>: <span class="string">&#x27;重庆&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">2000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">name</span>: <span class="string">&#x27;河北&#x27;</span>, <span class="attr">value</span>: <span class="number">0</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">name</span>: <span class="string">&#x27;河南&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">2000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">name</span>: <span class="string">&#x27;云南&#x27;</span>, <span class="attr">value</span>: <span class="number">5</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">name</span>: <span class="string">&#x27;辽宁&#x27;</span>, <span class="attr">value</span>: <span class="number">305</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">name</span>: <span class="string">&#x27;黑龙江&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">2000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">name</span>: <span class="string">&#x27;湖南&#x27;</span>, <span class="attr">value</span>: <span class="number">200</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">name</span>: <span class="string">&#x27;安徽&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">2000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">name</span>: <span class="string">&#x27;山东&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">2000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">name</span>: <span class="string">&#x27;新疆&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">2000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">name</span>: <span class="string">&#x27;江苏&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">2000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">name</span>: <span class="string">&#x27;浙江&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">2000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">name</span>: <span class="string">&#x27;江西&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">2000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">name</span>: <span class="string">&#x27;湖北&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">2000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">name</span>: <span class="string">&#x27;广西&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">2000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">name</span>: <span class="string">&#x27;甘肃&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">2000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">name</span>: <span class="string">&#x27;山西&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">2000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">name</span>: <span class="string">&#x27;内蒙古&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">2000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">name</span>: <span class="string">&#x27;陕西&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">2000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">name</span>: <span class="string">&#x27;吉林&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">2000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">name</span>: <span class="string">&#x27;福建&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">2000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">name</span>: <span class="string">&#x27;贵州&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">2000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">name</span>: <span class="string">&#x27;广东&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">2000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">name</span>: <span class="string">&#x27;青海&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">2000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">name</span>: <span class="string">&#x27;西藏&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">2000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">name</span>: <span class="string">&#x27;四川&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">2000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">name</span>: <span class="string">&#x27;宁夏&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">2000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">name</span>: <span class="string">&#x27;海南&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">2000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">name</span>: <span class="string">&#x27;台湾&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">2000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">name</span>: <span class="string">&#x27;香港&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">2000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                        &#123; <span class="attr">name</span>: <span class="string">&#x27;澳门&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">2000</span>) &#125;</span></span><br><span class="line"><span class="language-javascript">                    ]</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            ]</span></span><br><span class="line"><span class="language-javascript">        &#125;;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        myChart.<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, <span class="keyword">function</span> (<span class="params">param</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> selected = param.<span class="property">data</span>;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//如果出现乱码可以使用escape、encodeURI、encodeURIComponent() 等方法转码，解码使用对应的unescape、decodeURI、decodeURIComponent</span></span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">layer_show_wh</span>(<span class="string">&quot;订单查看&quot;</span>, <span class="string">&quot;ParMap.aspx?pName=&quot;</span> + selected[<span class="string">&#x27;name&#x27;</span>], <span class="string">&quot;800px&quot;</span>, <span class="string">&quot;900px&quot;</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            myChart.<span class="title function_">setOption</span>(option);</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//window.location.href = encodeURI(&quot;ParMap.aspx?pName=&quot; + escape(selected[&#x27;name&#x27;]));</span></span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 使用刚指定的配置项和数据显示图表。</span></span></span><br><span class="line"><span class="language-javascript">        myChart.<span class="title function_">setOption</span>(option);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">layer_show_wh</span>(<span class="params">title, url, w, h</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (title == <span class="literal">null</span> || title == <span class="string">&#x27;&#x27;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                title = <span class="literal">false</span>;</span></span><br><span class="line"><span class="language-javascript">            &#125;;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (url == <span class="literal">null</span> || url == <span class="string">&#x27;&#x27;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                url = <span class="string">&quot;/manage/404.html&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">            &#125;;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (w == <span class="literal">null</span> || w == <span class="string">&#x27;&#x27;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                w = <span class="number">800</span>;</span></span><br><span class="line"><span class="language-javascript">            &#125;;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (h == <span class="literal">null</span> || h == <span class="string">&#x27;&#x27;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                h = ($(<span class="variable language_">window</span>).<span class="title function_">height</span>() - <span class="number">50</span>);</span></span><br><span class="line"><span class="language-javascript">            &#125;;</span></span><br><span class="line"><span class="language-javascript">            layer.<span class="title function_">open</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>: <span class="number">2</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">area</span>: [w, h],</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">fix</span>: <span class="literal">false</span>, <span class="comment">//不固定</span></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">maxmin</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">shade</span>: <span class="number">0.4</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">title</span>: title,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">content</span>: url</span></span><br><span class="line"><span class="language-javascript">            &#125;);</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ Page Language=&quot;C#&quot; AutoEventWireup=&quot;true&quot; CodeBehind=&quot;ParMap.aspx.cs&quot; Inherits=&quot;Demo.ParMap&quot; %&gt;</span><br><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span> <span class="keyword">PUBLIC</span> <span class="string">&quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot;</span> <span class="string">&quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.w3.org/1999/xhtml&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span> <span class="attr">runat</span>=<span class="string">&quot;server&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">id</span>=<span class="string">&quot;form1&quot;</span> <span class="attr">runat</span>=<span class="string">&quot;server&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;mainChart&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 100%; height: 500px; margin-top: 20px;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;Script/jquery/jquery-1.10.1.min.js&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;Script/echarts/echarts.min.js&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> myChart = echarts.<span class="title function_">init</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;mainChart&#x27;</span>));</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">window</span>.<span class="property">onload</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> mapHash = &#123; <span class="string">&quot;河北&quot;</span>: <span class="string">&quot;hebei&quot;</span>, <span class="string">&quot;山西&quot;</span>: <span class="string">&quot;shanxi&quot;</span>, <span class="string">&quot;内蒙古&quot;</span>: <span class="string">&quot;neimenggu&quot;</span>, <span class="string">&quot;辽宁&quot;</span>: <span class="string">&quot;liaoning&quot;</span>, <span class="string">&quot;吉林&quot;</span>: <span class="string">&quot;jilin&quot;</span>, <span class="string">&quot;黑龙江&quot;</span>: <span class="string">&quot;heilongjiang&quot;</span>, <span class="string">&quot;江苏&quot;</span>: <span class="string">&quot;jiangsu&quot;</span>, <span class="string">&quot;浙江&quot;</span>: <span class="string">&quot;zhejiang&quot;</span>, <span class="string">&quot;安徽&quot;</span>: <span class="string">&quot;anhui&quot;</span>, <span class="string">&quot;福建&quot;</span>: <span class="string">&quot;fujian&quot;</span>, <span class="string">&quot;江西&quot;</span>: <span class="string">&quot;jiangxi&quot;</span>, <span class="string">&quot;山东&quot;</span>: <span class="string">&quot;shandong&quot;</span>, <span class="string">&quot;河南&quot;</span>: <span class="string">&quot;henan&quot;</span>, <span class="string">&quot;湖北&quot;</span>: <span class="string">&quot;hubei&quot;</span>, <span class="string">&quot;湖南&quot;</span>: <span class="string">&quot;hunan&quot;</span>, <span class="string">&quot;广东&quot;</span>: <span class="string">&quot;guangdong&quot;</span>, <span class="string">&quot;广西&quot;</span>: <span class="string">&quot;guangxi&quot;</span>, <span class="string">&quot;海南&quot;</span>: <span class="string">&quot;hainan&quot;</span>, <span class="string">&quot;四川&quot;</span>: <span class="string">&quot;sichuan&quot;</span>, <span class="string">&quot;贵州&quot;</span>: <span class="string">&quot;guizhou&quot;</span>, <span class="string">&quot;云南&quot;</span>: <span class="string">&quot;yunnan&quot;</span>, <span class="string">&quot;西藏&quot;</span>: <span class="string">&quot;xizang&quot;</span>, <span class="string">&quot;陕西&quot;</span>: <span class="string">&quot;shanxi1&quot;</span>, <span class="string">&quot;甘肃&quot;</span>: <span class="string">&quot;gansu&quot;</span>, <span class="string">&quot;青海&quot;</span>: <span class="string">&quot;qinghai&quot;</span>, <span class="string">&quot;宁夏&quot;</span>: <span class="string">&quot;ningxia&quot;</span>, <span class="string">&quot;新疆&quot;</span>: <span class="string">&quot;xinjiang&quot;</span>, <span class="string">&quot;北京&quot;</span>: <span class="string">&quot;beijing&quot;</span>, <span class="string">&quot;天津&quot;</span>: <span class="string">&quot;tianjin&quot;</span>, <span class="string">&quot;上海&quot;</span>: <span class="string">&quot;shanghai&quot;</span>, <span class="string">&quot;重庆&quot;</span>: <span class="string">&quot;chongqing&quot;</span>, <span class="string">&quot;香港&quot;</span>: <span class="string">&quot;xianggang&quot;</span>, <span class="string">&quot;澳门&quot;</span>: <span class="string">&quot;aomen&quot;</span>, <span class="string">&quot;台湾&quot;</span>: <span class="string">&quot;taiwan&quot;</span> &#125;;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> pName = <span class="title class_">GetQueryString</span>(<span class="string">&quot;pName&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">showProvince</span>(mapHash[pName]);</span></span><br><span class="line"><span class="language-javascript">        &#125;;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">GetQueryString</span>(<span class="params">name</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> reg = <span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="string">&quot;(^|&amp;)&quot;</span> + name + <span class="string">&quot;=([^&amp;]*)(&amp;|$)&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> url = <span class="built_in">decodeURI</span>(<span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">search</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> r = url.<span class="title function_">substr</span>(<span class="number">1</span>).<span class="title function_">match</span>(reg);</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (r != <span class="literal">null</span>) <span class="keyword">return</span> <span class="built_in">unescape</span>(r[<span class="number">2</span>]); <span class="keyword">return</span> <span class="literal">null</span>;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">showProvince</span>(<span class="params">name</span>) &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            $.<span class="title function_">get</span>(<span class="string">&#x27;/Script/echarts/mapdata/&#x27;</span> + name + <span class="string">&#x27;.json&#x27;</span>, <span class="keyword">function</span> (<span class="params">geoJson</span>) &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                echarts.<span class="title function_">registerMap</span>(name, geoJson);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                myChart.<span class="title function_">setOption</span>(option = &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//backgroundColor: &#x27;#404a59&#x27;,</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">tooltip</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">trigger</span>: <span class="string">&#x27;item&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">title</span>: &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">left</span>: <span class="string">&#x27;center&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">textStyle</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">color</span>: <span class="string">&#x27;#fff&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">legend</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">x</span>: <span class="string">&#x27;right&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">data</span>: [<span class="string">&#x27;订单数据&#x27;</span>]</span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">dataRange</span>:</span></span><br><span class="line"><span class="language-javascript">                    &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">orient</span>: <span class="string">&#x27;horizontal&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">x</span>: <span class="string">&#x27;right&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">min</span>: <span class="number">0</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">max</span>: <span class="number">1000</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">color</span>: [<span class="string">&#x27;orange&#x27;</span>, <span class="string">&#x27;yellow&#x27;</span>],</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">text</span>: [<span class="string">&#x27;高&#x27;</span>, <span class="string">&#x27;低&#x27;</span>],           <span class="comment">// 文本，默认为数值文本</span></span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">splitNumber</span>: <span class="number">0</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">series</span>: [</span></span><br><span class="line"><span class="language-javascript">                        &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">name</span>: <span class="string">&#x27;订单数据&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">type</span>: <span class="string">&#x27;map&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">mapType</span>: name,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">label</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">emphasis</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                                    <span class="attr">textStyle</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                                        <span class="attr">color</span>: <span class="string">&#x27;#fff&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                                    &#125;</span></span><br><span class="line"><span class="language-javascript">                                &#125;</span></span><br><span class="line"><span class="language-javascript">                            &#125;,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">itemStyle</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">normal</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                                    <span class="attr">borderColor</span>: <span class="string">&#x27;#389BB7&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                                    <span class="attr">areaColor</span>: <span class="string">&#x27;#fff&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                                    <span class="attr">label</span>: &#123; <span class="attr">show</span>: <span class="literal">true</span> &#125;</span></span><br><span class="line"><span class="language-javascript">                                &#125;,</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">emphasis</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                                    <span class="attr">areaColor</span>: <span class="string">&#x27;#389BB7&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                                    <span class="attr">borderWidth</span>: <span class="number">0</span>,</span></span><br><span class="line"><span class="language-javascript">                                    <span class="attr">label</span>: &#123; <span class="attr">show</span>: <span class="literal">true</span> &#125;</span></span><br><span class="line"><span class="language-javascript">                                &#125;</span></span><br><span class="line"><span class="language-javascript">                            &#125;,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">showLegendSymbol</span>: <span class="literal">false</span>, <span class="comment">//去掉地图的上标志点</span></span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">animation</span>: <span class="literal">false</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">roam</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">data</span>:</span></span><br><span class="line"><span class="language-javascript">                            [</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;重庆市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;北京市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;天津市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;上海市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;香港&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;澳门&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;巴音郭楞蒙古自治州&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;和田地区&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;哈密地区&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;阿克苏地区&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;阿勒泰地区&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;喀什地区&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;塔城地区&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;昌吉回族自治州&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;克孜勒苏柯尔克孜自治州&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;吐鲁番地区&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;伊犁哈萨克自治州&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;博尔塔拉蒙古自治州&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;乌鲁木齐市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;克拉玛依市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;阿拉尔市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;图木舒克市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;五家渠市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;石河子市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;那曲地区&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;阿里地区&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;日喀则地区&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;林芝地区&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;昌都地区&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;山南地区&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;拉萨市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;呼伦贝尔市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;阿拉善盟&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;锡林郭勒盟&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;鄂尔多斯市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;赤峰市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;巴彦淖尔市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;通辽市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;乌兰察布市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;兴安盟&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;包头市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;呼和浩特市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;乌海市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;海西蒙古族藏族自治州&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;玉树藏族自治州&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;果洛藏族自治州&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;海南藏族自治州&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;海北藏族自治州&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;黄南藏族自治州&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;海东地区&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;西宁市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;甘孜藏族自治州&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;阿坝藏族羌族自治州&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;凉山彝族自治州&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;绵阳市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;达州市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;广元市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;雅安市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;宜宾市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;乐山市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;南充市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;巴中市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;泸州市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;成都市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;资阳市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;攀枝花市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;眉山市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;广安市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;德阳市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;内江市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;遂宁市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;自贡市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;黑河市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;大兴安岭地区&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;哈尔滨市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;齐齐哈尔市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;牡丹江市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;绥化市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;伊春市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;佳木斯市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;鸡西市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;双鸭山市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;大庆市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;鹤岗市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;七台河市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;酒泉市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;张掖市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;甘南藏族自治州&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;武威市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;陇南市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;庆阳市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;白银市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;定西市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;天水市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;兰州市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;平凉市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;临夏回族自治州&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;金昌市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;嘉峪关市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;普洱市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;红河哈尼族彝族自治州&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;文山壮族苗族自治州&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;曲靖市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;楚雄彝族自治州&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;大理白族自治州&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;临沧市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;迪庆藏族自治州&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;昭通市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;昆明市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;丽江市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;西双版纳傣族自治州&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;保山市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;玉溪市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;怒江傈僳族自治州&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;德宏傣族景颇族自治州&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;百色市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;河池市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;桂林市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;南宁市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;柳州市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;崇左市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;来宾市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;玉林市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;梧州市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;贺州市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;钦州市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;贵港市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;防城港市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;北海市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;怀化市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;永州市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;邵阳市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;郴州市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;常德市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;湘西土家族苗族自治州&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;衡阳市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;岳阳市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;益阳市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;长沙市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;株洲市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;张家界市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;娄底市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;湘潭市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;榆林市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;延安市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;汉中市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;安康市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;商洛市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;宝鸡市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;渭南市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;咸阳市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;西安市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;铜川市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;清远市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;韶关市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;湛江市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;梅州市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;河源市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;肇庆市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;惠州市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;茂名市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;江门市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;阳江市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;云浮市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;广州市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;汕尾市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;揭阳市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;珠海市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;佛山市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;潮州市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;汕头市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;深圳市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;东莞市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;中山市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;延边朝鲜族自治州&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;吉林市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;白城市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;松原市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;长春市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;白山市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;通化市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;四平市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;辽源市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;承德市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;张家口市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;保定市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;唐山市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;沧州市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;石家庄市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;邢台市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;邯郸市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;秦皇岛市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;衡水市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;廊坊市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;恩施土家族苗族自治州&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;十堰市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;宜昌市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;襄樊市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;黄冈市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;荆州市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;荆门市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;咸宁市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;随州市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;孝感市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;武汉市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;黄石市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;神农架林区&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;天门市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;仙桃市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;潜江市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;鄂州市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;遵义市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;黔东南苗族侗族自治州&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;毕节地区&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;黔南布依族苗族自治州&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;铜仁地区&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;黔西南布依族苗族自治州&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;六盘水市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;安顺市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;贵阳市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;烟台市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;临沂市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;潍坊市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;青岛市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;菏泽市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;济宁市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;德州市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;滨州市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;聊城市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;东营市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;济南市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;泰安市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;威海市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;日照市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;淄博市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;枣庄市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;莱芜市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;赣州市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;吉安市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;上饶市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;九江市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;抚州市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;宜春市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;南昌市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;景德镇市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;萍乡市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;鹰潭市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;新余市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;南阳市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;信阳市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;洛阳市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;驻马店市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;周口市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;商丘市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;三门峡市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;新乡市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;平顶山市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;郑州市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;安阳市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;开封市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;焦作市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;许昌市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;濮阳市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;漯河市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;鹤壁市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;大连市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;朝阳市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;丹东市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;铁岭市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;沈阳市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;抚顺市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;葫芦岛市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;阜新市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;锦州市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;鞍山市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;本溪市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;营口市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;辽阳市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;盘锦市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;忻州市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;吕梁市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;临汾市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;晋中市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;运城市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;大同市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;长治市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;朔州市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;晋城市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;太原市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;阳泉市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;六安市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;安庆市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;滁州市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;宣城市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;阜阳市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;宿州市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;黄山市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;巢湖市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;亳州市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;池州市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;合肥市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;蚌埠市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;芜湖市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;淮北市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;淮南市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;马鞍山市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;铜陵市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;南平市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;三明市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;龙岩市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;宁德市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;福州市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;漳州市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;泉州市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;莆田市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;厦门市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;丽水市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;杭州市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;温州市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;宁波市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;舟山市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;台州市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;金华市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;衢州市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;绍兴市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;嘉兴市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;湖州市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;盐城市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;徐州市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;南通市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;淮安市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;苏州市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;宿迁市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;连云港市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;扬州市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;南京市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;泰州市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;无锡市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;常州市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;镇江市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;吴忠市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;中卫市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;固原市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;银川市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;石嘴山市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;儋州市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;文昌市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;乐东黎族自治县&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;三亚市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;琼中黎族苗族自治县&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;东方市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;海口市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;万宁市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;澄迈县&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;白沙黎族自治县&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;琼海市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;昌江黎族自治县&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;临高县&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;陵水黎族自治县&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;屯昌县&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;定安县&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;保亭黎族苗族自治县&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">                                &#123; <span class="attr">name</span>: <span class="string">&#x27;五指山市&#x27;</span>, <span class="attr">value</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>) &#125;</span></span><br><span class="line"><span class="language-javascript">                            ]</span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                    ]</span></span><br><span class="line"><span class="language-javascript">                &#125;);</span></span><br><span class="line"><span class="language-javascript">            &#125;);</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">       </span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>注：全国省份的数据不要带<strong>市、省、自治区</strong>等<br>如果弹出框出现乱码可以使用<strong>escape、encodeURI、encodeURIComponent()</strong> 等方法转码</p><p>js对文字进行编码涉及3个函数：escape,encodeURI,encodeURIComponent，相应3个解码函数：unescape,decodeURI,decodeURIComponent</p><ol><li>传递参数时需要使用encodeURIComponent，这样组合的url才不会被#等特殊字符截断。<br>例如：</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script language=<span class="string">&quot;javascript&quot;</span>&gt;<span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="string">&#x27;&lt;a href=&quot;http://passport.baidu.com/?logout&amp;aid=7&amp;u= +encodeURIComponent(&quot;http://cang.baidu.com/bruce42&quot;)+&quot;&gt;退出&lt;/a&gt;&#x27;</span>);&lt;/script&gt;</span><br></pre></td></tr></table></figure><ol start="2"><li>进行url跳转时可以整体使用encodeURI<br>例如：</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Location</span>.<span class="property">href</span>=<span class="built_in">encodeURI</span>(<span class="string">&quot;http://cang.baidu.com/do/s?word=百度&amp;ct=21&quot;</span>);</span><br></pre></td></tr></table></figure><ol start="3"><li>js使用数据时可以使用escape<br>例如：收藏中history记录。</li><li>escape对0-255以外的unicode值进行编码时输出%u****格式，其它情况下escape，encodeURI，encodeURIComponent编码结果相同。<br>最多使用的应为encodeURIComponent，它是将中文、韩文等特殊字符转换成utf-8格式的url编码，所以如果给后台传递参数需要使用encodeURIComponent时需要后台解码对utf-8支持（form中的编码方式和当前页面编码方式相同）</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">escape</span>不编码字符有<span class="number">69</span>个：*，+，-，.，/，@，_，<span class="number">0</span>-<span class="number">9</span>，a-z，A-Z</span><br><span class="line"><span class="built_in">encodeURI</span>不编码字符有<span class="number">82</span>个：!，#，$，&amp;，<span class="string">&#x27;，(，)，*，+，,，-，.，/，:，;，=，?，@，_，~，0-9，a-z，A-Z</span></span><br><span class="line"><span class="string">encodeURIComponent不编码字符有71个：!， &#x27;</span>，(，)，*，-，.，_，~，<span class="number">0</span>-<span class="number">9</span>，a-z，A-Z </span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mobiscroll 日期问题</title>
      <link href="/2017/08/14/mobiscroll-ri-qi-wen-ti/"/>
      <url>/2017/08/14/mobiscroll-ri-qi-wen-ti/</url>
      
        <content type="html"><![CDATA[<p>做的一个项目中用到了mobiscroll日期控件，设置距离当前日期往前推一个月的时间出现如下图问题<br><img src="/images/2017081410471701.png" alt="2017081410471701.png"><br>弹出窗默认的年份不对，后来查找原因是初始化属性配置有问题，应该将设置为**dateFormat:’yy-mm-dd’**就可以了<br><img src="/images/2017081410471702.png" alt="2017081410471702.png"></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line">    $(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="title function_">initCurrentDate</span>();</span><br><span class="line">        <span class="keyword">var</span> currYear = (<span class="keyword">new</span> <span class="title class_">Date</span>()).<span class="title function_">getFullYear</span>();</span><br><span class="line">        <span class="keyword">var</span> d = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">        <span class="keyword">var</span> month = d.<span class="title function_">getMonth</span>().<span class="title function_">toString</span>().<span class="property">length</span> == <span class="number">1</span> ? <span class="string">&quot;0&quot;</span> + (d.<span class="title function_">getMonth</span>() + <span class="number">1</span>) : (d.<span class="title function_">getMonth</span>() + <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">var</span> day = d.<span class="title function_">getDate</span>().<span class="title function_">toString</span>().<span class="property">length</span> == <span class="number">1</span> ? <span class="string">&quot;0&quot;</span> + d.<span class="title function_">getDate</span>() : d.<span class="title function_">getDate</span>();</span><br><span class="line">        <span class="keyword">var</span> date = d.<span class="title function_">getFullYear</span>() + <span class="string">&#x27;-&#x27;</span> + month + <span class="string">&#x27;-&#x27;</span> + day;</span><br><span class="line">        d.<span class="title function_">setMonth</span>(d.<span class="title function_">getMonth</span>() - <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">var</span> sMonth = d.<span class="title function_">getMonth</span>().<span class="title function_">toString</span>().<span class="property">length</span> == <span class="number">1</span> ? <span class="string">&quot;0&quot;</span> + (d.<span class="title function_">getMonth</span>() + <span class="number">1</span>) : (d.<span class="title function_">getMonth</span>() + <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">var</span> sDay = d.<span class="title function_">getDate</span>().<span class="title function_">toString</span>().<span class="property">length</span> == <span class="number">1</span> ? <span class="string">&quot;0&quot;</span> + d.<span class="title function_">getDate</span>() : d.<span class="title function_">getDate</span>();</span><br><span class="line">        <span class="keyword">var</span> sDate = d.<span class="title function_">getFullYear</span>() + <span class="string">&#x27;-&#x27;</span> + sMonth + <span class="string">&#x27;-&#x27;</span> + sDay;</span><br><span class="line">        $(<span class="string">&quot;#startDate&quot;</span>).<span class="title function_">val</span>(sDate)</span><br><span class="line">        $(<span class="string">&quot;#endDate&quot;</span>).<span class="title function_">val</span>(date);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">initCurrentDate</span>(<span class="params"></span>) &#123; </span><br><span class="line">     <span class="keyword">var</span> currYear = (<span class="keyword">new</span> <span class="title class_">Date</span>()).<span class="title function_">getFullYear</span>();</span><br><span class="line">        <span class="keyword">var</span> opt = &#123;</span><br><span class="line">            <span class="attr">preset</span>: <span class="string">&#x27;date&#x27;</span>, <span class="comment">//日期</span></span><br><span class="line">            <span class="attr">theme</span>: <span class="string">&#x27;android-ics light&#x27;</span>, <span class="comment">//皮肤样式</span></span><br><span class="line">            <span class="attr">display</span>: <span class="string">&#x27;modal&#x27;</span>, <span class="comment">//显示方式</span></span><br><span class="line">            <span class="attr">mode</span>: <span class="string">&#x27;scroller&#x27;</span>, <span class="comment">//日期选择模式</span></span><br><span class="line">            <span class="attr">dateFormat</span>: <span class="string">&#x27;yy-mm-dd&#x27;</span>, <span class="comment">// 日期格式</span></span><br><span class="line">            <span class="attr">lang</span>: <span class="string">&#x27;zh&#x27;</span>,</span><br><span class="line">            <span class="attr">setText</span>: <span class="string">&#x27;确定&#x27;</span>, <span class="comment">//确认按钮名称</span></span><br><span class="line">            <span class="attr">cancelText</span>: <span class="string">&#x27;取消&#x27;</span>,<span class="comment">//取消按钮名籍我</span></span><br><span class="line">            <span class="attr">startYear</span>: currYear - <span class="number">50</span>, <span class="comment">//开始年份</span></span><br><span class="line">            <span class="attr">endYear</span>: currYear + <span class="number">10</span> <span class="comment">//结束年份</span></span><br><span class="line">        &#125;;</span><br><span class="line">        $(<span class="string">&quot;#startDate&quot;</span>).<span class="title function_">mobiscroll</span>(opt);</span><br><span class="line">        $(<span class="string">&quot;#endDate&quot;</span>).<span class="title function_">mobiscroll</span>(opt);</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jQuery自动完成插件flexselect</title>
      <link href="/2017/07/31/jquery-zi-dong-wan-cheng-cha-jian-flexselect/"/>
      <url>/2017/07/31/jquery-zi-dong-wan-cheng-cha-jian-flexselect/</url>
      
        <content type="html"><![CDATA[<p>项目中使用flexselect自动完成插件时遇到一个问题<br><img src="/images/2017073115241301.png" alt="2017073115241301.png"><br>刚开始以为是js的引用顺序有问题，但是查看后发现不是js引用顺序问题</p><p>js引用顺序如下<br><img src="/images/2017073115241301.png" alt="2017073115241302.png"><br>最后查找资料也没有解决问题，一直提示这个错误</p><p>后来在function中加入$就好了<br><img src="/images/2017073115241303.png" alt="2017073115241303.png"></p><p>参考 <a href="http://www.jq22.com/jquery-info455">http://www.jq22.com/jquery-info455</a></p>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTML5 video 连续播放视频</title>
      <link href="/2017/07/24/html5-video-lian-xu-bo-fang-shi-pin/"/>
      <url>/2017/07/24/html5-video-lian-xu-bo-fang-shi-pin/</url>
      
        <content type="html"><![CDATA[<p>HTML Video标签属性<br><img src="/images/2017072409491901.png" alt="2017072409491901.png"><br>html页面代码</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">height</span>=<span class="string">&quot;2160&quot;</span> <span class="attr">id</span>=<span class="string">&quot;playVideo&quot;</span> <span class="attr">width</span>=<span class="string">&quot;3840&quot;</span> <span class="attr">poster</span>=<span class="string">&quot;img/blank.png&quot;</span> <span class="attr">autoplay</span>=<span class="string">&quot;autoplay&quot;</span> <span class="attr">preload</span>=<span class="string">&quot;auto&quot;</span> &gt;</span></span><br></pre></td></tr></table></figure><p>获取video对象</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> media = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;playVideo&quot;</span>);</span><br></pre></td></tr></table></figure><p><strong>不要使用jquery获取，这样会有问题</strong></p><p>监听video对象的ended属性实现连续播放</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> curr = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">var</span> media = <span class="variable language_">document</span>.<span class="property">getElementById</span><span class="string">&quot;playVideo&quot;</span>);</span><br><span class="line">media.<span class="title function_">addEventListener</span>(<span class="params"><span class="string">&quot;ended&quot;</span>, <span class="keyword">function</span> </span>) &#123;</span><br><span class="line">    media.<span class="property">src</span> = videoArr[curr];</span><br><span class="line">    media.<span class="title function_">play</span>();</span><br><span class="line">    curr++;</span><br><span class="line">    <span class="keyword">if</span> (curr &gt;= videoArr.<span class="property">length</span>)</span><br><span class="line">        curr = <span class="number">0</span>;</span><br><span class="line">&#125;, <span class="literal">false</span>);</span><br></pre></td></tr></table></figure><p>更多的属性请参考<br><a href="http://www.w3school.com.cn/jsref/dom_obj_event.asp">http://www.w3school.com.cn/jsref/dom_obj_event.asp</a><br><a href="http://www.jianshu.com/p/404d01b8e713/">http://www.jianshu.com/p/404d01b8e713/</a></p>]]></content>
      
      
      <categories>
          
          <category> HTML/CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTML/CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>team foundation server 工具的使用</title>
      <link href="/2017/06/29/team-foundation-server-gong-ju-de-shi-yong/"/>
      <url>/2017/06/29/team-foundation-server-gong-ju-de-shi-yong/</url>
      
        <content type="html"><![CDATA[<ol><li>打开TFS工具点击创建集合，填写集合名称，下一步，按照步骤一步一步的往下操作。<br><img src="/images/2017062915270701.jpg" alt="2017062915270701.jpg"></li><li>创建完集合以后，打开VS工具，如下图，在主页上左键选择新建团队项目。<br><img src="/images/2017062915270702.jpg" alt="2017062915270702.jpg"></li><li>选择团队项目，然后选择新建的项目集合和团队项目<br><img src="/images/2017062915270703.jpg" alt="2017062915270703.jpg"></li><li>选择好以后，点击添加文件，选择要添加的项目所在的文件夹。直接点击完成即可。然后就分配人员权限等等。<br><img src="/images/2017062915270704.jpg" alt="2017062915270704.jpg"></li></ol>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Dotfuscator 的使用方法</title>
      <link href="/2017/06/14/dotfuscator-de-shi-yong-fang-fa/"/>
      <url>/2017/06/14/dotfuscator-de-shi-yong-fang-fa/</url>
      
        <content type="html"><![CDATA[<p>打开Dotfuscator工具，选择“Create New Project”<br><img src="/images/2017061417170701.jpg" alt="2017061417170701.jpg"><br>在Input选项中选择需要混淆的文件<br><img src="/images/2017061417170702.jpg" alt="2017061417170702.jpg"><br>把 <strong>Disable String Encryption</strong> 设为 <strong>NO</strong>，即启用字符串加密；检查 <strong>Disable Control flow</strong>、<strong>Dsiable Renaming</strong> 也为 <strong>NO</strong>，即保证控制流和混淆功能打开，其他默认。如下图：<br><img src="/images/2017061417170703.jpg" alt="2017061417170703.jpg"><br>Rename 选项勾选“<strong>Use Enhanced Overload Induction</strong>”（使用增强模式），注意：不要勾选下方的“ <strong>Do not suppress on serializable types</strong>”，即序列化类型的变量不加密，否则编译后可能异常； “<strong>Renaming Scheme</strong>” 选择“<strong>Unprintable</strong>”（不可打印字符，即乱码），也可以选择其他如小写字母、大写字符、数字的方式，其他保持默认如下图<br><img src="/images/2017061417170704.jpg" alt="2017061417170704.jpg"><br><strong>String Encryption</strong> 选项 include里勾选需要字符串加密的工程文件EXE、DLL等然后点击绿色小三角生成项目，如下图<br><img src="/images/2017061417170705.jpg" alt="2017061417170705.jpg"><br>完成后使用.Net Reflector查看生成的文件，如下图<br><img src="/images/2017061417170706.jpg" alt="2017061417170706.jpg"><br>参考<a href="http://www.cnblogs.com/icyJ/p/dotfuscator.html">http://www.cnblogs.com/icyJ/p/dotfuscator.html</a></p>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>DTCMS 网站管理系统</title>
      <link href="/2017/05/31/dtcms-wang-zhan-guan-li-xi-tong/"/>
      <url>/2017/05/31/dtcms-wang-zhan-guan-li-xi-tong/</url>
      
        <content type="html"><![CDATA[<p>dtcms适合开发一些简单小型网站</p><p>开发的过程中遇见了各种问题，下面总结下我遇见的问题</p><ol><li>遇见提示未开启生成静态功能<br><img src="/images/2017053110491901.jpg" alt="2017053110491901.jpg"><br><strong>在系统设置里面将“伪URL重写”为“生成静态”可以解决</strong><br><img src="/images/2017053110491902.jpg" alt="2017053110491902.jpg"></li><li>在生成静态页面的时候提示生成页面完成，但是右下角却显示失败<br><img src="/images/2017053110491903.jpg" alt="2017053110491903.jpg"><br><strong>这个可能是在新建站点的时候，填写的“绑定域名”不能和主域名一样</strong><br><img src="/images/2017053110491904.jpg" alt="2017053110491904.jpg"></li><li>dtcms开发网站部署到IIS生成静态页后，iis的应用程序池的<strong>托管管道模式要选择集成</strong>，不然点击跳转链接的时候会出错。</li></ol><p>插件开发入门可以看看这个文章 <a href="http://www.cnblogs.com/JangoJing/p/4662022.html">http://www.cnblogs.com/JangoJing/p/4662022.html</a></p>]]></content>
      
      
      <categories>
          
          <category> WEB </category>
          
      </categories>
      
      
        <tags>
            
            <tag> WEB </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Google Zxing 生成二维码</title>
      <link href="/2017/01/17/google-zxing-sheng-cheng-er-wei-ma/"/>
      <url>/2017/01/17/google-zxing-sheng-cheng-er-wei-ma/</url>
      
        <content type="html"><![CDATA[<p>Net Zxing 源码地址 <a href="http://zxingnet.codeplex.com/">http://zxingnet.codeplex.com/</a></p><p>github 地址 <a href="https://github.com/zxing/zxing">https://github.com/zxing/zxing</a></p><p>新建一个Winform 项目，引用zxing.dll就可了，下图是生成的二维码<br><img src="/images/2017011715251501.png" alt="2017011715251501.png"></p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//生成中间带二维码的图片</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">btnImageCode_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    lblShow.Text = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//构造二维码写码器</span></span><br><span class="line">        MultiFormatWriter mutiWriter = <span class="keyword">new</span> MultiFormatWriter();</span><br><span class="line">        Hashtable hint = <span class="keyword">new</span> Hashtable();</span><br><span class="line">        hint.Add(EncodeHintType.CHARACTER_SET, <span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">        hint.Add(EncodeHintType.ERROR_CORRECTION, ErrorCorrectionLevel.H);</span><br><span class="line">        <span class="comment">//生成二维码</span></span><br><span class="line">        ByteMatrix bm = mutiWriter.encode(txtContent.Text, BarcodeFormat.QR_CODE, <span class="number">300</span>, <span class="number">300</span>, hint);</span><br><span class="line">        Bitmap img = bm.ToBitmap();</span><br><span class="line">        <span class="comment">//要插入到二维码中的图片</span></span><br><span class="line">        Image middlImg = picLittle.Image;</span><br><span class="line">        <span class="comment">//获取二维码实际尺寸（去掉二维码两边空白后的实际尺寸）</span></span><br><span class="line">        Size realSize = mutiWriter.GetEncodeSize(txtContent.Text, BarcodeFormat.QR_CODE, <span class="number">300</span>, <span class="number">300</span>);</span><br><span class="line">        <span class="comment">//计算插入图片的大小和位置</span></span><br><span class="line">        <span class="built_in">int</span> middleImgW = Math.Min((<span class="built_in">int</span>)(realSize.Width / <span class="number">3.5</span>), middlImg.Width);</span><br><span class="line">        <span class="built_in">int</span> middleImgH = Math.Min((<span class="built_in">int</span>)(realSize.Height / <span class="number">3.5</span>), middlImg.Height);</span><br><span class="line">        <span class="built_in">int</span> middleImgL = (img.Width - middleImgW) / <span class="number">2</span>;</span><br><span class="line">        <span class="built_in">int</span> middleImgT = (img.Height - middleImgH) / <span class="number">2</span>;</span><br><span class="line">        <span class="comment">//将img转换成bmp格式，否则后面无法创建 Graphics对象</span></span><br><span class="line">        Bitmap bmpimg = <span class="keyword">new</span> Bitmap(img.Width, img.Height, PixelFormat.Format32bppArgb);</span><br><span class="line">        <span class="keyword">using</span> (Graphics g = Graphics.FromImage(bmpimg))</span><br><span class="line">        &#123;</span><br><span class="line">            g.InterpolationMode = InterpolationMode.HighQualityBicubic;</span><br><span class="line">            g.SmoothingMode = SmoothingMode.HighQuality;</span><br><span class="line">            g.CompositingQuality = CompositingQuality.HighQuality;</span><br><span class="line">            g.DrawImage(img, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//在二维码中插入图片</span></span><br><span class="line">        Graphics MyGraphic = Graphics.FromImage(bmpimg);</span><br><span class="line">        <span class="comment">//白底</span></span><br><span class="line">        MyGraphic.FillRectangle(Brushes.White, middleImgL, middleImgT, middleImgW, middleImgH);</span><br><span class="line">        MyGraphic.DrawImage(middlImg, middleImgL, middleImgT, middleImgW, middleImgH);</span><br><span class="line">        picCode.Image = bmpimg;</span><br><span class="line">        <span class="comment">//自动保存图片到当前目录</span></span><br><span class="line">        <span class="built_in">string</span> filename = Environment.CurrentDirectory + <span class="string">&quot;\\QR&quot;</span> + DateTime.Now.Ticks.ToString() + <span class="string">&quot;.jpg&quot;</span>;</span><br><span class="line">        bmpimg.Save(filename, ImageFormat.Jpeg);</span><br><span class="line">        lblShow.Text = <span class="string">&quot;图片已保存到：&quot;</span> + filename;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (Exception ee)</span><br><span class="line">    &#123; </span><br><span class="line">        MessageBox.Show(ee.Message); </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>生成条形码、二维码和图片解码代码</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//生成条形码</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">btnBarCode_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    lblShow.Text = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    Regex rg = <span class="keyword">new</span> Regex(<span class="string">&quot;^[0-9]&#123;13&#125;$&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (!rg.IsMatch(txtContent.Text.Trim()))</span><br><span class="line">    &#123;</span><br><span class="line">        MessageBox.Show(<span class="string">&quot;本例子采用EAN_13编码，需要输入13位数字&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    &#123;</span><br><span class="line">        MultiFormatWriter mutiWriter = <span class="keyword">new</span> MultiFormatWriter();</span><br><span class="line">        ByteMatrix bm = mutiWriter.encode(txtContent.Text, BarcodeFormat.EAN_13, <span class="number">363</span>, <span class="number">150</span>);</span><br><span class="line">        Bitmap img= bm.ToBitmap();</span><br><span class="line">        picCode.Image = img;</span><br><span class="line">        <span class="comment">//自动保存图片到当前目录</span></span><br><span class="line">        <span class="built_in">string</span> filename = Environment.CurrentDirectory + <span class="string">&quot;\\EAN_13&quot;</span> + DateTime.Now.Ticks.ToString() + <span class="string">&quot;.jpg&quot;</span>;</span><br><span class="line">        img.Save(filename, ImageFormat.Jpeg);</span><br><span class="line">        lblShow.Text = <span class="string">&quot;图片已保存到：&quot;</span> + filename;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (Exception ex)</span><br><span class="line">    &#123;</span><br><span class="line">        MessageBox.Show(ex.Message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//生成二维码</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">btnDimensionCode_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs </span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    lblShow.Text = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//构造二维码写码器</span></span><br><span class="line">        MultiFormatWriter mutiWriter = <span class="keyword">new</span> MultiFormatWriter();</span><br><span class="line">        ByteMatrix bm = mutiWriter.encode(txtContent.Text, BarcodeFormat.QR_CODE, <span class="number">300</span>, <span class="number">300</span>);</span><br><span class="line">        Bitmap img = bm.ToBitmap();</span><br><span class="line">        picCode.Image = img;</span><br><span class="line">        <span class="comment">//自动保存图片到当前目录</span></span><br><span class="line">        <span class="built_in">string</span> filename = Environment.CurrentDirectory + <span class="string">&quot;\\QR&quot;</span> + DateTime.Now.Ticks.ToString() + <span class="string">&quot;.jpg&quot;</span>;</span><br><span class="line">        img.Save(filename, ImageFormat.Jpeg);</span><br><span class="line">        lblShow.Text = <span class="string">&quot;图片已保存到：&quot;</span> + filename;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (Exception ex)</span><br><span class="line">    &#123; </span><br><span class="line">        MessageBox.Show(ex.Message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//打开二维码图片路径</span></span><br><span class="line"><span class="built_in">string</span> opFilePath = <span class="built_in">string</span>.Empty;</span><br><span class="line"><span class="comment">//插入二维码中的小图片</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">picLittle_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    OpenFileDialog ofd = <span class="keyword">new</span> OpenFileDialog();</span><br><span class="line">    ofd.Filter = <span class="string">&quot;图片文件|*.bmp;*.jpg;*.png;*.ico&quot;</span>;</span><br><span class="line">    <span class="keyword">if</span> (ofd.ShowDialog() == DialogResult.OK)</span><br><span class="line">    &#123;</span><br><span class="line">        opFilePath = ofd.FileName;</span><br><span class="line">        picLittle.Image = Image.FromFile(opFilePath);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//生成中间带二维码的图片</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">btnImageCode_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    lblShow.Text = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//构造二维码写码器</span></span><br><span class="line">        MultiFormatWriter mutiWriter = <span class="keyword">new</span> MultiFormatWriter();</span><br><span class="line">        Hashtable hint = <span class="keyword">new</span> Hashtable();</span><br><span class="line">        hint.Add(EncodeHintType.CHARACTER_SET, <span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">        hint.Add(EncodeHintType.ERROR_CORRECTION, ErrorCorrectionLevel.H);</span><br><span class="line">        <span class="comment">//生成二维码</span></span><br><span class="line">        ByteMatrix bm = mutiWriter.encode(txtContent.Text, BarcodeFormat.QR_CODE, <span class="number">300</span>, <span class="number">300</span>, hint);</span><br><span class="line">        Bitmap img = bm.ToBitmap();</span><br><span class="line">        <span class="comment">//要插入到二维码中的图片</span></span><br><span class="line">        Image middlImg = picLittle.Image;</span><br><span class="line">        <span class="comment">//获取二维码实际尺寸（去掉二维码两边空白后的实际尺寸）</span></span><br><span class="line">        Size realSize = mutiWriter.GetEncodeSize(txtContent.Text, BarcodeFormat.QR_CODE, <span class="number">300</span>, <span class="number">300</span>);</span><br><span class="line">        <span class="comment">//计算插入图片的大小和位置</span></span><br><span class="line">        <span class="built_in">int</span> middleImgW = Math.Min((<span class="built_in">int</span>)(realSize.Width / <span class="number">3.5</span>), middlImg.Width);</span><br><span class="line">        <span class="built_in">int</span> middleImgH = Math.Min((<span class="built_in">int</span>)(realSize.Height / <span class="number">3.5</span>), middlImg.Height);</span><br><span class="line">        <span class="built_in">int</span> middleImgL = (img.Width - middleImgW) / <span class="number">2</span>;</span><br><span class="line">        <span class="built_in">int</span> middleImgT = (img.Height - middleImgH) / <span class="number">2</span>;</span><br><span class="line">        <span class="comment">//将img转换成bmp格式，否则后面无法创建 Graphics对象</span></span><br><span class="line">        Bitmap bmpimg = <span class="keyword">new</span> Bitmap(img.Width, img.Height, PixelFormat.Format32bppArgb);</span><br><span class="line">        <span class="keyword">using</span> (Graphics g = Graphics.FromImage(bmpimg))</span><br><span class="line">        &#123;</span><br><span class="line">            g.InterpolationMode = InterpolationMode.HighQualityBicubic;</span><br><span class="line">            g.SmoothingMode = SmoothingMode.HighQuality;</span><br><span class="line">            g.CompositingQuality = CompositingQuality.HighQuality;</span><br><span class="line">            g.DrawImage(img, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//在二维码中插入图片</span></span><br><span class="line">        Graphics MyGraphic = Graphics.FromImage(bmpimg);</span><br><span class="line">        <span class="comment">//白底</span></span><br><span class="line">        MyGraphic.FillRectangle(Brushes.White, middleImgL, middleImgT, middleImgW, middleImgH);</span><br><span class="line">        MyGraphic.DrawImage(middlImg, middleImgL, middleImgT, middleImgW, middleImgH);</span><br><span class="line">        picCode.Image = bmpimg;</span><br><span class="line">        <span class="comment">//自动保存图片到当前目录</span></span><br><span class="line">        <span class="built_in">string</span> filename = Environment.CurrentDirectory + <span class="string">&quot;\\QR&quot;</span> + DateTime.Now.Ticks.ToString() + <span class="string">&quot;.jpg&quot;</span>;</span><br><span class="line">        bmpimg.Save(filename, ImageFormat.Jpeg);</span><br><span class="line">        lblShow.Text = <span class="string">&quot;图片已保存到：&quot;</span> + filename;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (Exception ee)</span><br><span class="line">    &#123; </span><br><span class="line">        MessageBox.Show(ee.Message); </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">btnSelect_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    OpenFileDialog ofd = <span class="keyword">new</span> OpenFileDialog();</span><br><span class="line">    ofd.Filter = <span class="string">&quot;图片文件|*.bmp;*.jpg;*.png;*.ico&quot;</span>;</span><br><span class="line">    <span class="keyword">if</span> (ofd.ShowDialog() == DialogResult.OK)</span><br><span class="line">    &#123;</span><br><span class="line">        opFilePath = ofd.FileName;</span><br><span class="line">        picDeCode.ImageLocation = opFilePath;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//图片解码</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">btnDecode_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    MultiFormatReader multiReader = <span class="keyword">new</span> MultiFormatReader();</span><br><span class="line">    Bitmap img = (Bitmap)Bitmap.FromFile(opFilePath);</span><br><span class="line">    <span class="keyword">if</span> (img == <span class="literal">null</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    LuminanceSource ls = <span class="keyword">new</span> RGBLuminanceSource(img, img.Width, img.Height);</span><br><span class="line">    BinaryBitmap bb = <span class="keyword">new</span> BinaryBitmap(<span class="keyword">new</span> HybridBinarizer(ls));</span><br><span class="line">    <span class="comment">//注意  必须是Utf-8编码</span></span><br><span class="line">    Hashtable hints = <span class="keyword">new</span> Hashtable();</span><br><span class="line">    hints.Add(EncodeHintType.CHARACTER_SET, <span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">    Result r = multiReader.decode(bb, hints);</span><br><span class="line">    txtDeCodeMsg.Text = r.Text;</span><br><span class="line">    lblShow.Text = <span class="string">&quot;解码成功！&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="http://pan.baidu.com/s/1nuOpiLb">测试例子代码</a></p><p>生成二维码还有ThoughtWorks.QRCode.dll</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">MarkQrCode</span>(<span class="params"><span class="built_in">string</span> str</span>)</span></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//初始化二维码生成工具</span></span><br><span class="line">    QRCodeEncoder qrCodeEncoder = <span class="keyword">new</span> QRCodeEncoder();</span><br><span class="line">    qrCodeEncoder.QRCodeEncodeMode = QRCodeEncoder.ENCODE_MODE.BYTE;</span><br><span class="line">    qrCodeEncoder.QRCodeErrorCorrect = QRCodeEncoder.ERROR_CORRECTION.M;</span><br><span class="line">    qrCodeEncoder.QRCodeVersion = <span class="number">0</span>;  <span class="comment">//版本</span></span><br><span class="line">    qrCodeEncoder.QRCodeScale = <span class="number">4</span>; <span class="comment">//大小</span></span><br><span class="line">    <span class="comment">//将字符串生成二维码图片</span></span><br><span class="line">    Bitmap image = qrCodeEncoder.Encode(str, Encoding.Default);</span><br><span class="line">    <span class="comment">//保存为PNG到内存流  </span></span><br><span class="line">    MemoryStream ms = <span class="keyword">new</span> MemoryStream();</span><br><span class="line">    image.Save(ms, ImageFormat.Png);</span><br><span class="line">    <span class="comment">//输出二维码图片</span></span><br><span class="line">    Response.BinaryWrite(ms.GetBuffer());</span><br><span class="line">    Response.End();   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>asp.net 下载文件</title>
      <link href="/2017/01/17/asp.net-xia-zai-wen-jian/"/>
      <url>/2017/01/17/asp.net-xia-zai-wen-jian/</url>
      
        <content type="html"><![CDATA[<p>第一种下载方法</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">DownExcel</span>(<span class="params"><span class="built_in">string</span> filePath</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//string path = HttpContext.Current.Server.MapPath(&quot;/UploadFiles/KGData/test.xls&quot;);</span></span><br><span class="line">    <span class="built_in">string</span> path = HttpContext.Current.Server.MapPath(filePath);</span><br><span class="line">    FileInfo fileInfo = <span class="keyword">new</span> FileInfo(filePath);</span><br><span class="line">    Response.Clear();</span><br><span class="line">    Response.ClearContent();</span><br><span class="line">    Response.ClearHeaders();</span><br><span class="line">    Response.AddHeader(<span class="string">&quot;Content-Disposition&quot;</span>, <span class="string">&quot;attachment;filename=&quot;</span> + fileInfo.Name);</span><br><span class="line">    Response.AddHeader(<span class="string">&quot;Content-Length&quot;</span>, fileInfo.Length.ToString());</span><br><span class="line">    Response.AddHeader(<span class="string">&quot;Content-Transfer-Encoding&quot;</span>, <span class="string">&quot;binary&quot;</span>);</span><br><span class="line">    Response.ContentType = <span class="string">&quot;application/octet-stream&quot;</span>;</span><br><span class="line">    Response.ContentEncoding = Encoding.GetEncoding(<span class="string">&quot;gb2312&quot;</span>);</span><br><span class="line">    Response.WriteFile(fileInfo.FullName);</span><br><span class="line">    Response.Flush();</span><br><span class="line">    Response.End();             </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>第二种下载方法<br>windows.location.href &#x3D; “&#x2F;test&#x2F;ExcelDownLoad.aspx?file&#x3D;test.xls” ;</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">ResponseFile</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">   <span class="built_in">string</span> fileName = Request.QueryString[<span class="string">&quot;file&quot;</span>];</span><br><span class="line">   ext(fileName);</span><br><span class="line">    System.IO.Stream iStream = <span class="literal">null</span>;</span><br><span class="line">    <span class="comment">// 缓冲区为10k</span></span><br><span class="line">    <span class="built_in">byte</span>[] buffer = <span class="keyword">new</span> Byte[<span class="number">10240</span>];</span><br><span class="line">    <span class="comment">// 文件长度</span></span><br><span class="line">    <span class="built_in">int</span> length;</span><br><span class="line">    <span class="comment">// 需要读的数据长度</span></span><br><span class="line">    <span class="built_in">long</span> dataToRead;</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">string</span> fileName = path;</span><br><span class="line">        <span class="built_in">string</span> filepath = HttpContext.Current.Server.MapPath(<span class="string">&quot;/ExcelTemp/&quot;</span>) + fileName; <span class="comment">//待下载的文件路径</span></span><br><span class="line">        iStream = <span class="keyword">new</span> System.IO.FileStream(filepath, System.IO.FileMode.Open,</span><br><span class="line">            System.IO.FileAccess.Read, System.IO.FileShare.Read);</span><br><span class="line">        Response.Clear();</span><br><span class="line">        dataToRead = iStream.Length;</span><br><span class="line">        <span class="comment">//iStream.Position = 0;</span></span><br><span class="line">        <span class="built_in">long</span> p = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (Request.Headers[<span class="string">&quot;Range&quot;</span>] != <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            Response.StatusCode = <span class="number">206</span>;</span><br><span class="line">            p = <span class="built_in">long</span>.Parse(Request.Headers[<span class="string">&quot;Range&quot;</span>].Replace(<span class="string">&quot;bytes=&quot;</span>, <span class="string">&quot;&quot;</span>).Replace(<span class="string">&quot;-&quot;</span>, <span class="string">&quot;&quot;</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (p != <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            Response.AddHeader(<span class="string">&quot;Content-Range&quot;</span>, <span class="string">&quot;bytes &quot;</span> + p.ToString() + <span class="string">&quot;-&quot;</span> + ((<span class="built_in">long</span>)(dataToRead - <span class="number">1</span>)).ToString() + <span class="string">&quot;/&quot;</span> + dataToRead.ToString());</span><br><span class="line">        &#125;</span><br><span class="line">        Response.AddHeader(<span class="string">&quot;Content-Length&quot;</span>, ((<span class="built_in">long</span>)(dataToRead - p)).ToString());</span><br><span class="line">        Response.ContentType = <span class="string">&quot;application/octet-stream&quot;</span>;</span><br><span class="line">        Response.AddHeader(<span class="string">&quot;Content-Disposition&quot;</span>, <span class="string">&quot;attachment; filename=&quot;</span> +HttpUtility.UrlEncode(Path.GetFileName(filepath)));</span><br><span class="line">        Response.AppendHeader(<span class="string">&quot;Location&quot;</span>, Request.Url.AbsoluteUri); </span><br><span class="line">        iStream.Position = p;</span><br><span class="line">        dataToRead = dataToRead - p;</span><br><span class="line">        <span class="keyword">while</span> (dataToRead &gt; <span class="number">0</span>)</span><br><span class="line">        &#123;    <span class="comment">// 检查客户端是否还处于连接状态</span></span><br><span class="line">            <span class="keyword">if</span> (Response.IsClientConnected)</span><br><span class="line">            &#123;</span><br><span class="line">                length = iStream.Read(buffer, <span class="number">0</span>, <span class="number">10240</span>);</span><br><span class="line">                Response.OutputStream.Write(buffer, <span class="number">0</span>, length);</span><br><span class="line">             </span><br><span class="line">                Response.Flush();</span><br><span class="line">                </span><br><span class="line">                buffer = <span class="keyword">new</span> Byte[<span class="number">10240</span>];</span><br><span class="line">                dataToRead = dataToRead - length;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;    <span class="comment">// 如果不再连接则跳出死循环</span></span><br><span class="line">                dataToRead = <span class="number">-1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (Exception ex)</span><br><span class="line">    &#123;</span><br><span class="line">        Response.Write(<span class="string">&quot;Error : 文件不存在！！！&quot;</span>);</span><br><span class="line">       <span class="comment">// Response.Redirect(&quot;../Supplier_Idex.aspx&quot;);</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">finally</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (iStream != <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            iStream.Close();</span><br><span class="line">        &#125;</span><br><span class="line">        Response.End();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="built_in">string</span> <span class="title">ext</span>(<span class="params"><span class="built_in">string</span> file</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">string</span> str = <span class="built_in">string</span>.Empty;</span><br><span class="line">    <span class="keyword">if</span>(!<span class="built_in">string</span>.IsNullOrEmpty(file))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">var</span> invalidPattern = <span class="keyword">new</span> Regex(<span class="string">@&quot;[\\\/\:\*\?&lt;\&gt;\|]&quot;</span>);</span><br><span class="line">        <span class="built_in">string</span> strExt = invalidPattern.Replace(file, <span class="string">&quot;&quot;</span>);</span><br><span class="line">        strExt =  Path.GetExtension(file);</span><br><span class="line">        <span class="keyword">switch</span>(strExt)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;.config&quot;</span>:</span><br><span class="line">                str = <span class="string">&quot;文件不存在&quot;</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="literal">default</span>:</span><br><span class="line">                str = file; <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> str;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>使用jquery下载方法</p><p>js方法</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">jQuery.<span class="property">download</span> = <span class="keyword">function</span> (<span class="params">downloadurl, method, filepath, filename</span>) &#123;</span><br><span class="line">    <span class="title function_">jQuery</span>(<span class="string">&#x27;&lt;form action=&quot;&#x27;</span> + downloadurl + <span class="string">&#x27;&quot; method=&quot;&#x27;</span> + (method || <span class="string">&#x27;post&#x27;</span>) + <span class="string">&#x27;&quot;&gt;&#x27;</span> +  <span class="comment">// action请求路径及推送方法 </span></span><br><span class="line">        <span class="string">&#x27;&lt;input type=&quot;text&quot; name=&quot;filepath&quot; value=&quot;&#x27;</span> + filepath + <span class="string">&#x27;&quot;/&gt;&#x27;</span> + <span class="comment">// 文件路径 </span></span><br><span class="line">        <span class="string">&#x27;&lt;input type=&quot;text&quot; name=&quot;filename&quot; value=&quot;&#x27;</span> + filename + <span class="string">&#x27;&quot;/&gt;&#x27;</span> + <span class="comment">// 文件名称 </span></span><br><span class="line">        <span class="string">&#x27;&lt;/form&gt;&#x27;</span>)</span><br><span class="line">        .<span class="title function_">appendTo</span>(<span class="string">&#x27;body&#x27;</span>).<span class="title function_">submit</span>().<span class="title function_">remove</span>();</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> <span class="keyword">function</span> <span class="title function_">ExportToExcel</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="title function_">confirm</span>(<span class="string">&quot;确定要导出Excel吗？&quot;</span>)) &#123;</span><br><span class="line">        <span class="keyword">var</span> start = <span class="title function_">getQueryString</span>(<span class="string">&#x27;fromDate&#x27;</span>);</span><br><span class="line">        <span class="keyword">var</span> end = <span class="title function_">getQueryString</span>(<span class="string">&#x27;toDate&#x27;</span>);</span><br><span class="line">        <span class="keyword">var</span> brand = <span class="title function_">getQueryString</span>(<span class="string">&#x27;brandCompany&#x27;</span>);</span><br><span class="line">        <span class="keyword">var</span> staff = <span class="title function_">getQueryString</span>(<span class="string">&#x27;staff&#x27;</span>);</span><br><span class="line">        <span class="keyword">var</span> groupName = <span class="title function_">getQueryString</span>(<span class="string">&#x27;groupName&#x27;</span>);</span><br><span class="line">        $.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">            <span class="attr">type</span>: <span class="string">&quot;POST&quot;</span>,</span><br><span class="line">            <span class="attr">dataType</span>: <span class="string">&quot;json&quot;</span>,</span><br><span class="line">            <span class="attr">url</span>: <span class="string">&quot;Test.aspx/ExportToExcel&quot;</span>,</span><br><span class="line">            <span class="attr">data</span>: <span class="string">&quot;&#123;fromDate:&#x27;&quot;</span> + start + <span class="string">&quot;&#x27;,toDate:&#x27;&quot;</span> + end + <span class="string">&quot;&#x27;,brandName:&#x27;&quot;</span> + brand + <span class="string">&quot;&#x27;&#125;&quot;</span>,</span><br><span class="line">            <span class="attr">contentType</span>: <span class="string">&quot;application/json; charset=utf-8&quot;</span>,</span><br><span class="line">            <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">data</span>) &#123;</span><br><span class="line">                <span class="keyword">var</span> result = <span class="built_in">eval</span>(<span class="string">&#x27;(&#x27;</span> + data.<span class="property">d</span> + <span class="string">&#x27;)&#x27;</span>);</span><br><span class="line">                <span class="keyword">if</span> (result.<span class="property">Body</span> == <span class="string">&#x27;没有需要导出的信息&#x27;</span>) &#123;</span><br><span class="line">                    <span class="title function_">alert</span>(result.<span class="property">Body</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> &#123;</span><br><span class="line">                    $.<span class="title function_">download</span>(result.<span class="property">DownLoadUrl</span>, <span class="string">&#x27;post&#x27;</span>, result.<span class="property">FilePath</span>, result.<span class="property">FileName</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">error</span>: <span class="keyword">function</span> (<span class="params">msg</span>) &#123;</span><br><span class="line">               <span class="title function_">alert</span>(<span class="string">&#x27;系统繁忙，请稍后重试！&#x27;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">      </span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getQueryString</span>(<span class="params">name</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> reg = <span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="string">&quot;(^|&amp;)&quot;</span> + name + <span class="string">&quot;=([^&amp;]*)(&amp;|$)&quot;</span>, <span class="string">&quot;i&quot;</span>);</span><br><span class="line">    <span class="keyword">var</span> result = <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">search</span>.<span class="title function_">substr</span>(<span class="number">1</span>).<span class="title function_">match</span>(reg);</span><br><span class="line">    <span class="keyword">if</span> (result != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">unescape</span>(result[<span class="number">2</span>]);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>后台方法</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">WebMethod</span>]</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">string</span> <span class="title">ExportToRiskExcel</span>(<span class="params">DateTime fromDate,ateTime toDate,<span class="built_in">string</span> brandName</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    DataSet ds = <span class="keyword">new</span> wcfInternalService.InternalServiceClient().GetList(fromDate, toDate, brandName);</span><br><span class="line">    DownResult result = <span class="keyword">new</span> DownResult()</span><br><span class="line">    &#123;</span><br><span class="line">        Success = <span class="literal">false</span>,</span><br><span class="line">        Body = <span class="string">&quot;导出失败，请稍后再试！&quot;</span></span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">if</span> (ds.Tables[<span class="number">0</span>] != <span class="literal">null</span> &amp;&amp; ds.Tables[<span class="number">0</span>].Rows.Count &gt; <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">string</span>[] columns = &#123; <span class="string">&quot;序号&quot;</span>, <span class="string">&quot;案件&quot;</span>, <span class="string">&quot;车牌&quot;</span>, <span class="string">&quot;分类&quot;</span>, <span class="string">&quot;处理时间&quot;</span>, <span class="string">&quot;人员&quot;</span>, <span class="string">&quot;金额&quot;</span> &#125;;</span><br><span class="line">        result = ExportExcel(ds.Tables[<span class="number">0</span>], columns, <span class="string">&quot;分布详情&quot;</span>, result);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        result = <span class="keyword">new</span> DownResult()</span><br><span class="line">        &#123;</span><br><span class="line">            Success = <span class="literal">true</span>,</span><br><span class="line">            Body = <span class="string">&quot;没有需要导出的信息&quot;</span></span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> JsonConvert.SerializeObject(result);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> DownResult <span class="title">ExportExcel</span>(<span class="params">DataTable dt, <span class="built_in">string</span>[] columns, <span class="built_in">string</span> sheetName, DownResult result</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">string</span> filePath = <span class="built_in">string</span>.Empty;<span class="comment">//文件路径</span></span><br><span class="line">    <span class="built_in">string</span> fileName = <span class="built_in">string</span>.Empty;<span class="comment">//文件名称</span></span><br><span class="line">    Stream stream = DataTableToExcel(dt, columns, sheetName);</span><br><span class="line">    ExcelPackage package = <span class="keyword">new</span> ExcelPackage(stream);</span><br><span class="line">    fileName = sheetName + DateTime.Now.ToString(<span class="string">&quot;yyyyMMddHHmmss&quot;</span>) + <span class="string">&quot;.xlsx&quot;</span>;</span><br><span class="line">    filePath = HttpContext.Current.Server.MapPath(<span class="string">&quot;~/UploadFile/&quot;</span>);<span class="comment">//文件保存地址 </span></span><br><span class="line">    <span class="keyword">if</span> (!Directory.Exists(filePath))<span class="comment">//如果不存在就创建file文件夹</span></span><br><span class="line">    &#123;</span><br><span class="line">        Directory.CreateDirectory(filePath);</span><br><span class="line">    &#125;</span><br><span class="line">    package.SaveAs(<span class="keyword">new</span> FileInfo(filePath + fileName));</span><br><span class="line"></span><br><span class="line">    result = <span class="keyword">new</span> DownResult()</span><br><span class="line">    &#123;</span><br><span class="line">        Success = <span class="literal">true</span>,</span><br><span class="line">        Body = <span class="string">&quot;导出成功！&quot;</span>,</span><br><span class="line">        DownLoadUrl = <span class="string">&quot;DownExcel.aspx&quot;</span>,</span><br><span class="line">        FilePath = filePath,</span><br><span class="line">        FileName = fileName,</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line">     </span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Stream <span class="title">DataTableToExcel</span>(<span class="params">DataTable dataTable, <span class="built_in">string</span>[] columns, <span class="built_in">string</span> sheetName</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">using</span> (ExcelPackage pck = <span class="keyword">new</span> ExcelPackage())</span><br><span class="line">        &#123;</span><br><span class="line">            ExcelWorksheet ws = pck.Workbook.Worksheets.Add(sheetName);</span><br><span class="line">            ws.Cells[<span class="string">&quot;A1&quot;</span>].LoadFromDataTable(dataTable, <span class="literal">true</span>);</span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">1</span>; i &lt;= columns.Length; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">using</span> (ExcelRange rng = ws.Cells[<span class="number">1</span>, i])</span><br><span class="line">                &#123;</span><br><span class="line">                    rng.Style.Font.Bold = <span class="literal">true</span>;</span><br><span class="line">                    rng.Value = columns[i - <span class="number">1</span>];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            MemoryStream ms = <span class="keyword">new</span> MemoryStream();</span><br><span class="line">            pck.SaveAs(ms);</span><br><span class="line">            ms.Flush();</span><br><span class="line">            ms.Position = <span class="number">0</span>;<span class="comment">//指定当前流的位置从0开始</span></span><br><span class="line">            <span class="keyword">return</span> ms;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (Exception ex)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">throw</span> ex;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">DownResult</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">bool</span> Success &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Body &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> DownLoadUrl &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> FilePath &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> FileName &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> 方法必须为静态，参数需要一致</p><p>下载页面方法</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">Page_Load</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">string</span> fileName = Request[<span class="string">&quot;filename&quot;</span>];<span class="comment">//下载文档名  </span></span><br><span class="line">    <span class="built_in">string</span> filePath = Request[<span class="string">&quot;filepath&quot;</span>];</span><br><span class="line">    FileInfo fileInfo = <span class="keyword">new</span> FileInfo(filePath + fileName);</span><br><span class="line">    Response.Clear();</span><br><span class="line">    Response.ClearContent();</span><br><span class="line">    Response.ClearHeaders();</span><br><span class="line">    String userAgent = HttpContext.Current.Request.UserAgent;</span><br><span class="line">    <span class="comment">//判断是否为ie10以下及ie11浏览器  </span></span><br><span class="line">    <span class="keyword">if</span> (userAgent.Contains(<span class="string">&quot;MSIE&quot;</span>) || userAgent.Contains(<span class="string">&quot;rv:11&quot;</span>))</span><br><span class="line">    &#123;</span><br><span class="line">        fileName = HttpUtility.UrlEncode(fileName);</span><br><span class="line">    &#125;</span><br><span class="line">    Response.AddHeader(<span class="string">&quot;Content-Disposition&quot;</span>, <span class="built_in">string</span>.Format(<span class="string">&quot;attachment;filename=\&quot;&#123;0&#125;\&quot;&quot;</span>, fileName));</span><br><span class="line">    Response.AddHeader(<span class="string">&quot;Content-Length&quot;</span>, fileInfo.Length.ToString());</span><br><span class="line">    Response.AddHeader(<span class="string">&quot;Content-Transfer-Encoding&quot;</span>, <span class="string">&quot;binary&quot;</span>);</span><br><span class="line">    Response.ContentType = <span class="string">&quot;application/octet-stream&quot;</span>;</span><br><span class="line">    Response.ContentEncoding = System.Text.Encoding.GetEncoding(<span class="string">&quot;gb2312&quot;</span>);</span><br><span class="line">    Response.WriteFile(fileInfo.FullName);</span><br><span class="line">    Response.Flush();</span><br><span class="line">    <span class="keyword">if</span> (File.Exists(Path.GetFullPath(fileInfo.ToString())))</span><br><span class="line">    &#123;</span><br><span class="line">        File.Delete(Path.GetFullPath(fileInfo.ToString()));<span class="comment">//用户下载后删除服务器文件</span></span><br><span class="line">    &#125;</span><br><span class="line">    Response.End();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> WEB </category>
          
      </categories>
      
      
        <tags>
            
            <tag> WEB </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VS 开发中觉得不错的几款插件</title>
      <link href="/2017/01/03/vs-kai-fa-zhong-jue-de-bu-cuo-de-ji-kuan-cha-jian/"/>
      <url>/2017/01/03/vs-kai-fa-zhong-jue-de-bu-cuo-de-ji-kuan-cha-jian/</url>
      
        <content type="html"><![CDATA[<ol><li><strong>C# Outline 2013</strong>  {}折叠<br><img src="/images/2017010316451501.png" alt="2017010316451501.png"></li><li><strong>Indent Guides</strong>：为缩进添加竖直线<br><img src="/images/2017010316451502.png" alt="2017010316451502.png"></li><li><strong>ResXManager</strong>：多语言资源文件编辑</li><li><strong>C# Formatter</strong>：代码清理<br><img src="/images/2017010316451503.png" alt="2017010316451503.png"></li><li><strong>Highlight all occurrences of selected word</strong>：双击高亮全部选择的词<br><img src="/images/2017010316451504.png" alt="2017010316451504.png"></li><li><strong>Hide Main Menu</strong>：可以隐藏菜单以节省屏幕空间，支持菜单鼠标悬停显示，并且带有动画效果。<br><img src="/images/2017010316451505.png" alt="2017010316451505.png"></li><li><strong>VSCommands for Visual Studio</strong>：代码显示增强：它可以在尾部显示方法或过程名字，仅因这个就非常喜欢了</li></ol>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MVC 中Simditor上传本地图片</title>
      <link href="/2016/12/05/mvc-zhong-simditor-shang-chuan-ben-di-tu-pian/"/>
      <url>/2016/12/05/mvc-zhong-simditor-shang-chuan-ben-di-tu-pian/</url>
      
        <content type="html"><![CDATA[<ol><li>引用样式和js文件</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;link href=<span class="string">&quot;~/Content/scripts/plugins/simditor/css/simditor.css&quot;</span> rel=<span class="string">&quot;stylesheet&quot;</span> /&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;~/Content/scripts/plugins/simditor/js/simditor.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><ol start="2"><li>初始化Simditor</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> editor = <span class="literal">null</span>;</span><br><span class="line">    $(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="comment">//可以参考 http://www.jcodecraeer.com/a/javascript/2015/0201/2393.html</span></span><br><span class="line">        editor = <span class="keyword">new</span> <span class="title class_">Simditor</span>(&#123;</span><br><span class="line">            <span class="attr">textarea</span>: $(<span class="string">&#x27;#NewsContent&#x27;</span>),</span><br><span class="line">            <span class="attr">placeholder</span>: <span class="string">&#x27;这里输入公告内容...&#x27;</span>,</span><br><span class="line">            <span class="attr">toolbar</span>: [<span class="string">&#x27;title&#x27;</span>, <span class="string">&#x27;bold&#x27;</span>, <span class="string">&#x27;italic&#x27;</span>, <span class="string">&#x27;underline&#x27;</span>, <span class="string">&#x27;strikethrough&#x27;</span>, <span class="string">&#x27;color&#x27;</span>, <span class="string">&#x27;|&#x27;</span>, <span class="string">&#x27;ol&#x27;</span>, <span class="string">&#x27;ul&#x27;</span>, <span class="string">&#x27;blockquote&#x27;</span>, <span class="string">&#x27;code&#x27;</span>, <span class="string">&#x27;table&#x27;</span>, <span class="string">&#x27;|&#x27;</span>, <span class="string">&#x27;link&#x27;</span>, <span class="string">&#x27;image&#x27;</span>, <span class="string">&#x27;hr&#x27;</span>, <span class="string">&#x27;|&#x27;</span>, <span class="string">&#x27;indent&#x27;</span>, <span class="string">&#x27;outdent&#x27;</span>],</span><br><span class="line">            <span class="attr">upload</span>: &#123;</span><br><span class="line">                <span class="attr">url</span>: <span class="string">&#x27;/PublicInfoManage/Notice/SavePic&#x27;</span>, <span class="comment">//文件上传的接口地址</span></span><br><span class="line">                <span class="attr">params</span>: <span class="literal">null</span>, <span class="comment">//键值对,指定文件上传接口的额外参数,上传的时候随文件一起提交</span></span><br><span class="line">                <span class="attr">fileKey</span>: <span class="string">&#x27;fileDataFileName&#x27;</span>, <span class="comment">//服务器端获取文件数据的参数名</span></span><br><span class="line">                <span class="attr">connectionCount</span>: <span class="number">3</span>,</span><br><span class="line">                <span class="attr">leaveConfirm</span>: <span class="string">&#x27;正在上传文件&#x27;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;)<span class="keyword">var</span> editor = <span class="literal">null</span>;</span><br><span class="line">    $(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="comment">//可以参考 http://www.jcodecraeer.com/a/javascript/2015/0201/2393.html</span></span><br><span class="line">        editor = <span class="keyword">new</span> <span class="title class_">Simditor</span>(&#123;</span><br><span class="line">            <span class="attr">textarea</span>: $(<span class="string">&#x27;#NewsContent&#x27;</span>),</span><br><span class="line">            <span class="attr">placeholder</span>: <span class="string">&#x27;这里输入公告内容...&#x27;</span>,</span><br><span class="line">            <span class="attr">toolbar</span>: [<span class="string">&#x27;title&#x27;</span>, <span class="string">&#x27;bold&#x27;</span>, <span class="string">&#x27;italic&#x27;</span>, <span class="string">&#x27;underline&#x27;</span>, <span class="string">&#x27;strikethrough&#x27;</span>, <span class="string">&#x27;color&#x27;</span>, <span class="string">&#x27;|&#x27;</span>, <span class="string">&#x27;ol&#x27;</span>, <span class="string">&#x27;ul&#x27;</span>, <span class="string">&#x27;blockquote&#x27;</span>, <span class="string">&#x27;code&#x27;</span>, <span class="string">&#x27;table&#x27;</span>, <span class="string">&#x27;|&#x27;</span>, <span class="string">&#x27;link&#x27;</span>, <span class="string">&#x27;image&#x27;</span>, <span class="string">&#x27;hr&#x27;</span>, <span class="string">&#x27;|&#x27;</span>, <span class="string">&#x27;indent&#x27;</span>, <span class="string">&#x27;outdent&#x27;</span>],</span><br><span class="line">            <span class="attr">upload</span>: &#123;</span><br><span class="line">                <span class="attr">url</span>: <span class="string">&#x27;/PublicInfoManage/Notice/SavePic&#x27;</span>, <span class="comment">//文件上传的接口地址</span></span><br><span class="line">                <span class="attr">params</span>: <span class="literal">null</span>, <span class="comment">//键值对,指定文件上传接口的额外参数,上传的时候随文件一起提交</span></span><br><span class="line">                <span class="attr">fileKey</span>: <span class="string">&#x27;fileDataFileName&#x27;</span>, <span class="comment">//服务器端获取文件数据的参数名</span></span><br><span class="line">                <span class="attr">connectionCount</span>: <span class="number">3</span>,</span><br><span class="line">                <span class="attr">leaveConfirm</span>: <span class="string">&#x27;正在上传文件&#x27;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;)<span class="keyword">var</span> editor = <span class="literal">null</span>;</span><br><span class="line">    $(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="comment">//可以参考 http://www.jcodecraeer.com/a/javascript/2015/0201/2393.html</span></span><br><span class="line">        editor = <span class="keyword">new</span> <span class="title class_">Simditor</span>(&#123;</span><br><span class="line">            <span class="attr">textarea</span>: $(<span class="string">&#x27;#NewsContent&#x27;</span>),</span><br><span class="line">            <span class="attr">placeholder</span>: <span class="string">&#x27;这里输入公告内容...&#x27;</span>,</span><br><span class="line">            <span class="attr">toolbar</span>: [<span class="string">&#x27;title&#x27;</span>, <span class="string">&#x27;bold&#x27;</span>, <span class="string">&#x27;italic&#x27;</span>, <span class="string">&#x27;underline&#x27;</span>, <span class="string">&#x27;strikethrough&#x27;</span>, <span class="string">&#x27;color&#x27;</span>, <span class="string">&#x27;|&#x27;</span>, <span class="string">&#x27;ol&#x27;</span>, <span class="string">&#x27;ul&#x27;</span>, <span class="string">&#x27;blockquote&#x27;</span>, <span class="string">&#x27;code&#x27;</span>, <span class="string">&#x27;table&#x27;</span>, <span class="string">&#x27;|&#x27;</span>, <span class="string">&#x27;link&#x27;</span>, <span class="string">&#x27;image&#x27;</span>, <span class="string">&#x27;hr&#x27;</span>, <span class="string">&#x27;|&#x27;</span>, <span class="string">&#x27;indent&#x27;</span>, <span class="string">&#x27;outdent&#x27;</span>],</span><br><span class="line">            <span class="attr">upload</span>: &#123;</span><br><span class="line">                <span class="attr">url</span>: <span class="string">&#x27;/PublicInfoManage/Notice/SavePic&#x27;</span>, <span class="comment">//文件上传的接口地址</span></span><br><span class="line">                <span class="attr">params</span>: <span class="literal">null</span>, <span class="comment">//键值对,指定文件上传接口的额外参数,上传的时候随文件一起提交</span></span><br><span class="line">                <span class="attr">fileKey</span>: <span class="string">&#x27;fileDataFileName&#x27;</span>, <span class="comment">//服务器端获取文件数据的参数名</span></span><br><span class="line">                <span class="attr">connectionCount</span>: <span class="number">3</span>,</span><br><span class="line">                <span class="attr">leaveConfirm</span>: <span class="string">&#x27;正在上传文件&#x27;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;)<span class="keyword">var</span> editor = <span class="literal">null</span>;</span><br><span class="line">    $(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="comment">//可以参考 http://www.jcodecraeer.com/a/javascript/2015/0201/2393.html</span></span><br><span class="line">        editor = <span class="keyword">new</span> <span class="title class_">Simditor</span>(&#123;</span><br><span class="line">            <span class="attr">textarea</span>: $(<span class="string">&#x27;#NewsContent&#x27;</span>),</span><br><span class="line">            <span class="attr">placeholder</span>: <span class="string">&#x27;这里输入公告内容...&#x27;</span>,</span><br><span class="line">            <span class="attr">toolbar</span>: [<span class="string">&#x27;title&#x27;</span>, <span class="string">&#x27;bold&#x27;</span>, <span class="string">&#x27;italic&#x27;</span>, <span class="string">&#x27;underline&#x27;</span>, <span class="string">&#x27;strikethrough&#x27;</span>, <span class="string">&#x27;color&#x27;</span>, <span class="string">&#x27;|&#x27;</span>, <span class="string">&#x27;ol&#x27;</span>, <span class="string">&#x27;ul&#x27;</span>, <span class="string">&#x27;blockquote&#x27;</span>, <span class="string">&#x27;code&#x27;</span>, <span class="string">&#x27;table&#x27;</span>, <span class="string">&#x27;|&#x27;</span>, <span class="string">&#x27;link&#x27;</span>, <span class="string">&#x27;image&#x27;</span>, <span class="string">&#x27;hr&#x27;</span>, <span class="string">&#x27;|&#x27;</span>, <span class="string">&#x27;indent&#x27;</span>, <span class="string">&#x27;outdent&#x27;</span>],</span><br><span class="line">            <span class="attr">upload</span>: &#123;</span><br><span class="line">                <span class="attr">url</span>: <span class="string">&#x27;/PublicInfoManage/Notice/SavePic&#x27;</span>, <span class="comment">//文件上传的接口地址</span></span><br><span class="line">                <span class="attr">params</span>: <span class="literal">null</span>, <span class="comment">//键值对,指定文件上传接口的额外参数,上传的时候随文件一起提交</span></span><br><span class="line">                <span class="attr">fileKey</span>: <span class="string">&#x27;fileDataFileName&#x27;</span>, <span class="comment">//服务器端获取文件数据的参数名</span></span><br><span class="line">                <span class="attr">connectionCount</span>: <span class="number">3</span>,</span><br><span class="line">                <span class="attr">leaveConfirm</span>: <span class="string">&#x27;正在上传文件&#x27;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure><p>upload设置好就会出现下图中的选项<br><img src="/images/2016120517321201.png" alt="2016120517321201.png"><br>实现功能之前需要修改一下引用的js文件，使用查看浏览器的审核元素功能查看，发现input按钮没有name属性<br><img src="/images/2016120517321202.png" alt="2016120517321202.png"><br>3. 打开Simditor.js文件搜索accept属性，然后添加“name&#x3D;“fileData”属性，共有两处需要添加，如下图<br><img src="/images/2016120517321203.png" alt="2016120517321203.png"><br>4. 编写后台处理图片代码</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 上传图片</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> ActionResult <span class="title">SavePic</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    HttpPostedFileBase file = Request.Files[<span class="string">&quot;fileDataFileName&quot;</span>];</span><br><span class="line">    <span class="keyword">if</span> (file != <span class="literal">null</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">string</span> strPath = HttpContext.Server.MapPath(<span class="string">&quot;/Content/Upload/&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (!Directory.Exists(strPath))</span><br><span class="line">        &#123;</span><br><span class="line">            Directory.CreateDirectory(strPath);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">string</span> filePath = Path.Combine(strPath, Path.GetFileName(file.FileName));</span><br><span class="line">        file.SaveAs(filePath);</span><br><span class="line">        <span class="keyword">return</span> Success(<span class="string">&quot;上传成功！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> Success(<span class="string">&quot;上传失败！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">     </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>参考文章 <a href="http://www.jcodecraeer.com/a/javascript/2015/0201/2393.html">http://www.jcodecraeer.com/a/javascript/2015/0201/2393.html</a></p>]]></content>
      
      
      <categories>
          
          <category> MVC </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MVC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>基于MVC模式开发的后台框架</title>
      <link href="/2016/11/25/ji-yu-mvc-mo-shi-kai-fa-de-hou-tai-kuang-jia/"/>
      <url>/2016/11/25/ji-yu-mvc-mo-shi-kai-fa-de-hou-tai-kuang-jia/</url>
      
        <content type="html"><![CDATA[<ol><li><a href="http://demo.thinkcmf.com/admin/index/index.html">ThinkCMF</a><br><img src="/images/2016112514230301.png" alt="2016112514230301.png"></li><li><a href="http://www.nfine.cn:8099/Home/Index">NFine快速开发平台</a><br><img src="/images/2016112514230303.png" alt="2016112514230303.png"></li><li><a href="http://121.40.148.178:8080/">力软快速开发框架</a><br><img src="/images/2016112514230302.png" alt="2016112514230302.png"></li></ol>]]></content>
      
      
      <categories>
          
          <category> MVC </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MVC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSS3 中 图标编码 icon——Font-Awesome</title>
      <link href="/2016/11/25/css3-zhong-tu-biao-bian-ma-icon-font-awesome/"/>
      <url>/2016/11/25/css3-zhong-tu-biao-bian-ma-icon-font-awesome/</url>
      
        <content type="html"><![CDATA[<p>在做网页开发中经常会用到图标，原来经常会到一些icon网站上找导入到项目中，现在<a href="http://fontawesome.io/">Font-Awesome</a>中的有很多的图标，并且还在不断更新<br><img src="/images/2016112514031301.png" alt="2016112514031301.png"></p><p>现在Font-Awesome最新版本是4.7，下载出来的Font-Awesome有下面这些文件，只保留css和fonts文件夹中的内容就可以了<br><img src="/images/2016112514031302.png" alt="2016112514031302.png"></p><p>新建一个html页面，在html用引用css样式</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">&quot;css/font-awesome.min.css&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><p>在官网中选择好要引用的图标点击该图标进去<br><img src="/images/2016112514031303.png" alt="2016112514031303.png"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;fa&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;fa fa-list-ul&quot;</span>&gt;</span>百度<span class="tag">&lt;/<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>  <span class="attr">class</span>=<span class="string">&quot;fa fa-list-ul&quot;</span>&gt;</span>谷歌<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure><p>页面显示<br><img src="/images/2016112514031304.png" alt="2016112514031304.png"><br><strong>注意引用样式的时候要在样式（fa-list-ul）前面加上fa</strong></p><p>如果想改变图标和文字颜色呢？</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;fa&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;fa fa-list-ul&quot;</span>&gt;</span>百度<span class="tag">&lt;/<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">&quot;color:red;&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">li</span>  <span class="attr">class</span>=<span class="string">&quot;fa fa-list-ul&quot;</span>&gt;</span>谷歌<span class="tag">&lt;/<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure><p>页面显示<br><img src="/images/2016112514031305.png" alt="2016112514031305.png"></p><p>只需要在li标签前面加上<span>标签设置color颜色就可以了。</p><p>这里只是做一个简单的介绍，还想了解更多可以看看<a href="http://fontawesome.io/examples/">官网的例子</a></p><p>还有一个<a href="http://www.fontawesome.com.cn/">Font-Awesome</a>中文网站，不过版本没有英文版本的新，可以参考下</p><p>IE9之前还只支持eot格式，需要将ttf格式转换成eot格式</p><p>在线转换工具 <a href="https://www.fontsquirrel.com/tools/webfont-generator">Webfont Generator</a></p><p>还可以参考一些文章 <a href="http://www.jb51.net/css/70033.html">http://www.jb51.net/css/70033.html</a></p>]]></content>
      
      
      <categories>
          
          <category> HTML/CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTML/CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>elasticsearch 插件 大全</title>
      <link href="/2016/11/23/elasticsearch-cha-jian-da-quan/"/>
      <url>/2016/11/23/elasticsearch-cha-jian-da-quan/</url>
      
        <content type="html"><![CDATA[<p>本文使用的elasticsearch版本：1.7.3</p><p>推荐几款比较常用的elasticsearch插件</p><ol><li>集群监控插件 <a href="https://github.com/lukas-vlcek/bigdesk">bigdesk</a><br>node<br><img src="/images/2016112316141301.png" alt="2016112316141301.png"><br>cluster<br><img src="/images/2016112316141302.png" alt="2016112316141302.png"></li><li>集群资源查看和查询插件 <a href="https://github.com/lmenezes/elasticsearch-kopf">kopf</a><br><img src="/images/2016112316141303.png" alt="2016112316141303.png"><br><img src="/images/2016112316141304.png" alt="2016112316141304.png"></li><li>调试查询  <a href="https://github.com/polyfractal/elasticsearch-inquisitor">inquisitor</a><br><img src="/images/2016112316141305.png" alt="2016112316141305.png"></li><li>类似sql语法的查询插件 <a href="https://github.com/NLPchina/elasticsearch-sql">elasticsearch-sql</a> （1.x elasticseach版本安装命令 plugin -u <a href="https://github.com/NLPchina/elasticsearch-sql/releases/download/1.4.9/elasticsearch-sql-1.4.9.zip">https://github.com/NLPchina/elasticsearch-sql/releases/download/1.4.9/elasticsearch-sql-1.4.9.zip</a> –install sql），具体的请看说明<a href="https://github.com/NLPchina/elasticsearch-sql">https://github.com/NLPchina/elasticsearch-sql</a><br><img src="/images/2016112316141306.png" alt="2016112316141306.png"></li><li>查询插件 marvel  安装命令（plugin -i elasticsearch&#x2F;marvel&#x2F;latest）输入localhost:9200&#x2F;_plugin&#x2F;marvel&#x2F;sense&#x2F;就可以浏览界面了；输入plugin -i elasticsearch&#x2F;marvel&#x2F;latest也可以卸载改插件<br><img src="/images/2016112316141307.png" alt="2016112316141307.png"></li></ol><p>如果用命令方式安装不上，到<a href="http://download.elasticsearch.org/elasticsearch/marvel/marvel-latest.zip">marvel-latest</a>下载下来，然后在ElasticSearch的plugin目录下新建marvel文件夹，将下载的文件解压到marvel文件夹中就可以了；</p><p>想具体了解可以查看<a href="https://www.elastic.co/downloads/marvel">ElasticSearch</a>官网</p><p>以下内容转载 <a href="http://www.searchtech.pro/elasticsearch-plugins">http://www.searchtech.pro/elasticsearch-plugins</a></p><p>Elasticsearch扩展性非常好，有很多官方和第三方开发的插件，下面以分词、同步、数据传输、脚本支持、站点、其它这几个类别进行划分。</p><p><strong>分词插件</strong><br><a href="https://github.com/yakaz/elasticsearch-analysis-combo/">Combo Analysis Plugin</a> (作者 Olivier Favre, Yakaz)<br>简介：组合分词器，可以把多个分词器的结果组合在一起。<br><a href="https://github.com/elasticsearch/elasticsearch-analysis-smartcn">Smart Chinese Analysis Plugin</a> (作者 elasticsearch 团队)<br>简介：lucene默认的中文分词器<br><a href="https://github.com/elasticsearch/elasticsearch-analysis-icu">ICU Analysis plugin</a> (作者 elasticsearch 团队)<br>简介：lucene自带的ICU分词，ICU是一套稳定、成熟、功能强大、轻便易用和跨平台支持Unicode 的开发包。<br><a href="https://github.com/elasticsearch/elasticsearch-analysis-stempel">Stempel (Polish) Analysis plugin</a> (作者 elasticsearch 团队)<br>简介：法文分词器<br><a href="https://github.com/medcl/elasticsearch-analysis-ik">IK Analysis Plugin</a> (作者 Medcl)<br>简介：大名鼎鼎的ik分词，都懂的！<br><a href="https://github.com/medcl/elasticsearch-analysis-mmseg">Mmseg Analysis Plugin</a> (作者 Medcl)<br>简介：mmseg中文分词<br><a href="https://github.com/jprante/elasticsearch-analysis-hunspell">Hunspell Analysis Plugin</a> (作者 Jörg Prante)<br>简介：lucene自带的Hunspell模块<br><a href="https://github.com/elasticsearch/elasticsearch-analysis-kuromoji">Japanese (Kuromoji) Analysis plugin</a> (作者 elasticsearch 团队).<br>简介：日文分词器<br><a href="https://github.com/suguru/elasticsearch-analysis-japanese">Japanese Analysis plugin</a> (作者 suguru).<br>简介：日文分词器<br><a href="https://github.com/imotov/elasticsearch-analysis-morphology">Russian and English Morphological Analysis Plugin</a> (作者 Igor Motov)<br>简介：俄文英文分词器<br>Pinyin Analysis Plugin (作者 Medcl)<br>简介：拼音分词器<br><a href="https://github.com/medcl/elasticsearch-analysis-string2int">String2Integer Analysis Plugin</a> (作者 Medcl)<br>简介：字符串转整型工具。主要用在facet这个功能上，如果facet的field的值是字符串的话，计算起来比较耗资源。可以把字符串映射成整型，对整型进行facet操作要比对字符串的快很多。</p><p><strong>同步插件</strong><br><a href="https://github.com/elasticsearch/elasticsearch-river-couchdb">CouchDB River Plugin</a> (作者 elasticsearch 团队)<br>简介：CouchDB和elasticsearch的同步插件<br><a href="https://github.com/elasticsearch/elasticsearch-river-wikipedia">Wikipedia River Plugin</a> (作者 elasticsearch 团队)<br>简介：wikipedia文件读取插件。wikipedia是维基百科的一个离线库，不定期发布最新数据，是以xml形式发布的。这个river读取这个文件来建索引。<br><a href="https://github.com/elasticsearch/elasticsearch-river-twitter">Twitter River Plugin</a> (作者 elasticsearch 团队)<br>简介：twitter的同步插件，可以同步你twitter上的微博。<br><a href="https://github.com/elasticsearch/elasticsearch-river-rabbitmq">RabbitMQ River Plugin</a> (作者 elasticsearch 团队)<br>简介：rabbitmq同步插件，读取rabbitmq上的队列信息并索引。<br><a href="http://dadoonet.github.com/rssriver/">RSS River Plugin</a> (作者 David Pilato)<br>简介：定期索引指定一个或多个RSS源的数据。<br><a href="https://github.com/richardwilly98/elasticsearch-river-mongodb/">MongoDB River Plugin</a> (作者 Richard Louapre)<br>简介：mongodb同步插件，mongodb必须搭成副本集的模式，因为这个插件的原理是通过定期读取mongodb中的oplog来同步数据。<br><a href="https://github.com/jprante/elasticsearch-river-oai/">Open Archives Initiative (OAI) River Plugin</a> (作者 Jörg Prante)<br>简介：可以索引oai数据提供者提供的数据。<br><a href="https://github.com/sunnygleason/elasticsearch-river-st9">St9 River Plugin</a> (作者 Sunny Gleason)<br>简介：可以索引索引st9数据（st9是神马？囧！！！）<br><a href="https://github.com/adamlofts/elasticsearch-river-sofa">Sofa River Plugin</a> (作者 adamlofts)<br>简介：这个插件可以把多个CouchDB的数据库同步到同一个es索引中。<br><a href="https://github.com/jprante/elasticsearch-river-jdbc">JDBC River Plugin</a> (作者 Jörg Prante)<br>简介：关系型数据库的同步插件<br><a href="http://www.pilato.fr/fsriver/">FileSystem River Plugin</a> (作者 David Pilato)<br>简介：本地文件系统文件同步插件，使用方法是指定一个本地目录路径，es会定期扫描索引该目录下的文件。<br><a href="https://github.com/tlrx/elasticsearch-river-ldap">LDAP River Plugin</a> (作者 Tanguy Leroux)<br>简介：索引LDAP目录下的文件数据。<br><a href="http://www.pilato.fr/dropbox/">Dropbox River Plugin</a> (作者 David Pilato)<br>简介：索引dropbox网盘上的文件。通过oauth协议来调用dropbox上的api建索引。<br><a href="https://github.com/domdorn/elasticsearch-river-activemq/">ActiveMQ River Plugin</a> (作者 Dominik Dorn)<br>简介：activemq队列的同步插件，和之前rabbitmq的类似<br><a href="https://github.com/javanna/elasticsearch-river-solr/">Solr River Plugin</a> (作者 Luca Cavanna)<br>简介：solr同步插件，可以把solr里面的索引同步到es<br><a href="https://github.com/xxBedy/elasticsearch-river-csv">CSV River Plugin</a> (作者 Martin Bednar)<br>简介：通过指定目录地址来索引csv文件。</p><p><strong>数据传输插件</strong><br><a href="https://github.com/elasticsearch/elasticsearch-transport-wares">Servlet transport</a> (作者 elasticsearch 团队)<br>简介：Servlet rest插件，通过servlet来封装rest接口。<br><a href="https://github.com/elasticsearch/elasticsearch-transport-memcached">Memcached transport plugin</a> (作者 elasticsearch 团队)<br>简介：本插件可以通过memcached协议进行rest接口的调用。注意：这里不是使用memcache作为es的缓存。<br><a href="https://github.com/elasticsearch/elasticsearch-transport-thrift">Thrift Transport</a> (作者 elasticsearch 团队)<br>简介：使用thrift进行数据传输。<br><a href="https://github.com/tlrx/transport-zeromq">ZeroMQ transport layer plugin</a> (作者 Tanguy Leroux)<br>简介：使用zeromq进rest接口的调用。<br><a href="https://github.com/sonian/elasticsearch-jetty">Jetty HTTP transport plugin</a> (作者 Sonian Inc.)<br>简介：使用jetty来提供http rest接口。默认是使用netty。这个插件的好处是可以对http接口进行一些权限的设置。</p><p><strong>脚本插件</strong><br><a href="https://github.com/elasticsearch/elasticsearch-lang-python">Python language Plugin</a> (作者 elasticsearch 团队)<br>简介：python脚本支持<br><a href="https://github.com/elasticsearch/elasticsearch-lang-javascript">JavaScript language Plugin</a> (作者 elasticsearch 团队)<br>简介：javascript脚本支持<br><a href="https://github.com/elasticsearch/elasticsearch-lang-groovy">Groovy lang Plugin</a> (作者 elasticsearch 团队)<br>简介：groovy脚本支持<br><a href="https://github.com/hiredman/elasticsearch-lang-clojure">Clojure Language Plugin</a> (作者 Kevin Downey)<br>简介：clojure脚本支持</p><p><strong>站点插件（以网页形式展现）</strong><br><a href="https://github.com/lukas-vlcek/bigdesk">BigDesk Plugin</a> (作者 Lukáš Vlček)<br>简介：监控es状态的插件，推荐！<br><a href="https://github.com/mobz/elasticsearch-head">Elasticsearch Head Plugin</a> (作者 Ben Birch)<br>简介：很方便对es进行各种操作的客户端。<br><a href="https://github.com/karmi/elasticsearch-paramedic">Paramedic Plugin</a> (作者 Karel Minařík)<br>简介：es监控插件<br><a href="https://github.com/polyfractal/elasticsearch-segmentspy">SegmentSpy Plugin</a> (作者 Zachary Tong)<br>简介：查看es索引segment状态的插件<br><a href="https://github.com/polyfractal/elasticsearch-inquisitor">Inquisitor Plugin</a> (作者 Zachary Tong)<br>简介：这个插件主要用来调试你的查询。</p><p><strong>其它插件</strong><br><a href="https://github.com/elasticsearch/elasticsearch-mapper-attachments">Mapper Attachments Type plugin</a> (作者 elasticsearch 团队)<br>简介：附件类型插件，通过tika库把各种类型的文件格式解析成字符串。<br><a href="https://github.com/elasticsearch/elasticsearch-hadoop">Hadoop Plugin</a> (作者 elasticsearch team)<br>简介：hadoop和elasticsearch的集成插件，可以通过hadoop的mapreduce算法来并行建立索引，同时支持cascading，hive和pig等框架。<br><a href="https://github.com/elasticsearch/elasticsearch-cloud-aws">AWS Cloud Plugin</a> (作者 elasticsearch 团队)<br>简介：elasticsearch与amazon web services的集成。<br><a href="https://github.com/mattweber/elasticsearch-mocksolrplugin">ElasticSearch Mock Solr Plugin</a> (作者 Matt Weber)<br>简介：elasticsearch的solr api接口。用了这个插件可以使用solr的api来调用es，直接用solrj就可以调用es。比较适用于从solr转es时暂时过度。<br><a href="https://github.com/spinscale/elasticsearch-suggest-plugin">Suggester Plugin</a> (作者 Alexander Reelsen)<br>简介：es 搜索提示功能插件，不过es0.9版本后自带了这个功能，<br><a href="https://github.com/medcl/elasticsearch-partialupdate">ElasticSearch PartialUpdate Plugin</a> (作者 Medcl)<br>简介：elasticsearch的部分更新插件。<br><a href="https://github.com/sonian/elasticsearch-zookeeper">ZooKeeper Discovery Plugin</a> (作者 Sonian Inc.)<br>简介：通过zookeeper管理集群的插件。通过这个插件，es的分布式架构和solrcloud相似。<br><a href="https://github.com/derryx/elasticsearch-changes-plugin">ElasticSearch Changes Plugin</a> (作者 Thomas Peuss)<br>简介：elasticsearch索引操作记录插件。通过这个插件可以查看用户对索引的增删改操作。<br><a href="http://tlrx.github.com/elasticsearch-view-plugin">ElasticSearch View Plugin</a> (作者 Tanguy Leroux)<br>简介：这个插件可以把es的文档以html，xml或text的方式显示出来，它也可以通过查询生成web页面。<br><a href="https://github.com/viniciusccarvalho/elasticsearch-newrelic">ElasticSearch New Relic Plugin</a> (作者 Vinicius Carvalho)<br>简介：elasticsearch和newrelic的集成插件。newrelica是一个性能监控工具。这个插件会把节点的状态数据传到newrelic的账号上。</p>]]></content>
      
      
      <categories>
          
          <category> Search </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Search </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ElasticSearch 服务搭建</title>
      <link href="/2016/11/23/elasticsearch-fu-wu-da-jian/"/>
      <url>/2016/11/23/elasticsearch-fu-wu-da-jian/</url>
      
        <content type="html"><![CDATA[<h2 id="一、搭建环境"><a href="#一、搭建环境" class="headerlink" title="一、搭建环境"></a>一、搭建环境</h2><pre><code>操作系统：Win7ElasticSearch:1.73Java JDK:1.7</code></pre><h2 id="二、搭建操作"><a href="#二、搭建操作" class="headerlink" title="二、搭建操作"></a>二、搭建操作</h2><ol><li>安装Java JDK,然后配置系统环境变量，新建CLASS_PATH（jre所在目录 【.;D:\Program Files\Java\jre7\lib】）和JAVA_HOME(D:\Program Files\Java\jdk1.7.0_80)<br><img src="/images/2016112311321301.png" alt="2016112311321301.png"><br>在系统变量Path最后位置输入;%JAVA_HOME%\bin<br><img src="/images/2016112311321302.png" alt="2016112311321302.png"></li><li>在系统变量Path中输入elasticseach的路径（D:\elasticsearch\elasticsearch-1.7.3\bin），根据文件所在位置更改；这样可以直接执行elasticsearch安装命令（service intsall）、启动服务（service start）、停止服务（service stop）、卸载服务（service remove）</li><li>打开dos命令窗口，输入service install，看到下图表示安装服务成功，然后输入service start 启动服务<br><img src="/images/2016112311321303.png" alt="2016112311321303.png"></li><li>在浏览器中输入localhost:9200如下图所示表示Elasticsearch启动成功<br><img src="/images/2016112311321304.png" alt="2016112311321304.png"></li><li>上图中的name和cluster_name可以通过修改config文件夹下的elasticsearch.yml的配置文件来修改<br><img src="/images/2016112311321305.png" alt="2016112311321305.png"></li><li>安装head插件输入plugin -install mobz&#x2F;elasticsearch-head即可安装head插件，具体的操作步骤也可以参考<a href="https://github.com/mobz/elasticsearch-head">github</a><br><img src="/images/2016112311321306.png" alt="2016112311321306.png"></li><li>安装google浏览器的插件sense，其他的版本安装方法可以查看文章 <a href="http://www.cnblogs.com/ZJ199012/p/6094083.html">elasticsearch 插件 大全</a> 中的marvel插件<br><img src="/images/2016112311321307.png" alt="2016112311321307.png"></li></ol><p>还有其他的插件安装方法都类似</p><p>elasticsearch集群监控插件<a href="https://github.com/lukas-vlcek/bigdesk">bigdesk</a>   (安装命令 plugin -install lukas-vlcek&#x2F;bigdesk)</p><p>集群资源查看和查询插件 <a href="https://github.com/lmenezes/elasticsearch-kopf">kopf</a> （安装命令 plugin -install lmenezes&#x2F;elasticsearch-kopf）</p><p>调试查询  <a href="https://github.com/polyfractal/elasticsearch-inquisitor">inquisitor</a> （安装命令 plugin -install polyfractal&#x2F;elasticsearch-inquisitor）</p><p>类似sql语法的查询插件 <a href="https://github.com/NLPchina/elasticsearch-sql">elasticsearch-sql</a> （安装命令 plugin -install NLPchina&#x2F;elasticsearch-sql）</p><p>更多插件可以参考 <a href="http://www.searchtech.pro/elasticsearch-plugins">http://www.searchtech.pro/elasticsearch-plugins</a></p><p>github有一个可以定制msi安装elasticsearch工具感兴趣可以看看<a href="https://github.com/salyh/elasticsearch-msi-installer">https://github.com/salyh/elasticsearch-msi-installer</a></p>]]></content>
      
      
      <categories>
          
          <category> Search </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Search </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MongoDB系列—— Window 搭建Mongodb 集群</title>
      <link href="/2016/11/10/mongodb-xi-lie-window-da-jian-mongodb-ji-qun/"/>
      <url>/2016/11/10/mongodb-xi-lie-window-da-jian-mongodb-ji-qun/</url>
      
        <content type="html"><![CDATA[<p>Mongodb的集群方式的搭建有三种：Replica Set &#x2F; Sharding &#x2F; Master-Slaver。这里只说明最简单的集群搭建方式（Replica Set）</p><p>Replica Set</p><pre><code>  Mongodb(M)表示主节点，Mongodb(S)表示备节点，Mongodb(A)表示仲裁节点。主备节点存储数据，仲裁节点不存储数据。客户端同时连接主节点与备节点，不连接仲裁节点。    默认设置下，主节点提供所有增删查改服务，备节点不提供任何服务。但是可以通过设置使备节点提供查询服务，这样就可以减少主节点的压力，当客户端进行数据查询时，请求自动转到备节点上。  仲裁节点是一种特殊的节点，它本身并不存储数据，主要的作用是决定哪一个备节点在主节点挂掉之后提升为主节点，所以客户端不需要连接此节点。这里虽然只有 一个备节点，但是仍然需要一个仲裁节点来提升备节点级别。我开始也不相信必须要有仲裁节点，但是自己也试过没仲裁节点的话，主节点挂了备节点还是备节点， 所以咱们还是需要它的。  介绍完了集群方案，那么现在就开始搭建了。</code></pre><p>mongodb版本3.0.4</p><p>mongodb参数说明</p><p>–quiet     # 安静输出<br>–port arg  # 指定服务端口号，默认端口27017<br>–bind_ip arg   # 绑定服务IP，若绑定127.0.0.1，则只能本机访问，不指定默认本地所有IP<br>–logpath arg   # 指定MongoDB日志文件，注意是指定文件不是目录<br>–logappend     # 使用追加的方式写日志<br>–pidfilepath arg   # PID File 的完整路径，如果没有设置，则没有PID文件<br>–keyFile arg   # 集群的私钥的完整路径，只对于Replica Set 架构有效<br>–unixSocketPrefix arg  # UNIX域套接字替代目录,(默认为 &#x2F;tmp)<br>–fork  # 以守护进程的方式运行MongoDB，创建服务器进程<br>–auth  # 启用验证<br>–cpu   # 定期显示CPU的CPU利用率和iowait<br>–dbpath arg    # 指定数据库路径<br>–diaglog arg   # diaglog选项 0&#x3D;off 1&#x3D;W 2&#x3D;R 3&#x3D;both 7&#x3D;W+some reads<br>–directoryperdb    # 设置每个数据库将被保存在一个单独的目录<br>–journal   # 启用日志选项，MongoDB的数据操作将会写入到journal文件夹的文件里<br>–journalOptions arg    # 启用日志诊断选项<br>–ipv6  # 启用IPv6选项<br>–jsonp     # 允许JSONP形式通过HTTP访问（有安全影响）<br>–maxConns arg  # 最大同时连接数 默认2000<br>–noauth    # 不启用验证<br>–nohttpinterface   # 关闭http接口，默认关闭27018端口访问<br>–noprealloc    # 禁用数据文件预分配(往往影响性能)<br>–noscripting   # 禁用脚本引擎<br>–notablescan   # 不允许表扫描<br>–nounixsocket  # 禁用Unix套接字监听<br>–nssize arg (&#x3D;16)  # 设置信数据库.ns文件大小(MB)<br>–objcheck  # 在收到客户数据,检查的有效性，<br>–profile arg   # 档案参数 0&#x3D;off 1&#x3D;slow, 2&#x3D;all<br>–quota     # 限制每个数据库的文件数，设置默认为8<br>–quotaFiles arg    # number of files allower per db, requires –quota<br>–rest  # 开启简单的rest API<br>–repair    # 修复所有数据库run repair on all dbs<br>–repairpath arg    # 修复库生成的文件的目录,默认为目录名称dbpath<br>–slowms arg (&#x3D;100)     # value of slow for profile and console log<br>–smallfiles    # 使用较小的默认文件<br>–syncdelay arg (&#x3D;60)   # 数据写入磁盘的时间秒数(0&#x3D;never,不推荐)<br>–sysinfo   # 打印一些诊断系统信息<br>–upgrade   # 如果需要升级数据库</p><p>Replicaton 参数<br>–fastsync  # 从一个dbpath里启用从库复制服务，该dbpath的数据库是主库的快照，可用于快速启用同步<br>–autoresync    # 如果从库与主库同步数据差得多，自动重新同步，<br>–oplogSize arg     # 设置oplog的大小(MB)</p><p>主&#x2F;从参数<br>–master    # 主库模式<br>–slave     # 从库模式<br>–source arg    # 从库 端口号<br>–only arg  # 指定单一的数据库复制<br>–slavedelay arg    # 设置从库同步主库的延迟时间</p><p>Replica set(副本集)选项<br>–replSet arg   # 设置副本集名称</p><p>Sharding(分片)选项<br>–configsvr     # 声明这是一个集群的config服务,默认端口27019，默认目录&#x2F;data&#x2F;configdb<br>–shardsvr  # 声明这是一个集群的分片,默认端口27018<br>–noMoveParanoia    # 关闭偏执为moveChunk数据保存</p><ol><li><p>建立mongodb文件加，在里面新建3个文件夹（master、slave、arbiter）</p></li><li><p>将下载的mongodb安装解压后，在上面三个文件夹里每个放一份</p></li><li><p>在三个文件夹里分别依次建立master.config、slave.config、arbiter.config文件</p></li></ol><p>master.config</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">dbpath=D:\mongodb\master\data\db</span><br><span class="line">logpath=D:\mongodb\master\data\log\mongodb.log</span><br><span class="line">port = 2222</span><br><span class="line">logappend = true</span><br><span class="line">replSet = zj</span><br><span class="line"></span><br><span class="line">slave.config</span><br><span class="line"></span><br><span class="line">dbpath=D:\mongodb\slave\data\db</span><br><span class="line">logpath=D:\mongodb\slave\data\log\mongodb.log</span><br><span class="line">port = 3333</span><br><span class="line">logappend = true</span><br><span class="line">replSet = zj</span><br></pre></td></tr></table></figure><p>arbiter.config</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">dbpath=D:\mongodb\arbiter\data\db</span><br><span class="line">logpath=D:\mongodb\arbiter\data\log\mongodb.log</span><br><span class="line">port = 4444</span><br><span class="line">logappend = true</span><br><span class="line">replSet = zj</span><br></pre></td></tr></table></figure><ol start="4"><li>新建一个bat文件安装mongodb服务，分别放到三个文件夹中，将标红的地方的名称修改一下</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off  </span><br><span class="line">@<span class="built_in">echo</span> ---------------------welcome to use mongod auto run tools--------------  </span><br><span class="line">@<span class="built_in">echo</span>. &amp; pause  </span><br><span class="line">@<span class="built_in">echo</span> ---------------------正在关闭冗余进程，骚等----------------------------  </span><br><span class="line"> </span><br><span class="line">taskkill /im mongod.exe /f  </span><br><span class="line"> </span><br><span class="line">@<span class="built_in">echo</span> --------------------冗余进程执行完毕，安装服务器正在启动，骚等-------------  </span><br><span class="line"></span><br><span class="line">start D:\mongodb\master\bin\mongod.exe --install --logpath=D:\mongodb\master\data\<span class="built_in">log</span>\mongodb.log --logappend  --dbpath=D:\mongodb\master\data\db  --serviceName <span class="string">&quot;MongoDB2222&quot;</span> --serviceDisplayName <span class="string">&quot;MongoDB2222&quot;</span> --port 2222 --replSet zj</span><br><span class="line"></span><br><span class="line">@<span class="built_in">echo</span>. &amp; pause</span><br></pre></td></tr></table></figure><ol start="5"><li><p>启动服务安装这三个服务</p></li><li><p>打开dos命令窗口，运行命令 cd D:\mongodb\master\bin，然后运行mongo 192.168.2.129:2222</p></li><li><p>运行命令use zjdb，这是切换到数据库zjdb了</p></li><li><p>输入</p></li></ol><p>config&#x3D;{_id:”zj”,members:[<br>{_id:0,host:”192.168.2.129:2222”},<br>{_id:1,host:”192.168.2.129:3333”},<br>{_id:2,host:”192.168.2.129:4444”,arbiterOnly:true}<br>]}，接着输入rs.initiate(config)回车；<br><img src="/images/2016111015391901.png" alt="2016111015391901.png"><br>最外层的_id表示replica set的名字，members里包含的是所有节点的地址以及优先级。优先级最高的即成为主节点，即这里的192.168.2.129:2222。</p><p>特别注 意的是，对于仲裁节点，需要有个特别的配置——arbiterOnly:true。这个千万不能少了，不然主备模式就不能生效。</p><pre><code>  配置的生效时间根据不同的机器配置会有长有短，配置不错的话基本上十几秒内就能生效，有的配置需要一两分钟。如果生效了，执行rs.status()命令会看到如下信息：</code></pre><p><img src="/images/2016111015391902.png" alt="2016111015391902.png"><br>结果说明</p><p>“health” : 1, #代表机器正常<br>“stteStr” : “PRIMARY”, #代表是主节点，可读写，</p><p>其中有以下几下状态:</p><p>STARTUP：刚加入到复制集中，配置还未加载<br>STARTUP2：配置已加载完，初始化状态<br>RECOVERING：正在恢复，不适用读<br>ARBITER: 仲裁者<br>DOWN：节点不可到达<br>UNKNOWN：未获取其他节点状态而不知是什么状态，一般发生在只有两个成员的架构，脑裂<br>REMOVED：移除复制集<br>ROLLBACK：数据回滚，在回滚结束时，转移到RECOVERING或SECONDARY状态<br>FATAL：出错。查看日志grep “replSet FATAL”找出错原因，重新做同步<br>PRIMARY：主节点<br>SECONDARY：备份节点</p><ol start="9"><li>设置备份节点可读，使用命令 db.getMongo().setSlaveOk()<br><img src="/images/2016111015391903.png" alt="2016111015391903.png"></li></ol>]]></content>
      
      
      <categories>
          
          <category> MongoDB </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MongoDB </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS判断所有IE浏览器所有版本</title>
      <link href="/2016/10/17/js-pan-duan-suo-you-ie-liu-lan-qi-suo-you-ban-ben/"/>
      <url>/2016/10/17/js-pan-duan-suo-you-ie-liu-lan-qi-suo-you-ban-ben/</url>
      
        <content type="html"><![CDATA[<p>原来判断IE浏览器版本很简单，但是随着版本的升级，navigator.userAgent显示的信息也不一样；下图是IE11显示的信息<br><img src="/images/2016101714521201.png" alt="2016101714521201.png"></p><p>原来的浏览器中有msie,但是IE11中没有，IE11中新增了trident</p><p>判断浏览器代码如下</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Match</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> userAgent = navigator.<span class="property">userAgent</span>,</span><br><span class="line">        rMsie = <span class="regexp">/(msie\s|trident.*rv:)([\w.]+)/</span>,</span><br><span class="line">        rFirefox = <span class="regexp">/(firefox)\/([\w.]+)/</span>,</span><br><span class="line">        rOpera = <span class="regexp">/(opera).+version\/([\w.]+)/</span>,</span><br><span class="line">        rChrome = <span class="regexp">/(chrome)\/([\w.]+)/</span>,</span><br><span class="line">        rSafari = <span class="regexp">/version\/([\w.]+).*(safari)/</span>;</span><br><span class="line">    <span class="keyword">var</span> browser;</span><br><span class="line">    <span class="keyword">var</span> version;</span><br><span class="line">    <span class="keyword">var</span> ua = userAgent.<span class="title function_">toLowerCase</span>();</span><br><span class="line">    <span class="keyword">var</span> match = rMsie.<span class="title function_">exec</span>(ua);</span><br><span class="line">    <span class="keyword">if</span> (match != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123; <span class="attr">browser</span>: <span class="string">&quot;IE&quot;</span>, <span class="attr">version</span>: match[<span class="number">2</span>] || <span class="string">&quot;0&quot;</span> &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> match = rFirefox.<span class="title function_">exec</span>(ua);</span><br><span class="line">    <span class="keyword">if</span> (match != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123; <span class="attr">browser</span>: match[<span class="number">1</span>] || <span class="string">&quot;&quot;</span>, <span class="attr">version</span>: match[<span class="number">2</span>] || <span class="string">&quot;0&quot;</span> &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> match = rOpera.<span class="title function_">exec</span>(ua);</span><br><span class="line">    <span class="keyword">if</span> (match != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123; <span class="attr">browser</span>: match[<span class="number">1</span>] || <span class="string">&quot;&quot;</span>, <span class="attr">version</span>: match[<span class="number">2</span>] || <span class="string">&quot;0&quot;</span> &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> match = rChrome.<span class="title function_">exec</span>(ua);</span><br><span class="line">    <span class="keyword">if</span> (match != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123; <span class="attr">browser</span>: match[<span class="number">1</span>] || <span class="string">&quot;&quot;</span>, <span class="attr">version</span>: match[<span class="number">2</span>] || <span class="string">&quot;0&quot;</span> &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> match = rSafari.<span class="title function_">exec</span>(ua);</span><br><span class="line">    <span class="keyword">if</span> (match != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123; <span class="attr">browser</span>: match[<span class="number">2</span>] || <span class="string">&quot;&quot;</span>, <span class="attr">version</span>: match[<span class="number">1</span>] || <span class="string">&quot;0&quot;</span> &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (match != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123; <span class="attr">browser</span>: <span class="string">&quot;&quot;</span>, <span class="attr">version</span>: <span class="string">&quot;0&quot;</span> &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>引用上面的代码判断浏览器版本</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">initBrowserVersion</span>(<span class="params"></span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> browserMatch = <span class="title class_">Match</span>();</span><br><span class="line">    <span class="title function_">alert</span>(browserMatch.<span class="property">browser</span> + <span class="string">&#x27;--&#x27;</span> + browserMatch.<span class="property">version</span>);</span><br><span class="line">    <span class="keyword">if</span> (browserMatch.<span class="property">browser</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (browserMatch.<span class="property">browser</span> == <span class="string">&quot;IE&quot;</span>&amp;&amp;browserMatch.<span class="property">version</span>&lt;<span class="number">8</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="title function_">alert</span>(<span class="string">&quot;浏览器版本太低，请升级，以免影响使用体验！&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (browserMatch.<span class="property">browser</span> == <span class="string">&quot;chrome&quot;</span> &amp;&amp;  <span class="number">30</span>&gt;browserMatch.<span class="property">version</span>.<span class="title function_">substring</span>(<span class="number">0</span>,browserMatch.<span class="property">version</span>.<span class="title function_">indexOf</span>(<span class="string">&quot;.&quot;</span>)))</span><br><span class="line">        &#123;</span><br><span class="line">           <span class="title function_">alert</span>(<span class="string">&quot;浏览器版本太低，请升级，以免影响使用体验！&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (browserMatch.<span class="property">browser</span> == <span class="string">&quot;firefox&quot;</span> &amp;&amp; <span class="number">40</span> &gt; browserMatch.<span class="property">version</span>.<span class="title function_">substring</span>(<span class="number">0</span>, browserMatch.<span class="property">version</span>.<span class="title function_">indexOf</span>(<span class="string">&quot;.&quot;</span>))) &#123;</span><br><span class="line">           <span class="title function_">alert</span>(<span class="string">&quot;浏览器版本太低，请升级，以免影响使用体验！&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>网页中引用优酷视频默认自动播放超清</title>
      <link href="/2016/10/17/wang-ye-zhong-yin-yong-you-ku-shi-pin-mo-ren-zi-dong-bo-fang-chao-qing/"/>
      <url>/2016/10/17/wang-ye-zhong-yin-yong-you-ku-shi-pin-mo-ren-zi-dong-bo-fang-chao-qing/</url>
      
        <content type="html"><![CDATA[<p>网页中会进场引用视频播放，怎么设置优酷视频自动播放超清</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!doctype <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>自动播放超清测试<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">embed</span> <span class="attr">src</span>=<span class="string">&#x27;http://static.youku.com/v1.0.0149/v/swf/loader.swf?VideoIDS=XMTM2NjA5NTUxNg&amp;</span></span></span><br><span class="line"><span class="string"><span class="tag">&amp;quality=high&amp;isAutoPlay=true&amp;isShowRelatedVideo=false&#x27;</span>  <span class="attr">width</span>=<span class="string">&#x27;480&#x27;</span> <span class="attr">height</span>=<span class="string">&#x27;400&#x27;</span> <span class="attr">align</span>=<span class="string">&#x27;middle&#x27;</span> <span class="attr">flashvars</span>=<span class="string">&quot;winType=1&quot;</span> <span class="attr">allowScriptAccess</span>=<span class="string">&#x27;always&#x27;</span> <span class="attr">allowFullScreen</span>=<span class="string">&#x27;true&#x27;</span> <span class="attr">mode</span>=<span class="string">&#x27;transparent&#x27;</span> <span class="attr">type</span>=<span class="string">&#x27;application/x-shockwave-flash&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">embed</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>要引用优酷中的视频，我们只需要复制优酷中的代码（如下）粘贴到网页中就可以了：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">embed</span> <span class="attr">src</span>=<span class="string">&#x27;http://player.youku.com/player.php/Type/Folder/Fid//Ob//sid/XMTc2MjE2NTc1Mg==/v.swf&#x27;</span> <span class="attr">quality</span>=<span class="string">&#x27;high&#x27;</span> <span class="attr">width</span>=<span class="string">&#x27;480&#x27;</span> <span class="attr">height</span>=<span class="string">&#x27;400&#x27;</span> <span class="attr">align</span>=<span class="string">&#x27;middle&#x27;</span> <span class="attr">allowScriptAccess</span>=<span class="string">&#x27;always&#x27;</span> <span class="attr">allowFullScreen</span>=<span class="string">&#x27;true&#x27;</span> <span class="attr">mode</span>=<span class="string">&#x27;transparent&#x27;</span> <span class="attr">type</span>=<span class="string">&#x27;application/x-shockwave-flash&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">embed</span>&gt;</span></span><br></pre></td></tr></table></figure><p>复制好后，我们将src的播放器的地址修改成“<a href="http://static.youku.com/v1.0.0149/v/swf/loader.swf%E2%80%9D%EF%BC%9B%E5%A4%8D%E5%88%B6%E5%87%BA%E6%9D%A5%E7%9A%84%E4%BB%A3%E7%A0%81sid%E5%90%8E%E9%9D%A2%E7%9A%84%E4%B8%80%E4%B8%B2%E6%98%AF%E4%BC%98%E9%85%B7%E8%A7%86%E9%A2%91%E7%9A%84id%EF%BC%8C%E8%BF%99%E6%97%B6%E6%88%91%E4%BB%AC%E9%9C%80%E8%A6%81%E5%B0%86%E5%9C%B0%E5%9D%80%E4%BF%AE%E6%94%B9%E4%B8%BAhttp://static.youku.com/v1.0.0149/v/swf/loader.swf?VideoIDS=XMTc2MjE2NTc1Mg&quality=high&isAutoPlay=true&winType=adshow">http://static.youku.com/v1.0.0149/v/swf/loader.swf”；复制出来的代码sid后面的一串是优酷视频的id，这时我们需要将地址修改为http://static.youku.com/v1.0.0149/v/swf/loader.swf?VideoIDS=XMTc2MjE2NTc1Mg&amp;quality=high&amp;isAutoPlay=true&amp;winType=adshow</a></p><p>参数：<br><strong>VideoIDS</strong>表示视频url的id</p><p><strong>quality</strong>表示视频的清楚度，超清是high，开始自动播放默认是超清只需在后面添加上&amp;quality&#x3D;high</p><p><strong>isAutoPlay</strong>表示视频是否自动播放，true是自动播放；false是不自动播放</p><p><strong>winType</strong>表示视频是否显示下方状态栏，adshow表示不显示；改参数也可以在别处设置如</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">embed</span> <span class="attr">src</span>=<span class="string">&#x27;http://static.youku.com/v1.0.0149/v/swf/loader.swf?VideoIDS=XMTc2MjE2NTc1Mg&#x27;</span> <span class="attr">quality</span>=<span class="string">&#x27;high&#x27;</span> <span class="attr">width</span>=<span class="string">&#x27;480&#x27;</span> <span class="attr">height</span>=<span class="string">&#x27;400&#x27;</span> <span class="attr">align</span>=<span class="string">&#x27;middle&#x27;</span> <span class="attr">allowScriptAccess</span>=<span class="string">&#x27;always&#x27;</span> <span class="attr">flashvars</span>=<span class="string">&quot;winType=1&quot;</span> <span class="attr">allowFullScreen</span>=<span class="string">&#x27;true&#x27;</span> <span class="attr">mode</span>=<span class="string">&#x27;transparent&#x27;</span> <span class="attr">type</span>=<span class="string">&#x27;application/x-shockwave-flash&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">embed</span>&gt;</span></span><br></pre></td></tr></table></figure><p>设置flashvars中设置winType&#x3D;1则显示下方状态栏；设置为winType&#x3D;adshow则不显示</p><p>如果想将mv视频已mp3格式呈现在空间或者博客中，只需将代码修改成如下格式</p><p><a href="http://static.youku.com/v/swf/qplayer.swf?VideoIDS=XMTc2MjE2NTc1Mg&isAutoPlay=true&isShowRelatedVideo=false&embedid=-&showAd=0#.mp3">http://static.youku.com/v/swf/qplayer.swf?VideoIDS=XMTc2MjE2NTc1Mg&amp;isAutoPlay=true&amp;isShowRelatedVideo=false&amp;embedid=-&amp;showAd=0#.mp3</a></p><p>注意后面的后缀变成MP3格式了，其中isShowRelatedVideo表示不显示相关视频showAd表示不显示广告（不是所有广告都能屏蔽）</p><p>参考文章：<a href="http://lanyes.org/web/164.html">http://lanyes.org/web/164.html</a></p><p><a href="http://www.16css.com/page_code/321.html">http://www.16css.com/page_code/321.html</a></p>]]></content>
      
      
      <categories>
          
          <category> HTML/CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTML/CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SQL 还原或备份失败数据库变成单个用户模式无法访问</title>
      <link href="/2016/09/18/sql-huan-yuan-huo-bei-fen-shi-bai-shu-ju-ku-bian-cheng-dan-ge-yong-hu-mo-shi-wu-fa-fang-wen/"/>
      <url>/2016/09/18/sql-huan-yuan-huo-bei-fen-shi-bai-shu-ju-ku-bian-cheng-dan-ge-yong-hu-mo-shi-wu-fa-fang-wen/</url>
      
        <content type="html"><![CDATA[<p>还原数据失败了，数据库变成单个用户模式，无法操作了，执行下面的语句就可以了</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">USE master GO</span><br><span class="line"></span><br><span class="line"><span class="keyword">DECLARE</span> <span class="variable">@SQL</span> <span class="type">VARCHAR</span>(MAX);</span><br><span class="line"></span><br><span class="line"><span class="keyword">SET</span> <span class="variable">@SQL</span><span class="operator">=</span><span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="variable">@SQL</span><span class="operator">=</span><span class="variable">@SQL</span><span class="operator">+</span><span class="string">&#x27;; KILL &#x27;</span><span class="operator">+</span>RTRIM(SPID)</span><br><span class="line"></span><br><span class="line"><span class="keyword">FROM</span> master..sysprocesses</span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> dbid<span class="operator">=</span>DB_ID(<span class="string">&#x27;数据库名称&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">EXEC</span>(<span class="variable">@SQL</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> DATABASE 数据库名称 <span class="keyword">SET</span> MULTI_USER</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>百度webuploader 上传演示例子</title>
      <link href="/2016/09/13/bai-du-webuploader-shang-chuan-yan-shi-li-zi/"/>
      <url>/2016/09/13/bai-du-webuploader-shang-chuan-yan-shi-li-zi/</url>
      
        <content type="html"><![CDATA[<p>前端代码</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ Page Language=&quot;C#&quot; AutoEventWireup=&quot;true&quot; CodeBehind=&quot;baiduWebUpload.aspx.cs&quot; Inherits=&quot;School.Web.TestDemo.baiduWebUpload&quot; %&gt;</span><br><span class="line"> </span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.w3.org/1999/xhtml&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span> <span class="attr">runat</span>=<span class="string">&quot;server&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;Content-Type&quot;</span> <span class="attr">content</span>=<span class="string">&quot;text/html; charset=utf-8&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>百度上传控件<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">&quot;/Scripts/fileupload/webuploader/picstyle.css&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">&quot;/Scripts/fileupload/webuploader/webuploader.css&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">&quot;/Scripts/fileupload/webuploader/demo.css&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../../Scripts/hadd/js/bootstrap.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>--%&gt;</span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;/Scripts/jquery/jquery-1.10.2.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;/Scripts/fileupload/webuploader/webuploader.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">jQuery</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//定义参数</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> $ = jQuery,</span></span><br><span class="line"><span class="language-javascript">                    $wrap = $(<span class="string">&#x27;#uploader&#x27;</span>),</span></span><br><span class="line"><span class="language-javascript">                    $queue = $(<span class="string">&#x27;&lt;ul class=&quot;filelist&quot;&gt;&lt;/ul&gt;&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">                           .<span class="title function_">appendTo</span>($wrap.<span class="title function_">find</span>(<span class="string">&#x27;.queueList&#x27;</span>)),</span></span><br><span class="line"><span class="language-javascript">                    fileCount = <span class="number">0</span>,</span></span><br><span class="line"><span class="language-javascript">                    fileSize = <span class="number">0</span>,</span></span><br><span class="line"><span class="language-javascript">                    ratio = <span class="variable language_">window</span>.<span class="property">devicePixelRatio</span> || <span class="number">1</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// 缩略图大小</span></span></span><br><span class="line"><span class="language-javascript">                    thumbnailWidth = <span class="number">110</span> * ratio,</span></span><br><span class="line"><span class="language-javascript">                    thumbnailHeight = <span class="number">110</span> * ratio,</span></span><br><span class="line"><span class="language-javascript">                    percentages = &#123;&#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//是否支持旋转</span></span></span><br><span class="line"><span class="language-javascript">                    supportTransition = (<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">var</span> s = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;p&#x27;</span>).<span class="property">style</span>,</span></span><br><span class="line"><span class="language-javascript">                            r = <span class="string">&#x27;transition&#x27;</span> <span class="keyword">in</span> s ||</span></span><br><span class="line"><span class="language-javascript">                                <span class="string">&#x27;WebkitTransition&#x27;</span> <span class="keyword">in</span> s ||</span></span><br><span class="line"><span class="language-javascript">                                <span class="string">&#x27;MozTransition&#x27;</span> <span class="keyword">in</span> s ||</span></span><br><span class="line"><span class="language-javascript">                                <span class="string">&#x27;msTransition&#x27;</span> <span class="keyword">in</span> s ||</span></span><br><span class="line"><span class="language-javascript">                                <span class="string">&#x27;OTransition&#x27;</span> <span class="keyword">in</span> s;</span></span><br><span class="line"><span class="language-javascript">                        s = <span class="literal">null</span>;</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">return</span> r;</span></span><br><span class="line"><span class="language-javascript">                    &#125;)(),</span></span><br><span class="line"><span class="language-javascript">                    state = <span class="string">&#x27;pedding&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//上传按钮</span></span></span><br><span class="line"><span class="language-javascript">                    $upload = $wrap.<span class="title function_">find</span>(<span class="string">&#x27;.uploadBtn&#x27;</span>),</span></span><br><span class="line"><span class="language-javascript">                    errMsg = <span class="string">&#x27;上传失败，请重试&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">            uploader;</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//实例化</span></span></span><br><span class="line"><span class="language-javascript">            uploader = <span class="title class_">WebUploader</span>.<span class="title function_">create</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">pick</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">id</span>: <span class="string">&#x27;#filePicker&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">label</span>: <span class="string">&#x27;点击选择文件&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                <span class="attr">accept</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">title</span>: <span class="string">&#x27;myself&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">extensions</span>: <span class="string">&#x27;gif,jpg,jpeg,bmp,png,pdf,doc,docx&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">mimeTypes</span>: <span class="string">&#x27;image/*,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// swf文件路径</span></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">swf</span>: <span class="string">&#x27;/Scripts/fileupload/webuploader/Uploader.swf&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                <span class="attr">server</span>: <span class="string">&#x27;/TestDemo/ajax/baiduUpload.ashx&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">duplicate</span>: <span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">            &#125;);</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">function</span> <span class="title function_">setState</span>(<span class="params">val</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> file, stats;</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span> (val === state) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span>;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                $upload.<span class="title function_">removeClass</span>(<span class="string">&#x27;state-&#x27;</span> + state);</span></span><br><span class="line"><span class="language-javascript">                $upload.<span class="title function_">addClass</span>(<span class="string">&#x27;state-&#x27;</span> + val);</span></span><br><span class="line"><span class="language-javascript">                state = val;</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">switch</span> (state) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">case</span> <span class="string">&#x27;pedding&#x27;</span>:      <span class="comment">//待定</span></span></span><br><span class="line"><span class="language-javascript">                        $queue.<span class="title function_">parent</span>().<span class="title function_">removeClass</span>(<span class="string">&#x27;filled&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                        $queue.<span class="title function_">hide</span>();</span></span><br><span class="line"><span class="language-javascript">                        uploader.<span class="title function_">refresh</span>();</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">break</span>;</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">case</span> <span class="string">&#x27;ready&#x27;</span>:</span></span><br><span class="line"><span class="language-javascript">                        $(<span class="string">&#x27;#filePicker&#x27;</span>).<span class="title function_">removeClass</span>(<span class="string">&#x27;element-invisible&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                        $queue.<span class="title function_">parent</span>().<span class="title function_">addClass</span>(<span class="string">&#x27;filled&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                        $queue.<span class="title function_">show</span>();</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                        uploader.<span class="title function_">refresh</span>();</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">break</span>;</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">case</span> <span class="string">&#x27;uploading&#x27;</span>:</span></span><br><span class="line"><span class="language-javascript">                        $(<span class="string">&#x27;#filePicker&#x27;</span>).<span class="title function_">addClass</span>(<span class="string">&#x27;element-invisible&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                        $upload.<span class="title function_">text</span>(<span class="string">&#x27;暂停上传&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">break</span>;</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">case</span> <span class="string">&#x27;paused&#x27;</span>:</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                        $upload.<span class="title function_">text</span>(<span class="string">&#x27;继续上传&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">break</span>;</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">case</span> <span class="string">&#x27;confirm&#x27;</span>:</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                        $upload.<span class="title function_">text</span>(<span class="string">&#x27;开始上传&#x27;</span>).<span class="title function_">addClass</span>(<span class="string">&#x27;disabled&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                        stats = uploader.<span class="title function_">getStats</span>();</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">if</span> (stats.<span class="property">successNum</span> &amp;&amp; !stats.<span class="property">uploadFailNum</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="title function_">setState</span>(<span class="string">&#x27;finish&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                            <span class="keyword">return</span>;</span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">break</span>;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">case</span> <span class="string">&#x27;finish&#x27;</span>:</span></span><br><span class="line"><span class="language-javascript">                        stats = uploader.<span class="title function_">getStats</span>();</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">if</span> (stats.<span class="property">successNum</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="title function_">alert</span>(<span class="string">&#x27;上传成功&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                        &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="comment">// 没有成功的图片，重设</span></span></span><br><span class="line"><span class="language-javascript">                            state = <span class="string">&#x27;done&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">                            location.<span class="title function_">reload</span>();</span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">break</span>;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span> (state != <span class="string">&quot;ready&quot;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    $(<span class="string">&#x27;#filePicker&#x27;</span>).<span class="title function_">removeClass</span>(<span class="string">&#x27;element-invisible&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                    $upload.<span class="title function_">text</span>(<span class="string">&#x27;开始上传&#x27;</span>).<span class="title function_">removeClass</span>(<span class="string">&#x27;disabled&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">function</span> <span class="title function_">addFile</span>(<span class="params">file</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> $li = $(<span class="string">&#x27;&lt;li id=&quot;&#x27;</span> + file.<span class="property">id</span> + <span class="string">&#x27;&quot;&gt;&#x27;</span> +</span></span><br><span class="line"><span class="language-javascript">                          <span class="string">&#x27;&lt;p class=&quot;title&quot;&gt;&#x27;</span> + file.<span class="property">name</span> + <span class="string">&#x27;&lt;/p&gt;&#x27;</span> +</span></span><br><span class="line"><span class="language-javascript">                          <span class="string">&#x27;&lt;p class=&quot;imgWrap&quot;&gt;&lt;/p&gt;&#x27;</span> +</span></span><br><span class="line"><span class="language-javascript">                          <span class="string">&#x27;&lt;p class=&quot;progress&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/p&gt;&#x27;</span> +</span></span><br><span class="line"><span class="language-javascript">                          <span class="string">&#x27;&lt;/li&gt;&#x27;</span>),</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                      $btns = $(<span class="string">&#x27;&lt;div class=&quot;file-panel&quot;&gt;&#x27;</span> +</span></span><br><span class="line"><span class="language-javascript">                          <span class="string">&#x27;&lt;span class=&quot;cancel&quot;&gt;删除&lt;/span&gt;&#x27;</span> +</span></span><br><span class="line"><span class="language-javascript">                          <span class="string">&#x27;&lt;span class=&quot;rotateRight&quot;&gt;向右旋转&lt;/span&gt;&#x27;</span> +</span></span><br><span class="line"><span class="language-javascript">                          <span class="string">&#x27;&lt;span class=&quot;rotateLeft&quot;&gt;向左旋转&lt;/span&gt;&lt;/div&gt;&#x27;</span>).<span class="title function_">appendTo</span>($li),</span></span><br><span class="line"><span class="language-javascript">                      $prgress = $li.<span class="title function_">find</span>(<span class="string">&#x27;p.progress span&#x27;</span>),</span></span><br><span class="line"><span class="language-javascript">                      $wrap = $li.<span class="title function_">find</span>(<span class="string">&#x27;p.imgWrap&#x27;</span>),</span></span><br><span class="line"><span class="language-javascript">                      $info = $(<span class="string">&#x27;&lt;p class=&quot;error&quot;&gt;&lt;/p&gt;&#x27;</span>),</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                        showError = <span class="keyword">function</span> (<span class="params">code</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="keyword">switch</span> (code) &#123;</span></span><br><span class="line"><span class="language-javascript">                                <span class="keyword">case</span> <span class="string">&#x27;exceed_size&#x27;</span>:</span></span><br><span class="line"><span class="language-javascript">                                    text = <span class="string">&#x27;文件大小超出&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">                                    <span class="keyword">break</span>;</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                                <span class="keyword">case</span> <span class="string">&#x27;interrupt&#x27;</span>:</span></span><br><span class="line"><span class="language-javascript">                                    text = <span class="string">&#x27;上传暂停&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">                                    <span class="keyword">break</span>;</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">default</span>:</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                                    text = errMsg;;</span></span><br><span class="line"><span class="language-javascript">                                    <span class="keyword">break</span>;</span></span><br><span class="line"><span class="language-javascript">                            &#125;</span></span><br><span class="line"><span class="language-javascript">                            $info.<span class="title function_">text</span>(text).<span class="title function_">appendTo</span>($li);</span></span><br><span class="line"><span class="language-javascript">                        &#125;;</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//1.生成缩略图</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span> (file.<span class="title function_">getStatus</span>() === <span class="string">&#x27;invalid&#x27;</span>) &#123;  <span class="comment">//不合格</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="title function_">showError</span>(file.<span class="property">statusText</span>);</span></span><br><span class="line"><span class="language-javascript">                &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// @todo lazyload</span></span></span><br><span class="line"><span class="language-javascript">                    $wrap.<span class="title function_">text</span>(<span class="string">&#x27;预览中&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                    uploader.<span class="title function_">makeThumb</span>(file, <span class="keyword">function</span> (<span class="params">error, src</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">if</span> (error) &#123;</span></span><br><span class="line"><span class="language-javascript">                            $wrap.<span class="title function_">text</span>(<span class="string">&#x27;不能预览&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                            <span class="keyword">return</span>;</span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">var</span> img = $(<span class="string">&#x27;&lt;img src=&quot;&#x27;</span> + src + <span class="string">&#x27;&quot;&gt;&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                        $wrap.<span class="title function_">empty</span>().<span class="title function_">append</span>(img);</span></span><br><span class="line"><span class="language-javascript">                    &#125;, thumbnailWidth, thumbnailHeight);</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                    percentages[file.<span class="property">id</span>] = [file.<span class="property">size</span>, <span class="number">0</span>];</span></span><br><span class="line"><span class="language-javascript">                    file.<span class="property">rotation</span> = <span class="number">0</span>;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//2.文件状态变化</span></span></span><br><span class="line"><span class="language-javascript">                file.<span class="title function_">on</span>(<span class="string">&#x27;statuschange&#x27;</span>, <span class="keyword">function</span> (<span class="params">cur, prev</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//前一个状态</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">if</span> (prev === <span class="string">&#x27;progress&#x27;</span>) &#123;             <span class="comment">//上传中</span></span></span><br><span class="line"><span class="language-javascript">                        $prgress.<span class="title function_">hide</span>().<span class="title function_">width</span>(<span class="number">0</span>);</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">else</span> <span class="keyword">if</span> (prev === <span class="string">&#x27;queued&#x27;</span>) &#123;          <span class="comment">//进入队列,等待上传</span></span></span><br><span class="line"><span class="language-javascript">                        $li.<span class="title function_">off</span>(<span class="string">&#x27;mouseenter mouseleave&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                        $btns.<span class="title function_">remove</span>();</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// 成功</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">if</span> (cur === <span class="string">&#x27;error&#x27;</span> || cur === <span class="string">&#x27;invalid&#x27;</span>) &#123;    <span class="comment">//失败不合格</span></span></span><br><span class="line"><span class="language-javascript">                        <span class="title function_">showError</span>(file.<span class="property">statusText</span>);</span></span><br><span class="line"><span class="language-javascript">                        percentages[file.<span class="property">id</span>][<span class="number">1</span>] = <span class="number">1</span>;</span></span><br><span class="line"><span class="language-javascript">                    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (cur === <span class="string">&#x27;interrupt&#x27;</span>) &#123;           <span class="comment">//暂停</span></span></span><br><span class="line"><span class="language-javascript">                        <span class="title function_">showError</span>(<span class="string">&#x27;interrupt&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (cur === <span class="string">&#x27;queued&#x27;</span>) &#123;              <span class="comment">//队列中</span></span></span><br><span class="line"><span class="language-javascript">                        percentages[file.<span class="property">id</span>][<span class="number">1</span>] = <span class="number">0</span>;</span></span><br><span class="line"><span class="language-javascript">                    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (cur === <span class="string">&#x27;progress&#x27;</span>) &#123;            <span class="comment">//上传中</span></span></span><br><span class="line"><span class="language-javascript">                        $info.<span class="title function_">remove</span>();</span></span><br><span class="line"><span class="language-javascript">                        $prgress.<span class="title function_">css</span>(<span class="string">&#x27;display&#x27;</span>, <span class="string">&#x27;block&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (cur === <span class="string">&#x27;complete&#x27;</span>) &#123;            <span class="comment">//上传完成</span></span></span><br><span class="line"><span class="language-javascript">                        $li.<span class="title function_">append</span>(<span class="string">&#x27;&lt;span class=&quot;success&quot;&gt;&lt;/span&gt;&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                    $li.<span class="title function_">removeClass</span>(<span class="string">&#x27;state-&#x27;</span> + prev).<span class="title function_">addClass</span>(<span class="string">&#x27;state-&#x27;</span> + cur);</span></span><br><span class="line"><span class="language-javascript">                &#125;);</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//3.缩略图标签 旋转删除</span></span></span><br><span class="line"><span class="language-javascript">                $li.<span class="title function_">on</span>(<span class="string">&#x27;mouseenter&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    $btns.<span class="title function_">stop</span>().<span class="title function_">animate</span>(&#123; <span class="attr">height</span>: <span class="number">30</span> &#125;);</span></span><br><span class="line"><span class="language-javascript">                &#125;);</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                $li.<span class="title function_">on</span>(<span class="string">&#x27;mouseleave&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    $btns.<span class="title function_">stop</span>().<span class="title function_">animate</span>(&#123; <span class="attr">height</span>: <span class="number">0</span> &#125;);</span></span><br><span class="line"><span class="language-javascript">                &#125;);</span></span><br><span class="line"><span class="language-javascript">                $btns.<span class="title function_">on</span>(<span class="string">&#x27;click&#x27;</span>, <span class="string">&#x27;span&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">var</span> index = $(<span class="variable language_">this</span>).<span class="title function_">index</span>(),</span></span><br><span class="line"><span class="language-javascript">                        deg;</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">switch</span> (index) &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">case</span> <span class="number">0</span>:</span></span><br><span class="line"><span class="language-javascript">                            uploader.<span class="title function_">removeFile</span>(file);</span></span><br><span class="line"><span class="language-javascript">                            <span class="keyword">return</span>;</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">case</span> <span class="number">1</span>:</span></span><br><span class="line"><span class="language-javascript">                            file.<span class="property">rotation</span> += <span class="number">90</span>;</span></span><br><span class="line"><span class="language-javascript">                            <span class="keyword">break</span>;</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">case</span> <span class="number">2</span>:</span></span><br><span class="line"><span class="language-javascript">                            file.<span class="property">rotation</span> -= <span class="number">90</span>;</span></span><br><span class="line"><span class="language-javascript">                            <span class="keyword">break</span>;</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">if</span> (supportTransition) &#123;</span></span><br><span class="line"><span class="language-javascript">                        deg = <span class="string">&#x27;rotate(&#x27;</span> + file.<span class="property">rotation</span> + <span class="string">&#x27;deg)&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">                        $wrap.<span class="title function_">css</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="string">&#x27;-webkit-transform&#x27;</span>: deg,</span></span><br><span class="line"><span class="language-javascript">                            <span class="string">&#x27;-mos-transform&#x27;</span>: deg,</span></span><br><span class="line"><span class="language-javascript">                            <span class="string">&#x27;-o-transform&#x27;</span>: deg,</span></span><br><span class="line"><span class="language-javascript">                            <span class="string">&#x27;transform&#x27;</span>: deg</span></span><br><span class="line"><span class="language-javascript">                        &#125;);</span></span><br><span class="line"><span class="language-javascript">                    &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                        $wrap.<span class="title function_">css</span>(<span class="string">&#x27;filter&#x27;</span>, <span class="string">&#x27;progid:DXImageTransform.Microsoft.BasicImage(rotation=&#x27;</span> + (~~((file.<span class="property">rotation</span> / <span class="number">90</span>) % <span class="number">4</span> + <span class="number">4</span>) % <span class="number">4</span>) + <span class="string">&#x27;)&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;);</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                $li.<span class="title function_">appendTo</span>($queue);</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">function</span> <span class="title function_">removeFile</span>(<span class="params">file</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> $li = $(<span class="string">&#x27;#&#x27;</span> + file.<span class="property">id</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">delete</span> percentages[file.<span class="property">id</span>];</span></span><br><span class="line"><span class="language-javascript">                $li.<span class="title function_">off</span>().<span class="title function_">find</span>(<span class="string">&#x27;.file-panel&#x27;</span>).<span class="title function_">off</span>().<span class="title function_">end</span>().<span class="title function_">remove</span>();</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">            uploader.<span class="property">onUploadProgress</span> = <span class="keyword">function</span> (<span class="params">file, percentage</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> $li = $(<span class="string">&#x27;#&#x27;</span> + file.<span class="property">id</span>),</span></span><br><span class="line"><span class="language-javascript">                    $percent = $li.<span class="title function_">find</span>(<span class="string">&#x27;.progress span&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                $percent.<span class="title function_">css</span>(<span class="string">&#x27;width&#x27;</span>, percentage * <span class="number">100</span> + <span class="string">&#x27;%&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                percentages[file.<span class="property">id</span>][<span class="number">1</span>] = percentage;</span></span><br><span class="line"><span class="language-javascript">            &#125;;</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">            uploader.<span class="property">onFileQueued</span> = <span class="keyword">function</span> (<span class="params">file</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                fileCount++;</span></span><br><span class="line"><span class="language-javascript">                fileSize += file.<span class="property">size</span>;</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">addFile</span>(file);</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">setState</span>(<span class="string">&#x27;ready&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">            &#125;;</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">            uploader.<span class="property">onFileDequeued</span> = <span class="keyword">function</span> (<span class="params">file</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                fileCount--;</span></span><br><span class="line"><span class="language-javascript">                fileSize -= file.<span class="property">size</span>;</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span> (!fileCount) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="title function_">setState</span>(<span class="string">&#x27;pedding&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">removeFile</span>(file);</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">            &#125;;</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">            uploader.<span class="title function_">on</span>(<span class="string">&#x27;all&#x27;</span>, <span class="keyword">function</span> (<span class="params">type</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> stats;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">switch</span> (type) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">case</span> <span class="string">&#x27;uploadFinished&#x27;</span>:</span></span><br><span class="line"><span class="language-javascript">                        <span class="title function_">setState</span>(<span class="string">&#x27;confirm&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">break</span>;</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">case</span> <span class="string">&#x27;startUpload&#x27;</span>:</span></span><br><span class="line"><span class="language-javascript">                        <span class="title function_">setState</span>(<span class="string">&#x27;uploading&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">break</span>;</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">case</span> <span class="string">&#x27;stopUpload&#x27;</span>:</span></span><br><span class="line"><span class="language-javascript">                        <span class="title function_">setState</span>(<span class="string">&#x27;paused&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">break</span>;</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;);</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">            uploader.<span class="property">onError</span> = <span class="keyword">function</span> (<span class="params">code</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">alert</span>(<span class="string">&#x27;Eroor: &#x27;</span> + code);</span></span><br><span class="line"><span class="language-javascript">            &#125;;</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">            uploader.<span class="title function_">on</span>(<span class="string">&#x27;uploadAccept&#x27;</span>, <span class="keyword">function</span> (<span class="params">file, response</span>) &#123;</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> hasError = (response[<span class="string">&quot;result&quot;</span>] === <span class="string">&quot;error&quot;</span>);</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span> (hasError) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// 通过return false来告诉组件，此文件上传有错。</span></span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                    errMsg = response[<span class="string">&#x27;error&#x27;</span>][<span class="string">&quot;message&quot;</span>];</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line"><span class="language-javascript">                &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;);</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">            uploader.<span class="title function_">on</span>(<span class="string">&#x27;uploadBeforeSend&#x27;</span>, <span class="keyword">function</span> (<span class="params">file, data</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                data.<span class="property">opr</span> = <span class="string">&#x27;newupload&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">                data.<span class="property">type</span> = $(<span class="string">&quot;#hidtype&quot;</span>).<span class="title function_">val</span>();</span></span><br><span class="line"><span class="language-javascript">                data.<span class="property">pid</span> = $(<span class="string">&quot;#hidpid&quot;</span>).<span class="title function_">val</span>();</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">            &#125;);</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//上传按钮</span></span></span><br><span class="line"><span class="language-javascript">            $upload.<span class="title function_">on</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span> ($(<span class="variable language_">this</span>).<span class="title function_">hasClass</span>(<span class="string">&#x27;disabled&#x27;</span>)) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span> (state === <span class="string">&#x27;ready&#x27;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    uploader.<span class="title function_">upload</span>();</span></span><br><span class="line"><span class="language-javascript">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (state === <span class="string">&#x27;paused&#x27;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    uploader.<span class="title function_">upload</span>();</span></span><br><span class="line"><span class="language-javascript">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (state === <span class="string">&#x27;uploading&#x27;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    uploader.<span class="title function_">stop</span>();</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;);</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">            $upload.<span class="title function_">addClass</span>(<span class="string">&#x27;state-&#x27;</span> + state);</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">id</span>=<span class="string">&quot;frmUpload&quot;</span> <span class="attr">runat</span>=<span class="string">&quot;server&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;page-container&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;uploader&quot;</span> <span class="attr">class</span>=<span class="string">&quot;wu-example&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;queueList&quot;</span>&gt;</span></span><br><span class="line">             </span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;statusBar&quot;</span> &gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;btns&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;filePicker&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;uploadBtn&quot;</span>&gt;</span>开始上传<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">       </span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>一般处理程序代码</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> School.Infrastructure.Common;</span><br><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> System.IO;</span><br><span class="line"><span class="keyword">using</span> System.Linq;</span><br><span class="line"><span class="keyword">using</span> System.Text;</span><br><span class="line"><span class="keyword">using</span> System.Web;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">namespace</span> <span class="title">School.Web.TestDemo.ajax</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> baiduUpload 的摘要说明</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">baiduUpload</span> : <span class="title">IHttpHandler</span></span><br><span class="line">    &#123;</span><br><span class="line"> </span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">ProcessRequest</span>(<span class="params">HttpContext context</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            context.Response.ContentType = <span class="string">&quot;text/plain&quot;</span>;</span><br><span class="line">            HttpRequest Request = context.Request;</span><br><span class="line">            HttpResponse Response = context.Response;</span><br><span class="line">            <span class="built_in">string</span> name = Request[<span class="string">&quot;name&quot;</span>];</span><br><span class="line">            <span class="built_in">string</span> opr = Request[<span class="string">&quot;opr&quot;</span>];</span><br><span class="line">            <span class="built_in">string</span> result = <span class="built_in">string</span>.Empty;</span><br><span class="line">            <span class="keyword">if</span>(opr==<span class="string">&quot;newupload&quot;</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                result = NewUploadImg(Request, name);</span><br><span class="line">            &#125;</span><br><span class="line">            context.Response.Write(result);</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="built_in">string</span> <span class="title">NewUploadImg</span>(<span class="params">HttpRequest Request, <span class="built_in">string</span> filename</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">var</span> error = <span class="keyword">new</span> error &#123; code = <span class="string">&quot;101&quot;</span>, message = <span class="string">&quot;Upload Failed&quot;</span> &#125;;</span><br><span class="line">            JsonResultWebUpload jresult = <span class="keyword">new</span> JsonResultWebUpload(<span class="string">&quot;2.0&quot;</span>) &#123; result = <span class="string">&quot;error&quot;</span> &#125;;</span><br><span class="line">            <span class="built_in">int</span> filecount = Request.Files.Count;</span><br><span class="line">            HttpPostedFile img = <span class="literal">null</span>;</span><br><span class="line"> </span><br><span class="line">            <span class="keyword">if</span> (filecount &gt; <span class="number">0</span> &amp;&amp; !<span class="built_in">string</span>.IsNullOrEmpty(filename))</span><br><span class="line">            &#123;</span><br><span class="line">                img = Request.Files[<span class="number">0</span>];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                jresult.error = error;</span><br><span class="line">                jresult.id = Request[<span class="string">&quot;id&quot;</span>];</span><br><span class="line">                <span class="keyword">return</span> JsonHelper.SerializeObject(jresult);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">byte</span>[] bytes = <span class="keyword">new</span> <span class="built_in">byte</span>[img.ContentLength];</span><br><span class="line">            <span class="keyword">using</span> (BinaryReader reader = <span class="keyword">new</span> BinaryReader(img.InputStream, Encoding.UTF8))</span><br><span class="line">            &#123;</span><br><span class="line">                bytes = reader.ReadBytes(img.ContentLength);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">string</span> filefullpath = HttpContext.Current.Server.MapPath(<span class="string">&quot;~/UploadFiles/&quot;</span>) + filename;</span><br><span class="line">            <span class="keyword">using</span> (FileStream fsWrite = <span class="keyword">new</span> FileStream(filefullpath, FileMode.OpenOrCreate))</span><br><span class="line">            &#123;</span><br><span class="line">                fsWrite.Write(bytes, <span class="number">0</span>, bytes.Length);</span><br><span class="line">            &#125;</span><br><span class="line"> </span><br><span class="line">            <span class="keyword">if</span> (<span class="literal">true</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                jresult.result = <span class="string">&quot;success&quot;</span>;</span><br><span class="line">                jresult.id = Request[<span class="string">&quot;id&quot;</span>];</span><br><span class="line">            &#125;</span><br><span class="line"> </span><br><span class="line">            <span class="keyword">return</span> JsonHelper.SerializeObject(jresult);</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">bool</span> IsReusable</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">get</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">JsonResultWebUpload</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">JsonResultWebUpload</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line"> </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">JsonResultWebUpload</span>(<span class="params"><span class="built_in">string</span> jsonrpc</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">this</span>.jsonrpc = jsonrpc;</span><br><span class="line"> </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> jsonrpc &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> result &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">public</span> error error &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> id &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">error</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> code &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> message &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>css样式</p><p>picstyle.css</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">50px</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">    <span class="attribute">font-family</span>: <span class="string">&quot;Myriad Pro&quot;</span>, <span class="string">&quot;Hiragino Sans GB&quot;</span>,<span class="string">&quot;Microsoft YaHei&quot;</span>,<span class="string">&quot;å¾®è½¯é›…é»‘&quot;</span>, Calibri, Helvetica, tahoma,arial,simsun,<span class="string">&quot;å®‹ä½“&quot;</span>, sans-serif;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">1.5</span>;</span><br><span class="line">    -webkit-<span class="attribute">font-smoothing</span>: antialiased;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.jumbotron</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: transparent <span class="built_in">url</span>(<span class="string">images/banner.jpg</span>) repeat-x <span class="number">50%</span> <span class="number">0%</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">1px</span> <span class="number">1px</span> <span class="number">1px</span> <span class="number">#3b3262</span>;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.jumbotron</span> <span class="selector-class">.container</span> &#123;</span><br><span class="line">   <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.jumbotron</span> <span class="selector-class">.github-btns</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.fetature</span> &#123;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">30px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.page-body</span> &#123;</span><br><span class="line">    <span class="attribute">min-height</span>: <span class="number">450px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.page-container</span> &#123;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.page-container</span> <span class="selector-tag">h1</span>,</span><br><span class="line"><span class="selector-class">.page-container</span> <span class="selector-tag">h2</span>,</span><br><span class="line"><span class="selector-class">.page-container</span> <span class="selector-tag">h3</span> &#123;</span><br><span class="line">    <span class="attribute">padding-top</span>: <span class="number">70px</span>;</span><br><span class="line">    <span class="attribute">margin-top</span>: -<span class="number">50px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.logo</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">padding-left</span>: <span class="number">60px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.logo</span> <span class="selector-tag">span</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">8px</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">2em</span>;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">0</span> -<span class="number">1px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.25</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.logo</span><span class="selector-class">.active</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@media</span> (<span class="attribute">min-width</span>: <span class="number">768px</span>) &#123;</span><br><span class="line">    <span class="selector-class">.fetature</span> <span class="selector-class">.row</span> <span class="selector-class">.col-lg-4</span> &#123;</span><br><span class="line">        <span class="attribute">min-height</span>: <span class="number">250px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.footer</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#f2f2f2</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#212121</span>;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">50px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.footer-fixed-bottom</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: fixed;</span><br><span class="line">    <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.footer</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#f2f2f2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.footer</span> <span class="selector-class">.footer-inner</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">15px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.wu-example</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">45px</span> <span class="number">15px</span> <span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">15px</span> <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#fafafa</span>;</span><br><span class="line">    <span class="attribute">box-shadow</span>: inset <span class="number">0</span> <span class="number">3px</span> <span class="number">6px</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, .<span class="number">05</span>);</span><br><span class="line">    <span class="attribute">border-color</span>: <span class="number">#e5e5e5</span> <span class="number">#eee</span> <span class="number">#eee</span>;</span><br><span class="line">    <span class="attribute">border-style</span>: solid;</span><br><span class="line">    <span class="attribute">border-width</span>: <span class="number">1px</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.wu-example</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>:<span class="string">&quot;请上传证件&quot;</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>: bold;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#bbb</span>;</span><br><span class="line">    <span class="attribute">text-transform</span>: uppercase;</span><br><span class="line">    <span class="attribute">letter-spacing</span>: <span class="number">1px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@media</span> (<span class="attribute">min-width</span>: <span class="number">768px</span>) &#123;</span><br><span class="line">    <span class="selector-class">.bs-example</span> &#123;</span><br><span class="line">        <span class="attribute">margin-left</span>: <span class="number">0</span>;</span><br><span class="line">        <span class="attribute">margin-right</span>: <span class="number">0</span>;</span><br><span class="line">        <span class="attribute">background-color</span>: <span class="number">#fff</span>;</span><br><span class="line">        <span class="attribute">border-width</span>: <span class="number">1px</span>;</span><br><span class="line">        <span class="attribute">border-color</span>: <span class="number">#ddd</span>;</span><br><span class="line">        <span class="attribute">border-radius</span>: <span class="number">4px</span> <span class="number">4px</span> <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">        <span class="attribute">box-shadow</span>: none;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.post-toc</span> &#123;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">padding-top</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">padding-bottom</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">0</span> <span class="number">1px</span> <span class="number">0</span> <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#f7f5fa</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.post-toc</span> <span class="selector-class">.nav</span> &gt; <span class="selector-tag">li</span> &gt; <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#716b7a</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">5px</span> <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.post-toc</span> <span class="selector-class">.nav</span> <span class="selector-class">.nav</span> &gt; <span class="selector-tag">li</span> &gt; <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">padding-top</span>: <span class="number">3px</span>;</span><br><span class="line">    <span class="attribute">padding-bottom</span>: <span class="number">3px</span>;</span><br><span class="line">    <span class="attribute">padding-left</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">90%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.post-toc</span><span class="selector-class">.affix</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: static;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.post-toc</span> <span class="selector-class">.nav</span> <span class="selector-class">.nav</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">8px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> (<span class="attribute">min-width</span>: <span class="number">992px</span>) &#123;</span><br><span class="line">    <span class="selector-class">.post-toc</span><span class="selector-class">.affix</span> &#123;</span><br><span class="line">        <span class="attribute">position</span>: fixed;</span><br><span class="line">        <span class="attribute">width</span>: <span class="number">213px</span>;</span><br><span class="line">        <span class="attribute">top</span>: <span class="number">50px</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.post-toc</span> <span class="selector-class">.nav</span> &gt; <span class="selector-class">.active</span> &gt; <span class="selector-tag">ul</span> &#123;</span><br><span class="line">      <span class="attribute">display</span>: block;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> (<span class="attribute">min-width</span>: <span class="number">1200px</span>) &#123;</span><br><span class="line">    <span class="selector-class">.post-toc</span><span class="selector-class">.affix</span> &#123;</span><br><span class="line">        <span class="attribute">width</span>: <span class="number">263px</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.post-toc</span> <span class="selector-class">.nav</span> &gt; <span class="selector-class">.active</span> &gt; <span class="selector-tag">ul</span> &#123;</span><br><span class="line">      <span class="attribute">display</span>: block;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.post-toc</span> <span class="selector-class">.nav</span> &gt; <span class="selector-class">.active</span> &gt; <span class="selector-tag">a</span>,</span><br><span class="line"><span class="selector-class">.post-toc</span> <span class="selector-class">.nav</span> &gt; <span class="selector-class">.active</span><span class="selector-pseudo">:hover</span> &gt; <span class="selector-tag">a</span>,</span><br><span class="line"><span class="selector-class">.post-toc</span> <span class="selector-class">.nav</span> &gt; <span class="selector-class">.active</span><span class="selector-pseudo">:focus</span> &gt; <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">font-weight</span>: bold;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#563d7c</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: transparent;</span><br><span class="line">    <span class="attribute">border-right</span>: <span class="number">1px</span> solid <span class="number">#563d7c</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.friends-links</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">list-style</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.weixin</span> &#123;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.weixin</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">80px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/********************************</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">*  COMMENTS</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">********************************/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.comment</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: transparent;</span><br><span class="line">    <span class="attribute">border-color</span>: <span class="number">#CACACA</span>;</span><br><span class="line">    <span class="attribute">border-style</span>: solid;</span><br><span class="line">    <span class="attribute">border-width</span>: <span class="number">1px</span>;</span><br><span class="line">    <span class="attribute">color</span>: black;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.comment</span> <span class="selector-class">.commentheader</span> &#123;</span><br><span class="line">  <span class="attribute">border-bottom-color</span>: <span class="number">#CACACA</span>;</span><br><span class="line">  <span class="attribute">border-bottom-style</span>: solid;</span><br><span class="line">  <span class="attribute">border-bottom-width</span>: <span class="number">1px</span>;</span><br><span class="line">  <span class="attribute">color</span>: black;</span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">-webkit-linear-gradient</span>(<span class="number">#F8F8F8</span>,<span class="number">#E1E1E1</span>);</span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">-moz-linear-gradient</span>(<span class="number">#F8F8F8</span>,<span class="number">#E1E1E1</span>);</span><br><span class="line">  <span class="attribute">color</span>: black;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">float</span>: left;</span><br><span class="line">  <span class="attribute">font-family</span>: helvetica, arial, freesans, clean, sans-serif;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">  <span class="attribute">font-style</span>: normal;</span><br><span class="line">  <span class="attribute">font-variant</span>: normal;</span><br><span class="line">  <span class="attribute">font-weight</span>: normal;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">33px</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">33px</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0px</span>;</span><br><span class="line">  <span class="attribute">overflow-x</span>: hidden;</span><br><span class="line">  <span class="attribute">overflow-y</span>: hidden;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0px</span>;</span><br><span class="line">  <span class="attribute">text-overflow</span>: ellipsis;</span><br><span class="line">  <span class="attribute">text-shadow</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.699219</span>) <span class="number">1px</span> <span class="number">1px</span> <span class="number">0px</span>;</span><br><span class="line">  <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.comment</span> <span class="selector-class">.commentheader</span> <span class="selector-class">.commentgravatar</span> &#123;</span><br><span class="line">  <span class="attribute">background-attachment</span>: scroll;</span><br><span class="line">  <span class="attribute">background-clip</span>: border-box;</span><br><span class="line">  <span class="attribute">background-color</span>: white;</span><br><span class="line">  <span class="attribute">background-image</span>: none;</span><br><span class="line">  <span class="attribute">background-origin</span>: padding-box;</span><br><span class="line">  <span class="attribute">border-color</span>: <span class="number">#C8C8C8</span>;</span><br><span class="line">  <span class="attribute">border-style</span>: solid;</span><br><span class="line">  <span class="attribute">border-width</span>: <span class="number">1px</span>;</span><br><span class="line">  <span class="attribute">color</span>: black;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">float</span>: none;</span><br><span class="line">  <span class="attribute">font-family</span>: helvetica, arial, freesans, clean, sans-serif;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1px</span>;</span><br><span class="line">  <span class="attribute">font-style</span>: normal;</span><br><span class="line">  <span class="attribute">font-variant</span>: normal;</span><br><span class="line">  <span class="attribute">font-weight</span>: normal;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">24px</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">1px</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">3px</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: -<span class="number">2px</span>;</span><br><span class="line">  <span class="attribute">overflow-x</span>: visible;</span><br><span class="line">  <span class="attribute">overflow-y</span>: visible;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">1px</span>;</span><br><span class="line">  <span class="attribute">text-overflow</span>: clip;</span><br><span class="line">  <span class="attribute">text-shadow</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.699219</span>) <span class="number">1px</span> <span class="number">1px</span> <span class="number">0px</span>;</span><br><span class="line">  <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">  <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">24px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.comment</span> <span class="selector-class">.commentheader</span> <span class="selector-tag">a</span><span class="selector-pseudo">:link</span> &#123;</span><br><span class="line">  <span class="attribute">text-decoration</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.comment</span> <span class="selector-class">.commentheader</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">border-bottom</span>:<span class="number">1px</span> solid;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.comment</span> <span class="selector-class">.commentheader</span> <span class="selector-class">.commentuser</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: transparent;</span><br><span class="line">  <span class="attribute">color</span>: black;</span><br><span class="line">  <span class="attribute">display</span>: inline;</span><br><span class="line">  <span class="attribute">float</span>: none;</span><br><span class="line">  <span class="attribute">font-family</span>: helvetica, arial, freesans, clean, sans-serif;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">  <span class="attribute">font-style</span>: normal;</span><br><span class="line">  <span class="attribute">font-variant</span>: normal;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">0px</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">16px</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">overflow-x</span>: visible;</span><br><span class="line">  <span class="attribute">overflow-y</span>: visible;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0px</span>;</span><br><span class="line">  <span class="attribute">text-overflow</span>: clip;</span><br><span class="line">  <span class="attribute">text-shadow</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.699219</span>) <span class="number">1px</span> <span class="number">1px</span> <span class="number">0px</span>;</span><br><span class="line">  <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">0px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.comment</span> <span class="selector-class">.commentheader</span> <span class="selector-class">.commentdate</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: transparent;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#777</span>;</span><br><span class="line">  <span class="attribute">display</span>: inline;</span><br><span class="line">  <span class="attribute">float</span>: none;</span><br><span class="line">  <span class="attribute">font-family</span>: helvetica, arial, freesans, clean, sans-serif;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">11px</span>;</span><br><span class="line">  <span class="attribute">font-style</span>: normal;</span><br><span class="line">  <span class="attribute">font-variant</span>: normal;</span><br><span class="line">  <span class="attribute">font-weight</span>: normal;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">0px</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">33px</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0px</span>;</span><br><span class="line">  <span class="attribute">overflow-x</span>: visible;</span><br><span class="line">  <span class="attribute">overflow-y</span>: visible;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0px</span>;</span><br><span class="line">  <span class="attribute">text-overflow</span>: clip;</span><br><span class="line">  <span class="attribute">text-shadow</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.699219</span>) <span class="number">1px</span> <span class="number">1px</span> <span class="number">0px</span>;</span><br><span class="line">  <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">20em</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.comment</span> <span class="selector-class">.commentbody</span> &#123;</span><br><span class="line">  <span class="attribute">background-attachment</span>: scroll;</span><br><span class="line">  <span class="attribute">background-clip</span>: border-box;</span><br><span class="line">  <span class="attribute">background-color</span>: transparent;</span><br><span class="line">  <span class="attribute">background-image</span>: none;</span><br><span class="line">  <span class="attribute">background-origin</span>: padding-box;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#333</span>;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">1em</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">1em</span>;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">1em</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">40px</span>;</span><br><span class="line">  <span class="attribute">overflow-x</span>: visible;</span><br><span class="line">  <span class="attribute">overflow-y</span>: visible;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0em</span>;</span><br><span class="line">  <span class="attribute">position</span>: static;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">96%</span>;</span><br><span class="line">  <span class="attribute">word-wrap</span>: break-word;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.comment</span> <span class="selector-class">.commentbody</span> <span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">0.5em</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">0.5em</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">0em</span>;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">0em</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.comment</span> <span class="selector-class">.commentbody</span> pre &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">0px</span> solid <span class="number">#ddd</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#eef</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span> .<span class="number">4em</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.comment</span> <span class="selector-class">.commentbody</span> pre <span class="selector-tag">code</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">0px</span> solid <span class="number">#ddd</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.comment</span> <span class="selector-class">.commentbody</span> <span class="selector-tag">code</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ddd</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#eef</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">85%</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span> .<span class="number">2em</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*demoæ ·å¼*/</span></span><br><span class="line"><span class="selector-id">#picker</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">1.428571429</span>;</span><br><span class="line">    <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">12px</span> <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#picker</span> <span class="selector-class">.webuploader-pick</span> &#123;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">6px</span> <span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="selector-id">#uploader-demo</span> <span class="selector-class">.thumbnail</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">110px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">110px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#uploader-demo</span> <span class="selector-class">.thumbnail</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.uploader-list</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.file-item</span> &#123;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">20px</span> <span class="number">20px</span> <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">4px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.file-item</span> <span class="selector-class">.error</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">background</span>: red;</span><br><span class="line">    <span class="attribute">color</span>: white;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">23px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.file-item</span> <span class="selector-class">.info</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">bottom</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">text-indent</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.6</span>);</span><br><span class="line">    <span class="attribute">color</span>: white;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">    <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">    <span class="attribute">text-overflow</span> : ellipsis;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">10</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.upload-state-done</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>:<span class="string">&quot;\f00c&quot;</span>;</span><br><span class="line">    <span class="attribute">font-family</span>: FontAwesome;</span><br><span class="line">    <span class="attribute">font-style</span>: normal;</span><br><span class="line">    <span class="attribute">font-weight</span>: normal;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">1</span>;</span><br><span class="line">    -webkit-<span class="attribute">font-smoothing</span>: antialiased;</span><br><span class="line">    -moz-osx-<span class="attribute">font-smoothing</span>: grayscale;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">32px</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#4cae4c</span>;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">99</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.file-item</span> <span class="selector-class">.progress</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">bottom</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">3px</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">15</span>;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">background</span>: transparent;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.file-item</span> <span class="selector-class">.progress</span> <span class="selector-tag">span</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#d14</span> <span class="built_in">url</span>(<span class="string">images/progress.png</span>) repeat-x;</span><br><span class="line">    -webit-<span class="attribute">transition</span>: width <span class="number">200ms</span> linear;</span><br><span class="line">    -moz-<span class="attribute">transition</span>: width <span class="number">200ms</span> linear;</span><br><span class="line">    -o-<span class="attribute">transition</span>: width <span class="number">200ms</span> linear;</span><br><span class="line">    -ms-<span class="attribute">transition</span>: width <span class="number">200ms</span> linear;</span><br><span class="line">    <span class="attribute">transition</span>: width <span class="number">200ms</span> linear;</span><br><span class="line">    -webkit-<span class="attribute">animation</span>: progressmove <span class="number">2s</span> linear infinite;</span><br><span class="line">    -moz-<span class="attribute">animation</span>: progressmove <span class="number">2s</span> linear infinite;</span><br><span class="line">    -o-<span class="attribute">animation</span>: progressmove <span class="number">2s</span> linear infinite;</span><br><span class="line">    -ms-<span class="attribute">animation</span>: progressmove <span class="number">2s</span> linear infinite;</span><br><span class="line">    <span class="attribute">animation</span>: progressmove <span class="number">2s</span> linear infinite;</span><br><span class="line">    -webkit-<span class="attribute">transform</span>: <span class="built_in">translateZ</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@-webkit-keyframes</span> progressmove &#123;</span><br><span class="line">    <span class="number">0%</span> &#123;</span><br><span class="line">        <span class="attribute">background-position</span>: <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="number">100%</span> &#123;</span><br><span class="line">        <span class="attribute">background-position</span>: <span class="number">17px</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@-moz-keyframes</span> progressmove &#123;</span><br><span class="line">    <span class="number">0%</span> &#123;</span><br><span class="line">        <span class="attribute">background-position</span>: <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="number">100%</span> &#123;</span><br><span class="line">        <span class="attribute">background-position</span>: <span class="number">17px</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@keyframes</span> progressmove &#123;</span><br><span class="line">    <span class="number">0%</span> &#123;</span><br><span class="line">        <span class="attribute">background-position</span>: <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="number">100%</span> &#123;</span><br><span class="line">        <span class="attribute">background-position</span>: <span class="number">17px</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">a</span><span class="selector-class">.travis</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">top</span>: -<span class="number">4px</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">15px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>demo.css</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#container</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#838383</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#uploader</span> <span class="selector-class">.queueList</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="comment">/*border: 3px dashed #e6e6e6;*/</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#uploader</span> <span class="selector-class">.queueList</span><span class="selector-class">.filled</span> &#123;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">17px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">3px</span> dashed transparent;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#uploader</span> <span class="selector-class">.queueList</span><span class="selector-class">.webuploader-dnd-over</span> &#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">3px</span> dashed <span class="number">#999999</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#uploader</span> <span class="selector-tag">p</span> &#123;<span class="attribute">margin</span>: <span class="number">0</span>;&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.element-invisible</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">clip</span>: <span class="built_in">rect</span>(<span class="number">1px</span> <span class="number">1px</span> <span class="number">1px</span> <span class="number">1px</span>); <span class="comment">/* IE6, IE7 */</span></span><br><span class="line">    <span class="attribute">clip</span>: <span class="built_in">rect</span>(<span class="number">1px</span>,<span class="number">1px</span>,<span class="number">1px</span>,<span class="number">1px</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#uploader</span> <span class="selector-class">.placeholder</span> &#123;</span><br><span class="line">    <span class="attribute">min-height</span>: <span class="number">350px</span>;</span><br><span class="line">    <span class="attribute">padding-top</span>: <span class="number">178px</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">images/image.png</span>) center <span class="number">93px</span> no-repeat;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#cccccc</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">18px</span>;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#uploader</span> <span class="selector-class">.placeholder</span> <span class="selector-class">.webuploader-pick</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">18px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#00b7ee</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">3px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">44px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">30px</span>;</span><br><span class="line">    *<span class="attribute">width</span>: <span class="number">120px</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> auto <span class="number">20px</span> auto;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">1px</span> <span class="number">1px</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#uploader</span> <span class="selector-class">.placeholder</span> <span class="selector-class">.webuploader-pick-hover</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#00a2d4</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#uploader</span> <span class="selector-class">.placeholder</span> <span class="selector-class">.flashTip</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#666666</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">bottom</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#uploader</span> <span class="selector-class">.placeholder</span> <span class="selector-class">.flashTip</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#0785d1</span>;</span><br><span class="line">    <span class="attribute">text-decoration</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#uploader</span> <span class="selector-class">.placeholder</span> <span class="selector-class">.flashTip</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">text-decoration</span>: underline;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#uploader</span> <span class="selector-class">.filelist</span> &#123;</span><br><span class="line">    <span class="attribute">list-style</span>: none;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#uploader</span> <span class="selector-class">.filelist</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">    <span class="attribute">clear</span>: both;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#uploader</span> <span class="selector-class">.filelist</span> <span class="selector-tag">li</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">110px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">110px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">images/bg.png</span>) no-repeat;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">8px</span> <span class="number">20px</span> <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">display</span>: inline;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#uploader</span> <span class="selector-class">.filelist</span> <span class="selector-tag">li</span> <span class="selector-tag">p</span><span class="selector-class">.log</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">top</span>: -<span class="number">45px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#uploader</span> <span class="selector-class">.filelist</span> <span class="selector-tag">li</span> <span class="selector-tag">p</span><span class="selector-class">.title</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">    <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">    <span class="attribute">text-overflow</span> : ellipsis;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">text-indent</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: left;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#uploader</span> <span class="selector-class">.filelist</span> <span class="selector-tag">li</span> <span class="selector-tag">p</span><span class="selector-class">.progress</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">8px</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">50</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">background</span>: none;</span><br><span class="line">    -webkit-<span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#uploader</span> <span class="selector-class">.filelist</span> <span class="selector-tag">li</span> <span class="selector-tag">p</span><span class="selector-class">.progress</span> <span class="selector-tag">span</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#1483d8</span> <span class="built_in">url</span>(<span class="string">images/progress.png</span>) repeat-x;</span><br><span class="line"></span><br><span class="line">    -webit-<span class="attribute">transition</span>: width <span class="number">200ms</span> linear;</span><br><span class="line">    -moz-<span class="attribute">transition</span>: width <span class="number">200ms</span> linear;</span><br><span class="line">    -o-<span class="attribute">transition</span>: width <span class="number">200ms</span> linear;</span><br><span class="line">    -ms-<span class="attribute">transition</span>: width <span class="number">200ms</span> linear;</span><br><span class="line">    <span class="attribute">transition</span>: width <span class="number">200ms</span> linear;</span><br><span class="line"></span><br><span class="line">    -webkit-<span class="attribute">animation</span>: progressmove <span class="number">2s</span> linear infinite;</span><br><span class="line">    -moz-<span class="attribute">animation</span>: progressmove <span class="number">2s</span> linear infinite;</span><br><span class="line">    -o-<span class="attribute">animation</span>: progressmove <span class="number">2s</span> linear infinite;</span><br><span class="line">    -ms-<span class="attribute">animation</span>: progressmove <span class="number">2s</span> linear infinite;</span><br><span class="line">    <span class="attribute">animation</span>: progressmove <span class="number">2s</span> linear infinite;</span><br><span class="line"></span><br><span class="line">    -webkit-<span class="attribute">transform</span>: <span class="built_in">translateZ</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@-webkit-keyframes</span> progressmove &#123;</span><br><span class="line">    <span class="number">0%</span> &#123;</span><br><span class="line">       <span class="attribute">background-position</span>: <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="number">100%</span> &#123;</span><br><span class="line">       <span class="attribute">background-position</span>: <span class="number">17px</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@-moz-keyframes</span> progressmove &#123;</span><br><span class="line">    <span class="number">0%</span> &#123;</span><br><span class="line">       <span class="attribute">background-position</span>: <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="number">100%</span> &#123;</span><br><span class="line">       <span class="attribute">background-position</span>: <span class="number">17px</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@keyframes</span> progressmove &#123;</span><br><span class="line">    <span class="number">0%</span> &#123;</span><br><span class="line">       <span class="attribute">background-position</span>: <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="number">100%</span> &#123;</span><br><span class="line">       <span class="attribute">background-position</span>: <span class="number">17px</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#uploader</span> <span class="selector-class">.filelist</span> <span class="selector-tag">li</span> <span class="selector-tag">p</span><span class="selector-class">.imgWrap</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">2</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">110px</span>;</span><br><span class="line">    <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">110px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">110px</span>;</span><br><span class="line"></span><br><span class="line">    -webkit-<span class="attribute">transform-origin</span>: <span class="number">50%</span> <span class="number">50%</span>;</span><br><span class="line">    -moz-<span class="attribute">transform-origin</span>: <span class="number">50%</span> <span class="number">50%</span>;</span><br><span class="line">    -o-<span class="attribute">transform-origin</span>: <span class="number">50%</span> <span class="number">50%</span>;</span><br><span class="line">    -ms-<span class="attribute">transform-origin</span>: <span class="number">50%</span> <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">transform-origin</span>: <span class="number">50%</span> <span class="number">50%</span>;</span><br><span class="line"></span><br><span class="line">    -webit-<span class="attribute">transition</span>: <span class="number">200ms</span> ease-out;</span><br><span class="line">    -moz-<span class="attribute">transition</span>: <span class="number">200ms</span> ease-out;</span><br><span class="line">    -o-<span class="attribute">transition</span>: <span class="number">200ms</span> ease-out;</span><br><span class="line">    -ms-<span class="attribute">transition</span>: <span class="number">200ms</span> ease-out;</span><br><span class="line">    <span class="attribute">transition</span>: <span class="number">200ms</span> ease-out;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#uploader</span> <span class="selector-class">.filelist</span> <span class="selector-tag">li</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#uploader</span> <span class="selector-class">.filelist</span> <span class="selector-tag">li</span> <span class="selector-tag">p</span><span class="selector-class">.error</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#f43838</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">28px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">28px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">100</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#uploader</span> <span class="selector-class">.filelist</span> <span class="selector-tag">li</span> <span class="selector-class">.success</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">40px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">200</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">images/success.png</span>) no-repeat right bottom;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#uploader</span> <span class="selector-class">.filelist</span> <span class="selector-tag">div</span><span class="selector-class">.file-panel</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">filter</span>: progid:DXImageTransform.Microsoft.<span class="built_in">gradient</span>(GradientType=<span class="number">0</span>,startColorstr=<span class="string">&#x27;#80000000&#x27;</span>, endColorstr=<span class="string">&#x27;#80000000&#x27;</span>)\<span class="number">0</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>( <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.5</span> );</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">300</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">    <span class="selector-id">#uploader</span> <span class="selector-class">.filelist</span> <span class="selector-tag">div</span><span class="selector-class">.file-panel</span> <span class="selector-tag">span</span> &#123;</span><br><span class="line">        <span class="attribute">width</span>: <span class="number">24px</span>;</span><br><span class="line">        <span class="attribute">height</span>: <span class="number">24px</span>;</span><br><span class="line">        <span class="attribute">display</span>: inline;</span><br><span class="line">        <span class="attribute">float</span>: right;</span><br><span class="line">        <span class="attribute">text-indent</span>: -<span class="number">9999px</span>;</span><br><span class="line">        <span class="attribute">overflow</span>: hidden;</span><br><span class="line"></span><br><span class="line">        <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">icons.png</span>) no-repeat;</span><br><span class="line">        <span class="attribute">margin</span>: <span class="number">5px</span> <span class="number">1px</span> <span class="number">1px</span>;</span><br><span class="line">        <span class="attribute">cursor</span>: pointer;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#uploader</span> <span class="selector-class">.filelist</span> <span class="selector-tag">div</span><span class="selector-class">.file-panel</span> <span class="selector-tag">span</span><span class="selector-class">.rotateLeft</span> &#123;</span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">0</span> -<span class="number">24px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#uploader</span> <span class="selector-class">.filelist</span> <span class="selector-tag">div</span><span class="selector-class">.file-panel</span> <span class="selector-tag">span</span><span class="selector-class">.rotateLeft</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#uploader</span> <span class="selector-class">.filelist</span> <span class="selector-tag">div</span><span class="selector-class">.file-panel</span> <span class="selector-tag">span</span><span class="selector-class">.rotateRight</span> &#123;</span><br><span class="line">    <span class="attribute">background-position</span>: -<span class="number">24px</span> -<span class="number">24px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#uploader</span> <span class="selector-class">.filelist</span> <span class="selector-tag">div</span><span class="selector-class">.file-panel</span> <span class="selector-tag">span</span><span class="selector-class">.rotateRight</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">background-position</span>: -<span class="number">24px</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#uploader</span> <span class="selector-class">.filelist</span> <span class="selector-tag">div</span><span class="selector-class">.file-panel</span> <span class="selector-tag">span</span><span class="selector-class">.cancel</span> &#123;</span><br><span class="line">    <span class="attribute">background-position</span>: -<span class="number">48px</span> -<span class="number">24px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#uploader</span> <span class="selector-class">.filelist</span> <span class="selector-tag">div</span><span class="selector-class">.file-panel</span> <span class="selector-tag">span</span><span class="selector-class">.cancel</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">background-position</span>: -<span class="number">48px</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#uploader</span> <span class="selector-class">.statusBar</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">63px</span>;</span><br><span class="line">    <span class="attribute">border-top</span>: <span class="number">1px</span> solid <span class="number">#dadada</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">63px</span>;</span><br><span class="line">    <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#uploader</span> <span class="selector-class">.statusBar</span> <span class="selector-class">.progress</span> &#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#1483d8</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">198px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">18px</span>;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#6dbfff</span>;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">10px</span> <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#uploader</span> <span class="selector-class">.statusBar</span> <span class="selector-class">.progress</span> <span class="selector-tag">span</span><span class="selector-class">.percentage</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#1483d8</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#uploader</span> <span class="selector-class">.statusBar</span> <span class="selector-class">.progress</span> <span class="selector-tag">span</span><span class="selector-class">.text</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">10</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#uploader</span> <span class="selector-class">.statusBar</span> <span class="selector-class">.info</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#666666</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#uploader</span> <span class="selector-class">.statusBar</span> <span class="selector-class">.btns</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">40px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#filePicker2</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#uploader</span> <span class="selector-class">.statusBar</span> <span class="selector-class">.btns</span> <span class="selector-class">.webuploader-pick</span>,</span><br><span class="line"><span class="selector-id">#uploader</span> <span class="selector-class">.statusBar</span> <span class="selector-class">.btns</span> <span class="selector-class">.uploadBtn</span>,</span><br><span class="line"><span class="selector-id">#uploader</span> <span class="selector-class">.statusBar</span> <span class="selector-class">.btns</span> <span class="selector-class">.uploadBtn</span><span class="selector-class">.state-uploading</span>,</span><br><span class="line"><span class="selector-id">#uploader</span> <span class="selector-class">.statusBar</span> <span class="selector-class">.btns</span> <span class="selector-class">.uploadBtn</span><span class="selector-class">.state-paused</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#ffffff</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#cfcfcf</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#565656</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">18px</span>;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">3px</span>;</span><br><span class="line">    <span class="attribute">margin-left</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#uploader</span> <span class="selector-class">.statusBar</span> <span class="selector-class">.btns</span> <span class="selector-class">.webuploader-pick-hover</span>,</span><br><span class="line"><span class="selector-id">#uploader</span> <span class="selector-class">.statusBar</span> <span class="selector-class">.btns</span> <span class="selector-class">.uploadBtn</span><span class="selector-pseudo">:hover</span>,</span><br><span class="line"><span class="selector-id">#uploader</span> <span class="selector-class">.statusBar</span> <span class="selector-class">.btns</span> <span class="selector-class">.uploadBtn</span><span class="selector-class">.state-uploading</span><span class="selector-pseudo">:hover</span>,</span><br><span class="line"><span class="selector-id">#uploader</span> <span class="selector-class">.statusBar</span> <span class="selector-class">.btns</span> <span class="selector-class">.uploadBtn</span><span class="selector-class">.state-paused</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#f0f0f0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#uploader</span> <span class="selector-class">.statusBar</span> <span class="selector-class">.btns</span> <span class="selector-class">.uploadBtn</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#00b7ee</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">border-color</span>: transparent;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#uploader</span> <span class="selector-class">.statusBar</span> <span class="selector-class">.btns</span> <span class="selector-class">.uploadBtn</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#00a2d4</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#uploader</span> <span class="selector-class">.statusBar</span> <span class="selector-class">.btns</span> <span class="selector-class">.uploadBtn</span><span class="selector-class">.disabled</span> &#123;</span><br><span class="line">    <span class="attribute">pointer-events</span>: none;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.6</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> WEB </category>
          
      </categories>
      
      
        <tags>
            
            <tag> WEB </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SQL Server 如何更改SQL Server和windows身份方式验证</title>
      <link href="/2016/09/13/sql-server-ru-he-geng-gai-sql-server-he-windows-shen-fen-fang-shi-yan-zheng/"/>
      <url>/2016/09/13/sql-server-ru-he-geng-gai-sql-server-he-windows-shen-fen-fang-shi-yan-zheng/</url>
      
        <content type="html"><![CDATA[<ol><li>安装sql后先用windows账户登陆进去，然后在sql上右键，选择“安全性”-“SQL Server和windows身份验证模式”然后确定<br><img src="/images/2016091316421201.png" alt="2016091316421201.png"></li><li>找到安全性——登陆名（sa用户）右键——状态，在登陆选项中选择已启用<br><img src="/images/2016091316421202.png" alt="2016091316421202.png"></li><li>在服务用重新启动sqlserver服务。<br>sqlserver从2008后保存修改的数据库表都会提示阻止修改，只需要在“工具”——设计器——将阻止保存要求重新创建表的更改去掉就可以了<br><img src="/images/2016091316421203.png" alt="2016091316421203.png"></li></ol>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>已经阻止此发布者在你的计算机上运行软件</title>
      <link href="/2016/09/13/yi-jing-zu-zhi-ci-fa-bu-zhe-zai-ni-de-ji-suan-ji-shang-yun-xing-ruan-jian/"/>
      <url>/2016/09/13/yi-jing-zu-zhi-ci-fa-bu-zhe-zai-ni-de-ji-suan-ji-shang-yun-xing-ruan-jian/</url>
      
        <content type="html"><![CDATA[<ol><li>现在改软件上右键，点击“解除锁定”然后应用<br><img src="/images/2016091316431301.png" alt="2016091316431301.png"><br>这样后会提示“系统管理愿设置了策略，禁止进行此安装”<br><img src="/images/2016091316431302.png" alt="2016091316431302.png"></li><li>点击运行输入“gpedit.msc”命令<br><img src="/images/2016091316431303.png" alt="2016091316431303.png"><br>找到“用户账户控制：已管理员批准模式运行所有管理员”，该项改为禁用。<br><img src="/images/2016091316431304.png" alt="2016091316431304.png"><br>找到“禁用Windows Installer” 然后将该项改为禁用<br><img src="/images/2016091316431305.png" alt="2016091316431305.png"><br>找到软件限制策略，如果显示没有，则右键创建限制策略，然后将“强制”属性中的红框的限制用户改为图中所示选项。</li></ol>]]></content>
      
      
      <categories>
          
          <category> Computer </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Computer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SQL智能提示插件——SQLPrompt</title>
      <link href="/2016/09/06/sql-zhi-neng-ti-shi-cha-jian-sqlprompt/"/>
      <url>/2016/09/06/sql-zhi-neng-ti-shi-cha-jian-sqlprompt/</url>
      
        <content type="html"><![CDATA[<ol><li>安装SQLPrompt，直接点击下一步即可，然后打开SQL Server 在菜单栏找到SQLPrompt选项注册该软件<br><img src="/images/2016090614510101.png" alt="2016090614510101.png"></li><li>先断开网络，然后运行注册机，将注册吗复制到序列号的地方，将两个勾选的复选不选中，点击“Activate Manually”<br><img src="/images/2016090614510102.png" alt="2016090614510102.png"></li><li>点击红色框框中的按钮，弹出如下界面<br><img src="/images/2016090614510103.png" alt="2016090614510103.png"><br><img src="/images/2016090614510104.png" alt="2016090614510104.png"></li><li>将左边的中全部代码复制到注册机中，注册机的下面会自动生成一段代码，然后将生成的代码复制到右边，然后点击“finish”；到此注册完毕。</li></ol><p>SQLPrompt中有很多内置的代码段，在SQLPrompt——Snippet Manager中可以看见，也可以自己定义</p><p><img src="/images/2016090614510105.png" alt="2016090614510105.png"></p><p>如 输入ssf然后按tab键就会输出 SELECT * FROM ，具体看Snippet Manager中的内容即可</p><p>按Control+K+Y可以格式化SQL语句</p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VS 设置背景色和背景图片</title>
      <link href="/2016/09/05/vs-she-zhi-bei-jing-se-he-bei-jing-tu-pian/"/>
      <url>/2016/09/05/vs-she-zhi-bei-jing-se-he-bei-jing-tu-pian/</url>
      
        <content type="html"><![CDATA[<p>VS版本：2013</p><p>选择菜单栏上——工具——选项——环境——字体和颜色——自定义(项背景)，选择好自己喜欢的颜色即可<br><img src="/images/2016090510081801.png" alt="2016090510081801.png"><br>设置背景图片</p><p>下载vs插件（ClaudiaIDE）：<a href="https://visualstudiogallery.msdn.microsoft.com/9ba50f8d-f30c-4e33-ab19-bfd9f56eb817">https://visualstudiogallery.msdn.microsoft.com/9ba50f8d-f30c-4e33-ab19-bfd9f56eb817</a></p><p>选择菜单栏上的——工具——ClaudiaIDE——General——单一背景，更改图片的路径就可以自己设置喜欢的图片了<br><img src="/images/2016090510081802.png" alt="2016090510081802.png"></p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>安装Office 2013 时提示找不到 Office.zh-cn&#92;OfficeLR.cab#标题</title>
      <link href="/2016/08/30/an-zhuang-office-2013-shi-ti-shi-zhao-bu-dao-officelr.cab/"/>
      <url>/2016/08/30/an-zhuang-office-2013-shi-ti-shi-zhao-bu-dao-officelr.cab/</url>
      
        <content type="html"><![CDATA[<p>今天安装office2013的时候总是过会就提示找不到OfficeLR.cab文件<br><img src="/images/2016083014511801.jpg" alt="2016083014511801.jpg"></p><p>在网上找了好多方法不行，后来将注册表里的office选项全部删除就可以了（HKEY_CURRENT_USER\Software\Microsoft\Office）</p><p>安装完成后启动word是总是要配置office</p><p>直接在运行里输入 reg add HKCU\Software\Microsoft\Office\15.0\Word\Options &#x2F;v NoReReg &#x2F;t REG_DWORD &#x2F;d 1<br>然后回车</p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS 获取get请求方式的参数</title>
      <link href="/2016/08/25/js-huo-qu-get-qing-qiu-fang-shi-de-can-shu/"/>
      <url>/2016/08/25/js-huo-qu-get-qing-qiu-fang-shi-de-can-shu/</url>
      
        <content type="html"><![CDATA[<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获取页面中的参数    name值参数名称（例如：http：//localhost:8099/index.aspx?id=10，name则指的是id）</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">GetQueryString</span>(<span class="params">name</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> reg = <span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="string">&quot;(^|&amp;)&quot;</span> + name + <span class="string">&quot;=([^&amp;]*)(&amp;|$)&quot;</span>);</span><br><span class="line">    <span class="keyword">var</span> r = <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">search</span>.<span class="title function_">substr</span>(<span class="number">1</span>).<span class="title function_">match</span>(reg);</span><br><span class="line">    <span class="keyword">if</span> (r != <span class="literal">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">unescape</span>(r[<span class="number">2</span>]);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C# 通过 Hessian服务调用java</title>
      <link href="/2016/08/24/csharp-tong-guo-hessian-fu-wu-diao-yong-java/"/>
      <url>/2016/08/24/csharp-tong-guo-hessian-fu-wu-diao-yong-java/</url>
      
        <content type="html"><![CDATA[<ol><li>下载<a href="https://sourceforge.net/projects/hessiancsharp/">Hessiancsharp.dll</a></li><li>新建一个c#窗体程序，然后在添加一个类库</li><li>添加一个接口类，接口中的方法名和参数与java中的服务方法名和参数保持一致</li></ol><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">partial</span> <span class="keyword">interface</span> <span class="title">HessianManager</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> </span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;method&quot;&gt;</span>方法名<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;operate&quot;&gt;</span>操作（添加、删除、修改）<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;json&quot;&gt;</span>json数据<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="built_in">string</span> <span class="title">synchronizeData</span>(<span class="params"><span class="built_in">string</span> method, <span class="built_in">string</span> operate, <span class="built_in">string</span> json</span>)</span>;</span><br><span class="line">    <span class="function"><span class="built_in">string</span> <span class="title">sayHello</span>(<span class="params"><span class="built_in">string</span> msg</span>)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="4"><li>引用Hessiancsharp.dll</li><li>通过hessian调用java</li></ol><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">partial</span> <span class="keyword">class</span> <span class="title">frmHessian</span> : <span class="title">Form</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">string</span> url = ConfigurationManager.AppSettings[<span class="string">&quot;url&quot;</span>].ToString();</span><br><span class="line"></span><br><span class="line">        CHessianProxyFactory factory = <span class="keyword">new</span> CHessianProxyFactory();</span><br><span class="line">        HessianManager hessianClient = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">frmHessian</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            InitializeComponent();</span><br><span class="line">            hessianClient = (HessianManager)factory.Create(<span class="keyword">typeof</span>(HessianManager), url);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 同步供应商</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;sender&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;e&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">btnSynSupplier_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            List&lt;Supplier&gt; supplists = <span class="keyword">new</span> List&lt;Supplier&gt;();</span><br><span class="line">            DataTable dt = DbHelperSQL.Query(<span class="string">&quot;SELECT * FROM dbo.Sys_Supplier WHERE ss_State=1&quot;</span>).Tables[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">            <span class="keyword">foreach</span> (DataRow item <span class="keyword">in</span> dt.Rows)</span><br><span class="line">            &#123;</span><br><span class="line">                Supplier sup = <span class="keyword">new</span> Supplier();</span><br><span class="line">                sup.bbbpSn = item[<span class="string">&quot;ss_SupplierNo&quot;</span>].ToString();</span><br><span class="line">                sup.bbbpId = item[<span class="string">&quot;ss_SupplierNo&quot;</span>].ToString();</span><br><span class="line">                sup.bbbpBbbrId = <span class="number">1</span>;</span><br><span class="line">                sup.bbbpName = item[<span class="string">&quot;ss_SupplierName&quot;</span>].ToString();</span><br><span class="line">                sup.bbbpContact = item[<span class="string">&quot;ss_Contact&quot;</span>].ToString();</span><br><span class="line">                sup.bbbpContactTel = item[<span class="string">&quot;ss_Tel&quot;</span>].ToString();</span><br><span class="line">                sup.bbbpContactPhone = item[<span class="string">&quot;ss_Phone&quot;</span>].ToString();</span><br><span class="line">                sup.bbbpContactAddress = item[<span class="string">&quot;ss_Adress&quot;</span>].ToString();</span><br><span class="line">                sup.bbbpState = Convert.ToInt32(item[<span class="string">&quot;ss_State&quot;</span>]) == <span class="number">1</span> ? <span class="string">&quot;有效&quot;</span> : <span class="string">&quot;无效&quot;</span>;</span><br><span class="line">                sup.bbbpLocationid = <span class="number">5001</span>; <span class="comment">//item[&quot;sp_PurchaserNo&quot;] == DBNull.Value ? 5001 : Convert.ToInt32(item[&quot;sp_PurchaserNo&quot;]);</span></span><br><span class="line">                sup.bbbpYingfu = <span class="number">0</span>;</span><br><span class="line">                sup.bbbpIds = <span class="string">&quot;,1,&quot;</span>;</span><br><span class="line">                sup.bbbpBank = item[<span class="string">&quot;ss_Bank&quot;</span>].ToString();</span><br><span class="line">                sup.bbbpBankNumber = item[<span class="string">&quot;ss_BankAccount&quot;</span>].ToString();</span><br><span class="line">                sup.bbbpGongyingjiezhiDate = <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0:yyyy-MM-dd HH:mm:ss&#125;&quot;</span>, item[<span class="string">&quot;ss_BusiLicexpireTime&quot;</span>]);</span><br><span class="line">                sup.bbbpFaxNumber = item[<span class="string">&quot;ss_Fax&quot;</span>].ToString();</span><br><span class="line">                supplists.Add(sup);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">string</span> msg = hessianClient.synchronizeData(<span class="string">&quot;synBusinessParter&quot;</span>, <span class="string">&quot;add&quot;</span>, JsonHelper.SerializeObject(supplists));</span><br><span class="line"></span><br><span class="line">            Application.DoEvents();</span><br><span class="line">            MessageBox.Show(<span class="string">&quot;同步成功！&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>参考：<a href="http://hessian.caucho.com/">http://hessian.caucho.com/</a></p><p><a href="https://sourceforge.net/projects/hessiancsharp/">https://sourceforge.net/projects/hessiancsharp/</a></p><p><a href="http://www.cnblogs.com/lxsfg/archive/2008/08/27/1277777.html">http://www.cnblogs.com/lxsfg/archive/2008/08/27/1277777.html</a></p>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jQuery UI框架 Juqery 后台框架</title>
      <link href="/2016/08/01/jquery-ui-kuang-jia-juqery-hou-tai-kuang-jia/"/>
      <url>/2016/08/01/jquery-ui-kuang-jia-juqery-hou-tai-kuang-jia/</url>
      
        <content type="html"><![CDATA[<ol><li><p><a href="http://jui.org/">J-UI</a>框架<br><img src="/images/2016080114221201.png" alt="2016080114221201.png"></p></li><li><p><a href="http://www.miniui.com/demo/">MiniUI</a>框架<br><img src="/images/2016080114221202.png" alt="2016080114221202.png"></p></li><li><p><a href="http://www.ligerui.com/demo.html">Juquery LigerUI</a>框架<br><img src="/images/2016080114221203.png" alt="2016080114221203.png"></p></li><li><p><a href="http://www.layui.com/demo/auxiliar.html">layerUI</a><br><img src="/images/2016080114221204.png" alt="2016080114221204.png"></p></li></ol>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>可输入的 Combox(DropDownList)</title>
      <link href="/2016/07/22/ke-shu-ru-de-combox-dropdownlist/"/>
      <url>/2016/07/22/ke-shu-ru-de-combox-dropdownlist/</url>
      
        <content type="html"><![CDATA[<p>aspx页面中需要可以输入的combox，在网上找了一个js的插件，效果图如下：<br><img src="/images/2016072210571501.png" alt="2016072210571501.png"></p><p>前台代码</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ Page Language=&quot;C#&quot; AutoEventWireup=&quot;true&quot; CodeBehind=&quot;InputComBox.aspx.cs&quot; Inherits=&quot;School.Web.TestDemo.InputComBox&quot; %&gt;</span><br><span class="line"> </span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.w3.org/1999/xhtml&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span> <span class="attr">runat</span>=<span class="string">&quot;server&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;Content-Type&quot;</span> <span class="attr">content</span>=<span class="string">&quot;text/html; charset=utf-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>可输入的combox<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span> <span class="attr">href</span>=<span class="string">&quot;/Scripts/jquery-1.10.4/jquery-ui.min.css&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;/Scripts/jquery-1.10.4/jquery.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;/Scripts/jquery-1.10.4/jquery-ui.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.appcusser</span> <span class="selector-tag">li</span> <span class="selector-tag">a</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">32px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">/Images/pro_down.gif</span>);</span></span><br><span class="line"><span class="language-css">            <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">display</span>: block;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">33px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">line-height</span>: <span class="number">30px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: <span class="number">#2b7fbf</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">font-weight</span>: bold;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin-right</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"> </span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.appcusser</span> <span class="selector-tag">li</span> <span class="selector-tag">span</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">display</span>: block;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">text-align</span>: right;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding-right</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: <span class="number">#666</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.appcusser</span> <span class="selector-tag">li</span> <span class="selector-tag">label</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">display</span>: block;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">line-height</span>: <span class="number">28px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin-right</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"> </span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">ul</span>, <span class="selector-tag">li</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">list-style</span>: none;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"> </span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.custom-combobox</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">position</span>: relative;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">display</span>: inline-block;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"> </span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.custom-combobox-toggle</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">top</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">bottom</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">left</span>: <span class="number">160px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">top</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">32px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="comment">/* 支持： IE7 */</span></span></span><br><span class="line"><span class="language-css">            *<span class="attribute">height</span>: <span class="number">1.7em</span>;</span></span><br><span class="line"><span class="language-css">            *<span class="attribute">top</span>: <span class="number">0.1em</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"> </span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.custom-combobox-input</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>: <span class="number">0.3em</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: <span class="number">#fff</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-image</span>: none;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: <span class="number">#333</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">22px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">150px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"> </span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.hideA</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background</span>: <span class="number">#f3f3f3</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"> </span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.clear</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">clear</span>: both;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">overflow</span>: hidden;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        (<span class="keyword">function</span> (<span class="params">$</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            $.<span class="title function_">widget</span>(<span class="string">&quot;custom.combobox&quot;</span>, &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">_create</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">wrapper</span> = $(<span class="string">&quot;&lt;span&gt;&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">                      .<span class="title function_">addClass</span>(<span class="string">&quot;custom-combobox&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">                      .<span class="title function_">insertAfter</span>(<span class="variable language_">this</span>.<span class="property">element</span>);</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">element</span>.<span class="title function_">hide</span>();</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="title function_">_createAutocomplete</span>();</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="title function_">_createShowAllButton</span>();</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                <span class="attr">_createAutocomplete</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">var</span> selected = <span class="variable language_">this</span>.<span class="property">element</span>.<span class="title function_">children</span>(<span class="string">&quot;:selected&quot;</span>),</span></span><br><span class="line"><span class="language-javascript">                      value = selected.<span class="title function_">val</span>() ? selected.<span class="title function_">text</span>() : <span class="string">&quot;&quot;</span>;</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">input</span> = $(<span class="string">&quot;&lt;input&gt;&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">                      .<span class="title function_">appendTo</span>(<span class="variable language_">this</span>.<span class="property">wrapper</span>)</span></span><br><span class="line"><span class="language-javascript">                      .<span class="title function_">val</span>(value)</span></span><br><span class="line"><span class="language-javascript">                      .<span class="title function_">attr</span>(<span class="string">&quot;id&quot;</span>, <span class="string">&quot;btnShowPro&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">                      .<span class="title function_">addClass</span>(<span class="string">&quot;custom-combobox-input ui-widget ui-widget-content ui-state-default ui-corner-left&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">                        .<span class="title function_">addClass</span>(<span class="string">&quot; validate[required,maxSize[200]]&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">                      .<span class="title function_">autocomplete</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">                          <span class="attr">delay</span>: <span class="number">0</span>,</span></span><br><span class="line"><span class="language-javascript">                          <span class="attr">minLength</span>: <span class="number">0</span>,</span></span><br><span class="line"><span class="language-javascript">                          <span class="attr">source</span>: $.<span class="title function_">proxy</span>(<span class="variable language_">this</span>, <span class="string">&quot;_source&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">                      &#125;)</span></span><br><span class="line"><span class="language-javascript">                      .<span class="title function_">tooltip</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">                          <span class="attr">tooltipClass</span>: <span class="string">&quot;ui-state-highlight&quot;</span></span></span><br><span class="line"><span class="language-javascript">                      &#125;);</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="title function_">_on</span>(<span class="variable language_">this</span>.<span class="property">input</span>, &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">autocompleteselect</span>: <span class="keyword">function</span> (<span class="params">event, ui</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                            ui.<span class="property">item</span>.<span class="property">option</span>.<span class="property">selected</span> = <span class="literal">true</span>;</span></span><br><span class="line"><span class="language-javascript">                            <span class="variable language_">this</span>.<span class="title function_">_trigger</span>(<span class="string">&quot;select&quot;</span>, event, &#123;</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">item</span>: ui.<span class="property">item</span>.<span class="property">option</span></span></span><br><span class="line"><span class="language-javascript">                            &#125;);</span></span><br><span class="line"><span class="language-javascript">                        &#125;,</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">autocompletechange</span>: <span class="string">&quot;_removeIfInvalid&quot;</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;);</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                <span class="attr">_createShowAllButton</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">var</span> input = <span class="variable language_">this</span>.<span class="property">input</span>,</span></span><br><span class="line"><span class="language-javascript">                      wasOpen = <span class="literal">false</span>;</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                    $(<span class="string">&quot;&lt;a&gt;&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">                      .<span class="title function_">attr</span>(<span class="string">&quot;tabIndex&quot;</span>, -<span class="number">1</span>)</span></span><br><span class="line"><span class="language-javascript">                      <span class="comment">//.attr(&quot;title&quot;, &quot;aShow&quot;)</span></span></span><br><span class="line"><span class="language-javascript">                      .<span class="title function_">attr</span>(<span class="string">&quot;id&quot;</span>, <span class="string">&quot;aShow&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">                      <span class="comment">//.tooltip()</span></span></span><br><span class="line"><span class="language-javascript">                      .<span class="title function_">appendTo</span>(<span class="variable language_">this</span>.<span class="property">wrapper</span>)</span></span><br><span class="line"><span class="language-javascript">                      .<span class="title function_">button</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">                          <span class="comment">//icons: &#123;</span></span></span><br><span class="line"><span class="language-javascript">                          <span class="comment">//    primary: &quot;ui-icon-triangle-1-s&quot;</span></span></span><br><span class="line"><span class="language-javascript">                          <span class="comment">//&#125;,</span></span></span><br><span class="line"><span class="language-javascript">                          <span class="attr">text</span>: <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">                      &#125;)</span></span><br><span class="line"><span class="language-javascript">                      .<span class="title function_">removeClass</span>(<span class="string">&quot;ui-corner-all&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">                      .<span class="title function_">addClass</span>(<span class="string">&quot;custom-combobox-toggle ui-corner-right&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">                      .<span class="title function_">mousedown</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                          wasOpen = input.<span class="title function_">autocomplete</span>(<span class="string">&quot;widget&quot;</span>).<span class="title function_">is</span>(<span class="string">&quot;:visible&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                      &#125;)</span></span><br><span class="line"><span class="language-javascript">                      .<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                          input.<span class="title function_">focus</span>();</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                          <span class="comment">// 如果已经可见则关闭</span></span></span><br><span class="line"><span class="language-javascript">                          <span class="keyword">if</span> (wasOpen) &#123;</span></span><br><span class="line"><span class="language-javascript">                              <span class="keyword">return</span>;</span></span><br><span class="line"><span class="language-javascript">                          &#125;</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                          <span class="comment">// 传递空字符串作为搜索的值，显示所有的结果</span></span></span><br><span class="line"><span class="language-javascript">                          input.<span class="title function_">autocomplete</span>(<span class="string">&quot;search&quot;</span>, <span class="string">&quot;&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                      &#125;);</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                <span class="attr">_source</span>: <span class="keyword">function</span> (<span class="params">request, response</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">var</span> matcher = <span class="keyword">new</span> <span class="title class_">RegExp</span>($.ui.<span class="property">autocomplete</span>.escapeRegex(request.<span class="property">term</span>), <span class="string">&quot;i&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                    <span class="title function_">response</span>(<span class="variable language_">this</span>.<span class="property">element</span>.<span class="title function_">children</span>(<span class="string">&quot;option&quot;</span>).<span class="title function_">map</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">var</span> text = $(<span class="variable language_">this</span>).<span class="title function_">text</span>();</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">value</span> &amp;&amp; (!request.<span class="property">term</span> || matcher.<span class="title function_">test</span>(text)))</span></span><br><span class="line"><span class="language-javascript">                            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">label</span>: text,</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">value</span>: text,</span></span><br><span class="line"><span class="language-javascript">                                <span class="attr">option</span>: <span class="variable language_">this</span></span></span><br><span class="line"><span class="language-javascript">                            &#125;;</span></span><br><span class="line"><span class="language-javascript">                    &#125;));</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                <span class="attr">_removeIfInvalid</span>: <span class="keyword">function</span> (<span class="params">event, ui</span>) &#123;</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// 选择一项，不执行其他动作</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">if</span> (ui.<span class="property">item</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">return</span>;</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// 搜索一个匹配（不区分大小写）</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">var</span> value = <span class="variable language_">this</span>.<span class="property">input</span>.<span class="title function_">val</span>(),</span></span><br><span class="line"><span class="language-javascript">                      valueLowerCase = value.<span class="title function_">toLowerCase</span>(),</span></span><br><span class="line"><span class="language-javascript">                      valid = <span class="literal">false</span>;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">element</span>.<span class="title function_">children</span>(<span class="string">&quot;option&quot;</span>).<span class="title function_">each</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">if</span> ($(<span class="variable language_">this</span>).<span class="title function_">text</span>().<span class="title function_">toLowerCase</span>() === valueLowerCase) &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="variable language_">this</span>.<span class="property">selected</span> = valid = <span class="literal">true</span>;</span></span><br><span class="line"><span class="language-javascript">                            <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                    &#125;);</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// 找到一个匹配，不执行其他动作</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">if</span> (valid) &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">return</span>;</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// 移除无效的值</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//this.input</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//  .val(&quot;&quot;)</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//  .attr(&quot;title&quot;, value + &quot; didn&#x27;t match any item&quot;)</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//  .tooltip(&quot;open&quot;);</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">element</span>.<span class="title function_">val</span>(<span class="string">&quot;&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="title function_">_delay</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="variable language_">this</span>.<span class="property">input</span>.<span class="title function_">tooltip</span>(<span class="string">&quot;close&quot;</span>).<span class="title function_">attr</span>(<span class="string">&quot;title&quot;</span>, <span class="string">&quot;&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                    &#125;, <span class="number">2500</span>);</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//this.input.data(&quot;ui-autocomplete&quot;).term = &quot;&quot;;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">                <span class="attr">_destroy</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">wrapper</span>.<span class="title function_">remove</span>();</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">element</span>.<span class="title function_">show</span>();</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;);</span></span><br><span class="line"><span class="language-javascript">        &#125;)(jQuery);</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">        $(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            $(<span class="string">&quot;#&lt;%=ddlName.ClientID%&gt;&quot;</span>).<span class="title function_">combobox</span>();</span></span><br><span class="line"><span class="language-javascript">            $(<span class="string">&quot;#toggle&quot;</span>).<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                $(<span class="string">&quot;#&lt;%=ddlName.ClientID%&gt;&quot;</span>).<span class="title function_">toggle</span>();</span></span><br><span class="line"><span class="language-javascript">            &#125;);</span></span><br><span class="line"><span class="language-javascript">        &#125;);</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">id</span>=<span class="string">&quot;form1&quot;</span> <span class="attr">runat</span>=<span class="string">&quot;server&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;appcusser&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">asp:TextBox</span> <span class="attr">ID</span>=<span class="string">&quot;txtID&quot;</span> <span class="attr">runat</span>=<span class="string">&quot;server&quot;</span> <span class="attr">Width</span>=<span class="string">&quot;80&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">asp:TextBox</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">label</span>&gt;</span><span class="tag">&lt;<span class="name">asp:DropDownList</span> <span class="attr">ID</span>=<span class="string">&quot;ddlName&quot;</span> <span class="attr">runat</span>=<span class="string">&quot;server&quot;</span> <span class="attr">CssClass</span>=<span class="string">&quot;app_txt2 fl&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">asp:DropDownList</span>&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;clear&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">asp:Button</span> <span class="attr">ID</span>=<span class="string">&quot;btnSeach&quot;</span> <span class="attr">Text</span>=<span class="string">&quot;查询&quot;</span> <span class="attr">runat</span>=<span class="string">&quot;server&quot;</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>后台代码</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> System.Linq;</span><br><span class="line"><span class="keyword">using</span> System.Web;</span><br><span class="line"><span class="keyword">using</span> System.Web.UI;</span><br><span class="line"><span class="keyword">using</span> System.Web.UI.WebControls;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">namespace</span> <span class="title">School.Web.TestDemo</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">partial</span> <span class="keyword">class</span> <span class="title">InputComBox</span> : <span class="title">System.Web.UI.Page</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">Page_Load</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">string</span> tID = txtID.Text.Trim();</span><br><span class="line">            <span class="comment">//if (!IsPostBack)</span></span><br><span class="line">            <span class="comment">//&#123;</span></span><br><span class="line">                <span class="keyword">if</span> (<span class="built_in">string</span>.IsNullOrEmpty(tID))</span><br><span class="line">                &#123;</span><br><span class="line">                    BindDrop();</span><br><span class="line">                    ddlName.Items.Insert(<span class="number">0</span>, <span class="keyword">new</span> ListItem(<span class="string">&quot; &quot;</span>, <span class="string">&quot;&quot;</span>));</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    BindDrop();</span><br><span class="line">                    <span class="built_in">int</span> id = <span class="number">0</span>;</span><br><span class="line">                    <span class="built_in">int</span>.TryParse(tID, <span class="keyword">out</span> id);</span><br><span class="line">                    Bind(id);</span><br><span class="line">                &#125;</span><br><span class="line">            <span class="comment">//&#125;</span></span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Bind</span>(<span class="params"><span class="built_in">int</span> id</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            Student student = InitData().SingleOrDefault(s =&gt; s.ID == id);</span><br><span class="line">            <span class="keyword">if</span> (student != <span class="literal">null</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (ddlName.Items.Contains(<span class="keyword">new</span> ListItem(student.userName))) <span class="comment">//判断ddlName下拉列表中是否存在该值，存在则赋值，不存在则插入ddlName下拉列表中</span></span><br><span class="line">                &#123;</span><br><span class="line">                    ddlName.SelectedValue = student.userName;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    ddlName.Items.Insert(<span class="number">0</span>, <span class="keyword">new</span> ListItem(txtID.Text.Trim()));</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                ddlName.Items.Insert(<span class="number">0</span>, <span class="keyword">new</span> ListItem(txtID.Text.Trim()));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">BindDrop</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            ddlName.DataSource = InitData();</span><br><span class="line">            ddlName.DataTextField = <span class="string">&quot;userName&quot;</span>; <span class="comment">//ddlName中DataTextField和DataValueField设置为同一个值，在查询是否存在该值是才可以；或者new ListItem(&quot;text&quot;, &quot;value&quot;)设置text、value值不一样</span></span><br><span class="line">            ddlName.DataValueField = <span class="string">&quot;userName&quot;</span>;</span><br><span class="line">            ddlName.DataBind();</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">        <span class="function"><span class="keyword">public</span> List&lt;Student&gt; <span class="title">InitData</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            List&lt;Student&gt; listStudent = <span class="keyword">new</span> List&lt;Student&gt;();</span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">1</span>; i &lt; <span class="number">11</span>; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                Student student = <span class="keyword">new</span> Student();</span><br><span class="line"> </span><br><span class="line">                student.ID = i;</span><br><span class="line">                student.userName = <span class="string">&quot;学生&quot;</span> + i;</span><br><span class="line">                student.passWord = <span class="string">&quot;123456&quot;</span>;</span><br><span class="line">                student.Age = i + <span class="number">20</span>;</span><br><span class="line">                student.Address = <span class="string">&quot;北京市顺义区天竺镇&quot;</span> + i + <span class="string">&quot;区&quot;</span>;</span><br><span class="line">                listStudent.Add(student);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> listStudent;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Student</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">int</span> ID &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> userName &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> passWord &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">int</span> Age &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> Address &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Jquery 用法总结</title>
      <link href="/2016/07/21/jquery-yong-fa-zong-jie/"/>
      <url>/2016/07/21/jquery-yong-fa-zong-jie/</url>
      
        <content type="html"><![CDATA[<ol><li>用Jquery给框架内的父页面传值</li></ol><p> parent.$(“#middle”).contents().find(“#hidChecker”).val(“test的大幅度发”);   middle frame框架的id   hidChecker 控件的id</p><ol start="2"><li>Jquery中attr和prop的区别</li></ol><p>对于html中元素自带的属性（如：id、name等）用prop</p><p>对于html中元素没有自己自定义的属性用attr</p><ol start="3"><li>Jquery获取table中td的值</li></ol><p>$(“#t1 tr”).eq(1).find(“td”).eq(2).html().trim() t1是table的id</p>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nvelocity中格式化金钱和日期</title>
      <link href="/2016/05/20/nvelocity-zhong-ge-shi-hua-jin-qian-he-ri-qi/"/>
      <url>/2016/05/20/nvelocity-zhong-ge-shi-hua-jin-qian-he-ri-qi/</url>
      
        <content type="html"><![CDATA[<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//格式化金钱(  9,999.00)</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">formatCurrency</span>(<span class="params">num</span>) &#123;</span><br><span class="line">    num = num.<span class="title function_">toString</span>().<span class="title function_">replace</span>(<span class="regexp">/\$|\,/g</span>, <span class="string">&#x27;&#x27;</span>);</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">isNaN</span>(num))</span><br><span class="line">        num = <span class="string">&quot;0&quot;</span>;</span><br><span class="line">    sign = (num == (num = <span class="title class_">Math</span>.<span class="title function_">abs</span>(num)));</span><br><span class="line">    num = <span class="title class_">Math</span>.<span class="title function_">floor</span>(num * <span class="number">100</span> + <span class="number">0.50000000001</span>);</span><br><span class="line">    cents = num % <span class="number">100</span>;</span><br><span class="line">    num = <span class="title class_">Math</span>.<span class="title function_">floor</span>(num / <span class="number">100</span>).<span class="title function_">toString</span>();</span><br><span class="line">    <span class="keyword">if</span> (cents &lt; <span class="number">10</span>)</span><br><span class="line">        cents = <span class="string">&quot;0&quot;</span> + cents;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="title class_">Math</span>.<span class="title function_">floor</span>((num.<span class="property">length</span> - (<span class="number">1</span> + i)) / <span class="number">3</span>) ; i++)</span><br><span class="line">        num = num.<span class="title function_">substring</span>(<span class="number">0</span>, num.<span class="property">length</span> - (<span class="number">4</span> * i + <span class="number">3</span>)) + <span class="string">&#x27;,&#x27;</span> +</span><br><span class="line">        num.<span class="title function_">substring</span>(num.<span class="property">length</span> - (<span class="number">4</span> * i + <span class="number">3</span>));</span><br><span class="line">    <span class="keyword">return</span> (((sign) ? <span class="string">&#x27;&#x27;</span> : <span class="string">&#x27;-&#x27;</span>) + num + <span class="string">&#x27;.&#x27;</span> + cents);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在html页面里面格式化金额</p><p>例如在span标签里</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span> <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"><span class="keyword">var</span> money =<span class="title function_">formatCurrency</span>(<span class="number">999999.0</span>); <span class="variable language_">document</span>.<span class="title function_">write</span>(money)</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span> <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure><p>输出内容 999,999.00</p><p>格式化日期</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//格式化日期 fmt是格式化格式</span></span><br><span class="line"><span class="title class_">Date</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">pattern</span> = <span class="keyword">function</span> (<span class="params">fmt</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> o = &#123;</span><br><span class="line">        <span class="string">&quot;M+&quot;</span>: <span class="variable language_">this</span>.<span class="title function_">getMonth</span>() + <span class="number">1</span>, <span class="comment">//月份         </span></span><br><span class="line">        <span class="string">&quot;d+&quot;</span>: <span class="variable language_">this</span>.<span class="title function_">getDate</span>(), <span class="comment">//日         </span></span><br><span class="line">        <span class="string">&quot;h+&quot;</span>: <span class="variable language_">this</span>.<span class="title function_">getHours</span>() % <span class="number">12</span> == <span class="number">0</span> ? <span class="number">12</span> : <span class="variable language_">this</span>.<span class="title function_">getHours</span>() % <span class="number">12</span>, <span class="comment">//小时         </span></span><br><span class="line">        <span class="string">&quot;H+&quot;</span>: <span class="variable language_">this</span>.<span class="title function_">getHours</span>(), <span class="comment">//小时         </span></span><br><span class="line">        <span class="string">&quot;m+&quot;</span>: <span class="variable language_">this</span>.<span class="title function_">getMinutes</span>(), <span class="comment">//分         </span></span><br><span class="line">        <span class="string">&quot;s+&quot;</span>: <span class="variable language_">this</span>.<span class="title function_">getSeconds</span>(), <span class="comment">//秒         </span></span><br><span class="line">        <span class="string">&quot;q+&quot;</span>: <span class="title class_">Math</span>.<span class="title function_">floor</span>((<span class="variable language_">this</span>.<span class="title function_">getMonth</span>() + <span class="number">3</span>) / <span class="number">3</span>), <span class="comment">//季度         </span></span><br><span class="line">        <span class="string">&quot;S&quot;</span>: <span class="variable language_">this</span>.<span class="title function_">getMilliseconds</span>() <span class="comment">//毫秒         </span></span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">var</span> week = &#123;</span><br><span class="line">        <span class="string">&quot;0&quot;</span>: <span class="string">&quot;/u65e5&quot;</span>,</span><br><span class="line">        <span class="string">&quot;1&quot;</span>: <span class="string">&quot;/u4e00&quot;</span>,</span><br><span class="line">        <span class="string">&quot;2&quot;</span>: <span class="string">&quot;/u4e8c&quot;</span>,</span><br><span class="line">        <span class="string">&quot;3&quot;</span>: <span class="string">&quot;/u4e09&quot;</span>,</span><br><span class="line">        <span class="string">&quot;4&quot;</span>: <span class="string">&quot;/u56db&quot;</span>,</span><br><span class="line">        <span class="string">&quot;5&quot;</span>: <span class="string">&quot;/u4e94&quot;</span>,</span><br><span class="line">        <span class="string">&quot;6&quot;</span>: <span class="string">&quot;/u516d&quot;</span></span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">if</span> (<span class="regexp">/(y+)/</span>.<span class="title function_">test</span>(fmt)) &#123;</span><br><span class="line">        fmt = fmt.<span class="title function_">replace</span>(<span class="title class_">RegExp</span>.<span class="property">$1</span>, (<span class="variable language_">this</span>.<span class="title function_">getFullYear</span>() + <span class="string">&quot;&quot;</span>).<span class="title function_">substr</span>(<span class="number">4</span> - <span class="title class_">RegExp</span>.<span class="property">$1</span>.<span class="property">length</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (<span class="regexp">/(E+)/</span>.<span class="title function_">test</span>(fmt)) &#123;</span><br><span class="line">        fmt = fmt.<span class="title function_">replace</span>(<span class="title class_">RegExp</span>.<span class="property">$1</span>, ((<span class="title class_">RegExp</span>.<span class="property">$1</span>.<span class="property">length</span> &gt; <span class="number">1</span>) ? (<span class="title class_">RegExp</span>.<span class="property">$1</span>.<span class="property">length</span> &gt; <span class="number">2</span> ? <span class="string">&quot;/u661f/u671f&quot;</span> : <span class="string">&quot;/u5468&quot;</span>) : <span class="string">&quot;&quot;</span>) + week[<span class="variable language_">this</span>.<span class="title function_">getDay</span>() + <span class="string">&quot;&quot;</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> k <span class="keyword">in</span> o) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="string">&quot;(&quot;</span> + k + <span class="string">&quot;)&quot;</span>).<span class="title function_">test</span>(fmt)) &#123;</span><br><span class="line">            fmt = fmt.<span class="title function_">replace</span>(<span class="title class_">RegExp</span>.<span class="property">$1</span>, (<span class="title class_">RegExp</span>.<span class="property">$1</span>.<span class="property">length</span> == <span class="number">1</span>) ? (o[k]) : ((<span class="string">&quot;00&quot;</span> + o[k]).<span class="title function_">substr</span>((<span class="string">&quot;&quot;</span> + o[k]).<span class="property">length</span>)));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> fmt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"><span class="keyword">var</span> date = <span class="keyword">new</span> <span class="title class_">Date</span>(<span class="title class_">Date</span>.<span class="title function_">parse</span>(<span class="string">&#x27;$opr.OrderList.ol_OrderTime&#x27;</span>.<span class="title function_">replace</span>(<span class="regexp">/-/g</span>, <span class="string">&quot;/&quot;</span>))); <span class="variable language_">document</span>.<span class="title function_">write</span>(date.<span class="title function_">pattern</span>(<span class="string">&quot;yyyy年MM月dd日&quot;</span>));&lt;/span&gt;</span></span><br></pre></td></tr></table></figure><p>格式化日期</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 对Date的扩展，将 Date 转化为指定格式的String</span></span><br><span class="line"><span class="comment">// 月(M)、日(d)、小时(h)、分(m)、秒(s)、季度(q) 可以用 1-2 个占位符， </span></span><br><span class="line"><span class="comment">// 年(y)可以用 1-4 个占位符，毫秒(S)只能用 1 个占位符(是 1-3 位的数字) </span></span><br><span class="line"><span class="comment">// 例子： </span></span><br><span class="line"><span class="comment">// (new Date()).Format(&quot;yyyy-MM-dd hh:mm:ss.S&quot;) ==&gt; 2006-07-02 08:09:04.423 </span></span><br><span class="line"><span class="comment">// (new Date()).Format(&quot;yyyy-M-d h:m:s.S&quot;)      ==&gt; 2006-7-2 8:9:4.18 </span></span><br><span class="line"><span class="title class_">Date</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">Format</span> = <span class="keyword">function</span> (<span class="params">fmt</span>) &#123; <span class="comment">//author: meizz </span></span><br><span class="line">    <span class="keyword">var</span> o = &#123;</span><br><span class="line">        <span class="string">&quot;M+&quot;</span>: <span class="variable language_">this</span>.<span class="title function_">getMonth</span>() + <span class="number">1</span>, <span class="comment">//月份 </span></span><br><span class="line">        <span class="string">&quot;d+&quot;</span>: <span class="variable language_">this</span>.<span class="title function_">getDate</span>(), <span class="comment">//日 </span></span><br><span class="line">        <span class="string">&quot;h+&quot;</span>: <span class="variable language_">this</span>.<span class="title function_">getHours</span>(), <span class="comment">//小时 </span></span><br><span class="line">        <span class="string">&quot;m+&quot;</span>: <span class="variable language_">this</span>.<span class="title function_">getMinutes</span>(), <span class="comment">//分 </span></span><br><span class="line">        <span class="string">&quot;s+&quot;</span>: <span class="variable language_">this</span>.<span class="title function_">getSeconds</span>(), <span class="comment">//秒 </span></span><br><span class="line">        <span class="string">&quot;q+&quot;</span>: <span class="title class_">Math</span>.<span class="title function_">floor</span>((<span class="variable language_">this</span>.<span class="title function_">getMonth</span>() + <span class="number">3</span>) / <span class="number">3</span>), <span class="comment">//季度 </span></span><br><span class="line">        <span class="string">&quot;S&quot;</span>: <span class="variable language_">this</span>.<span class="title function_">getMilliseconds</span>() <span class="comment">//毫秒 </span></span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">if</span> (<span class="regexp">/(y+)/</span>.<span class="title function_">test</span>(fmt)) fmt = fmt.<span class="title function_">replace</span>(<span class="title class_">RegExp</span>.<span class="property">$1</span>, (<span class="variable language_">this</span>.<span class="title function_">getFullYear</span>() + <span class="string">&quot;&quot;</span>).<span class="title function_">substr</span>(<span class="number">4</span> - <span class="title class_">RegExp</span>.<span class="property">$1</span>.<span class="property">length</span>));</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> k <span class="keyword">in</span> o)</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="string">&quot;(&quot;</span> + k + <span class="string">&quot;)&quot;</span>).<span class="title function_">test</span>(fmt)) fmt = fmt.<span class="title function_">replace</span>(<span class="title class_">RegExp</span>.<span class="property">$1</span>, (<span class="title class_">RegExp</span>.<span class="property">$1</span>.<span class="property">length</span> == <span class="number">1</span>) ? (o[k]) : ((<span class="string">&quot;00&quot;</span> + o[k]).<span class="title function_">substr</span>((<span class="string">&quot;&quot;</span> + o[k]).<span class="property">length</span>)));</span><br><span class="line">    <span class="keyword">return</span> fmt;</span><br><span class="line">&#125;调用： <span class="keyword">var</span> time1 = <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title class_">Format</span>(<span class="string">&quot;yyyy-MM-dd&quot;</span>);<span class="keyword">var</span> time2 = <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title class_">Format</span>(<span class="string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">language</span>=<span class="string">&quot;javascript&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"> </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&lt;!-- <span class="comment">/** * 对Date的扩展，将 Date 转化为指定格式的String * 月(M)、日(d)、12小时(h)、24小时(H)、分(m)、秒(s)、周(E)、季度(q)</span></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"><span class="language-xml">    可以用 1-2 个占位符 * 年(y)可以用 1-4 个占位符，毫秒(S)只能用 1 个占位符(是 1-3 位的数字) * eg: * (new</span></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"><span class="language-xml">    Date()).pattern(&quot;yyyy-MM-dd hh:mm:ss.S&quot;)==&gt; 2006-07-02 08:09:04.423      </span></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"><span class="language-xml"> * (new Date()).pattern(&quot;yyyy-MM-dd E HH:mm:ss&quot;) ==&gt; 2009-03-10 二 20:09:04      </span></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"><span class="language-xml"> * (new Date()).pattern(&quot;yyyy-MM-dd EE hh:mm:ss&quot;) ==&gt; 2009-03-10 周二 08:09:04      </span></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"><span class="language-xml"> * (new Date()).pattern(&quot;yyyy-MM-dd EEE hh:mm:ss&quot;) ==&gt; 2009-03-10 星期二 08:09:04      </span></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"><span class="language-xml"> * (new Date()).pattern(&quot;yyyy-M-d h:m:s.S&quot;) ==&gt; 2006-7-2 8:9:4.18      </span></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"><span class="language-xml"> */</span>        </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="title class_">Date</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">pattern</span>=<span class="keyword">function</span>(<span class="params">fmt</span>) &#123;         </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">var</span> o = &#123;         </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="string">&quot;M+&quot;</span> : <span class="variable language_">this</span>.<span class="title function_">getMonth</span>()+<span class="number">1</span>, <span class="comment">//月份         </span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="string">&quot;d+&quot;</span> : <span class="variable language_">this</span>.<span class="title function_">getDate</span>(), <span class="comment">//日         </span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="string">&quot;h+&quot;</span> : <span class="variable language_">this</span>.<span class="title function_">getHours</span>()%<span class="number">12</span> == <span class="number">0</span> ? <span class="number">12</span> : <span class="variable language_">this</span>.<span class="title function_">getHours</span>()%<span class="number">12</span>, <span class="comment">//小时         </span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="string">&quot;H+&quot;</span> : <span class="variable language_">this</span>.<span class="title function_">getHours</span>(), <span class="comment">//小时         </span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="string">&quot;m+&quot;</span> : <span class="variable language_">this</span>.<span class="title function_">getMinutes</span>(), <span class="comment">//分         </span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="string">&quot;s+&quot;</span> : <span class="variable language_">this</span>.<span class="title function_">getSeconds</span>(), <span class="comment">//秒         </span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="string">&quot;q+&quot;</span> : <span class="title class_">Math</span>.<span class="title function_">floor</span>((<span class="variable language_">this</span>.<span class="title function_">getMonth</span>()+<span class="number">3</span>)/<span class="number">3</span>), <span class="comment">//季度         </span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="string">&quot;S&quot;</span> : <span class="variable language_">this</span>.<span class="title function_">getMilliseconds</span>() <span class="comment">//毫秒         </span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;;         </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">var</span> week = &#123;         </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="string">&quot;0&quot;</span> : <span class="string">&quot;/u65e5&quot;</span>,         </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="string">&quot;1&quot;</span> : <span class="string">&quot;/u4e00&quot;</span>,         </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="string">&quot;2&quot;</span> : <span class="string">&quot;/u4e8c&quot;</span>,         </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="string">&quot;3&quot;</span> : <span class="string">&quot;/u4e09&quot;</span>,         </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="string">&quot;4&quot;</span> : <span class="string">&quot;/u56db&quot;</span>,         </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="string">&quot;5&quot;</span> : <span class="string">&quot;/u4e94&quot;</span>,         </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="string">&quot;6&quot;</span> : <span class="string">&quot;/u516d&quot;</span>        </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;;         </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">if</span>(<span class="regexp">/(y+)/</span>.<span class="title function_">test</span>(fmt))&#123;         </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        fmt=fmt.<span class="title function_">replace</span>(<span class="title class_">RegExp</span>.<span class="property">$1</span>, (<span class="variable language_">this</span>.<span class="title function_">getFullYear</span>()+<span class="string">&quot;&quot;</span>).<span class="title function_">substr</span>(<span class="number">4</span> - <span class="title class_">RegExp</span>.<span class="property">$1</span>.<span class="property">length</span>));         </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;         </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">if</span>(<span class="regexp">/(E+)/</span>.<span class="title function_">test</span>(fmt))&#123;         </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        fmt=fmt.<span class="title function_">replace</span>(<span class="title class_">RegExp</span>.<span class="property">$1</span>, ((<span class="title class_">RegExp</span>.<span class="property">$1</span>.<span class="property">length</span>&gt;<span class="number">1</span>) ? (<span class="title class_">RegExp</span>.<span class="property">$1</span>.<span class="property">length</span>&gt;<span class="number">2</span> ? <span class="string">&quot;/u661f/u671f&quot;</span> : <span class="string">&quot;/u5468&quot;</span>) : <span class="string">&quot;&quot;</span>)+week[<span class="variable language_">this</span>.<span class="title function_">getDay</span>()+<span class="string">&quot;&quot;</span>]);         </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;         </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">for</span>(<span class="keyword">var</span> k <span class="keyword">in</span> o)&#123;         </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">if</span>(<span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="string">&quot;(&quot;</span>+ k +<span class="string">&quot;)&quot;</span>).<span class="title function_">test</span>(fmt))&#123;         </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            fmt = fmt.<span class="title function_">replace</span>(<span class="title class_">RegExp</span>.<span class="property">$1</span>, (<span class="title class_">RegExp</span>.<span class="property">$1</span>.<span class="property">length</span>==<span class="number">1</span>) ? (o[k]) : ((<span class="string">&quot;00&quot;</span>+ o[k]).<span class="title function_">substr</span>((<span class="string">&quot;&quot;</span>+ o[k]).<span class="property">length</span>)));         </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;         </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;         </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">return</span> fmt;         </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;       </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">     </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">var</span> date = <span class="keyword">new</span> <span class="title class_">Date</span>();      </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="variable language_">window</span>.<span class="title function_">alert</span>(date.<span class="title function_">pattern</span>(<span class="string">&quot;yyyy-MM-dd hh:mm:ss&quot;</span>));</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="comment">// --&gt;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Date</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">format</span> = <span class="keyword">function</span> (<span class="params">mask</span>) &#123; </span><br><span class="line">    <span class="keyword">var</span> d = <span class="variable language_">this</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> zeroize = <span class="keyword">function</span> (<span class="params">value, length</span>) &#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (!length) length = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">            value = <span class="title class_">String</span>(value);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, zeros = <span class="string">&#x27;&#x27;</span>; i &lt; (length - value.<span class="property">length</span>); i++) &#123;</span><br><span class="line"></span><br><span class="line">                zeros += <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> zeros + value;</span><br><span class="line"></span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> mask.<span class="title function_">replace</span>(<span class="regexp">/&quot;[^&quot;]*&quot;|&#x27;[^&#x27;]*&#x27;|/</span>b ( ? : d &#123;</span><br><span class="line">        <span class="number">1</span>, <span class="number">4</span></span><br><span class="line">    &#125; | m &#123;</span><br><span class="line">        <span class="number">1</span>, <span class="number">4</span></span><br><span class="line">    &#125; | <span class="title function_">yy</span>( ? : yy) ? | ([hHMstT]) / <span class="number">1</span> ? | [lLZ]) / b / g, <span class="keyword">function</span> (<span class="params">$0</span>) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">switch</span> ($0) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;d&#x27;</span>:</span><br><span class="line">            <span class="keyword">return</span> d.<span class="title function_">getDate</span>();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;dd&#x27;</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="title function_">zeroize</span>(d.<span class="title function_">getDate</span>());</span><br><span class="line"></span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;ddd&#x27;</span>:</span><br><span class="line">            <span class="keyword">return</span> [<span class="string">&#x27;Sun&#x27;</span>, <span class="string">&#x27;Mon&#x27;</span>, <span class="string">&#x27;Tue&#x27;</span>, <span class="string">&#x27;Wed&#x27;</span>, <span class="string">&#x27;Thr&#x27;</span>, <span class="string">&#x27;Fri&#x27;</span>, <span class="string">&#x27;Sat&#x27;</span>][d.<span class="title function_">getDay</span>()];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;dddd&#x27;</span>:</span><br><span class="line">            <span class="keyword">return</span> [<span class="string">&#x27;Sunday&#x27;</span>, <span class="string">&#x27;Monday&#x27;</span>, <span class="string">&#x27;Tuesday&#x27;</span>, <span class="string">&#x27;Wednesday&#x27;</span>, <span class="string">&#x27;Thursday&#x27;</span>, <span class="string">&#x27;Friday&#x27;</span>, <span class="string">&#x27;Saturday&#x27;</span>][d.<span class="title function_">getDay</span>()];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;M&#x27;</span>:</span><br><span class="line">            <span class="keyword">return</span> d.<span class="title function_">getMonth</span>() + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;MM&#x27;</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="title function_">zeroize</span>(d.<span class="title function_">getMonth</span>() + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;MMM&#x27;</span>:</span><br><span class="line">            <span class="keyword">return</span> [<span class="string">&#x27;Jan&#x27;</span>, <span class="string">&#x27;Feb&#x27;</span>, <span class="string">&#x27;Mar&#x27;</span>, <span class="string">&#x27;Apr&#x27;</span>, <span class="string">&#x27;May&#x27;</span>, <span class="string">&#x27;Jun&#x27;</span>, <span class="string">&#x27;Jul&#x27;</span>, <span class="string">&#x27;Aug&#x27;</span>, <span class="string">&#x27;Sep&#x27;</span>, <span class="string">&#x27;Oct&#x27;</span>, <span class="string">&#x27;Nov&#x27;</span>, <span class="string">&#x27;Dec&#x27;</span>][d.<span class="title function_">getMonth</span>()];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;MMMM&#x27;</span>:</span><br><span class="line">            <span class="keyword">return</span> [<span class="string">&#x27;January&#x27;</span>, <span class="string">&#x27;February&#x27;</span>, <span class="string">&#x27;March&#x27;</span>, <span class="string">&#x27;April&#x27;</span>, <span class="string">&#x27;May&#x27;</span>, <span class="string">&#x27;June&#x27;</span>, <span class="string">&#x27;July&#x27;</span>, <span class="string">&#x27;August&#x27;</span>, <span class="string">&#x27;September&#x27;</span>, <span class="string">&#x27;October&#x27;</span>, <span class="string">&#x27;November&#x27;</span>, <span class="string">&#x27;December&#x27;</span>][d.<span class="title function_">getMonth</span>()];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;yy&#x27;</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="title class_">String</span>(d.<span class="title function_">getFullYear</span>()).<span class="title function_">substr</span>(<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;yyyy&#x27;</span>:</span><br><span class="line">            <span class="keyword">return</span> d.<span class="title function_">getFullYear</span>();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;h&#x27;</span>:</span><br><span class="line">            <span class="keyword">return</span> d.<span class="title function_">getHours</span>() % <span class="number">12</span> || <span class="number">12</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;hh&#x27;</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="title function_">zeroize</span>(d.<span class="title function_">getHours</span>() % <span class="number">12</span> || <span class="number">12</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;H&#x27;</span>:</span><br><span class="line">            <span class="keyword">return</span> d.<span class="title function_">getHours</span>();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;HH&#x27;</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="title function_">zeroize</span>(d.<span class="title function_">getHours</span>());</span><br><span class="line"></span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;m&#x27;</span>:</span><br><span class="line">            <span class="keyword">return</span> d.<span class="title function_">getMinutes</span>();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;mm&#x27;</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="title function_">zeroize</span>(d.<span class="title function_">getMinutes</span>());</span><br><span class="line"></span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;s&#x27;</span>:</span><br><span class="line">            <span class="keyword">return</span> d.<span class="title function_">getSeconds</span>();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;ss&#x27;</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="title function_">zeroize</span>(d.<span class="title function_">getSeconds</span>());</span><br><span class="line"></span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;l&#x27;</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="title function_">zeroize</span>(d.<span class="title function_">getMilliseconds</span>(), <span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;L&#x27;</span>:</span><br><span class="line">            <span class="keyword">var</span> m = d.<span class="title function_">getMilliseconds</span>();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (m &gt; <span class="number">99</span>) m = <span class="title class_">Math</span>.<span class="title function_">round</span>(m / <span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> <span class="title function_">zeroize</span>(m);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;tt&#x27;</span>:</span><br><span class="line">            <span class="keyword">return</span> d.<span class="title function_">getHours</span>() &lt; <span class="number">12</span> ? <span class="string">&#x27;am&#x27;</span> : <span class="string">&#x27;pm&#x27;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;TT&#x27;</span>:</span><br><span class="line">            <span class="keyword">return</span> d.<span class="title function_">getHours</span>() &lt; <span class="number">12</span> ? <span class="string">&#x27;AM&#x27;</span> : <span class="string">&#x27;PM&#x27;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;Z&#x27;</span>:</span><br><span class="line">            <span class="keyword">return</span> d.<span class="title function_">toUTCString</span>().<span class="title function_">match</span>(<span class="regexp">/[A-Z]+$/</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// Return quoted strings with the surrounding quotes removed      </span></span><br><span class="line"></span><br><span class="line">        <span class="attr">default</span>:</span><br><span class="line">            <span class="keyword">return</span> $0.<span class="title function_">substr</span>(<span class="number">1</span>, $0.<span class="property">length</span> - <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>格式化日期参考 <a href="http://www.cnblogs.com/zhangpengshou/archive/2012/07/19/2599053.html">http://www.cnblogs.com/zhangpengshou/archive/2012/07/19/2599053.html</a></p>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windows 环境下安装MongoDB</title>
      <link href="/2015/11/03/windows-huan-jing-xia-an-zhuang-mongodb/"/>
      <url>/2015/11/03/windows-huan-jing-xia-an-zhuang-mongodb/</url>
      
        <content type="html"><![CDATA[<p>mongoDB下载地址 <a href="https://www.mongodb.org/">https://www.mongodb.org/</a></p><p>在mongoDB官网下载windows版本的mongoDB后解压出来（本文以解压到D盘为例）</p><p>在解压出来的MongoDB文件夹下创建data文件夹，然后在data文件夹下创建log和db两个文件夹</p><p>在log文件夹下创建一个空的mongodb.log文件</p><p><img src="/images/2015110315271501.png" alt="2015110315271501.png"><br>然后在mongodb文件夹下创建mongo.config文件</p><p>在mongo.config文件中加入下面两行内容</p><p>dbpath&#x3D;D:\mongodb\data\db                    mongodb数据文件夹<br>logpath&#x3D;D:\mongodb\data\log\mongodb.log     mongodb的日志记录文件</p><p>然后将mongodb加入window服务中</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off  </span><br><span class="line">@<span class="built_in">echo</span> ---------------------welcome to use mongod auto run tools--------------  </span><br><span class="line">@<span class="built_in">echo</span>. &amp; pause  </span><br><span class="line"></span><br><span class="line">@<span class="built_in">echo</span> ---------------------正在关闭冗余进程，骚等----------------------------  </span><br><span class="line"> </span><br><span class="line">taskkill /im mongod.exe /f  </span><br><span class="line"> </span><br><span class="line">@<span class="built_in">echo</span> --------------------冗余进程执行完毕，服务器正在启动，骚等-------------</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">start D:\mongodb\bin\mongod.exe --install --logpath=D:\mongodb\data\<span class="built_in">log</span>\mongodb.log --dbpath=D:\mongodb\data\db</span><br><span class="line"></span><br><span class="line">@<span class="built_in">echo</span> ---------------------按任意键启动服务-------------</span><br><span class="line"></span><br><span class="line">@<span class="built_in">echo</span>. &amp; pause</span><br><span class="line">@<span class="built_in">echo</span> ---------------------正在启动服务，骚等----------------------------</span><br><span class="line"></span><br><span class="line">net start <span class="string">&quot;MongoDB&quot;</span></span><br><span class="line"></span><br><span class="line">@<span class="built_in">echo</span>. &amp; pause </span><br></pre></td></tr></table></figure><p>将上面的内容复制出来保存到一个bat文件中，然后运行该bat文件就可以将mongodb服务加入windows中</p><p>然后在服务中启动MongoDB服务，安装成功后输入<a href="http://localhost:27017/">http://localhost:27017/</a>  如下图表示安装成功。<br><img src="/images/2015110315271502.png" alt="2015110315271502.png"></p><p>设置服务名称将上面标红的修改成如下代码即可</p><p>start D:\mongodb\bin\mongod.exe –install –logpath&#x3D;D:\mongodb\data\log\mongodb.log –dbpath&#x3D;D:\mongodb\data\db –serviceName “MongoDB” –serviceDisplayName “MongoDB”</p><p>卸载MongoDB服务</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off  </span><br><span class="line">@<span class="built_in">echo</span> ---------------------welcome to use mongod Remove tools--------------  </span><br><span class="line">@<span class="built_in">echo</span>. &amp; pause</span><br><span class="line">@<span class="built_in">echo</span> ---------------------正在关闭冗余进程，骚等----------------------------  </span><br><span class="line"> </span><br><span class="line">taskkill /im mongod.exe /f  </span><br><span class="line"></span><br><span class="line">@<span class="built_in">echo</span> --------------------冗余进程执行完毕，服务器正在启动，骚等-------------  </span><br><span class="line"></span><br><span class="line">start D:\mongodb\bin\mongod.exe --remove  --serviceName <span class="string">&quot;MongoDB&quot;</span> --logpath=D:\mongodb\data\<span class="built_in">log</span>\mongodb.log --dbpath=D:\mongodb\data\db</span><br><span class="line"></span><br><span class="line">@<span class="built_in">echo</span>. &amp; pause</span><br></pre></td></tr></table></figure><p>将上面的内容复制出来保存到一个bat文件中运行文件就可以卸载MongoDB服务</p><p>net start “MongoDB” 启动mongodb服务</p><p>net stop “MongoDB” 停止mongodb服务</p><p>有关于安装参数的说明：</p><p>–dbpath 是数据文件所在目录</p><p>–logpath 是日志文件所在文件路径，此参数必须为文件，不能为文件目录，否则会导致安装失败</p><p>以上两个参数必须设置</p><p>–logappend 日志以追加的方式写入</p><p>–directoryperdb 为每个数据库建立单独的目录</p><p>–bind_ip 绑定服务器IP，此参数为安全起见建议使用127.0.0.1，因为如果不设置的话，远程是可以连接的</p><p>–port  端口号</p><p>–install 以服务形式安装</p><p>如果需要删除 MongoDB 服务请使用 mongod –remove</p><p> –mongo ip:port&#x2F;dbname 连接到远程服务器的mongodb，如果不加后面的参数，则默认连接到本地的test库 </p>]]></content>
      
      
      <categories>
          
          <category> MongoDB </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MongoDB </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C# 发送邮件</title>
      <link href="/2015/10/28/csharp-fa-song-you-jian/"/>
      <url>/2015/10/28/csharp-fa-song-you-jian/</url>
      
        <content type="html"><![CDATA[<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 邮件群发</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;strMyEmail&quot;&gt;</span>发送人邮件名<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;strMyPass&quot;&gt;</span>发送人密码<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;strMySmtp&quot;&gt;</span>发送人邮箱Smtp地址<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;strToEmail&quot;&gt;</span>接收人邮件名<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;strSubject&quot;&gt;</span>发送主题<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;strContent&quot;&gt;</span>发送内容<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;strIsHTML&quot;&gt;</span>是否为html<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;strFileArray&quot;&gt;</span>发送上传的路径<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">bool</span> <span class="title">SendEmails</span>(<span class="params"><span class="built_in">string</span> strMyEmail, <span class="built_in">string</span> trMyPass, <span class="built_in">string</span> strMySmtp, List&lt;<span class="built_in">string</span>&gt; strToEmail, <span class="built_in">string</span> trSubject, <span class="built_in">string</span> strContent, <span class="built_in">bool</span> strIsHTML, <span class="built_in">string</span>[] trFileArray</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        MailMessage message = <span class="keyword">new</span> MailMessage();</span><br><span class="line">        message.From = <span class="keyword">new</span> MailAddress(strMyEmail);</span><br><span class="line">        <span class="keyword">foreach</span> (<span class="built_in">string</span> item <span class="keyword">in</span> strToEmail)</span><br><span class="line">        &#123;</span><br><span class="line">            message.To.Add(<span class="keyword">new</span> MailAddress(item));<span class="comment">//接收人邮箱</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//message.To.Add(new MailAddress(strMyEmail));</span></span><br><span class="line">        message.Subject = strSubject;<span class="comment">//主题</span></span><br><span class="line">        message.Body = strContent;<span class="comment">//发送内容 </span></span><br><span class="line">        message.IsBodyHtml = strIsHTML;</span><br><span class="line">        <span class="keyword">if</span> (strFileArray != <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; strFileArray.Length; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                 </span><br><span class="line">                Attachment data = <span class="keyword">new</span> Attachment(strFileArray[i], MediaTypeNames.Application.Octet);</span><br><span class="line">                ContentDisposition disposition = data.ContentDisposition;</span><br><span class="line">                disposition.CreationDate = System.IO.File.GetCreationTime(strFileArray[i]);</span><br><span class="line">                disposition.ModificationDate = System.IO.File.GetLastWriteTime(strFileArray[i]);</span><br><span class="line">                disposition.ReadDate = System.IO.File.GetLastAccessTime(strFileArray[i]);</span><br><span class="line">               </span><br><span class="line">                message.Attachments.Add(data);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        SmtpClient client = <span class="keyword">new</span> SmtpClient(strMySmtp, <span class="number">25</span>);</span><br><span class="line">        client.Credentials = <span class="keyword">new</span> System.Net.NetworkCredential(strMyEmail, strMyPass);</span><br><span class="line">        client.Send(message);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (Exception)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C# 连接 Exchange 发送邮件</title>
      <link href="/2015/10/28/csharp-lian-jie-exchange-fa-song-you-jian/"/>
      <url>/2015/10/28/csharp-lian-jie-exchange-fa-song-you-jian/</url>
      
        <content type="html"><![CDATA[<p>C#连接Exchange 发送邮件代码如下</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> exchange群发邮件</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;credentialUserName&quot;&gt;</span>exchange用户名 [example: est]<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;credentialUserPwd&quot;&gt;</span>exchange用户密码<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;fromEmail&quot;&gt;</span>发送人地址 [example: est@allbring.com]<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;recipientEmail&quot;&gt;</span>收件人地址<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;domainName&quot;&gt;</span>邮件域名 [example: mail.allbring.om]<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;subjectName&quot;&gt;</span>邮件主题<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;bodyVal&quot;&gt;</span>邮件内容<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;isHtml&quot;&gt;</span>是否为html<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;fileArray&quot;&gt;</span>发送上传的路径<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 开发人员：ZJ</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">bool</span> <span class="title">SendExchangeEmails</span>(<span class="params"><span class="built_in">string</span> redentialUserName, <span class="built_in">string</span> credentialUserPwd, <span class="built_in">string</span> romEmail, List&lt;<span class="built_in">string</span>&gt; recipientEmail, <span class="built_in">string</span> domainName, tring subjectName, <span class="built_in">string</span> bodyVal, <span class="built_in">bool</span> isHtml, <span class="built_in">string</span>[] ileArray</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    &#123;</span><br><span class="line">        MailMessage message = <span class="keyword">new</span> MailMessage();</span><br><span class="line">        MailAddress fromAddress = <span class="keyword">new</span> MailAddress(fromEmail);</span><br><span class="line">        <span class="keyword">foreach</span> (<span class="built_in">string</span> item <span class="keyword">in</span> recipientEmail)</span><br><span class="line">        &#123;</span><br><span class="line">            message.To.Add(item);</span><br><span class="line">        &#125;</span><br><span class="line">        message.From = fromAddress;</span><br><span class="line">        message.Subject = subjectName;</span><br><span class="line">        message.Body = bodyVal;</span><br><span class="line">        message.IsBodyHtml = isHtml;</span><br><span class="line">        <span class="keyword">if</span> (fileArray != <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; fileArray.Length; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">//为邮件创建文件附件</span></span><br><span class="line">                Attachment attr = <span class="keyword">new</span> Attachment(fileArray[i], MediaTypeNames.Application.Octet);</span><br><span class="line">                <span class="comment">//添加邮件时间戳信息</span></span><br><span class="line">                ContentDisposition conDispositon = attr.ContentDisposition;</span><br><span class="line">                conDispositon.CreationDate = System.IO.File.GetCreationTime(fileArray[i]);<span class="comment">//文件的创建日期</span></span><br><span class="line">                conDispositon.ModificationDate = System.IO.File.GetLastWriteTime(fileArray[i]);<span class="comment">//文件的修改日期</span></span><br><span class="line">                conDispositon.ReadDate = System.IO.File.GetLastAccessTime(fileArray[i]);<span class="comment">//文件的读取日期</span></span><br><span class="line">                <span class="comment">//给邮件添加附件</span></span><br><span class="line">                message.Attachments.Add(attr);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        SmtpClient smtpClient = <span class="keyword">new</span> SmtpClient();</span><br><span class="line">        smtpClient.Timeout = <span class="number">50000</span>;</span><br><span class="line">        smtpClient.Host = domainName;</span><br><span class="line">        smtpClient.Port = <span class="number">25</span>;</span><br><span class="line">        smtpClient.UseDefaultCredentials = <span class="literal">false</span>;</span><br><span class="line">        smtpClient.Credentials = <span class="keyword">new</span> System.Net.NetworkCredential(credentialUserName, credentialUserPwd);</span><br><span class="line">        smtpClient.EnableSsl = <span class="literal">true</span>;</span><br><span class="line">        smtpClient.DeliveryMethod = SmtpDeliveryMethod.Network;</span><br><span class="line">        smtpClient.Send(message);</span><br><span class="line">        smtpClient.Dispose();</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (Exception)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>如果exchange服务器只做了证书，在发送邮件的机器上也要安装证书邮件才能发送出去。</strong></p><p>参考地址：<a href="https://social.technet.microsoft.com/Forums/en-US/d37c7e8a-6d42-498a-bad4-5eb0ab7e9d40/connecting-to-exchange-server-using-c-to-send-an-email?forum=exchangesvrdevelopment">https://social.technet.microsoft.com/Forums/en-US/d37c7e8a-6d42-498a-bad4-5eb0ab7e9d40/connecting-to-exchange-server-using-c-to-send-an-email?forum=exchangesvrdevelopment</a></p><p><a href="http://www.systemnetmail.com/faq/2.4.aspx">http://www.systemnetmail.com/faq/2.4.aspx</a></p>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ztree 默认展开二级菜单</title>
      <link href="/2015/10/23/ztree-mo-ren-zhan-kai-er-ji-cai-dan/"/>
      <url>/2015/10/23/ztree-mo-ren-zhan-kai-er-ji-cai-dan/</url>
      
        <content type="html"><![CDATA[<p>在初始加载树形控件的时候调用zTree的expandNode (node, expandFlag, sonSign, focus, callbackFlag)方法</p><p><strong>node</strong>：树形节点<br><strong>expandFlag</strong>:是否展开节点<br><strong>sonSign</strong>：是否展开其子孙节点<br><strong>focus</strong>：展开或折叠节点后是否设置焦点<br><strong>callbackFlag</strong>：这行该方法是否触发回调函数</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> zNodes = <span class="string">&quot;&quot;</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">var</span> setting = &#123;</span><br><span class="line">    <span class="attr">check</span>: &#123;</span><br><span class="line">        <span class="attr">enable</span>: <span class="literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">data</span>: &#123;<span class="comment">//数据加载</span></span><br><span class="line">        <span class="attr">keep</span>: &#123;</span><br><span class="line">            <span class="attr">parent</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="attr">leaf</span>: <span class="literal">true</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">simpleData</span>: &#123;</span><br><span class="line">            <span class="attr">enable</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="attr">idKey</span>: <span class="string">&quot;Id&quot;</span>,</span><br><span class="line">            <span class="attr">pIdKey</span>: <span class="string">&quot;Pid&quot;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">key</span>: &#123;</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&quot;Name&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Inint</span>(<span class="params"></span>) &#123;<span class="comment">//初始化加载节点</span></span><br><span class="line">    $.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">        <span class="attr">global</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">async</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">cache</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">dataType</span>: <span class="string">&quot;json&quot;</span>,</span><br><span class="line">        <span class="attr">url</span>: <span class="string">&#x27;../Ajax/test.ashx&#x27;</span>,</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&quot;post&quot;</span>,</span><br><span class="line">        <span class="comment">//data: &#123; &quot;roleId&quot;: GetQueryString(&quot;roleId&quot;) &#125;,</span></span><br><span class="line">        <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">data</span>) &#123;</span><br><span class="line">            zNodes = data;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line">$(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Inint</span>(); <span class="comment">//加载数据</span></span><br><span class="line">    $.fn.<span class="property">zTree</span>.<span class="title function_">init</span>($(<span class="string">&quot;#zTree&quot;</span>), setting, zNodes);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> treeObj = $.fn.<span class="property">zTree</span>.<span class="title function_">getZTreeObj</span>(<span class="string">&quot;zTree&quot;</span>);</span><br><span class="line">    <span class="keyword">var</span> nodes = treeObj.<span class="title function_">getNodes</span>();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; nodes.<span class="property">length</span>; i++) &#123; <span class="comment">//设置节点展开</span></span><br><span class="line">        treeObj.<span class="title function_">expandNode</span>(nodes[i], <span class="literal">true</span>, <span class="literal">false</span>, <span class="literal">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;control&quot;</span> <span class="attr">style</span>=<span class="string">&quot;overflow: auto; height:270px;&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">&quot;zTree&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JqGrid查询数据为空时给表格添加提示信息</title>
      <link href="/2015/10/22/jqgrid-cha-xun-shu-ju-wei-kong-shi-gei-biao-ge-tian-jia-ti-shi-xin-xi/"/>
      <url>/2015/10/22/jqgrid-cha-xun-shu-ju-wei-kong-shi-gei-biao-ge-tian-jia-ti-shi-xin-xi/</url>
      
        <content type="html"><![CDATA[<p><img src="/images/2015102214551501.png" alt="2015102214551501.png"><br>在JqGrid的loadComplete事件中添加下面的代码就可以实现上图的效果</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">loadComplete</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> rowNum = $(<span class="string">&quot;#purchaserPersonManage&quot;</span>).<span class="title function_">jqGrid</span>(<span class="string">&#x27;getGridParam&#x27;</span>, <span class="string">&#x27;records&#x27;</span>); <span class="comment">//获取数据总条数</span></span><br><span class="line">    <span class="keyword">if</span> (rowNum == <span class="number">0</span>)<span class="comment">//没有数据则添加提示</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> ($(<span class="string">&quot;#norecords&quot;</span>).<span class="title function_">html</span>() == <span class="literal">null</span>) &#123;</span><br><span class="line">            $(<span class="string">&quot;#purchaserPersonManage&quot;</span>).<span class="title function_">parent</span>().<span class="title function_">append</span>(<span class="string">&quot;&lt;pre&gt;&lt;div id=&#x27;norecords&#x27; style=&#x27;margin:10px;color:red;font-size:16px;&#x27;&gt;未找到此产品！&lt;/div&gt;&lt;/pre&gt;&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        $(<span class="string">&quot;#norecords&quot;</span>).<span class="title function_">show</span>();<span class="comment">//显示提示信息</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        $(<span class="string">&quot;#norecords&quot;</span>).<span class="title function_">hide</span>();<span class="comment">//隐藏提示信息</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Jquery 获取table中的td元素的值</title>
      <link href="/2015/07/23/jquery-huo-qu-table-zhong-de-td-yuan-su-de-zhi/"/>
      <url>/2015/07/23/jquery-huo-qu-table-zhong-de-td-yuan-su-de-zhi/</url>
      
        <content type="html"><![CDATA[<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">id</span>=<span class="string">&quot;t1&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">1-1</span><br><span class="line"><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">1-2</span><br><span class="line"><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">1-3</span><br><span class="line"><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">2-1</span><br><span class="line"><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">2-2</span><br><span class="line"><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">2-3</span><br><span class="line"><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">id</span>=<span class="string">&quot;t2&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">1-1</span><br><span class="line"><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">1-2</span><br><span class="line"><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">1-3</span><br><span class="line"><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">2-1</span><br><span class="line"><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">2-2</span><br><span class="line"><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">2-3</span><br><span class="line"><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&quot;#t1 tr&quot;</span>).<span class="title function_">eq</span>(<span class="number">1</span>).<span class="title function_">find</span>(<span class="string">&quot;td&quot;</span>).<span class="title function_">eq</span>(<span class="number">2</span>).<span class="title function_">html</span>().<span class="title function_">trim</span>()</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>判断上传文件是否是图片文件</title>
      <link href="/2015/06/25/pan-duan-shang-chuan-wen-jian-shi-fou-shi-tu-pian-wen-jian/"/>
      <url>/2015/06/25/pan-duan-shang-chuan-wen-jian-shi-fou-shi-tu-pian-wen-jian/</url>
      
        <content type="html"><![CDATA[<p>方法一：用image对象判断是否为图片</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 判断文件是否为图片</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;path&quot;&gt;</span>文件的完整路径<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>返回结果<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Boolean <span class="title">IsImage</span>(<span class="params"><span class="built_in">string</span> path</span>)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">try</span></span><br><span class="line">&#123;</span><br><span class="line"> System.Drawing.Image img = System.Drawing.Image.FromFile(path);</span><br><span class="line"> <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">catch</span> (Exception e)</span><br><span class="line">&#123;</span><br><span class="line"> <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>方法二，判断文件头</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 根据文件头判断上传的文件类型</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;filePath&quot;&gt;</span>filePath是文件的完整路径 <span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>返回true或false<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="built_in">bool</span> <span class="title">IsPicture</span>(<span class="params"><span class="built_in">string</span> filePath</span>)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">try</span></span><br><span class="line">&#123;</span><br><span class="line"> FileStream fs = <span class="keyword">new</span> FileStream(filePath, FileMode.Open, FileAccess.Read);</span><br><span class="line"> BinaryReader reader = <span class="keyword">new</span> BinaryReader(fs);</span><br><span class="line"> <span class="built_in">string</span> fileClass;</span><br><span class="line"> <span class="built_in">byte</span> buffer;</span><br><span class="line"> buffer = reader.ReadByte();</span><br><span class="line"> fileClass = buffer.ToString();</span><br><span class="line"> buffer = reader.ReadByte();</span><br><span class="line"> fileClass += buffer.ToString();</span><br><span class="line"> reader.Close();</span><br><span class="line"> fs.Close();</span><br><span class="line"> <span class="keyword">if</span> (fileClass == <span class="string">&quot;255216&quot;</span> || fileClass == <span class="string">&quot;7173&quot;</span> || fileClass == <span class="string">&quot;13780&quot;</span> || fileClass == <span class="string">&quot;6677&quot;</span>)</span><br><span class="line"> <span class="comment">//255216是jpg;7173是gif;6677是BMP,13780是PNG;7790是exe,8297是rar </span></span><br><span class="line"> &#123;</span><br><span class="line"> <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">else</span></span><br><span class="line"> &#123;</span><br><span class="line"> <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">catch</span></span><br><span class="line">&#123;</span><br><span class="line"> <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="built_in">enum</span> FileExtension</span><br><span class="line">&#123;</span><br><span class="line">    JPG = <span class="number">255216</span>,</span><br><span class="line">    GIF = <span class="number">7173</span>,</span><br><span class="line">    BMP = <span class="number">6677</span>,</span><br><span class="line">    PNG = <span class="number">13780</span>,</span><br><span class="line">    COM = <span class="number">7790</span>,</span><br><span class="line">    EXE = <span class="number">7790</span>,</span><br><span class="line">    DLL = <span class="number">7790</span>,</span><br><span class="line">    RAR = <span class="number">8297</span>,</span><br><span class="line">    ZIP = <span class="number">8075</span>,</span><br><span class="line">    XML = <span class="number">6063</span>,</span><br><span class="line">    HTML = <span class="number">6033</span>,</span><br><span class="line">    ASPX = <span class="number">239187</span>,</span><br><span class="line">    CS = <span class="number">117115</span>,</span><br><span class="line">    JS = <span class="number">119105</span>,</span><br><span class="line">    TXT = <span class="number">210187</span>,</span><br><span class="line">    SQL = <span class="number">255254</span>,</span><br><span class="line">    BAT = <span class="number">64101</span>,</span><br><span class="line">    BTSEED = <span class="number">10056</span>,</span><br><span class="line">    RDP = <span class="number">255254</span>,</span><br><span class="line">    PSD = <span class="number">5666</span>,</span><br><span class="line">    PDF = <span class="number">3780</span>,</span><br><span class="line">    CHM = <span class="number">7384</span>,</span><br><span class="line">    LOG = <span class="number">70105</span>,</span><br><span class="line">    REG = <span class="number">8269</span>,</span><br><span class="line">    HLP = <span class="number">6395</span>,</span><br><span class="line">    DOC = <span class="number">208207</span>,</span><br><span class="line">    XLS = <span class="number">208207</span>,</span><br><span class="line">    DOCX = <span class="number">208207</span>,</span><br><span class="line">    XLSX = <span class="number">208207</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Jquery ValidationEngine 修改验证提示框的位置</title>
      <link href="/2015/05/29/jquery-validationengine-xiu-gai-yan-zheng-ti-shi-kuang-de-wei-zhi/"/>
      <url>/2015/05/29/jquery-validationengine-xiu-gai-yan-zheng-ti-shi-kuang-de-wei-zhi/</url>
      
        <content type="html"><![CDATA[<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!doctype <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;Generator&quot;</span> <span class="attr">content</span>=<span class="string">&quot;EditPlus®&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;Author&quot;</span> <span class="attr">content</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;Keywords&quot;</span> <span class="attr">content</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;Description&quot;</span> <span class="attr">content</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>自定义验证框位置<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span> <span class="attr">href</span>=<span class="string">&quot;ValidationEngine/css/validationEngine.jquery.css&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;ValidationEngine/js/jquery-1.8.2.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;ValidationEngine/js/jquery.validationEngine.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;ValidationEngine/js/languages/jquery.validationEngine-zh_CN.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">jQuery</span>(<span class="variable language_">document</span>).<span class="title function_">ready</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">jQuery</span>(<span class="string">&quot;#frmJquery&quot;</span>).<span class="title function_">validationEngine</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">onFormSuccess</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">onFormFailure</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">jQuery</span>(<span class="string">&quot;#frmJquery&quot;</span>).<span class="title function_">validationEngine</span>(<span class="string">&#x27;attach&#x27;</span>, &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">relative</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">overflownDIV</span>: <span class="string">&quot;#divPostion&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">promptPosition</span>: <span class="string">&quot;bottomLeft&quot;</span> <span class="comment">//验证弹出框的位置，topRight,topLeft,bottomRight,bottomLeft,centerRight,centerLeft,inline</span></span></span><br><span class="line"><span class="language-javascript">            &#125;);</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">showMsg</span>(<span class="params">msg</span>)</span></span><br><span class="line"><span class="language-javascript">        &#123;</span></span><br><span class="line"><span class="language-javascript">            layer.<span class="title function_">msg</span>(msg, &#123; <span class="attr">time</span>: <span class="number">1000</span> &#125;);</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;divPostion&quot;</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">form</span> <span class="attr">id</span>=<span class="string">&quot;frmJquery&quot;</span>&gt;</span></span><br><span class="line">  姓名：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;txtName&quot;</span> <span class="attr">class</span>=<span class="string">&quot;validate[required]&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">  手机：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;txtPhone&quot;</span> <span class="attr">class</span>=<span class="string">&quot;validate[custom[phone]]&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ztree 获取最下级的子节点内容</title>
      <link href="/2015/05/15/ztree-huo-qu-zui-xia-ji-de-zi-jie-dian-nei-rong/"/>
      <url>/2015/05/15/ztree-huo-qu-zui-xia-ji-de-zi-jie-dian-nei-rong/</url>
      
        <content type="html"><![CDATA[<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!doctype <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;Generator&quot;</span> <span class="attr">content</span>=<span class="string">&quot;EditPlus®&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;Author&quot;</span> <span class="attr">content</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;Keywords&quot;</span> <span class="attr">content</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;Description&quot;</span> <span class="attr">content</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Ztree<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">&quot;zTreeStyle.css&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;jquery-1.4.4.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;jquery.ztree.all-3.5.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        </span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//获取页面中的参数</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">GetQueryString</span>(<span class="params">name</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> reg = <span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="string">&quot;(^|&amp;)&quot;</span> + name + <span class="string">&quot;=([^&amp;]*)(&amp;|$)&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> r = <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">search</span>.<span class="title function_">substr</span>(<span class="number">1</span>).<span class="title function_">match</span>(reg);</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (r != <span class="literal">null</span>)</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> <span class="built_in">unescape</span>(r[<span class="number">2</span>]);</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> zNodes=[&#123;<span class="string">&quot;key&quot;</span>:<span class="literal">null</span>,<span class="string">&quot;Id&quot;</span>:<span class="number">0</span>,<span class="string">&quot;Pid&quot;</span>:-<span class="number">1</span>,<span class="string">&quot;Name&quot;</span>:<span class="string">&quot;测试平台&quot;</span>,<span class="string">&quot;checked&quot;</span>:<span class="literal">false</span>&#125;,&#123;<span class="string">&quot;key&quot;</span>:<span class="literal">null</span>,<span class="string">&quot;Id&quot;</span>:<span class="number">1</span>,<span class="string">&quot;Pid&quot;</span>:<span class="number">0</span>,<span class="string">&quot;Name&quot;</span>:<span class="string">&quot;模块1&quot;</span>,<span class="string">&quot;checked&quot;</span>:<span class="literal">false</span>&#125;,&#123;<span class="string">&quot;key&quot;</span>:<span class="number">7</span>,<span class="string">&quot;Id&quot;</span>:<span class="number">6</span>,<span class="string">&quot;Pid&quot;</span>:<span class="number">1</span>,<span class="string">&quot;Name&quot;</span>:<span class="string">&quot;模块1-功能1&quot;</span>,<span class="string">&quot;checked&quot;</span>:<span class="literal">true</span>&#125;,&#123;<span class="string">&quot;key&quot;</span>:<span class="literal">null</span>,<span class="string">&quot;Id&quot;</span>:<span class="number">7</span>,<span class="string">&quot;Pid&quot;</span>:<span class="number">1</span>,<span class="string">&quot;Name&quot;</span>:<span class="string">&quot;模块1-功能2&quot;</span>,<span class="string">&quot;checked&quot;</span>:<span class="literal">false</span>&#125;,&#123;<span class="string">&quot;key&quot;</span>:<span class="literal">null</span>,<span class="string">&quot;Id&quot;</span>:<span class="number">8</span>,<span class="string">&quot;Pid&quot;</span>:<span class="number">1</span>,<span class="string">&quot;Name&quot;</span>:<span class="string">&quot;模块1-功能3&quot;</span>,<span class="string">&quot;checked&quot;</span>:<span class="literal">false</span>&#125;,&#123;<span class="string">&quot;key&quot;</span>:<span class="literal">null</span>,<span class="string">&quot;Id&quot;</span>:<span class="number">9</span>,<span class="string">&quot;Pid&quot;</span>:<span class="number">1</span>,<span class="string">&quot;Name&quot;</span>:<span class="string">&quot;模块1-功能4&quot;</span>,<span class="string">&quot;checked&quot;</span>:<span class="literal">false</span>&#125;,&#123;<span class="string">&quot;key&quot;</span>:<span class="literal">null</span>,<span class="string">&quot;Id&quot;</span>:<span class="number">10</span>,<span class="string">&quot;Pid&quot;</span>:<span class="number">1</span>,<span class="string">&quot;Name&quot;</span>:<span class="string">&quot;模块1-功能5&quot;</span>,<span class="string">&quot;checked&quot;</span>:<span class="literal">false</span>&#125;,&#123;<span class="string">&quot;key&quot;</span>:<span class="literal">null</span>,<span class="string">&quot;Id&quot;</span>:<span class="number">2</span>,<span class="string">&quot;Pid&quot;</span>:<span class="number">0</span>,<span class="string">&quot;Name&quot;</span>:<span class="string">&quot;模块2&quot;</span>,<span class="string">&quot;checked&quot;</span>:<span class="literal">false</span>&#125;,&#123;<span class="string">&quot;key&quot;</span>:<span class="number">7</span>,<span class="string">&quot;Id&quot;</span>:<span class="number">11</span>,<span class="string">&quot;Pid&quot;</span>:<span class="number">2</span>,<span class="string">&quot;Name&quot;</span>:<span class="string">&quot;模块2-功能1&quot;</span>,<span class="string">&quot;checked&quot;</span>:<span class="literal">true</span>&#125;,&#123;<span class="string">&quot;key&quot;</span>:<span class="literal">null</span>,<span class="string">&quot;Id&quot;</span>:<span class="number">12</span>,<span class="string">&quot;Pid&quot;</span>:<span class="number">2</span>,<span class="string">&quot;Name&quot;</span>:<span class="string">&quot;模块2-功能2&quot;</span>,<span class="string">&quot;checked&quot;</span>:<span class="literal">false</span>&#125;,&#123;<span class="string">&quot;key&quot;</span>:<span class="literal">null</span>,<span class="string">&quot;Id&quot;</span>:<span class="number">13</span>,<span class="string">&quot;Pid&quot;</span>:<span class="number">2</span>,<span class="string">&quot;Name&quot;</span>:<span class="string">&quot;模块2-功能3&quot;</span>,<span class="string">&quot;checked&quot;</span>:<span class="literal">false</span>&#125;,&#123;<span class="string">&quot;key&quot;</span>:<span class="literal">null</span>,<span class="string">&quot;Id&quot;</span>:<span class="number">14</span>,<span class="string">&quot;Pid&quot;</span>:<span class="number">2</span>,<span class="string">&quot;Name&quot;</span>:<span class="string">&quot;模块2-功能4&quot;</span>,<span class="string">&quot;checked&quot;</span>:<span class="literal">false</span>&#125;,&#123;<span class="string">&quot;key&quot;</span>:<span class="literal">null</span>,<span class="string">&quot;Id&quot;</span>:<span class="number">15</span>,<span class="string">&quot;Pid&quot;</span>:<span class="number">2</span>,<span class="string">&quot;Name&quot;</span>:<span class="string">&quot;模块2-功能5&quot;</span>,<span class="string">&quot;checked&quot;</span>:<span class="literal">false</span>&#125;,&#123;<span class="string">&quot;key&quot;</span>:<span class="literal">null</span>,<span class="string">&quot;Id&quot;</span>:<span class="number">3</span>,<span class="string">&quot;Pid&quot;</span>:<span class="number">0</span>,<span class="string">&quot;Name&quot;</span>:<span class="string">&quot;模块3&quot;</span>,<span class="string">&quot;checked&quot;</span>:<span class="literal">false</span>&#125;,&#123;<span class="string">&quot;key&quot;</span>:<span class="number">7</span>,<span class="string">&quot;Id&quot;</span>:<span class="number">16</span>,<span class="string">&quot;Pid&quot;</span>:<span class="number">3</span>,<span class="string">&quot;Name&quot;</span>:<span class="string">&quot;模块3-功能1&quot;</span>,<span class="string">&quot;checked&quot;</span>:<span class="literal">true</span>&#125;,&#123;<span class="string">&quot;key&quot;</span>:<span class="literal">null</span>,<span class="string">&quot;Id&quot;</span>:<span class="number">17</span>,<span class="string">&quot;Pid&quot;</span>:<span class="number">3</span>,<span class="string">&quot;Name&quot;</span>:<span class="string">&quot;模块3-功能2&quot;</span>,<span class="string">&quot;checked&quot;</span>:<span class="literal">false</span>&#125;,&#123;<span class="string">&quot;key&quot;</span>:<span class="literal">null</span>,<span class="string">&quot;Id&quot;</span>:<span class="number">18</span>,<span class="string">&quot;Pid&quot;</span>:<span class="number">3</span>,<span class="string">&quot;Name&quot;</span>:<span class="string">&quot;模块3-功能3&quot;</span>,<span class="string">&quot;checked&quot;</span>:<span class="literal">false</span>&#125;,&#123;<span class="string">&quot;key&quot;</span>:<span class="literal">null</span>,<span class="string">&quot;Id&quot;</span>:<span class="number">19</span>,<span class="string">&quot;Pid&quot;</span>:<span class="number">3</span>,<span class="string">&quot;Name&quot;</span>:<span class="string">&quot;模块3-功能4&quot;</span>,<span class="string">&quot;checked&quot;</span>:<span class="literal">false</span>&#125;,&#123;<span class="string">&quot;key&quot;</span>:<span class="literal">null</span>,<span class="string">&quot;Id&quot;</span>:<span class="number">20</span>,<span class="string">&quot;Pid&quot;</span>:<span class="number">3</span>,<span class="string">&quot;Name&quot;</span>:<span class="string">&quot;模块3-功能5&quot;</span>,<span class="string">&quot;checked&quot;</span>:<span class="literal">false</span>&#125;,&#123;<span class="string">&quot;key&quot;</span>:<span class="literal">null</span>,<span class="string">&quot;Id&quot;</span>:<span class="number">4</span>,<span class="string">&quot;Pid&quot;</span>:<span class="number">0</span>,<span class="string">&quot;Name&quot;</span>:<span class="string">&quot;模块4&quot;</span>,<span class="string">&quot;checked&quot;</span>:<span class="literal">false</span>&#125;,&#123;<span class="string">&quot;key&quot;</span>:<span class="number">7</span>,<span class="string">&quot;Id&quot;</span>:<span class="number">21</span>,<span class="string">&quot;Pid&quot;</span>:<span class="number">4</span>,<span class="string">&quot;Name&quot;</span>:<span class="string">&quot;模块4-功能1&quot;</span>,<span class="string">&quot;checked&quot;</span>:<span class="literal">true</span>&#125;,&#123;<span class="string">&quot;key&quot;</span>:<span class="literal">null</span>,<span class="string">&quot;Id&quot;</span>:<span class="number">22</span>,<span class="string">&quot;Pid&quot;</span>:<span class="number">4</span>,<span class="string">&quot;Name&quot;</span>:<span class="string">&quot;模块4-功能2&quot;</span>,<span class="string">&quot;checked&quot;</span>:<span class="literal">false</span>&#125;,&#123;<span class="string">&quot;key&quot;</span>:<span class="literal">null</span>,<span class="string">&quot;Id&quot;</span>:<span class="number">23</span>,<span class="string">&quot;Pid&quot;</span>:<span class="number">4</span>,<span class="string">&quot;Name&quot;</span>:<span class="string">&quot;模块4-功能3&quot;</span>,<span class="string">&quot;checked&quot;</span>:<span class="literal">false</span>&#125;,&#123;<span class="string">&quot;key&quot;</span>:<span class="literal">null</span>,<span class="string">&quot;Id&quot;</span>:<span class="number">24</span>,<span class="string">&quot;Pid&quot;</span>:<span class="number">4</span>,<span class="string">&quot;Name&quot;</span>:<span class="string">&quot;模块4-功能4&quot;</span>,<span class="string">&quot;checked&quot;</span>:<span class="literal">false</span>&#125;,&#123;<span class="string">&quot;key&quot;</span>:<span class="literal">null</span>,<span class="string">&quot;Id&quot;</span>:<span class="number">25</span>,<span class="string">&quot;Pid&quot;</span>:<span class="number">4</span>,<span class="string">&quot;Name&quot;</span>:<span class="string">&quot;模块4-功能5&quot;</span>,<span class="string">&quot;checked&quot;</span>:<span class="literal">false</span>&#125;,&#123;<span class="string">&quot;key&quot;</span>:<span class="literal">null</span>,<span class="string">&quot;Id&quot;</span>:<span class="number">5</span>,<span class="string">&quot;Pid&quot;</span>:<span class="number">0</span>,<span class="string">&quot;Name&quot;</span>:<span class="string">&quot;模块5&quot;</span>,<span class="string">&quot;checked&quot;</span>:<span class="literal">false</span>&#125;,&#123;<span class="string">&quot;key&quot;</span>:<span class="number">7</span>,<span class="string">&quot;Id&quot;</span>:<span class="number">26</span>,<span class="string">&quot;Pid&quot;</span>:<span class="number">5</span>,<span class="string">&quot;Name&quot;</span>:<span class="string">&quot;模块5-功能1&quot;</span>,<span class="string">&quot;checked&quot;</span>:<span class="literal">true</span>&#125;,&#123;<span class="string">&quot;key&quot;</span>:<span class="literal">null</span>,<span class="string">&quot;Id&quot;</span>:<span class="number">27</span>,<span class="string">&quot;Pid&quot;</span>:<span class="number">5</span>,<span class="string">&quot;Name&quot;</span>:<span class="string">&quot;模块5-功能2&quot;</span>,<span class="string">&quot;checked&quot;</span>:<span class="literal">false</span>&#125;,&#123;<span class="string">&quot;key&quot;</span>:<span class="literal">null</span>,<span class="string">&quot;Id&quot;</span>:<span class="number">28</span>,<span class="string">&quot;Pid&quot;</span>:<span class="number">5</span>,<span class="string">&quot;Name&quot;</span>:<span class="string">&quot;模块5-功能3&quot;</span>,<span class="string">&quot;checked&quot;</span>:<span class="literal">false</span>&#125;,&#123;<span class="string">&quot;key&quot;</span>:<span class="literal">null</span>,<span class="string">&quot;Id&quot;</span>:<span class="number">29</span>,<span class="string">&quot;Pid&quot;</span>:<span class="number">5</span>,<span class="string">&quot;Name&quot;</span>:<span class="string">&quot;模块5-功能4&quot;</span>,<span class="string">&quot;checked&quot;</span>:<span class="literal">false</span>&#125;,&#123;<span class="string">&quot;key&quot;</span>:<span class="literal">null</span>,<span class="string">&quot;Id&quot;</span>:<span class="number">30</span>,<span class="string">&quot;Pid&quot;</span>:<span class="number">5</span>,<span class="string">&quot;Name&quot;</span>:<span class="string">&quot;模块5-功能5&quot;</span>,<span class="string">&quot;checked&quot;</span>:<span class="literal">false</span>&#125;];</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> setting = &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">check</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">enable</span>: <span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;<span class="comment">//数据加载</span></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">keep</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">parent</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">leaf</span>: <span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">simpleData</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">enable</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">idKey</span>: <span class="string">&quot;Id&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">pIdKey</span>: <span class="string">&quot;Pid&quot;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">key</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>: <span class="string">&quot;Name&quot;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">Inint</span>(<span class="params"></span>) &#123;<span class="comment">//初始化加载节点</span></span></span><br><span class="line"><span class="language-javascript">            $.<span class="title function_">ajax</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">global</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">async</span>: <span class="literal">false</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">cache</span>: <span class="literal">false</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">dataType</span>: <span class="string">&quot;json&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">url</span>: <span class="string">&#x27;ajax/test.ashx&#x27;</span>, <span class="comment">//通过一般处理程序生成数据</span></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>: <span class="string">&quot;post&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>:&#123;<span class="string">&quot;roleId&quot;</span>:<span class="title class_">GetQueryString</span>(<span class="string">&quot;roleId&quot;</span>)&#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">data</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    zNodes = data;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;);</span></span><br><span class="line"><span class="language-javascript">        &#125;;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        $(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//Inint();</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> treeObj =$.fn.<span class="property">zTree</span>.<span class="title function_">init</span>($(<span class="string">&quot;#powerTree&quot;</span>), setting, zNodes);</span></span><br><span class="line"><span class="language-javascript">            treeObj.<span class="title function_">expandAll</span>(<span class="literal">true</span>);</span></span><br><span class="line"><span class="language-javascript">            </span></span><br><span class="line"><span class="language-javascript">        &#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">jQuery</span>().<span class="title function_">ready</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            $(<span class="string">&quot;#btnTest&quot;</span>).<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> treeObj = $.fn.<span class="property">zTree</span>.<span class="title function_">getZTreeObj</span>(<span class="string">&quot;powerTree&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> nodes = treeObj.<span class="title function_">getCheckedNodes</span>(<span class="literal">true</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> txt = <span class="string">&quot;&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; nodes.<span class="property">length</span>; i++) &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">if</span> (nodes[i].<span class="property">isParent</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="comment">//txt.replace(nodes[i].Name, &quot;&quot;);</span></span></span><br><span class="line"><span class="language-javascript">                    &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                        txt += nodes[i].<span class="property">Id</span>+<span class="string">&quot;-&quot;</span>+nodes[i].<span class="property">Name</span> + <span class="string">&quot;,&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">                txt = txt.<span class="title function_">replace</span>(<span class="string">&quot;null,&quot;</span>, <span class="string">&quot;&quot;</span>); <span class="comment">//替换选择父节点的id</span></span></span><br><span class="line"><span class="language-javascript">                txt = txt.<span class="title function_">substring</span>(<span class="number">0</span>, txt.<span class="property">length</span> - <span class="number">1</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">alert</span>(txt);</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//var strCheckNodes = JSON.stringify(checkNodes);</span></span></span><br><span class="line"><span class="language-javascript">            &#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        &#125;);</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">&quot;powerTree&quot;</span> <span class="attr">class</span>=<span class="string">&quot;ztree&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">name</span>=<span class="string">&quot;btnTest&quot;</span> <span class="attr">id</span>=<span class="string">&quot;btnTest&quot;</span> <span class="attr">value</span>=<span class="string">&quot;测试节点&quot;</span> /&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">ajax</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Sys_Role_PowerAllot 的摘要说明</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Test</span> : <span class="title">IHttpHandler</span></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">ProcessRequest</span>(<span class="params">HttpContext context</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            </span><br><span class="line">            <span class="built_in">string</span> roleId = context.Request[<span class="string">&quot;roleId&quot;</span>];</span><br><span class="line">            </span><br><span class="line">                List&lt;Sys_Module&gt; list = <span class="keyword">new</span> List&lt;Sys_Module&gt;();</span><br><span class="line">                <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">                &#123;</span><br><span class="line">                    Sys_Module s = <span class="keyword">new</span> Sys_Module();</span><br><span class="line">                    s.Sys_Module_Id = i+<span class="number">1</span>;</span><br><span class="line">                    s.sm_ParentId = i - i;</span><br><span class="line">                    s.sm_Name = <span class="string">&quot;模块&quot;</span> + (i + <span class="number">1</span>);</span><br><span class="line">                    List&lt;Sys_Function&gt; funs = <span class="keyword">new</span> List&lt;Sys_Function&gt;();</span><br><span class="line">                    <span class="keyword">for</span> (<span class="built_in">int</span> j = <span class="number">0</span>; j &lt; <span class="number">5</span>; j++)</span><br><span class="line">                    &#123;</span><br><span class="line">                        Sys_Function fun = <span class="keyword">new</span> Sys_Function();</span><br><span class="line">                        <span class="keyword">if</span> (j == <span class="number">0</span>)</span><br><span class="line">                        &#123;</span><br><span class="line">                            fun.Sys_Function_Id = j + (i + <span class="number">1</span>) * <span class="number">5</span> + <span class="number">1</span>;</span><br><span class="line">                            fun.sf_Description = s.sm_Name + <span class="string">&quot;-功能&quot;</span> + (j + <span class="number">1</span>);</span><br><span class="line">                            fun.sf_AuthorityIndex = <span class="number">7</span>;</span><br><span class="line">                            funs.Add(fun);</span><br><span class="line">                        &#125;</span><br><span class="line">                        fun.Sys_Function_Id = j + (i + <span class="number">1</span>) * <span class="number">5</span> + <span class="number">1</span>;</span><br><span class="line">                        fun.sf_Description = s.sm_Name + <span class="string">&quot;-功能&quot;</span> + (j + <span class="number">1</span>);</span><br><span class="line">                        </span><br><span class="line">                        funs.Add(fun);</span><br><span class="line">                    &#125;</span><br><span class="line">                    s.Functions = funs;</span><br><span class="line">                    list.Add(s);</span><br><span class="line">                &#125;</span><br><span class="line">                </span><br><span class="line">                BindFunction(allModules, roleId);</span><br><span class="line">                </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="built_in">string</span> <span class="title">GetAuthorityStr</span>(<span class="params"><span class="built_in">string</span> nodes</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//string[] checkNodes = nodes.Split(&#x27;,&#x27;);</span></span><br><span class="line">            <span class="comment">//int[] intNodes = Array.ConvertAll&lt;string, int&gt;(checkNodes, delegate(string s) &#123; return int.Parse(s); &#125;);</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//ArrayList arrNodes = new ArrayList(intNodes);</span></span><br><span class="line">            <span class="comment">//arrNodes.Sort();</span></span><br><span class="line">            <span class="comment">//int maxNodeId = Convert.ToInt32(arrNodes[arrNodes.Count - 1]);</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//string sr_AuthorityString = string.Empty;</span></span><br><span class="line">            <span class="comment">//List&lt;string&gt; list = new List&lt;string&gt;();</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//for (int i = 0; i &lt; maxNodeId+1; i++)</span></span><br><span class="line">            <span class="comment">//&#123;</span></span><br><span class="line">            <span class="comment">//    list.Add(&quot;0&quot;);</span></span><br><span class="line">            <span class="comment">//&#125;</span></span><br><span class="line">            <span class="comment">//for (int i = 0; i &lt; intNodes.Length; i++)</span></span><br><span class="line">            <span class="comment">//&#123;</span></span><br><span class="line">            <span class="comment">//    list[intNodes[i]] = &quot;1&quot;;</span></span><br><span class="line">            <span class="comment">//&#125;</span></span><br><span class="line">            <span class="comment">//sr_AuthorityString = string.Join(&quot;&quot;, list.ToArray());</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//sr_AuthorityString = sr_AuthorityString.PadRight(1024, &#x27;0&#x27;);</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            <span class="built_in">string</span>[] checkNodes = nodes.Split(<span class="string">&#x27;,&#x27;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="built_in">string</span> sr_AuthorityString = <span class="built_in">string</span>.Empty;</span><br><span class="line">            sr_AuthorityString= sr_AuthorityString.PadRight(<span class="number">1024</span>, <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; checkNodes.Length; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                sr_AuthorityString = sr_AuthorityString.Remove(Convert.ToInt32(checkNodes[i])<span class="number">-1</span>, <span class="number">1</span>).Insert(Convert.ToInt32(checkNodes[i])<span class="number">-1</span>, <span class="string">&quot;1&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> sr_AuthorityString;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="built_in">string</span> <span class="title">BindFunction</span>(<span class="params">List&lt;Sys_Module&gt; modules,<span class="built_in">string</span> roleId</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            List&lt;TreeData&gt; funTree = <span class="keyword">new</span> List&lt;TreeData&gt;();</span><br><span class="line">            TreeData treeRoot = <span class="keyword">new</span> TreeData();</span><br><span class="line">            treeRoot.Id = <span class="number">0</span>;</span><br><span class="line">            treeRoot.Pid = <span class="number">-1</span>;</span><br><span class="line">            treeRoot.Name = <span class="string">&quot;测试平台&quot;</span>;</span><br><span class="line">            <span class="built_in">char</span>[] cauth = &#123; &#125;;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//Sys_Role_Logic roleLogic = new Sys_Role_Logic();</span></span><br><span class="line">            <span class="comment">//if (!string.IsNullOrEmpty(roleId))</span></span><br><span class="line">            <span class="comment">//&#123;</span></span><br><span class="line">            <span class="comment">//    Sys_Role role = roleLogic.GetModel(Convert.ToInt32(roleId));</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//    string authorityStr = role.sr_AuthorityString.Substring(0, role.sr_AuthorityString.LastIndexOf(&quot;1&quot;)+1);</span></span><br><span class="line">            <span class="comment">//    //string authorityStr = &quot;000000100100100000001000100000000000000&quot;;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//    cauth= authorityStr.ToArray();</span></span><br><span class="line">               </span><br><span class="line">            <span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line">            funTree.Add(treeRoot);</span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; modules.Count; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                AddNodes(funTree, modules[i], treeRoot.Id, cauth);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> JsonHelper.SerializeObject(funTree);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">      </span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> List&lt;TreeData&gt; <span class="title">AddNodes</span>(<span class="params">List&lt;TreeData&gt; trees, Sys_Module module, <span class="built_in">int</span> pid, <span class="built_in">char</span> [] authorityStr</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            TreeData tree = <span class="keyword">new</span> TreeData();</span><br><span class="line">            tree.Id = module.Sys_Module_Id;</span><br><span class="line">            tree.Name = module.sm_Name;</span><br><span class="line">            <span class="keyword">if</span> (pid == <span class="number">0</span>)</span><br><span class="line">                tree.Pid = module.sm_ParentId;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                tree.Pid = pid;</span><br><span class="line">            trees.Add(tree);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">foreach</span> (Sys_Function fun <span class="keyword">in</span> module.Functions)</span><br><span class="line">            &#123;</span><br><span class="line">                trees.Add(AddFunNodes(fun, tree.Id,authorityStr));</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> trees;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> TreeData <span class="title">AddFunNodes</span>(<span class="params">Sys_Function fun, <span class="built_in">int</span> pid, <span class="built_in">char</span> [] authorityStr</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            TreeData tree = <span class="keyword">new</span> TreeData();</span><br><span class="line">            tree.Id = fun.Sys_Function_Id;</span><br><span class="line">            tree.Pid = pid;</span><br><span class="line">            tree.Name = fun.sf_Description;</span><br><span class="line">            tree.key = fun.sf_AuthorityIndex;</span><br><span class="line">            <span class="built_in">int</span> funAuthorityIndex = Convert.ToInt32(fun.sf_AuthorityIndex - <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">if</span> (funAuthorityIndex &lt; authorityStr.Length)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (authorityStr[funAuthorityIndex] == <span class="string">&#x27;1&#x27;</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    tree.@checked = <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    tree.@checked = <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">return</span> tree;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">       </span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">bool</span> IsReusable</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">get</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">TreeData</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">int</span>? key &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">int</span> Id &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">int</span>? Pid &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> Name &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">bool</span>  @checked &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Sys_Function</span></span><br><span class="line">    &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Sys_Function_Id&#123;<span class="keyword">get</span>;<span class="keyword">set</span>;&#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> sf_Description&#123;<span class="keyword">get</span>;<span class="keyword">set</span>;&#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> sf_AuthorityIndex&#123;<span class="keyword">get</span>;<span class="keyword">set</span>;&#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Sys_Module</span></span><br><span class="line">    &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Sys_Module_Id&#123;<span class="keyword">get</span>;<span class="keyword">set</span>;&#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> sm_ParentId&#123;<span class="keyword">get</span>;<span class="keyword">set</span>;&#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> sm_Name&#123;<span class="keyword">get</span>;<span class="keyword">set</span>;&#125;</span><br><span class="line">    <span class="keyword">public</span> List&lt;Sys_Function&gt; Functions&#123;<span class="keyword">get</span>;<span class="keyword">set</span>;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>安装 Office project 2013 时提示找不到 Office.zh-cn&#92;OfficeLR.cab</title>
      <link href="/2015/05/05/an-zhuang-office-project-2013-shi-ti-shi-zhao-bu-dao-officelr.cab/"/>
      <url>/2015/05/05/an-zhuang-office-project-2013-shi-ti-shi-zhao-bu-dao-officelr.cab/</url>
      
        <content type="html"><![CDATA[<p>昨天在安装project 时总是弹出下图中的提示框，在网上搜索了很多办法但是没有解决这个问题。<br><img src="/images/2015050516281801.jpg" alt="2015050516281801.jpg"><br>后来进入到office.zh-cn的文件夹中，在officemui.msi文件中右键卸载，然后在重新安装project就可以了。<br><img src="/images/2015050516281802.jpg" alt="2015050516281802.jpg"></p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>使用Ext 创建树</title>
      <link href="/2014/12/25/shi-yong-ext-chuang-jian-shu/"/>
      <url>/2014/12/25/shi-yong-ext-chuang-jian-shu/</url>
      
        <content type="html"><![CDATA[<p>ext使用的是ext3.4.0版本</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">HTML</span> <span class="keyword">PUBLIC</span> <span class="string">&quot;-//W3C//DTD HTML 4.0 Transitional//EN&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Hello-Ext<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span> <span class="attr">href</span>=<span class="string">&quot;ext/resources/css/ext-all.css&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;ext/adapter/ext/ext-base.js&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;ext/ext-all.js&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;js/win.js&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> &gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">/*Ext.onReady(function () &#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            var win = new Ext.Window(&#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                width: 600,</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                height: 500,</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                title: &quot;测试窗口&quot;,</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                buttons: [&#123; text: &quot;确定&quot; &#125;, &#123;text:&quot;取消&quot;&#125;]</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            &#125;);</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            win.show();</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">        &#125;);*/</span></span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ext创建树的脚本</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">ShowWindow</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">//调用button的on方法设置监听函数</span></span><br><span class="line">    <span class="keyword">var</span> btn = <span class="keyword">new</span> <span class="title class_">Ext</span>.<span class="title class_">Button</span>(&#123;</span><br><span class="line">        <span class="attr">text</span>: <span class="string">&quot;创建一个窗口&quot;</span></span><br><span class="line">    &#125;);</span><br><span class="line">    btn.<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, <span class="title class_">ShowMinWindow</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> win = <span class="keyword">new</span> <span class="title class_">Ext</span>.<span class="title class_">Window</span>(&#123;</span><br><span class="line">        <span class="attr">width</span>: <span class="number">500</span>,</span><br><span class="line">        <span class="attr">height</span>: <span class="number">300</span>,</span><br><span class="line">        <span class="attr">title</span>: <span class="string">&quot;My Ext Window&quot;</span>,</span><br><span class="line">        <span class="attr">maximizable</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">minimizable</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">maximize</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123; win.<span class="title function_">hide</span>(); &#125;,</span><br><span class="line">        <span class="attr">buttons</span>: [&#123; <span class="attr">text</span>: <span class="string">&quot;创建一个带数的窗口&quot;</span>,</span><br><span class="line">            <span class="attr">listeners</span>: &#123;</span><br><span class="line">                <span class="attr">click</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">                    <span class="keyword">var</span> tree = <span class="keyword">new</span> <span class="title class_">Ext</span>.<span class="property">tree</span>.<span class="title class_">TreePanel</span>(&#123;</span><br><span class="line"></span><br><span class="line">                        <span class="attr">width</span>: <span class="number">500</span>,</span><br><span class="line">                        <span class="attr">height</span>: <span class="number">300</span>,</span><br><span class="line">                        <span class="attr">title</span>: <span class="string">&quot;树的测试&quot;</span>,</span><br><span class="line">                        <span class="attr">root</span>: <span class="keyword">new</span> <span class="title class_">Ext</span>.<span class="property">tree</span>.<span class="title class_">AsyncTreeNode</span>(&#123;</span><br><span class="line">                            <span class="attr">text</span>: <span class="string">&quot;子节点1&quot;</span>,</span><br><span class="line">                            <span class="attr">children</span>: [&#123; <span class="attr">text</span>: <span class="string">&quot;子节点11&quot;</span>, <span class="attr">children</span>: [&#123; <span class="attr">text</span>: <span class="string">&quot;子节点111&quot;</span>, <span class="attr">leaf</span>: <span class="literal">true</span>&#125;] &#125;, &#123; <span class="attr">text</span>: <span class="string">&quot;子节点2&quot;</span>, <span class="attr">leaf</span>: <span class="literal">true</span>&#125;]</span><br><span class="line">                        &#125;)</span><br><span class="line">                    &#125;);</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">var</span> w1 = <span class="keyword">new</span> <span class="title class_">Ext</span>.<span class="title class_">Window</span>(&#123;</span><br><span class="line">                        <span class="attr">width</span>: <span class="number">300</span>,</span><br><span class="line">                        <span class="attr">height</span>: <span class="number">400</span>,</span><br><span class="line">                        <span class="attr">title</span>: <span class="string">&quot;树&quot;</span>,</span><br><span class="line">                        <span class="attr">items</span>: [tree]</span><br><span class="line">                    &#125;);</span><br><span class="line">                    <span class="comment">//w1.add(tree);</span></span><br><span class="line">                    w1.<span class="title function_">show</span>();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, btn]</span><br><span class="line">    &#125;);</span><br><span class="line">    win.<span class="title function_">show</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">ShowMinWindow</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> win = <span class="keyword">new</span> <span class="title class_">Ext</span>.<span class="title class_">Window</span>(&#123;</span><br><span class="line">        <span class="attr">width</span>:<span class="number">200</span>,</span><br><span class="line">        <span class="attr">height</span>: <span class="number">100</span>,</span><br><span class="line">        <span class="attr">title</span>:<span class="string">&quot;弹出窗口&quot;</span></span><br><span class="line">    &#125;);</span><br><span class="line">    win.<span class="title function_">show</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Ext</span>.<span class="title function_">onReady</span>(<span class="title class_">ShowWindow</span>);</span><br></pre></td></tr></table></figure><p>效果如下图<br><img src="/images/2014122514251601.jpg" alt="2014122514251601.jpg"></p>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MVC 路由检测组件 Routing Debugger</title>
      <link href="/2014/12/10/mvc-lu-you-jian-ce-zu-jian-routing-debugger/"/>
      <url>/2014/12/10/mvc-lu-you-jian-ce-zu-jian-routing-debugger/</url>
      
        <content type="html"><![CDATA[<p>组件下载地址 <a href="http://haacked.com/archive/2008/03/13/url-routing-debugger.aspx/">haacked.com</a></p><ol><li>在mvc项目中引入组件</li><li>配置route规则</li></ol><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">RegisterRoutes</span>(<span class="params">RouteCollection routes</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//routes.IgnoreRoute(&quot;&#123;resource&#125;.axd/&#123;*pathInfo&#125;&quot;);</span></span><br><span class="line">            <span class="comment">//忽略About页面，不能将它已到mapRoute后面，改方法不是有Route组件提供是System.Web.Mvc下的方法</span></span><br><span class="line">            <span class="comment">//routes.IgnoreRoute(&quot;Home/About&quot;);</span></span><br><span class="line"></span><br><span class="line">            routes.MapRoute(</span><br><span class="line">                <span class="string">&quot;Default&quot;</span>, <span class="comment">// 路由名称</span></span><br><span class="line">                <span class="string">&quot;&#123;controller&#125;/&#123;action&#125;/&#123;id&#125;&quot;</span>, <span class="comment">// 带有参数的 URL</span></span><br><span class="line">                <span class="keyword">new</span> &#123; controller = <span class="string">&quot;Home&quot;</span>, action = <span class="string">&quot;Index&quot;</span>, id = UrlParameter.Optional &#125;, <span class="comment">// 参数默认值</span></span><br><span class="line">                <span class="keyword">new</span> &#123; controller=<span class="string">@&quot;^\w+&quot;</span>,action=<span class="string">@&quot;^\w+&quot;</span>&#125;</span><br><span class="line">            );</span><br><span class="line"></span><br><span class="line">            routes.MapRoute(</span><br><span class="line">                <span class="string">&quot;Filter&quot;</span>, <span class="comment">// 路由名称</span></span><br><span class="line">                <span class="string">&quot;&#123;controller&#125;/&#123;action&#125;/&#123;id&#125;&quot;</span>, <span class="comment">// 带有参数的 URL</span></span><br><span class="line">                <span class="keyword">new</span> &#123; controller = <span class="string">&quot;Filter&quot;</span>, action = <span class="string">&quot;Index&quot;</span>, id = UrlParameter.Optional &#125;, <span class="comment">// 参数默认值</span></span><br><span class="line">                <span class="keyword">new</span> &#123; controller = <span class="string">@&quot;^\w+&quot;</span>, action = <span class="string">@&quot;^\w+&quot;</span> &#125;</span><br><span class="line">            );</span><br><span class="line"></span><br><span class="line">            routes.MapRoute(</span><br><span class="line">                <span class="string">&quot;car&quot;</span>,</span><br><span class="line">                <span class="string">&quot;Car/&#123;make&#125;/&#123;pro&#125;&quot;</span>,</span><br><span class="line">                <span class="keyword">new</span> &#123;controller=<span class="string">&quot;Car&quot;</span>,action=<span class="string">&quot;Index&quot;</span>,id=<span class="number">1</span>&#125;</span><br><span class="line">                );</span><br><span class="line"></span><br><span class="line">            routes.MapRoute(</span><br><span class="line">                <span class="string">&quot;Archive&quot;</span>,</span><br><span class="line">                <span class="string">&quot;Archive/&#123;date&#125;&quot;</span>,</span><br><span class="line">                <span class="keyword">new</span> &#123; controller = <span class="string">&quot;blog&quot;</span>, action = <span class="string">&quot;Archive&quot;</span> &#125;,</span><br><span class="line">                <span class="keyword">new</span> &#123;date=<span class="string">@&quot;^\d&#123;4&#125;-\d&#123;2&#125;-\d&#123;2&#125;&quot;</span> &#125;</span><br><span class="line"></span><br><span class="line">                );</span><br><span class="line"></span><br><span class="line">            routes.MapRoute(</span><br><span class="line">                    <span class="string">&quot;Book&quot;</span>,</span><br><span class="line">                    <span class="string">&quot;Book/Add/&#123;name&#125;&quot;</span>,</span><br><span class="line">                    <span class="keyword">new</span> &#123; controller = <span class="string">&quot;Book&quot;</span>, action = <span class="string">&quot;Add&quot;</span> &#125;,</span><br><span class="line">                    <span class="keyword">new</span> &#123; HttpMethod=<span class="string">&quot;Post&quot;</span>&#125;</span><br><span class="line">                );</span><br><span class="line"></span><br><span class="line">            routes.MapRoute(</span><br><span class="line">                <span class="string">&quot;Product&quot;</span>,</span><br><span class="line">                <span class="string">&quot;Product/&#123;*value&#125;&quot;</span>,<span class="comment">//*表示匹配一切内容</span></span><br><span class="line">                <span class="keyword">new</span> &#123;controller=<span class="string">&quot;Product&quot;</span>,action=<span class="string">&quot;Index&quot;</span> &#125;</span><br><span class="line">                );</span><br><span class="line"></span><br><span class="line">            <span class="comment">/*Dictionary&lt;string, object&gt; defaultRout = new Dictionary&lt;string, object&gt;();</span></span><br><span class="line"><span class="comment">            defaultRout[&quot;action&quot;] = &quot;Index&quot;;</span></span><br><span class="line"><span class="comment">            defaultRout[&quot;id&quot;] = 0;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">            RouteValueDictionary defaultRouteValue = new RouteValueDictionary(defaultRout);</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">            RouteValueDictionary constrainRouteValue = new RouteValueDictionary();</span></span><br><span class="line"><span class="comment">            constrainRouteValue[&quot;controller&quot;] = @&quot;\w+&quot;;</span></span><br><span class="line"><span class="comment">            constrainRouteValue[&quot;id&quot;] = @&quot;\d+&quot;;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">            Route route = new Route(&quot;&#123;controller&#125;/&#123;action&#125;/&#123;id&#125;&quot;, defaultRouteValue, constrainRouteValue, new MvcRouteHandler());*/</span></span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><ol start="3"><li>在Global.asax.cs代码中写入</li></ol><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">Application_Start</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    AreaRegistration.RegisterAllAreas();</span><br><span class="line">    RegisterRoutes(RouteTable.Routes);</span><br><span class="line">    <span class="comment">//设为true表示url指向磁盘上的物理文件也会进行url routing处理，例如一个普通的html页面</span></span><br><span class="line">    RouteTable.Routes.RouteExistingFiles = <span class="literal">true</span>;</span><br><span class="line">    RouteDebug.RouteDebugger.RewriteRoutesForTesting(RouteTable.Routes);</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/images/2014121014461601.jpg" alt="2014121014461601.jpg"></p>]]></content>
      
      
      <categories>
          
          <category> MVC </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MVC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C# 序列化（Binary、Xml、Soap）</title>
      <link href="/2014/12/08/csharp-xu-lie-hua-binary-xml-soap/"/>
      <url>/2014/12/08/csharp-xu-lie-hua-binary-xml-soap/</url>
      
        <content type="html"><![CDATA[<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> System.Linq;</span><br><span class="line"><span class="keyword">using</span> System.Text;</span><br><span class="line"><span class="keyword">using</span> System.IO;</span><br><span class="line"><span class="keyword">using</span> System.Xml.Serialization;</span><br><span class="line"><span class="keyword">using</span> System.Runtime.Serialization.Formatters.Binary;</span><br><span class="line"><span class="keyword">using</span> System.Runtime.Serialization.Formatters.Soap;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">Serialization</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            Student stu = <span class="keyword">new</span> Student(<span class="string">&quot;张三&quot;</span>, <span class="number">30</span>, <span class="string">&quot;登山&quot;</span>);</span><br><span class="line">            </span><br><span class="line">            <span class="comment"><span class="doctag">///</span>/二进制序列化</span></span><br><span class="line">            <span class="comment">//BinaryFormatter bf = new BinaryFormatter();</span></span><br><span class="line">            <span class="comment">//FileStream fs = new FileStream(@&quot;D:\stu.ss&quot;, FileMode.Create);</span></span><br><span class="line">            <span class="comment">//bf.Serialize(fs, stu);</span></span><br><span class="line">            <span class="comment">//fs.Close();</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"><span class="doctag">///</span>/二进制反序列化</span></span><br><span class="line">            <span class="comment">//BinaryFormatter bf = new BinaryFormatter();</span></span><br><span class="line">            <span class="comment">//FileStream fs = new FileStream(@&quot;D:\stu.ss&quot;, FileMode.Open);</span></span><br><span class="line">            <span class="comment">//Student student = (Student)bf.Deserialize(fs);</span></span><br><span class="line">            <span class="comment">//student.method();</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"><span class="doctag">///</span>/xml序列化</span></span><br><span class="line">            <span class="comment">//XmlSerializer xml = new XmlSerializer(typeof(Student));</span></span><br><span class="line">            <span class="comment">//FileStream fs = new FileStream(@&quot;D:\stu.xml&quot;,FileMode.Create);</span></span><br><span class="line">            <span class="comment">//xml.Serialize(fs, stu);</span></span><br><span class="line">            <span class="comment">//fs.Close();</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"><span class="doctag">///</span>/xml反序列化</span></span><br><span class="line">            <span class="comment">//XmlSerializer xml = new XmlSerializer(typeof(Student));</span></span><br><span class="line">            <span class="comment">//FileStream fs = new FileStream(@&quot;D:\stu.xml&quot;, FileMode.Open);</span></span><br><span class="line">            <span class="comment">//Student student = (Student)xml.Deserialize(fs);</span></span><br><span class="line">            <span class="comment">//student.method();</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"><span class="doctag">///</span>/soap序列化</span></span><br><span class="line">            <span class="comment">//SoapFormatter soap = new SoapFormatter();</span></span><br><span class="line">            <span class="comment">//FileStream fs = new FileStream(@&quot;D:\stu.soap&quot;, FileMode.Create);</span></span><br><span class="line">            <span class="comment">//soap.Serialize(fs, stu);</span></span><br><span class="line">            <span class="comment">//fs.Close();</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//soap反序列化</span></span><br><span class="line">            SoapFormatter soap = <span class="keyword">new</span> SoapFormatter();</span><br><span class="line">            FileStream fs = <span class="keyword">new</span> FileStream(<span class="string">@&quot;D:\stu.soap&quot;</span>, FileMode.Open);</span><br><span class="line">            Student student = (Student)soap.Deserialize(fs);</span><br><span class="line">            student.method();</span><br><span class="line"></span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    [<span class="meta">Serializable</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Person</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Person</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Person</span>(<span class="params"><span class="built_in">string</span> name, <span class="built_in">int</span> age</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">this</span>.Name = name;</span><br><span class="line">            <span class="keyword">this</span>.Age = age;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> Name</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">get</span>;</span><br><span class="line">            <span class="keyword">set</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">int</span> Age</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">get</span>;</span><br><span class="line">            <span class="keyword">set</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    [<span class="meta">Serializable</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Student</span> : <span class="title">Person</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Student</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Student</span>(<span class="params"><span class="built_in">string</span> name, <span class="built_in">int</span> age, <span class="built_in">string</span> hobby</span>)</span></span><br><span class="line"><span class="function">            : <span class="title">base</span>(<span class="params">name, age</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">this</span>.Hobby = hobby;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> Hobby</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">get</span>;</span><br><span class="line">            <span class="keyword">set</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;大家好，我叫&#123;0&#125;，今年&#123;1&#125;岁，我喜欢&#123;2&#125;&quot;</span>, <span class="keyword">this</span>.Name, <span class="keyword">this</span>.Age, <span class="keyword">this</span>.Hobby);</span><br><span class="line">            <span class="comment">//Console.ReadLine();</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mvc Action Filter</title>
      <link href="/2014/12/05/mvc-action-filter/"/>
      <url>/2014/12/05/mvc-action-filter/</url>
      
        <content type="html"><![CDATA[<p>mvc Action Filter中OnActionExecuting、OnActionExecuted、OnResultExecuting、OnResultExecuted的执行顺序</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> System.Linq;</span><br><span class="line"><span class="keyword">using</span> System.Web;</span><br><span class="line"><span class="keyword">using</span> System.Web.Mvc;</span><br><span class="line"><span class="keyword">using</span> System.IO;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">MvcApp.ActionFilters</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">SimpleFilterAttribute</span>:<span class="title">ActionFilterAttribute</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">int</span> ID &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">OnActionExecuting</span>(<span class="params">ActionExecutingContext filterContext</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            File.AppendAllText(<span class="string">@&quot;D:\ActionFilterTest.log&quot;</span>, <span class="string">&quot;SimpleFilter &quot;</span> + <span class="keyword">this</span>.ID + <span class="string">&quot; OnActionExecuting! \r\n&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">OnActionExecuted</span>(<span class="params">ActionExecutedContext filterContext</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            File.AppendAllText(<span class="string">@&quot;D:\ActionFilterTest.log&quot;</span>, <span class="string">&quot;SimpleFilter &quot;</span> + <span class="keyword">this</span>.ID + <span class="string">&quot; OnActionExecuted! \r\n&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">OnResultExecuting</span>(<span class="params">ResultExecutingContext filterContext</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            File.AppendAllText(<span class="string">@&quot;D:\ActionFilterTest.log&quot;</span>, <span class="string">&quot;SimpleFilter &quot;</span> + <span class="keyword">this</span>.ID + <span class="string">&quot; OnResultExecuting! \r\n&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">OnResultExecuted</span>(<span class="params">ResultExecutedContext filterContext</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            File.AppendAllText(<span class="string">@&quot;D:\ActionFilterTest.log&quot;</span>, <span class="string">&quot;SimpleFilter &quot;</span> + <span class="keyword">this</span>.ID + <span class="string">&quot; OnResultExecuted! \r\n&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">SimpleFilter(ID = 1, Order = 1)</span>]</span><br><span class="line"> <span class="function"><span class="keyword">public</span> ActionResult <span class="title">Index</span>()</span></span><br><span class="line"> &#123;</span><br><span class="line">     ViewData[<span class="string">&quot;Message&quot;</span>] = <span class="string">&quot;Get the Filter Data!&quot;</span>;</span><br><span class="line">     <span class="keyword">return</span> View();</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><p>这样的执行的结果是<br><img src="/images/2014120514411101.jpg" alt="2014120514411101.jpg"><br>OnActionExecuted可以处理执行过程中的异常</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> System.Linq;</span><br><span class="line"><span class="keyword">using</span> System.Web;</span><br><span class="line"><span class="keyword">using</span> System.Web.Mvc;</span><br><span class="line"><span class="keyword">using</span> System.Web.Routing;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">MvcApp.ActionFilters</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ErrorHandlingFilterAttribute</span>:<span class="title">ActionFilterAttribute</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">OnActionExecuted</span>(<span class="params">ActionExecutedContext filterContext</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (filterContext.Exception != <span class="literal">null</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                filterContext.ExceptionHandled = <span class="literal">true</span>;</span><br><span class="line">                <span class="comment">//Filter是Controllers的名称</span></span><br><span class="line">                filterContext.Result = <span class="keyword">new</span> RedirectToRouteResult(<span class="string">&quot;Filter&quot;</span>, <span class="keyword">new</span> RouteValueDictionary(<span class="keyword">new</span> &#123; action = <span class="string">&quot;OnError&quot;</span> &#125;));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>新建一个OnError的视图</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ActionResult <span class="title">OnError</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    ViewData[<span class="string">&quot;Title&quot;</span>] = <span class="string">&quot;OnError&quot;</span>;</span><br><span class="line">    ViewData[<span class="string">&quot;Message&quot;</span>] = <span class="string">&quot;Error Page!&quot;</span>;</span><br><span class="line">    <span class="keyword">return</span> View();</span><br><span class="line">&#125;</span><br><span class="line">[<span class="meta">ErrorHandlingFilter</span>]</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">RaiseError</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> Exception();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>OnResultExecuting可以用于服务器端的压缩和客户端缓存</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> System.Linq;</span><br><span class="line"><span class="keyword">using</span> System.Web;</span><br><span class="line"><span class="keyword">using</span> System.Web.Mvc;</span><br><span class="line"><span class="keyword">using</span> System.IO.Compression;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">MvcApp.ActionFilters</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">CompressFilterAttribute</span>:<span class="title">ActionFilterAttribute</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">OnResultExecuting</span>(<span class="params">ResultExecutingContext filterContext</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">string</span> accpetEncoding = filterContext.HttpContext.Request.Headers[<span class="string">&quot;Accept-Encoding&quot;</span>];</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">string</span>.IsNullOrEmpty(accpetEncoding))</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            <span class="keyword">var</span> response = filterContext.HttpContext.Response;</span><br><span class="line">            accpetEncoding=accpetEncoding.ToUpperInvariant();</span><br><span class="line">            <span class="keyword">if</span> (accpetEncoding.Contains(<span class="string">&quot;GZIP&quot;</span>))</span><br><span class="line">            &#123;</span><br><span class="line">                response.AddHeader(<span class="string">&quot;content-encoding&quot;</span>, <span class="string">&quot;gzip&quot;</span>);</span><br><span class="line">                response.Filter = <span class="keyword">new</span> GZipStream(response.Filter, CompressionMode.Compress);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (accpetEncoding.Contains(<span class="string">&quot;DEFLATE&quot;</span>))</span><br><span class="line">            &#123;</span><br><span class="line">                response.AddHeader(<span class="string">&quot;content-encoding&quot;</span>, <span class="string">&quot;deflate&quot;</span>);</span><br><span class="line">                response.Filter = <span class="keyword">new</span> DeflateStream(response.Filter, CompressionMode.Compress);</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>新建一个Compress的视图，可以压缩前后的大小</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">CompressFilter</span>]</span><br><span class="line"><span class="function"><span class="keyword">public</span> ActionResult <span class="title">Compress</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> View();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>OnResultExecuting可以用于页面尾部输出信息和异常处理</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> System.Linq;</span><br><span class="line"><span class="keyword">using</span> System.Web;</span><br><span class="line"><span class="keyword">using</span> System.Web.Mvc;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">MvcApp.ActionFilters</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">TraceFilterAttribute</span>:<span class="title">ActionFilterAttribute</span></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">OnResultExecuting</span>(<span class="params">ResultExecutingContext filterContext</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            filterContext.HttpContext.Items[<span class="string">&quot;Start&quot;</span>] = DateTime.Now;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">OnResultExecuted</span>(<span class="params">ResultExecutedContext filterContext</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            DateTime start = (DateTime)filterContext.HttpContext.Items[<span class="string">&quot;Start&quot;</span>];</span><br><span class="line">            TimeSpan ts = DateTime.Now - start;</span><br><span class="line">            filterContext.HttpContext.Response.Write(<span class="string">&quot;&lt;hr /&gt;&quot;</span> + ts.ToString());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>新建一个Timing的视图</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">TraceFilter</span>]</span><br><span class="line"><span class="function"><span class="keyword">public</span> ActionResult <span class="title">Timing</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    Random rdm = <span class="keyword">new</span> Random(DateTime.Now.Millisecond);</span><br><span class="line">    Thread.Sleep(rdm.Next(<span class="number">5</span>) * <span class="number">3000</span>);</span><br><span class="line">    <span class="keyword">return</span> View();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> MVC </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MVC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSS 样式分类</title>
      <link href="/2014/12/03/css-yang-shi-fen-lei/"/>
      <url>/2014/12/03/css-yang-shi-fen-lei/</url>
      
        <content type="html"><![CDATA[<p>CSS样式可以分为三大类：内联样式、内部样式表和外部样式表</p><ol><li>内联样式（样式写在html标签里，只对该标签的内容起作用）</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">&quot;color:red;font-size:48;&quot;</span>&gt;</span>Hello World!<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="2"><li>内部样式（样式写在html的head标签之间，只对该html的内容起作用）</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">body</span>&#123;<span class="attribute">font-size</span>:<span class="number">12px</span>&#125;    </span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="3"><li>外部样式（样式引用写在head标签之间，对引用该css文件的网页起作用）</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">&quot;common.css” rel=&quot;</span><span class="attr">stylesheet</span>&quot; <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p> css样式中#表示id选择器，.表示类选择器</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;font&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;top&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>在html中id是不能重复的。</p>]]></content>
      
      
      <categories>
          
          <category> HTML/CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTML/CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unity3d C# 创建 物体</title>
      <link href="/2014/11/26/unity3d-csharp-chuang-jian-wu-ti/"/>
      <url>/2014/11/26/unity3d-csharp-chuang-jian-wu-ti/</url>
      
        <content type="html"><![CDATA[<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">create</span> : <span class="title">MonoBehaviour</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Use this for initialization</span></span><br><span class="line">    <span class="keyword">public</span> GameObject newObject;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">OnGUI</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(GUI.Button(<span class="keyword">new</span> Rect(<span class="number">10</span>,<span class="number">10</span>,<span class="number">100</span>,<span class="number">50</span>),<span class="string">&quot;开始&quot;</span>))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//创建游戏物体</span></span><br><span class="line">            GameObject instance  = (GameObject)Instantiate(newObject,transform.position,transform.rotation);</span><br><span class="line">            <span class="comment">//获取move脚本中的变量run</span></span><br><span class="line">            GameObject.Find(<span class="string">&quot;3rd Person Controller&quot;</span>).GetComponent&lt;move&gt;().run=<span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">move</span> : <span class="title">MonoBehaviour</span> &#123;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">bool</span> run=<span class="literal">false</span>;</span><br><span class="line">    <span class="built_in">float</span> speed =<span class="number">5.0f</span>;</span><br><span class="line">    <span class="comment">// Update is called once per frame</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span> ()</span> &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(run)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//获取sphere的transform</span></span><br><span class="line">            Transform tf = GameObject.Find(<span class="string">&quot;Sphere&quot;</span>).GetComponent&lt;SphereCollider&gt;().transform;</span><br><span class="line">        </span><br><span class="line">        Transform ren = GameObject.Find(<span class="string">&quot;3rd Person Controller&quot;</span>).GetComponent&lt;CharacterController&gt;().transform;</span><br><span class="line">            </span><br><span class="line">        <span class="keyword">if</span>(ren.position.x&gt;=tf.position.x)</span><br><span class="line">        &#123;</span><br><span class="line">               <span class="comment">//控制物体移动</span></span><br><span class="line">               transform.Translate(Vector3.left,Camera.main.transform);</span><br><span class="line">               <span class="comment">//播放动画</span></span><br><span class="line">               animation.Play(<span class="string">&quot;run&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>查询脚本手册可以参考 <a href="http://game.ceeger.com/">unity3d圣典</a></p>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unity3d 破解</title>
      <link href="/2014/11/14/unity3d-po-jie/"/>
      <url>/2014/11/14/unity3d-po-jie/</url>
      
        <content type="html"><![CDATA[<p>在官网上或者其他地方下载unity3d后</p><p>运行注册机，需要详细的设置可以点击edit<br><img src="/images/2014111411502601.jpg" alt="2014111411502601.jpg"><br><img src="/images/2014111411502602.jpg" alt="2014111411502602.jpg"></p><ol><li><p>点击browse，选择安装unity目录下的Editor文件夹</p></li><li><p>选择path，会提示Pathed</p></li><li><p>点击rand，生成序列号</p></li><li><p>点击cre lic，许可文件会自动在unity安装目录下生成。</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>IIS 配置asp.net 环境</title>
      <link href="/2014/11/06/iis-pei-zhi-asp.net-huan-jing/"/>
      <url>/2014/11/06/iis-pei-zhi-asp.net-huan-jing/</url>
      
        <content type="html"><![CDATA[<p>打开Internet信息服务管理器，在左侧点击“应用程序池”，下面将以asp.net v4.0 程序池为例<br><img src="/images/2014110615091501.jpg" alt="2014110615091501.jpg"><br>在中间的“ASP.NET V4.0”上右键“高级选项”，展开“进程模型”，找“标识”选项，然后在“标识”选项的右侧单击弹出对话框，选择“LocalSystem”点击确定。<br><img src="/images/2014110615091502.jpg" alt="2014110615091502.jpg"><br><strong>注意</strong>64位机器只要将“启动32位应用程序”选项的值修改为true和标识改为LocalSystem就可以了，其他使用机器的默认配置。<br><img src="/images/2014110615091503.jpg" alt="2014110615091503.jpg"><br>然后部署服务</p><p>添加应用程序，在弹出的对话框中填写“别名”，即给要部署的服务起个名字；应用程序池选择我们配置好的“ASP.NET v4.0”；填写物理路径，即要部署服务文件所在磁盘上的位置。<br><img src="/images/2014110615091504.jpg" alt="2014110615091504.jpg"><br>如果有域名，可以选择“Default Web Site”网站后，点击右侧一栏的“编辑绑定”，在弹出的对话框中点击“编辑”弹出一个对话框，然后在对话框的主机名下填写域名，如果有端口冲突，在端口的一项中填写一个没有被占用的端口点击确定。<br><img src="/images/2014110615091505.jpg" alt="2014110615091505.jpg"><br>创建好应用程序后浏览aspnet网页的时候会提示身份验证的问题，只启用匿名验证即可<br><img src="/images/2014110615091506.jpg" alt="2014110615091506.jpg"><br><img src="/images/2014110615091507.jpg" alt="2014110615091507.jpg"></p>]]></content>
      
      
      <categories>
          
          <category> Computer </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Computer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>WCF rest 的帮助页面和缓存机制</title>
      <link href="/2014/11/06/wcf-rest-de-bang-zhu-ye-mian-he-huan-cun-ji-zhi/"/>
      <url>/2014/11/06/wcf-rest-de-bang-zhu-ye-mian-he-huan-cun-ji-zhi/</url>
      
        <content type="html"><![CDATA[<p>打开vs2010 在工具选项中选择扩展管理器——联机库 安装WCF REST Service Template 40(CS)模板</p><p>安装后新建wcf服务应用程序，删除默认建立的文件。</p><p>新建RestWcf4HelpPage.svc，代码如下</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> System.Linq;</span><br><span class="line"><span class="keyword">using</span> System.Runtime.Serialization;</span><br><span class="line"><span class="keyword">using</span> System.ServiceModel;</span><br><span class="line"><span class="keyword">using</span> System.ServiceModel.Activation;</span><br><span class="line"><span class="keyword">using</span> System.ServiceModel.Web;</span><br><span class="line"><span class="keyword">using</span> System.Text;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">RestWcf</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">ServiceBehavior(IncludeExceptionDetailInFaults=false)</span>]</span><br><span class="line">    [<span class="meta">AspNetCompatibilityRequirements(RequirementsMode = AspNetCompatibilityRequirementsMode.Allowed)</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">RestWcf4HelpPage</span> : <span class="title">IRestWcf4HelpPage</span></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        <span class="meta">#<span class="keyword">region</span> IRestWcf4HelpPage 成员</span></span><br><span class="line"></span><br><span class="line">        [<span class="meta">WebGet(UriTemplate=<span class="string">&quot;/Rest/Get/&#123;id&#125;&quot;</span>)</span>]</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="built_in">string</span> <span class="title">GetData</span>(<span class="params"><span class="built_in">string</span> id</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;Hello Rest GetData&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        [<span class="meta">WebInvoke(UriTemplate=<span class="string">&quot;/Rest/Add/&#123;id&#125;&quot;</span>,Method=<span class="string">&quot;POST&quot;</span>)</span>]</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="built_in">string</span> <span class="title">AddData</span>(<span class="params"><span class="built_in">string</span> id</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;Hello Rest AddData&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        [<span class="meta">WebInvoke(UriTemplate = <span class="string">&quot;/Rest/Update/&#123;id&#125;&quot;</span>, Method = <span class="string">&quot;PUT&quot;</span>)</span>]</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="built_in">string</span> <span class="title">UpdateData</span>(<span class="params"><span class="built_in">string</span> id</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;Hello Rest UpdateData&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        [<span class="meta">WebInvoke(UriTemplate = <span class="string">&quot;/Rest/Delete/&#123;id&#125;&quot;</span>, Method = <span class="string">&quot;Delete&quot;</span>)</span>]</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="built_in">string</span> <span class="title">DeleteData</span>(<span class="params"><span class="built_in">string</span> id</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;Hello Rest DeleteData&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    [<span class="meta">XmlSerializerFormat</span>]</span><br><span class="line">    [<span class="meta">ServiceContract</span>]</span><br><span class="line">    <span class="keyword">interface</span> <span class="title">IRestWcf4HelpPage</span></span><br><span class="line">    &#123;</span><br><span class="line">        [<span class="meta">OperationContract</span>]</span><br><span class="line">        <span class="function"><span class="built_in">string</span> <span class="title">GetData</span>(<span class="params"><span class="built_in">string</span> id</span>)</span>;</span><br><span class="line"></span><br><span class="line">        [<span class="meta">OperationContract</span>]</span><br><span class="line">        <span class="function"><span class="built_in">string</span> <span class="title">AddData</span>(<span class="params"><span class="built_in">string</span> id</span>)</span>;</span><br><span class="line"></span><br><span class="line">        [<span class="meta">OperationContract</span>]</span><br><span class="line">        <span class="function"><span class="built_in">string</span> <span class="title">UpdateData</span>(<span class="params"><span class="built_in">string</span> id</span>)</span>;</span><br><span class="line"></span><br><span class="line">        [<span class="meta">OperationContract</span>]</span><br><span class="line">        <span class="function"><span class="built_in">string</span> <span class="title">DeleteData</span>(<span class="params"><span class="built_in">string</span> id</span>)</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>然后在建立RestWcf4Cache.svc，代码如下</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> System.Linq;</span><br><span class="line"><span class="keyword">using</span> System.Runtime.Serialization;</span><br><span class="line"><span class="keyword">using</span> System.ServiceModel;</span><br><span class="line"><span class="keyword">using</span> System.ServiceModel.Activation;</span><br><span class="line"><span class="keyword">using</span> System.ServiceModel.Web;</span><br><span class="line"><span class="keyword">using</span> System.Text;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">RestWcf</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">ServiceBehavior(IncludeExceptionDetailInFaults=false)</span>]</span><br><span class="line">    [<span class="meta">AspNetCompatibilityRequirements(RequirementsMode = AspNetCompatibilityRequirementsMode.Allowed)</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">RestWcf4Cache</span>:<span class="title">IRestWcf4Cache</span></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        <span class="meta">#<span class="keyword">region</span> IRestWcf4Cache 成员</span></span><br><span class="line"></span><br><span class="line">        [<span class="meta">AspNetCacheProfile(<span class="string">&quot;CacheFor10Senconds&quot;</span>)</span>]</span><br><span class="line">        [<span class="meta">WebGet(UriTemplate = <span class="string">&quot;/Rest/Get/&#123;id&#125;&quot;</span>)</span>]</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="built_in">string</span> <span class="title">GetData</span>(<span class="params"><span class="built_in">string</span> id</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;Hello Rest GetData &quot;</span> + DateTime.Now.ToString();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    [<span class="meta">ServiceContract</span>]</span><br><span class="line">    <span class="keyword">interface</span> <span class="title">IRestWcf4Cache</span></span><br><span class="line">    &#123;</span><br><span class="line">        [<span class="meta">OperationContract</span>]</span><br><span class="line">        <span class="function"><span class="built_in">string</span> <span class="title">GetData</span>(<span class="params"><span class="built_in">string</span> id</span>)</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>然后在配置web.config文件，其中duration值缓存的有效时间。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;utf-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">system.web</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">compilation</span> <span class="attr">debug</span>=<span class="string">&quot;true&quot;</span> <span class="attr">targetFramework</span>=<span class="string">&quot;4.0&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">caching</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">outputCacheSettings</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">outputCacheProfiles</span> &gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">add</span> <span class="attr">name</span>=<span class="string">&quot;CacheFor10Senconds&quot;</span> <span class="attr">duration</span>=<span class="string">&quot;10&quot;</span> <span class="attr">varyByParam</span>=<span class="string">&quot;format&quot;</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">add</span> <span class="attr">name</span>=<span class="string">&quot;CacheFor30Senconds&quot;</span> <span class="attr">duration</span>=<span class="string">&quot;30&quot;</span> <span class="attr">varyByParam</span>=<span class="string">&quot;format&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">outputCacheProfiles</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">outputCacheSettings</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">caching</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">system.web</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">system.serviceModel</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">services</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">service</span> <span class="attr">name</span>=<span class="string">&quot;RestWcf.RestWcf4HelpPage&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">endpoint</span> <span class="attr">address</span>=<span class="string">&quot;&quot;</span> <span class="attr">behaviorConfiguration</span>=<span class="string">&quot;RestWcf4HelpPageBehavior&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">binding</span>=<span class="string">&quot;webHttpBinding&quot;</span> <span class="attr">contract</span>=<span class="string">&quot;RestWcf.IRestWcf4HelpPage&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">service</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">service</span> <span class="attr">name</span>=<span class="string">&quot;RestWcf.RestWcf4Cache&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">endpoint</span> <span class="attr">address</span>=<span class="string">&quot;&quot;</span> <span class="attr">behaviorConfiguration</span>=<span class="string">&quot;RestWcf4CacheBehavior&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">binding</span>=<span class="string">&quot;webHttpBinding&quot;</span> <span class="attr">contract</span>=<span class="string">&quot;RestWcf.IRestWcf4Cache&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">service</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">services</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">behaviors</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">endpointBehaviors</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">behavior</span> <span class="attr">name</span>=<span class="string">&quot;RestWcf4HelpPageBehavior&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">webHttp</span> <span class="attr">helpEnabled</span>=<span class="string">&quot;true&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">behavior</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">behavior</span> <span class="attr">name</span>=<span class="string">&quot;RestWcf4CacheBehavior&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">webHttp</span> <span class="attr">helpEnabled</span>=<span class="string">&quot;true&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">behavior</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">endpointBehaviors</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">serviceBehaviors</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">behavior</span> <span class="attr">name</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">serviceMetadata</span> <span class="attr">httpGetEnabled</span>=<span class="string">&quot;true&quot;</span> /&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">serviceDebug</span> <span class="attr">includeExceptionDetailInFaults</span>=<span class="string">&quot;false&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">behavior</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">serviceBehaviors</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">behaviors</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">serviceHostingEnvironment</span> <span class="attr">aspNetCompatibilityEnabled</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">multipleSiteBindingsEnabled</span>=<span class="string">&quot;true&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">system.serviceModel</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">system.webServer</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modules</span> <span class="attr">runAllManagedModulesForAllRequests</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">system.webServer</span>&gt;</span></span><br><span class="line">  </span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><p>帮助页面的效果如下图<br><img src="/images/2014110614561501.jpg" alt="2014110614561501.jpg"><br>get请求结果如下图<br><img src="/images/2014110614561502.jpg" alt="2014110614561502.jpg"><br>缓存效果如图,缓存的时间设置为10s，在10s内结果都是下图，超过时间后就是另一个结果了<br><img src="/images/2014110614561503.jpg" alt="2014110614561503.jpg"></p>]]></content>
      
      
      <categories>
          
          <category> WCF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> WCF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Oracle 配置监听和本地网络服务</title>
      <link href="/2014/11/05/oracle-pei-zhi-jian-ting-he-ben-di-wang-luo-fu-wu/"/>
      <url>/2014/11/05/oracle-pei-zhi-jian-ting-he-ben-di-wang-luo-fu-wu/</url>
      
        <content type="html"><![CDATA[<h3 id="一、配置监听"><a href="#一、配置监听" class="headerlink" title="一、配置监听"></a>一、配置监听</h3><p>在oracle的配置和移植工具中打开Net Configuration Assistant，然后点击下一步。<br><img src="/images/2014110514143301.jpg" alt="2014110514143301.jpg"><br>点击下一步，然后输入监听的名称点击下一步<br><img src="/images/2014110514143302.jpg" alt="2014110514143302.jpg"><br><img src="/images/2014110514143303.jpg" alt="2014110514143303.jpg"><br>点击下一步后如图<br><img src="/images/2014110514143304.jpg" alt="2014110514143304.jpg"><br>点击下一步如图<br><img src="/images/2014110514143305.jpg" alt="2014110514143305.jpg"><br>单击下一步如图<br><img src="/images/2014110514143306.jpg" alt="2014110514143306.jpg"><br>选择否，点击下一步<br><img src="/images/2014110514143307.jpg" alt="2014110514143307.jpg"></p><h3 id="二、配置网络服务"><a href="#二、配置网络服务" class="headerlink" title="二、配置网络服务"></a>二、配置网络服务</h3><p><img src="/images/2014110514143308.jpg" alt="2014110514143308.jpg"><br>点击下一步，然后输入输入名称<br><img src="/images/2014110514143309.jpg" alt="2014110514143309.jpg"><br><img src="/images/2014110514143310.jpg" alt="2014110514143310.jpg"><br>点击下一步<br><img src="/images/2014110514143311.jpg" alt="2014110514143311.jpg"><br>点击下一步，填写主机名（127.0.0.1表示本机，如果要连接其他机器就要填写连接机器的ip地址）<br><img src="/images/2014110514143312.jpg" alt="2014110514143312.jpg"><br>点击下一步<br><img src="/images/2014110514143313.jpg" alt="2014110514143313.jpg"><br>点击下一步，在弹出的对话框中输入用户名和密码<br><img src="/images/2014110514143314.jpg" alt="2014110514143314.jpg"><br>点击确定后看是否验证成功，成功后就直接下一步，到此服务配置完成</p>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Win7 IIS 局域网中无法访问网页</title>
      <link href="/2014/11/05/win7-iis-ju-yu-wang-zhong-wu-fa-fang-wen-wang-ye/"/>
      <url>/2014/11/05/win7-iis-ju-yu-wang-zhong-wu-fa-fang-wen-wang-ye/</url>
      
        <content type="html"><![CDATA[<p>安装好iis后，在局域网中无法浏览网页一，关闭防火墙即可</p><p>或者建立入站规则</p><p>打开控制面板——window防火墙——高级设置<br><img src="/images/2014110513531201.jpg" alt="2014110513531201.jpg"></p><p>在入站规则上右键新建入站规则，选择端口然后下一步<br><img src="/images/2014110513531202.jpg" alt="2014110513531202.jpg"></p><p>选择tcp和特定端口在端口上输入端口号（如80）<br><img src="/images/2014110513531203.jpg" alt="2014110513531203.jpg"><br>然后直接下一步，直到给输入名称的地方起一个便于自己记忆的名称即可。</p>]]></content>
      
      
      <categories>
          
          <category> Computer </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Computer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C# Linq 查询数据库(DataSet)生成 Tree</title>
      <link href="/2014/10/30/csharp-linq-cha-xun-shu-ju-ku-dataset-sheng-cheng-tree/"/>
      <url>/2014/10/30/csharp-linq-cha-xun-shu-ju-ku-dataset-sheng-cheng-tree/</url>
      
        <content type="html"><![CDATA[<p>效果图如下<br><img src="/images/2014103013441201.jpg" alt="2014103013441201.jpg"></p><p>cs代码</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> System.ComponentModel;</span><br><span class="line"><span class="keyword">using</span> System.Data;</span><br><span class="line"><span class="keyword">using</span> System.Drawing;</span><br><span class="line"><span class="keyword">using</span> System.Linq;</span><br><span class="line"><span class="keyword">using</span> System.Text;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Forms;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">TreeView</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">partial</span> <span class="keyword">class</span> <span class="title">FrmTreeView</span> : <span class="title">Form</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">bool</span> isShow = <span class="literal">false</span>;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">FrmTreeView</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            InitializeComponent();</span><br><span class="line">            tvTree.Nodes.Add(<span class="string">&quot;湖南省&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">tsmShowAdd_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (!isShow)</span><br><span class="line">            &#123;</span><br><span class="line">                DataSet ds = DatabaseHelper.GetDataSet();</span><br><span class="line">                AddTreeNode(ds, <span class="string">&quot;cf0dbde5-14d6-44be-9f71-4e5d302afc99&quot;</span>, tvTree.TopNode);</span><br><span class="line">                isShow = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">           </span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">AddTreeNode</span>(<span class="params">DataSet ds,<span class="built_in">string</span> fatherKey,TreeNode Nodes</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">var</span> results = <span class="keyword">from</span> result <span class="keyword">in</span> ds.Tables[<span class="number">0</span>].AsEnumerable() </span><br><span class="line">                          <span class="keyword">where</span> result.Field&lt;<span class="built_in">string</span>&gt;(<span class="string">&quot;SYS_FATHERKEY&quot;</span>) == fatherKey </span><br><span class="line">                          <span class="keyword">select</span> result;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">foreach</span> (<span class="keyword">var</span> item <span class="keyword">in</span> results)</span><br><span class="line">            &#123;</span><br><span class="line">                TreeNode node = <span class="keyword">new</span> TreeNode();</span><br><span class="line">                node.Text = item.Field&lt;<span class="built_in">string</span>&gt;(<span class="string">&quot;SYS_NAME&quot;</span>);</span><br><span class="line">                </span><br><span class="line">                <span class="keyword">if</span> (Nodes == <span class="literal">null</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    tvTree.Nodes.Add(Nodes);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    Nodes.Nodes.Add(node);</span><br><span class="line">                &#125;</span><br><span class="line">                AddTreeNode(ds, item.Field&lt;<span class="built_in">string</span>&gt;(<span class="string">&quot;SYS_KEY&quot;</span>),node);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>数据库表的结构如下<br><img src="/images/2014103013441202.jpg" alt="2014103013441202.jpg"></p>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>笔记本Win8 换Win7 设置 BIOS</title>
      <link href="/2014/10/21/bi-ji-ben-win8-huan-win7-she-zhi-bios/"/>
      <url>/2014/10/21/bi-ji-ben-win8-huan-win7-she-zhi-bios/</url>
      
        <content type="html"><![CDATA[<p>去年买了台笔记本，笔记本自带win8系统，想安装Win7折腾了好久都没有安装成功</p><p>后来在BIOS中找到了一个uefi&#x2F;legacy boot项，将原来的uefi only 修改为legacy only</p><p>重启电脑就可以安装win7系统了</p>]]></content>
      
      
      <categories>
          
          <category> Computer </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Computer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Silverlight 中图片路径的设置</title>
      <link href="/2014/10/21/silverlight-zhong-tu-pian-lu-jing-de-she-zhi/"/>
      <url>/2014/10/21/silverlight-zhong-tu-pian-lu-jing-de-she-zhi/</url>
      
        <content type="html"><![CDATA[<p>在Silverlight中图片的设置方法有几种<br><img src="/images/2014102114271201.jpg" alt="2014102114271201.jpg"><br>如上图在一个工程中有个images文件夹，buttons.xaml页面中的Image控件要引用一张图片</p><p>第一种方法</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xaml: &lt;Image x:Name=<span class="string">&quot;myImage&quot;</span> Source=<span class="string">&quot;/SilverlightCreate;component/images/MyImage1.png&quot;</span> /&gt;</span><br><span class="line"></span><br><span class="line">code: myImage.Source = <span class="keyword">new</span> BitmapImage(<span class="keyword">new</span> Uri(<span class="string">&quot;/SilverlightCreate;component/Images/MyImage1.png&quot;</span>, UriKind.Relative));</span><br></pre></td></tr></table></figure><p>这个Uri有如下3部分：</p><ul><li>&#x2F;SilverlightCreate 是Image所在的Assembly的名字，前面的”&#x2F;“是必须的。</li><li>“;component&#x2F;“是Assembly名字和在此Assembly下具体路径之间的分隔符，必须要有。</li><li>“images&#x2F;MyImage1.png” 就是所在Assembly中的路径。</li></ul><p>第二种方法</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xaml: &lt;Image x:Name=<span class="string">&quot;myImage&quot;</span> Source=<span class="string">&quot;images/MyImage1.png&quot;</span> /&gt;</span><br></pre></td></tr></table></figure><p>参考文章</p><p><a href="http://blogs.msdn.com/b/xusun/archive/2008/12/31/silverlight.aspx">http://blogs.msdn.com/b/xusun/archive/2008/12/31/silverlight.aspx</a></p>]]></content>
      
      
      <categories>
          
          <category> Silverlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Silverlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VS 2010 快捷键大全</title>
      <link href="/2014/10/20/vs-2010-kuai-jie-jian-da-quan/"/>
      <url>/2014/10/20/vs-2010-kuai-jie-jian-da-quan/</url>
      
        <content type="html"><![CDATA[<p>Ctrl+E,D —-格式化全部代码<br>Ctrl+E,F —-格式化选中的代码<br>CTRL + SHIFT + B生成解决方案<br>CTRL + F7 生成编译<br>CTRL + O 打开文件<br>CTRL + SHIFT + O打开项目<br>CTRL + SHIFT + C显示类视图窗口<br>F4 显示属性窗口<br>SHIFT + F4显示项目属性窗口<br>CTRL + SHIFT + E显示资源视图<br>F12 转到定义<br>CTRL + F12转到声明<br>CTRL + ALT + J对象浏览<br>CTRL + ALT + F1帮助目录<br>CTRL + F1 动态帮助<br>F1 帮助<br>SHIFT + F1当前窗口帮助<br>CTRL + ALT + F3帮助-搜索<br>SHIFT + ALT + ENTER全屏显示<br>CTRL + -向后定位<br>CTRL + SHIFT + -向前定位<br>CTRL + F4关闭文档窗口<br>CTRL + PAGE DOWN光标定位到窗口上方<br>CTRL + PAGE UP光标定位到窗口下方<br>CTRL + F6<br>CTRL + TAB下一个文档窗口<br>CTRL + SHIFT + F6<br>CTRL + SHIFT + TAB上一个文档窗口<br>ALT + F6下一个面板窗口<br>CTRL + K, CTRL + L取消remark<br>CTRL + K, CTRL + C注释选择的代码<br>CTRL + K, CTRL + U取消对选择代码的注释<br>CTRL + M, CTRL + O折叠代码定义<br>CTRL + M, CTRL + L展开代码定义<br>CTRL + DELETE删除至词尾<br>CTRL + BACKSPACE删除至词头<br>SHIFT + TAB取消制表符<br>CTRL + U转小写<br>CTRL + SHIFT + U转大写<br>CTRL + SHIFT + END选择至文档末尾<br>CTRL + SHIFT + HOME选择至文档末尾开始<br>SHIFT + END选择至行尾<br>SHIFT + HOME选择至行开始处<br>SHIFT + ALT + END垂直选择到最后尾<br>SHIFT + ALT + HOME垂直选择到最前面<br>CTRL + SHIFT + PAGE UP选择至本页前面<br>CTRL + SHIFT + PAGE DOWN选择至本页后面<br>CTRL + END文档定位到最后<br>CTRL + HOME文档定位到最前<br>CTRL + A全选<br>CTRL + W选择当前单词<br>CTRL + G转到…<br>CTRL + K, CTRL + P上一个标签<br>CTRL + K, CTRL + N下一个标签<br>ALT + F10调试-ApplyCodeChanges<br>CTRL + ALT+ Break停止调试<br>CTRL + SHIFT + F9 取消所有断点<br>CTRL + F9允许中断<br>CTRL + SHIFT + F5调试-重新开始<br>F5运行调试<br>CTRL + F5运行不调试<br>F10跨过程序执行<br>F11单步逐句执行<br>CTRL + J列出成员<br>CTRL + PAGE DOWN下一个视图<br>CTRL + B格式-粗体<br>CTRL + SHIFT + T格式-文字缩进<br><strong>调试快捷键</strong><br>F6: 生成解决方案<br>Ctrl+F6: 生成当前项目<br>F7: 查看代码<br>Shift+F7: 查看窗体设计器<br>F5: 启动调试<br>Ctrl+F5: 开始执行(不调试)<br>Shift+F5: 停止调试<br>Ctrl+Shift+F5: 重启调试<br>F9: 切换断点<br>Ctrl+F9: 启用&#x2F;停止断点<br>Ctrl+Shift+F9: 删除全部断点<br>F10: 逐过程<br>Ctrl+F10: 运行到光标处<br>F11: 逐语句<br><strong>编辑快捷键</strong><br>Shift+Alt+Enter: 切换全屏编辑<br>Ctrl+B,T &#x2F; Ctrl+K,K: 切换书签开关<br>Ctrl+B,N &#x2F; Ctrl+K,N: 移动到下一书签<br>Ctrl+B,P: 移动到上一书签<br>Ctrl+B,C: 清除全部标签<br>Ctrl+I: 渐进式搜索<br>Ctrl+Shift+I: 反向渐进式搜索<br>Ctrl+F: 查找<br>Ctrl+Shift+F: 在文件中查找<br>F3: 查找下一个<br>Shift+F3: 查找上一个<br>Ctrl+H: 替换<br>Ctrl+Shift+H: 在文件中替换<br>Alt+F12: 查找符号(列出所有查找结果)<br>Ctrl+Shift+V: 剪贴板循环<br>Ctrl+左右箭头键: 一次可以移动一个单词<br>Ctrl+上下箭头键: 滚动代码屏幕，但不移动光标位置。<br>Ctrl+Shift+L: 删除当前行<br>Ctrl+M,M: 隐藏或展开当前嵌套的折叠状态<br>Ctrl+M,L: 将所有过程设置为相同的隐藏或展开状态<br>Ctrl+M,P: 停止大纲显示<br>Ctrl+E,S: 查看空白<br>Ctrl+E,W: 自动换行<br>Ctrl+G: 转到指定行<br>Shift+Alt+箭头键: 选择矩形文本<br>Alt+鼠标左按钮: 选择矩形文本<br>Ctrl+Shift+U: 全部变为大写<br>Ctrl+U: 全部变为小写<br><strong>代码快捷键</strong><br>Ctrl+J &#x2F; Ctrl+K,L: 列出成员<br>Ctrl+Shift+空格键 &#x2F; Ctrl+K,P: 参数信息<br>Ctrl+K,I: 快速信息<br>Ctrl+E,C &#x2F; Ctrl+K,C: 注释选定内容<br>Ctrl+E,U &#x2F; Ctrl+K,U: 取消选定注释内容<br>Ctrl+K,M: 生成方法存根<br>Ctrl+K,X: 插入代码段<br>Ctrl+K,S: 插入外侧代码<br>F12: 转到所调用过程或变量的定义<br>窗口快捷键<br>Ctrl+W,W: 浏览器窗口<br>Ctrl+W,S: 解决方案管理器<br>Ctrl+W,C: 类视图<br>Ctrl+W,E: 错误列表<br>Ctrl+W,O: 输出视图<br>Ctrl+W,P: 属性窗口<br>Ctrl+W,T: 任务列表<br>Ctrl+W,X: 工具箱<br>Ctrl+W,B: 书签窗口<br>Ctrl+W,U: 文档大纲<br>Ctrl+D,B: 断点窗口<br>Ctrl+D,I: 即时窗口<br>Ctrl+Tab: 活动窗体切换<br>Ctrl+Shift+N: 新建项目<br>Ctrl+Shift+O: 打开项目<br>Ctrl+Shift+S: 全部保存<br>Shift+Alt+C: 新建类<br>Ctrl+Shift+A: 新建项</p><p>转载至</p><p><a href="http://www.cnblogs.com/HelloMyWorld/archive/2013/02/20/2919443.html">http://www.cnblogs.com/HelloMyWorld/archive/2013/02/20/2919443.html</a></p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Silverlight 用DependencyProperty 自定义ImageButton控件 定义属性</title>
      <link href="/2014/10/20/silverlight-yong-dependencyproperty-zi-ding-yi-imagebutton-kong-jian-ding-yi-shu-xing/"/>
      <url>/2014/10/20/silverlight-yong-dependencyproperty-zi-ding-yi-imagebutton-kong-jian-ding-yi-shu-xing/</url>
      
        <content type="html"><![CDATA[<p>为ImageButton自定义IconSource和Contents属性</p><p>xaml代码</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;UserControl x:Class=<span class="string">&quot;SilverlightCreate.SilverlightButtons&quot;</span></span><br><span class="line">    xmlns=<span class="string">&quot;http://schemas.microsoft.com/winfx/2006/xaml/presentation&quot;</span></span><br><span class="line">    xmlns:x=<span class="string">&quot;http://schemas.microsoft.com/winfx/2006/xaml&quot;</span></span><br><span class="line">    xmlns:d=<span class="string">&quot;http://schemas.microsoft.com/expression/blend/2008&quot;</span></span><br><span class="line">    xmlns:mc=<span class="string">&quot;http://schemas.openxmlformats.org/markup-compatibility/2006&quot;</span></span><br><span class="line">    mc:Ignorable=<span class="string">&quot;d&quot;</span></span><br><span class="line">    d:DesignHeight=<span class="string">&quot;30&quot;</span> d:DesignWidth=<span class="string">&quot;100&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">    &lt;Grid x:Name=<span class="string">&quot;LayoutRoot&quot;</span> Background=<span class="string">&quot;Transparent&quot;</span>&gt;</span><br><span class="line">        &lt;StackPanel x:Name=<span class="string">&quot;myButton&quot;</span> Orientation=<span class="string">&quot;Horizontal&quot;</span> &gt;</span><br><span class="line">            &lt;Image x:Name=<span class="string">&quot;myImg&quot;</span> Stretch=<span class="string">&quot;None&quot;</span>  /&gt;</span><br><span class="line">            &lt;TextBlock x:Name=<span class="string">&quot;myText&quot;</span> VerticalAlignment=<span class="string">&quot;Center&quot;</span> FontSize=<span class="string">&quot;13&quot;</span> Padding=<span class="string">&quot;5&quot;</span> /&gt;</span><br><span class="line">        &lt;/StackPanel&gt;</span><br><span class="line">        &lt;Rectangle x:Name=<span class="string">&quot;myRectangle&quot;</span> Margin=<span class="string">&quot;-3&quot;</span> /&gt;</span><br><span class="line">    &lt;/Grid&gt;</span><br><span class="line">&lt;/UserControl&gt;</span><br></pre></td></tr></table></figure><p>下面开始自定义属性内容，自定义属性要用 依赖属性类 DependencyProperty</p><p>public static readonly DependencyProperty MyPropertyProperty &#x3D;<br>            DependencyProperty.Register(“MyProperty”, typeof(int), typeof(ownerclass), new UIPropertyMetadata(0));</p><p>DependencyProperty 的Register 方法中有四个参数，第一个是自定的属性，第二个自定义属性的参数类型，第三个是自定义属性所属类，第四个是属性元数据的实例，参数类型是PropertyMetadata。</p><p>使用vs2010的小技巧，生成依赖属性可以输入propdp，然后按两下Tab键，就会自动生成如下代码<br><img src="/images/2014102010561201.jpg" alt="2014102010561201.jpg"></p><p>cs代码</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> System.Linq;</span><br><span class="line"><span class="keyword">using</span> System.Net;</span><br><span class="line"><span class="keyword">using</span> System.Windows;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Controls;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Documents;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Input;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Media;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Media.Animation;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Shapes;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Media.Imaging;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">SilverlightCreate</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">partial</span> <span class="keyword">class</span> <span class="title">SilverlightButtons</span> : <span class="title">UserControl</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">SilverlightButtons</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            InitializeComponent();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 自定义控件文本</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> Contents</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">get</span> &#123; <span class="keyword">return</span> (<span class="built_in">string</span>)GetValue(ContentsProperty); &#125;</span><br><span class="line">            <span class="keyword">set</span> &#123; SetValue(ContentsProperty, <span class="keyword">value</span>); &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 自定义控件图片</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="keyword">public</span> ImageSource IconSource</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">get</span> &#123; <span class="keyword">return</span> (ImageSource)GetValue(IconSourceProperty); &#125;</span><br><span class="line">            <span class="keyword">set</span> &#123; SetValue(IconSourceProperty, <span class="keyword">value</span>); &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 自定义控件背景色</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="keyword">public</span> Brush ButtonBackGround</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">get</span> &#123; <span class="keyword">return</span> (SolidColorBrush)GetValue(ButtonBackGroundProperty); &#125;</span><br><span class="line">            <span class="keyword">set</span> &#123; SetValue(ButtonBackGroundProperty, <span class="keyword">value</span>); &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 自定义控件文字颜色</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="keyword">public</span> Brush FontColor</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">get</span> &#123; <span class="keyword">return</span> (Brush)GetValue(FontColorProperty); &#125;</span><br><span class="line">            <span class="keyword">set</span> &#123; SetValue(FontColorProperty, <span class="keyword">value</span>); &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 自定义控件边框默认颜色</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="keyword">public</span> Brush DefaultStroke</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">get</span> &#123; <span class="keyword">return</span> (Brush)GetValue(DefaultStrokeProperty); &#125;</span><br><span class="line">            <span class="keyword">set</span> &#123; SetValue(DefaultStrokeProperty, <span class="keyword">value</span>); &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 自定义控件边框高亮颜色</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="keyword">public</span> Brush HighLightStroke</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">get</span> &#123; <span class="keyword">return</span> (Brush)GetValue(HighLightStrokeProperty); &#125;</span><br><span class="line">            <span class="keyword">set</span> &#123; SetValue(HighLightStrokeProperty, <span class="keyword">value</span>); &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 自定义控件填充默认颜色</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="keyword">public</span> Brush DefaultFill</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">get</span> &#123; <span class="keyword">return</span> (Brush)GetValue(DefaultFillProperty); &#125;</span><br><span class="line">            <span class="keyword">set</span> &#123; SetValue(DefaultFillProperty, <span class="keyword">value</span>); &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 自定义控件填充高亮颜色</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="keyword">public</span> Brush HighLightFill</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">get</span> &#123; <span class="keyword">return</span> (Brush)GetValue(HighLightFillProperty); &#125;</span><br><span class="line">            <span class="keyword">set</span> &#123; SetValue(HighLightFillProperty, <span class="keyword">value</span>); &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 自定义控件边框厚度</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">double</span> StrokeThickness</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">get</span> &#123; <span class="keyword">return</span> (<span class="built_in">double</span>)GetValue(StrokeThicknessProperty); &#125;</span><br><span class="line">            <span class="keyword">set</span> &#123; SetValue(StrokeThicknessProperty, <span class="keyword">value</span>); &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 自定控件边框圆角x</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">double</span> RadiusX</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">get</span> &#123; <span class="keyword">return</span> (<span class="built_in">double</span>)GetValue(RadiusXProperty); &#125;</span><br><span class="line">            <span class="keyword">set</span> &#123; SetValue(RadiusXProperty, <span class="keyword">value</span>); &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 自定控件边框圆角y</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">double</span> RadiusY</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">get</span> &#123; <span class="keyword">return</span> (<span class="built_in">double</span>)GetValue(RadiusYProperty); &#125;</span><br><span class="line">            <span class="keyword">set</span> &#123; SetValue(RadiusYProperty, <span class="keyword">value</span>); &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">readonly</span> DependencyProperty ContentsProperty = </span><br><span class="line">            DependencyProperty.Register(<span class="string">&quot;Contents&quot;</span>, <span class="keyword">typeof</span>(<span class="built_in">string</span>), <span class="keyword">typeof</span>(SilverlightButtons), <span class="keyword">new</span> PropertyMetadata(ContentsChanged));</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">ContentsChanged</span>(<span class="params">DependencyObject sender, DependencyPropertyChangedEventArgs e</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            SilverlightButtons button = sender <span class="keyword">as</span> SilverlightButtons;</span><br><span class="line">            <span class="keyword">if</span> (button != <span class="literal">null</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (e.NewValue != <span class="literal">null</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    String NewValue = e.NewValue <span class="keyword">as</span> String;</span><br><span class="line">                    button.myText.Text = NewValue;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                button.myText.Text = String.Empty;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">readonly</span> DependencyProperty IconSourceProperty = </span><br><span class="line">            DependencyProperty.Register(<span class="string">&quot;IconSource&quot;</span>, <span class="keyword">typeof</span>(ImageSource), <span class="keyword">typeof</span>(SilverlightButtons), <span class="keyword">new</span> PropertyMetadata(IconSourceSourceChanged));</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">IconSourceSourceChanged</span>(<span class="params">DependencyObject sender, DependencyPropertyChangedEventArgs e</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            SilverlightButtons button = sender <span class="keyword">as</span> SilverlightButtons;</span><br><span class="line">            <span class="keyword">if</span> (button != <span class="literal">null</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (e.NewValue != <span class="literal">null</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    ImageSource source = e.NewValue <span class="keyword">as</span> ImageSource;</span><br><span class="line">                    button.myImg.Source = source;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                button.myImg.Source = <span class="literal">null</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">readonly</span> DependencyProperty ButtonBackGroundProperty = </span><br><span class="line">            DependencyProperty.Register(<span class="string">&quot;ButtonBackGround&quot;</span>, <span class="keyword">typeof</span>(Brush), <span class="keyword">typeof</span>(SilverlightButtons), <span class="keyword">new</span> PropertyMetadata(ButtonBackGroundChanged));</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">ButtonBackGroundChanged</span>(<span class="params">DependencyObject sender, DependencyPropertyChangedEventArgs e</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            SilverlightButtons button = sender <span class="keyword">as</span> SilverlightButtons;</span><br><span class="line">            <span class="keyword">if</span> (button != <span class="literal">null</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (e.NewValue != <span class="literal">null</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    SolidColorBrush brush = e.NewValue <span class="keyword">as</span> SolidColorBrush;</span><br><span class="line">                    button.myButton.Background = brush;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                button.myButton.Background = <span class="literal">null</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">       </span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">readonly</span> DependencyProperty FontColorProperty =</span><br><span class="line">            DependencyProperty.Register(<span class="string">&quot;FontColor&quot;</span>, <span class="keyword">typeof</span>(Brush), <span class="keyword">typeof</span>(SilverlightButtons), <span class="keyword">new</span> PropertyMetadata(FontColorChanged));</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">FontColorChanged</span>(<span class="params">DependencyObject sender, DependencyPropertyChangedEventArgs e</span>)</span></span><br><span class="line">        &#123; </span><br><span class="line">            SilverlightButtons button = sender <span class="keyword">as</span> SilverlightButtons;</span><br><span class="line">            <span class="keyword">if</span> (button != <span class="literal">null</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (e.NewValue != <span class="literal">null</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    SolidColorBrush brush = e.NewValue <span class="keyword">as</span> SolidColorBrush;</span><br><span class="line">                    button.myText.Foreground = brush;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                button.myText.Foreground = <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">readonly</span> DependencyProperty DefaultStrokeProperty =</span><br><span class="line">            DependencyProperty.Register(<span class="string">&quot;DefaultStroke&quot;</span>, <span class="keyword">typeof</span>(Brush), <span class="keyword">typeof</span>(SilverlightButtons), <span class="keyword">new</span> PropertyMetadata(DefaultStrokeChanged));</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">DefaultStrokeChanged</span>(<span class="params">DependencyObject sender, DependencyPropertyChangedEventArgs e</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            SilverlightButtons button = sender <span class="keyword">as</span> SilverlightButtons;</span><br><span class="line">            <span class="keyword">if</span> (button != <span class="literal">null</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (e.NewValue != <span class="literal">null</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    button.myRectangle.Stroke = e.NewValue <span class="keyword">as</span> Brush;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                button.myRectangle.Stroke = <span class="keyword">new</span> SolidColorBrush(Colors.Transparent);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">readonly</span> DependencyProperty HighLightStrokeProperty =</span><br><span class="line">            DependencyProperty.Register(<span class="string">&quot;HighLightStroke&quot;</span>, <span class="keyword">typeof</span>(Brush), <span class="keyword">typeof</span>(SilverlightButtons), <span class="keyword">new</span> PropertyMetadata(HighLightStrokeChanged));</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">HighLightStrokeChanged</span>(<span class="params">DependencyObject sender, DependencyPropertyChangedEventArgs e</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            SilverlightButtons button = sender <span class="keyword">as</span> SilverlightButtons;</span><br><span class="line">            <span class="keyword">if</span> (button != <span class="literal">null</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (e.NewValue != <span class="literal">null</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    button.myRectangle.Stroke = e.NewValue <span class="keyword">as</span> Brush;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                button.myRectangle.Stroke = <span class="literal">null</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">readonly</span> DependencyProperty DefaultFillProperty =</span><br><span class="line">            DependencyProperty.Register(<span class="string">&quot;DefaultFill&quot;</span>, <span class="keyword">typeof</span>(Brush), <span class="keyword">typeof</span>(SilverlightButtons), <span class="keyword">new</span> PropertyMetadata(DefaultFillChanged));</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">DefaultFillChanged</span>(<span class="params">DependencyObject sender, DependencyPropertyChangedEventArgs e</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            SilverlightButtons button = sender <span class="keyword">as</span> SilverlightButtons;</span><br><span class="line">            <span class="keyword">if</span> (button != <span class="literal">null</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (e.NewValue != <span class="literal">null</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    button.myRectangle.Fill = e.NewValue <span class="keyword">as</span> Brush;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                button.myRectangle.Fill = <span class="keyword">new</span> SolidColorBrush(Colors.Transparent);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">readonly</span> DependencyProperty HighLightFillProperty =</span><br><span class="line">            DependencyProperty.Register(<span class="string">&quot;HighLightFill&quot;</span>, <span class="keyword">typeof</span>(Brush), <span class="keyword">typeof</span>(SilverlightButtons), <span class="keyword">new</span> PropertyMetadata(HighLightFillChanged));</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">HighLightFillChanged</span>(<span class="params">DependencyObject sender, DependencyPropertyChangedEventArgs e</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            SilverlightButtons button = sender <span class="keyword">as</span> SilverlightButtons;</span><br><span class="line">            <span class="keyword">if</span> (button != <span class="literal">null</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (e.NewValue != <span class="literal">null</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    button.myRectangle.Fill = e.NewValue <span class="keyword">as</span> Brush;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                button.myRectangle.Fill = <span class="literal">null</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">readonly</span> DependencyProperty StrokeThicknessProperty =</span><br><span class="line">            DependencyProperty.Register(<span class="string">&quot;StrokeThickness&quot;</span>, <span class="keyword">typeof</span>(<span class="built_in">double</span>), <span class="keyword">typeof</span>(SilverlightButtons), <span class="keyword">new</span> PropertyMetadata(StrokeThicknessChanged));</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">StrokeThicknessChanged</span>(<span class="params">DependencyObject sender, DependencyPropertyChangedEventArgs e</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            SilverlightButtons button = sender <span class="keyword">as</span> SilverlightButtons;</span><br><span class="line">            <span class="keyword">if</span> (button != <span class="literal">null</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (e.NewValue != <span class="literal">null</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    button.myRectangle.StrokeThickness = Convert.ToDouble(e.NewValue);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                button.myRectangle.StrokeThickness = <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">readonly</span> DependencyProperty RadiusXProperty =</span><br><span class="line">            DependencyProperty.Register(<span class="string">&quot;RadiusX&quot;</span>, <span class="keyword">typeof</span>(<span class="built_in">double</span>), <span class="keyword">typeof</span>(SilverlightButtons), <span class="keyword">new</span> PropertyMetadata(RadiusXChanged));</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">RadiusXChanged</span>(<span class="params">DependencyObject sender, DependencyPropertyChangedEventArgs e</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            SilverlightButtons button = sender <span class="keyword">as</span> SilverlightButtons;</span><br><span class="line">            <span class="keyword">if</span> (button != <span class="literal">null</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (e.NewValue != <span class="literal">null</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    button.myRectangle.RadiusX = Convert.ToDouble(e.NewValue);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                button.myRectangle.RadiusX = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">readonly</span> DependencyProperty RadiusYProperty =</span><br><span class="line">            DependencyProperty.Register(<span class="string">&quot;RadiusY&quot;</span>, <span class="keyword">typeof</span>(<span class="built_in">double</span>), <span class="keyword">typeof</span>(SilverlightButtons), <span class="keyword">new</span> PropertyMetadata(RadiusYChanged));</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">RadiusYChanged</span>(<span class="params">DependencyObject sender, DependencyPropertyChangedEventArgs e</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            SilverlightButtons button = sender <span class="keyword">as</span> SilverlightButtons;</span><br><span class="line">            <span class="keyword">if</span> (button != <span class="literal">null</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (e.NewValue != <span class="literal">null</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    button.myRectangle.RadiusY = Convert.ToDouble(e.NewValue);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                button.myRectangle.RadiusY = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>自定义控件做好后就可以运用该控件了，如下图，鼠标移上去会出现边框<br><img src="/images/2014102010561202.jpg" alt="2014102010561202.jpg"></p><p>xaml代码</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;UserControl x:Class=<span class="string">&quot;SilverlightCreate.CustomControl&quot;</span></span><br><span class="line">    xmlns=<span class="string">&quot;http://schemas.microsoft.com/winfx/2006/xaml/presentation&quot;</span></span><br><span class="line">    xmlns:x=<span class="string">&quot;http://schemas.microsoft.com/winfx/2006/xaml&quot;</span></span><br><span class="line">    xmlns:d=<span class="string">&quot;http://schemas.microsoft.com/expression/blend/2008&quot;</span></span><br><span class="line">    xmlns:mc=<span class="string">&quot;http://schemas.openxmlformats.org/markup-compatibility/2006&quot;</span></span><br><span class="line">    xmlns:custom=<span class="string">&quot;clr-namespace:SilverlightCreate&quot;</span></span><br><span class="line">    mc:Ignorable=<span class="string">&quot;d&quot;</span></span><br><span class="line">    d:DesignHeight=<span class="string">&quot;300&quot;</span> d:DesignWidth=<span class="string">&quot;400&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">    &lt;Grid x:Name=<span class="string">&quot;LayoutRoot&quot;</span> Background=<span class="string">&quot;#007F48&quot;</span>&gt;</span><br><span class="line">        &lt;StackPanel Orientation=<span class="string">&quot;Horizontal&quot;</span> Height=<span class="string">&quot;30&quot;</span> HorizontalAlignment=<span class="string">&quot;Center&quot;</span>&gt;</span><br><span class="line">            &lt;custom:SilverlightButtons x:Name=<span class="string">&quot;btnManyou&quot;</span> Contents=<span class="string">&quot;漫游&quot;</span> FontColor=<span class="string">&quot;White&quot;</span> IconSource=<span class="string">&quot;images/tool_manyou.png&quot;</span> ToolTipService.ToolTip=<span class="string">&quot;漫游&quot;</span>  Margin=<span class="string">&quot;5&quot;</span> MouseMove=<span class="string">&quot;btnManyou_MouseMove&quot;</span> MouseLeave=<span class="string">&quot;btnManyou_MouseLeave&quot;</span> /&gt;</span><br><span class="line">            &lt;custom:SilverlightButtons x:Name=<span class="string">&quot;btnDraw&quot;</span> Contents=<span class="string">&quot;重画&quot;</span> FontColor=<span class="string">&quot;White&quot;</span> IconSource=<span class="string">&quot;images/tool_chonghua.png&quot;</span> ToolTipService.ToolTip=<span class="string">&quot;重画&quot;</span> Margin=<span class="string">&quot;5&quot;</span> MouseMove=<span class="string">&quot;btnDraw_MouseMove&quot;</span> MouseLeave=<span class="string">&quot;btnDraw_MouseLeave&quot;</span> /&gt;</span><br><span class="line">        &lt;/StackPanel&gt;</span><br><span class="line">    &lt;/Grid&gt;</span><br><span class="line">&lt;/UserControl&gt;</span><br></pre></td></tr></table></figure><p>cs代码</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> System.Linq;</span><br><span class="line"><span class="keyword">using</span> System.Net;</span><br><span class="line"><span class="keyword">using</span> System.Windows;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Controls;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Documents;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Input;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Media;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Media.Animation;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Shapes;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">SilverlightCreate</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">partial</span> <span class="keyword">class</span> <span class="title">CustomControl</span> : <span class="title">UserControl</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">CustomControl</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            InitializeComponent();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">btnManyou_MouseMove</span>(<span class="params"><span class="built_in">object</span> sender, MouseEventArgs e</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            ShowBorder(btnManyou);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">btnManyou_MouseLeave</span>(<span class="params"><span class="built_in">object</span> sender, MouseEventArgs e</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            HideBorder(btnManyou);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">btnDraw_MouseMove</span>(<span class="params"><span class="built_in">object</span> sender, MouseEventArgs e</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            ShowBorder(btnDraw);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">btnDraw_MouseLeave</span>(<span class="params"><span class="built_in">object</span> sender, MouseEventArgs e</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            HideBorder(btnDraw);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">ShowBorder</span>(<span class="params">SilverlightButtons button</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            button.StrokeThickness = <span class="number">1</span>;</span><br><span class="line">            button.HighLightStroke = <span class="keyword">new</span> SolidColorBrush(Colors.White);</span><br><span class="line">            button.RadiusX = <span class="number">10</span>;</span><br><span class="line">            button.RadiusY = <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">HideBorder</span>(<span class="params">SilverlightButtons button</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            button.StrokeThickness = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>参考文章</p><p><a href="https://social.msdn.microsoft.com/Forums/silverlight/en-US/630cade8-349d-410e-9039-3a4b74c56ac9/silverlight-4-custom-control-binding?forum=silverlightarchieve">https://social.msdn.microsoft.com/Forums/silverlight/en-US/630cade8-349d-410e-9039-3a4b74c56ac9/silverlight-4-custom-control-binding?forum=silverlightarchieve</a></p><p>相关文章</p><p><a href="http://www.cnblogs.com/yayx/archive/2008/06/03/1213126.html">http://www.cnblogs.com/yayx/archive/2008/06/03/1213126.html</a></p><p><a href="http://developer.51cto.com/art/201003/191692.htm">http://developer.51cto.com/art/201003/191692.htm</a></p>]]></content>
      
      
      <categories>
          
          <category> Silverlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Silverlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java Jdk 环境配置和测试</title>
      <link href="/2014/10/18/java-jdk-huan-jing-pei-zhi-he-ce-shi/"/>
      <url>/2014/10/18/java-jdk-huan-jing-pei-zhi-he-ce-shi/</url>
      
        <content type="html"><![CDATA[<p>测试jdk：1.6</p><p>安装完jdk1.6以后，在我的电脑中找到环境变量配置</p><p>在系统变量的Path 中输入 ;E:\Program Files (x86)\Java\jdk1.6.0_01\bin（路径根据自己安装的目录变化，注意，分号加在前面的话，光标要移到</p><p>path变量值得最后，分号在后（E:\Program Files (x86)\Java\jdk1.6.0_01\bin;）则将改路径直接放在path变量值的最前面）</p><p>然后新建class_path项，在值中输入 .;E:\Program Files (x86)\Java\jre1.6.0_01\lib</p><p>配置好后，在运行中输入cmd进入dos窗口</p><p>输入javac然后回车看是否出现参数列表,如下图<br><img src="/images/2014101816481201.png" alt="2014101816481201.png"></p><p>出现则说明成功了，然后在输入java -version 查看版本号。</p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Silverlight 减小 Xap 的大小</title>
      <link href="/2014/10/15/silverlight-jian-xiao-xap-de-da-xiao/"/>
      <url>/2014/10/15/silverlight-jian-xiao-xap-de-da-xiao/</url>
      
        <content type="html"><![CDATA[<p>当Silverlight工程引用了很多dll后，加载的速度就会很慢，通过下面方式可以减小xap包的大小<br><img src="/images/2014101511231101.jpg" alt="2014101511231101.jpg"><br>勾选 “通过使用应用程序库缓存减小xap大小”，勾选此项后vs会自动将微软自身和外部引用不变的dll自动打包成zip压缩格式，<br><img src="/images/2014101511231102.jpg" alt="2014101511231102.jpg"><br>但这样也会产生很多这样的zip压缩文件，我们可以将这样zip压缩文件对应的dll压缩在一个zip压缩文件中，然后重新命名。</p><p>用winrar打开bin目录下的xap包查看AppManifest.xaml文件<br><img src="/images/2014101511231103.jpg" alt="2014101511231103.jpg"><br>将AppManifest.xaml文件解压出来，然后只保留&lt;Deployment.ExternalPart&gt;节点下的一行。</p><p>将source中的名称换成修改后的zip文件名（例如NewFile.zip）.</p>]]></content>
      
      
      <categories>
          
          <category> Silverlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Silverlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Silverlight TreeView 带 checkbox和图片</title>
      <link href="/2014/10/14/silverlight-treeview-dai-checkbox-he-tu-pian/"/>
      <url>/2014/10/14/silverlight-treeview-dai-checkbox-he-tu-pian/</url>
      
        <content type="html"><![CDATA[<p>前段时间做Silverlight TreeView 控件，但是要带checkbox和图片，在网上到处找相关的例子，效果图如下<br><img src="/images/2014101411321501.jpg" alt="2014101411321501.jpg"><br>xaml代码</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;UserControl x:Class=<span class="string">&quot;SlmenuTest.Tree&quot;</span></span><br><span class="line">    xmlns=<span class="string">&quot;http://schemas.microsoft.com/winfx/2006/xaml/presentation&quot;</span></span><br><span class="line">    xmlns:x=<span class="string">&quot;http://schemas.microsoft.com/winfx/2006/xaml&quot;</span></span><br><span class="line">    xmlns:d=<span class="string">&quot;http://schemas.microsoft.com/expression/blend/2008&quot;</span></span><br><span class="line">    xmlns:mc=<span class="string">&quot;http://schemas.openxmlformats.org/markup-compatibility/2006&quot;</span></span><br><span class="line">    xmlns:common=<span class="string">&quot;clr-namespace:System.Windows;assembly=System.Windows.Controls&quot;</span></span><br><span class="line">    mc:Ignorable=<span class="string">&quot;d&quot;</span></span><br><span class="line">    d:DesignHeight=<span class="string">&quot;300&quot;</span> d:DesignWidth=<span class="string">&quot;400&quot;</span> xmlns:sdk=<span class="string">&quot;http://schemas.microsoft.com/winfx/2006/xaml/presentation/sdk&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">    &lt;UserControl.Resources&gt;</span><br><span class="line">        &lt;common:HierarchicalDataTemplate x:Key=<span class="string">&quot;Level3Template&quot;</span>&gt;</span><br><span class="line">            &lt;StackPanel Orientation=<span class="string">&quot;Horizontal&quot;</span>&gt;</span><br><span class="line">                &lt;Image Source=<span class="string">&quot;&#123;Binding Icon&#125;&quot;</span> Width=<span class="string">&quot;16&quot;</span> Height=<span class="string">&quot;16&quot;</span>/&gt;</span><br><span class="line">                &lt;CheckBox /&gt;</span><br><span class="line">                &lt;TextBlock Text=<span class="string">&quot;&#123;Binding Name&#125;&quot;</span>  Foreground=<span class="string">&quot;Black&quot;</span> /&gt;</span><br><span class="line">            &lt;/StackPanel&gt;</span><br><span class="line">        &lt;/common:HierarchicalDataTemplate&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;common:HierarchicalDataTemplate x:Key=<span class="string">&quot;Level2Template&quot;</span> ItemsSource=<span class="string">&quot;&#123;Binding Level3s&#125;&quot;</span> ItemTemplate=<span class="string">&quot;&#123;StaticResource Level3Template&#125;&quot;</span>&gt;</span><br><span class="line">            &lt;StackPanel Orientation=<span class="string">&quot;Horizontal&quot;</span>&gt;</span><br><span class="line">                &lt;Image Source=<span class="string">&quot;&#123;Binding Icon&#125;&quot;</span> Width=<span class="string">&quot;16&quot;</span> Height=<span class="string">&quot;16&quot;</span>/&gt;</span><br><span class="line">                &lt;CheckBox /&gt;</span><br><span class="line">                &lt;TextBlock Text=<span class="string">&quot;&#123;Binding Name&#125;&quot;</span> Foreground=<span class="string">&quot;Green&quot;</span>/&gt;</span><br><span class="line">            &lt;/StackPanel&gt;</span><br><span class="line">        &lt;/common:HierarchicalDataTemplate&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;common:HierarchicalDataTemplate x:Key=<span class="string">&quot;Level1Template&quot;</span> ItemsSource=<span class="string">&quot;&#123;Binding Level2s&#125;&quot;</span> ItemTemplate=<span class="string">&quot;&#123;StaticResource Level2Template&#125;&quot;</span>&gt;</span><br><span class="line">            &lt;StackPanel  Orientation=<span class="string">&quot;Horizontal&quot;</span>&gt;</span><br><span class="line">                &lt;Image Source=<span class="string">&quot;&#123;Binding Icon&#125;&quot;</span> /&gt;</span><br><span class="line">                &lt;CheckBox /&gt;</span><br><span class="line">                &lt;TextBlock Foreground=<span class="string">&quot;Blue&quot;</span> Text=<span class="string">&quot;&#123;Binding Name&#125;&quot;</span>/&gt;</span><br><span class="line">            &lt;/StackPanel&gt;</span><br><span class="line">        &lt;/common:HierarchicalDataTemplate&gt;</span><br><span class="line">    &lt;/UserControl.Resources&gt;</span><br></pre></td></tr></table></figure><p>后台代码</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> System.Linq;</span><br><span class="line"><span class="keyword">using</span> System.Net;</span><br><span class="line"><span class="keyword">using</span> System.Windows;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Controls;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Documents;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Input;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Media;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Media.Animation;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Shapes;</span><br><span class="line"><span class="keyword">using</span> System.Collections.ObjectModel;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">SlmenuTest</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">partial</span> <span class="keyword">class</span> <span class="title">Tree</span> : <span class="title">UserControl</span></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">       </span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Tree</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            InitializeComponent();</span><br><span class="line">            InitTreeData();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="meta">#<span class="keyword">region</span> Data</span></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">InitTreeData</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            myTree.ItemsSource = <span class="keyword">new</span> ObservableCollection&lt;Level1&gt;</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">new</span> Level1</span><br><span class="line">                &#123;</span><br><span class="line">                    Name = <span class="string">&quot;test1&quot;</span>,</span><br><span class="line">                    Icon=<span class="string">&quot;../images/default.png&quot;</span>,</span><br><span class="line">                    Level2s = </span><br><span class="line">                    &#123; </span><br><span class="line">                        <span class="keyword">new</span> Level2</span><br><span class="line">                        &#123;</span><br><span class="line">                            Name=<span class="string">&quot;基础信息&quot;</span>,</span><br><span class="line">                            Icon = <span class="string">&quot;../images/search.png&quot;</span>,</span><br><span class="line">                            Level3s = </span><br><span class="line">                            &#123; </span><br><span class="line">                                <span class="keyword">new</span> Level3 &#123; Name = <span class="string">&quot;类别&quot;</span> ,Icon = <span class="string">&quot;../images/computer.png&quot;</span>&#125;, </span><br><span class="line">                                <span class="keyword">new</span> Level3 &#123; Name = <span class="string">&quot;部门&quot;</span> ,Icon = <span class="string">&quot;../images/computer_on.png&quot;</span>&#125;,</span><br><span class="line">                                <span class="keyword">new</span> Level3 &#123; Name = <span class="string">&quot;类别2&quot;</span> ,Icon = <span class="string">&quot;../images/exit.png&quot;</span>&#125;,</span><br><span class="line">                                <span class="keyword">new</span> Level3 &#123; Name = <span class="string">&quot;部门2&quot;</span> ,Icon = <span class="string">&quot;../images/edit.png&quot;</span>&#125;</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;,</span><br><span class="line">                        <span class="keyword">new</span> Level2</span><br><span class="line">                        &#123;</span><br><span class="line">                            Name=<span class="string">&quot;扩展信息&quot;</span>,</span><br><span class="line">                            Icon=<span class="string">&quot;../images/search.png&quot;</span></span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="keyword">new</span> Level1</span><br><span class="line">                &#123;</span><br><span class="line">                    Name=<span class="string">&quot;test2&quot;</span>,</span><br><span class="line">                    Icon=<span class="string">&quot;../images/default.png&quot;</span>,</span><br><span class="line">                    Level2s=</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="keyword">new</span> Level2</span><br><span class="line">                        &#123;</span><br><span class="line">                            Name=<span class="string">&quot;报表管理&quot;</span>, </span><br><span class="line">                            Icon = <span class="string">&quot;../images/search.png&quot;</span>,</span><br><span class="line">                            Level3s = </span><br><span class="line">                            &#123; </span><br><span class="line">                                <span class="keyword">new</span> Level3 &#123; Name = <span class="string">&quot;报表1&quot;</span> ,Icon = <span class="string">&quot;../images/default.png&quot;</span>&#125;,</span><br><span class="line">                                <span class="keyword">new</span> Level3 &#123; Name = <span class="string">&quot;报表2&quot;</span> ,Icon = <span class="string">&quot;../images/default.png&quot;</span>&#125;,</span><br><span class="line">                                <span class="keyword">new</span> Level3 &#123; Name = <span class="string">&quot;报表3&quot;</span> ,Icon = <span class="string">&quot;../images/default.png&quot;</span>&#125;,</span><br><span class="line">                                <span class="keyword">new</span> Level3 &#123; Name = <span class="string">&quot;报表4&quot;</span>,Icon=<span class="string">&quot;../images/default.png&quot;</span>&#125;</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="keyword">new</span> Level1</span><br><span class="line">                &#123;</span><br><span class="line">                    Name=<span class="string">&quot;test3&quot;</span>,</span><br><span class="line">                    Icon=<span class="string">&quot;../images/default.png&quot;</span>,</span><br><span class="line">                    Level2s=</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="keyword">new</span> Level2</span><br><span class="line">                        &#123;</span><br><span class="line">                            Name=<span class="string">&quot;系统管理&quot;</span>,</span><br><span class="line">                            Icon = <span class="string">&quot;../images/search.png&quot;</span>,</span><br><span class="line">                            Level3s = </span><br><span class="line">                            &#123; </span><br><span class="line">                                <span class="keyword">new</span> Level3 &#123; Name = <span class="string">&quot;权限设置&quot;</span> ,Icon = <span class="string">&quot;../images/default.png&quot;</span>&#125;,</span><br><span class="line">                                <span class="keyword">new</span> Level3 &#123; Name = <span class="string">&quot;用户管理&quot;</span> , Icon = <span class="string">&quot;../images/default.png&quot;</span>&#125;</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">myTree_SelectedItemChanged</span>(<span class="params"><span class="built_in">object</span> sender, RoutedPropertyChangedEventArgs&lt;<span class="built_in">object</span>&gt; e</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            TreeViewItem item = e.NewValue <span class="keyword">as</span> TreeViewItem;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">       </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Level1</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Level1</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            Level2s = <span class="keyword">new</span> ObservableCollection&lt;Level2&gt;();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> Name &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> Icon &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        <span class="keyword">public</span> ObservableCollection&lt;Level2&gt; Level2s &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Level2</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Level2</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            Level3s = <span class="keyword">new</span> ObservableCollection&lt;Level3&gt;();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> Name &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> Icon &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        <span class="keyword">public</span> ObservableCollection&lt;Level3&gt; Level3s &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Level3</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> Name &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> Icon &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        <span class="comment">//public event EventHandler click;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>第二种效果图如下<br><img src="/images/2014101411321502.jpg" alt="2014101411321502.jpg"><br>xaml 代码</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">&lt;UserControl x:Class=<span class="string">&quot;SLColorPickerDemo.Tree&quot;</span></span><br><span class="line">    xmlns=<span class="string">&quot;http://schemas.microsoft.com/winfx/2006/xaml/presentation&quot;</span></span><br><span class="line">    xmlns:x=<span class="string">&quot;http://schemas.microsoft.com/winfx/2006/xaml&quot;</span></span><br><span class="line">    xmlns:d=<span class="string">&quot;http://schemas.microsoft.com/expression/blend/2008&quot;</span></span><br><span class="line">    xmlns:mc=<span class="string">&quot;http://schemas.openxmlformats.org/markup-compatibility/2006&quot;</span></span><br><span class="line">    mc:Ignorable=<span class="string">&quot;d&quot;</span></span><br><span class="line">    d:DesignHeight=<span class="string">&quot;300&quot;</span> d:DesignWidth=<span class="string">&quot;400&quot;</span> xmlns:sdk=<span class="string">&quot;http://schemas.microsoft.com/winfx/2006/xaml/presentation/sdk&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">    &lt;UserControl.Resources&gt;</span><br><span class="line">        &lt;Style x:Key=<span class="string">&quot;RedItemStyle&quot;</span> TargetType=<span class="string">&quot;sdk:TreeViewItem&quot;</span>&gt;</span><br><span class="line">            &lt;Setter Property=<span class="string">&quot;HeaderTemplate&quot;</span>&gt;</span><br><span class="line">                &lt;Setter.Value&gt;</span><br><span class="line">                    &lt;DataTemplate&gt;</span><br><span class="line">                        &lt;StackPanel Orientation=<span class="string">&quot;Horizontal&quot;</span>&gt;</span><br><span class="line">                            &lt;Image Source=<span class="string">&quot;images/default.png&quot;</span>/&gt;</span><br><span class="line">                            &lt;CheckBox /&gt;</span><br><span class="line">                            &lt;TextBlock Text=<span class="string">&quot;&#123;Binding&#125;&quot;</span> Foreground=<span class="string">&quot;Red&quot;</span> FontStyle=<span class="string">&quot;Italic&quot;</span> /&gt;</span><br><span class="line">                        &lt;/StackPanel&gt;</span><br><span class="line">                    &lt;/DataTemplate&gt;</span><br><span class="line">                &lt;/Setter.Value&gt;</span><br><span class="line">            &lt;/Setter&gt;</span><br><span class="line">            &lt;Setter Property=<span class="string">&quot;IsExpanded&quot;</span> Value=<span class="string">&quot;False&quot;</span> /&gt;</span><br><span class="line">        &lt;/Style&gt;</span><br><span class="line">    &lt;/UserControl.Resources&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;Grid x:Name=<span class="string">&quot;LayoutRoot&quot;</span> Background=<span class="string">&quot;White&quot;</span>&gt;</span><br><span class="line">        &lt;sdk:TreeView Margin=<span class="string">&quot;5&quot;</span> Grid.Column=<span class="string">&quot;0&quot;</span> Grid.Row=<span class="string">&quot;1&quot;</span> Name=<span class="string">&quot;tvTree&quot;</span> SelectedItemChanged=<span class="string">&quot;tvTree_SelectedItemChanged&quot;</span> /&gt;</span><br><span class="line">        &lt;Border BorderBrush=<span class="string">&quot;Gray&quot;</span> BorderThickness=<span class="string">&quot;1&quot;</span> Padding=<span class="string">&quot;8&quot;</span> Margin=<span class="string">&quot;5&quot;</span>&gt;</span><br><span class="line">            &lt;StackPanel x:Name=<span class="string">&quot;DetailsPanel&quot;</span> Margin=<span class="string">&quot;4&quot;</span> Width=<span class="string">&quot;155&quot;</span>&gt;</span><br><span class="line">                &lt;StackPanel Orientation=<span class="string">&quot;Horizontal&quot;</span>&gt;</span><br><span class="line">                    &lt;TextBlock Text=<span class="string">&quot;版块ID: &quot;</span> FontWeight=<span class="string">&quot;Bold&quot;</span>  /&gt;</span><br><span class="line">                    &lt;TextBlock Text=<span class="string">&quot;&#123;Binding ForumID&#125;&quot;</span> /&gt;</span><br><span class="line">                &lt;/StackPanel&gt;</span><br><span class="line">                &lt;StackPanel Orientation=<span class="string">&quot;Horizontal&quot;</span>&gt;</span><br><span class="line">                    &lt;TextBlock Text=<span class="string">&quot;版块名称: &quot;</span> FontWeight=<span class="string">&quot;Bold&quot;</span>  /&gt;</span><br><span class="line">                    &lt;TextBlock Text=<span class="string">&quot;&#123;Binding ForumName&#125;&quot;</span> /&gt;</span><br><span class="line">                &lt;/StackPanel&gt;</span><br><span class="line">                &lt;StackPanel Orientation=<span class="string">&quot;Horizontal&quot;</span>&gt;</span><br><span class="line">                    &lt;TextBlock Text=<span class="string">&quot;版块信息: &quot;</span> FontWeight=<span class="string">&quot;Bold&quot;</span> /&gt;</span><br><span class="line">                    &lt;TextBlock x:Name=<span class="string">&quot;DetailText&quot;</span> TextWrapping=<span class="string">&quot;Wrap&quot;</span> Text=<span class="string">&quot;&#123;Binding ForumName&#125;&quot;</span>/&gt;</span><br><span class="line">                &lt;/StackPanel&gt;</span><br><span class="line">            &lt;/StackPanel&gt;</span><br><span class="line">        &lt;/Border&gt;</span><br><span class="line">    &lt;/Grid&gt;</span><br><span class="line">&lt;/UserControl&gt;</span><br></pre></td></tr></table></figure><p>后台代码</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Net;</span><br><span class="line"><span class="keyword">using</span> System.Windows;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Controls;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Documents;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Ink;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Input;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Media;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Media.Animation;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Shapes;</span><br><span class="line"><span class="keyword">using</span> System.ComponentModel;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">SLColorPickerDemo</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ForumInfo</span> : <span class="title">INotifyPropertyChanged</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">int</span> ForumID &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">int</span> ParendID &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> ForumName &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">#<span class="keyword">region</span> INotifyPropertyChanged 成员</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">event</span> PropertyChangedEventHandler PropertyChanged;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">PropertyChaged</span>(<span class="params"><span class="built_in">string</span> propertyName</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            PropertyChangedEventHandler handle = PropertyChanged;</span><br><span class="line">            <span class="keyword">if</span> (handle != <span class="literal">null</span>)</span><br><span class="line">                handle.Invoke(<span class="keyword">this</span>, <span class="keyword">new</span> PropertyChangedEventArgs(propertyName));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> System.Linq;</span><br><span class="line"><span class="keyword">using</span> System.Net;</span><br><span class="line"><span class="keyword">using</span> System.Windows;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Controls;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Documents;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Input;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Media;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Media.Animation;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Shapes;</span><br><span class="line"><span class="keyword">using</span> System.Collections.ObjectModel;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">SLColorPickerDemo</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">partial</span> <span class="keyword">class</span> <span class="title">Tree</span> : <span class="title">UserControl</span></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        List&lt;ForumInfo&gt; forumList = <span class="keyword">new</span> List&lt;ForumInfo&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Tree</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            InitializeComponent();</span><br><span class="line">            forumList = GetForumData();</span><br><span class="line">            AddTreeNode(<span class="number">0</span>, <span class="literal">null</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">AddTreeNode</span>(<span class="params"><span class="built_in">int</span> parentID, TreeViewItem treeViewItem</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            List&lt;ForumInfo&gt; result = (<span class="keyword">from</span> forumInfo <span class="keyword">in</span> forumList</span><br><span class="line">                                      <span class="keyword">where</span> forumInfo.ParendID == parentID</span><br><span class="line">                                      <span class="keyword">select</span> forumInfo).ToList&lt;ForumInfo&gt;();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (result.Count &gt; <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">foreach</span> (ForumInfo foruminfo <span class="keyword">in</span> result)</span><br><span class="line">                &#123;</span><br><span class="line">                    TreeViewItem objTreeNode = <span class="keyword">new</span> TreeViewItem();</span><br><span class="line">                    objTreeNode.Header = foruminfo.ForumName;</span><br><span class="line">                    objTreeNode.DataContext = foruminfo;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                    objTreeNode.ItemContainerStyle = <span class="keyword">this</span>.Resources[<span class="string">&quot;RedItemStyle&quot;</span>] <span class="keyword">as</span> Style;</span><br><span class="line">                    <span class="comment">//添加根节点</span></span><br><span class="line">                    <span class="keyword">if</span> (treeViewItem == <span class="literal">null</span>)</span><br><span class="line">                    &#123;</span><br><span class="line">                        tvTree.Items.Add(objTreeNode);</span><br><span class="line">                        <span class="comment">//tvTree.ItemContainerStyle = this.Resources[&quot;TreeStyle&quot;] as Style;</span></span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span></span><br><span class="line">                    &#123;</span><br><span class="line">                        treeViewItem.Items.Add(objTreeNode);</span><br><span class="line">                    &#125;</span><br><span class="line">                    AddTreeNode(foruminfo.ForumID, objTreeNode);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> List&lt;ForumInfo&gt; <span class="title">GetForumData</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            List&lt;ForumInfo&gt; forumList = <span class="keyword">new</span> List&lt;ForumInfo&gt;();</span><br><span class="line">            forumList.Add(<span class="keyword">new</span> ForumInfo() &#123; ForumID = <span class="number">1</span>, ParendID = <span class="number">0</span>, ForumName = <span class="string">&quot;笔记本版块&quot;</span> &#125;);</span><br><span class="line">            forumList.Add(<span class="keyword">new</span> ForumInfo() &#123; ForumID = <span class="number">2</span>, ParendID = <span class="number">0</span>, ForumName = <span class="string">&quot;台式机版块&quot;</span> &#125;);</span><br><span class="line"></span><br><span class="line">            forumList.Add(<span class="keyword">new</span> ForumInfo() &#123; ForumID = <span class="number">3</span>, ParendID = <span class="number">1</span>, ForumName = <span class="string">&quot;Dell笔记本&quot;</span> &#125;);</span><br><span class="line">            forumList.Add(<span class="keyword">new</span> ForumInfo() &#123; ForumID = <span class="number">4</span>, ParendID = <span class="number">1</span>, ForumName = <span class="string">&quot;IBM笔记本&quot;</span> &#125;);</span><br><span class="line">            forumList.Add(<span class="keyword">new</span> ForumInfo() &#123; ForumID = <span class="number">5</span>, ParendID = <span class="number">4</span>, ForumName = <span class="string">&quot;IBM-T系列&quot;</span> &#125;);</span><br><span class="line">            forumList.Add(<span class="keyword">new</span> ForumInfo() &#123; ForumID = <span class="number">6</span>, ParendID = <span class="number">4</span>, ForumName = <span class="string">&quot;IBM-R系列&quot;</span> &#125;);</span><br><span class="line"></span><br><span class="line">            forumList.Add(<span class="keyword">new</span> ForumInfo() &#123; ForumID = <span class="number">7</span>, ParendID = <span class="number">2</span>, ForumName = <span class="string">&quot;联想台式机&quot;</span> &#125;);</span><br><span class="line">            forumList.Add(<span class="keyword">new</span> ForumInfo() &#123; ForumID = <span class="number">8</span>, ParendID = <span class="number">2</span>, ForumName = <span class="string">&quot;方正台式机&quot;</span> &#125;);</span><br><span class="line">            forumList.Add(<span class="keyword">new</span> ForumInfo() &#123; ForumID = <span class="number">9</span>, ParendID = <span class="number">2</span>, ForumName = <span class="string">&quot;HP台式机&quot;</span> &#125;);</span><br><span class="line">            forumList.Add(<span class="keyword">new</span> ForumInfo() &#123; ForumID = <span class="number">10</span>, ParendID = <span class="number">7</span>, ForumName = <span class="string">&quot;联想家悦H系列&quot;</span> &#125;);</span><br><span class="line">            forumList.Add(<span class="keyword">new</span> ForumInfo() &#123; ForumID = <span class="number">11</span>, ParendID = <span class="number">7</span>, ForumName = <span class="string">&quot;联想IdeaCentre系列&quot;</span> &#125;);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> forumList;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">tvTree_SelectedItemChanged</span>(<span class="params"><span class="built_in">object</span> sender, RoutedPropertyChangedEventArgs&lt;<span class="built_in">object</span>&gt; e</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            TreeViewItem item = e.NewValue <span class="keyword">as</span> TreeViewItem;</span><br><span class="line">            ForumInfo fi = item.DataContext <span class="keyword">as</span> ForumInfo;</span><br><span class="line"></span><br><span class="line">            DetailsPanel.DataContext = fi;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Silverlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Silverlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>3DMAx Panda Directx Exporter 导出 X插件</title>
      <link href="/2014/10/13/3dmax-panda-directx-exporter-dao-chu-x-cha-jian/"/>
      <url>/2014/10/13/3dmax-panda-directx-exporter-dao-chu-x-cha-jian/</url>
      
        <content type="html"><![CDATA[<p>Panda Directx Exporter 下载地址</p><p><a href="http://www.andytather.co.uk/Panda/directxmax_downloads.aspx">http://www.andytather.co.uk/Panda/directxmax_downloads.aspx</a></p><p>将下载的文件解压后，放到3DS安装文件夹的plgin目录中。</p><p>fbx导出插件</p><p><a href="http://usa.autodesk.com/adsk/servlet/index?siteID=123112&amp;id=10775855">http://usa.autodesk.com/adsk/servlet/index?siteID=123112&amp;id=10775855</a></p><ol><li>3DS Max Objects选项卡<br>主要是输出数据类型的设置（注意在我的电脑上有些字母被遮住了，不知道原因，不过大致意思也能猜出）。</li></ol><p>Output Options：选择“Mesh difination”和“Materials”，不勾选“Inline”（这个我不懂），因为不使用骨骼动画，所以也不勾选“Bones”， Output Types：勾选“Geometric（几何体）”和“Dummy（虚拟体）”。</p><ol start="2"><li>Mesh选项卡<br>设置网格的选项。</li></ol><p>勾选“Mesh normals（需要导出法线）”和“Vertex colors”，Optmize mesh下拉菜单选择“Normal（法线）”，还可以选择“None（不作优化）”和“Optimized（已做优化）”。不选择“Mapping coordinares（纹理坐标）”，“Flip normals（翻转法线）”、“Use custom nromals（使用自定义法线）”和“Use local object space（使用模型坐标系，这会导致导出的文件丢失世界矩阵的信息）”。</p><ol start="3"><li>Animaton选项卡<br>关于模型动画的设置。</li></ol><p>因为这个例子中不使用动画，所以无需设置。<br>4. Textures&amp;.fx files选项卡<br>设置纹理和fx文件。</p><p>Texture Conversion：本例不使用纹理，所以选择“None”。</p><p>.fx Effect Files：因为不使用effect所以不勾选“Include .fx files（包含fx文件）”和“Include .fx parameters（包含fx参数）”，其实自己也不知道如何设置，但在《Professional XNA Game Programming》中的所有x文件都是包含fx的。<br>5. X File Settings选项卡<br>DX File Type：我选择“Text”，这样可以在文本编辑器中看到源文件，不选择“Binary（二进制）”和“Binary with Compression（压缩的二进制文件）” 。在《Professional XNA Game Programming》中的所有x文件都是二进制的，所以用文本编辑器打开后是乱码。</p><p>DX Frame：本例中不使用层次模型，所以选择“No Frame（不包含框架）”，不选择“Top frame only（将只输出顶部框架）”和“Sub frame hierarchy（输出子框架层次）”。</p><p>Coordinate System：不选择“Left Handed Axis（左手坐标系，选择此项会将Y和Z坐标互换）”。</p><p>Xfile Animation Options：本例不使用动画，所以不选择“Include Animation”，Type下拉菜单可选“Closed（动画封闭）”和“Open（动画开放）”。Pos.Quality可选择“Spline Positions（样条位置）”和“Linear Positions（线性位置）”。</p><p>设置完以上选项后点击确定保存文件，把它命名为“square.x”。</p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Win2003 控制面板 打不开</title>
      <link href="/2014/10/13/win2003-kong-zhi-mian-ban-da-bu-kai/"/>
      <url>/2014/10/13/win2003-kong-zhi-mian-ban-da-bu-kai/</url>
      
        <content type="html"><![CDATA[<p>windown 2003 控制面板打不开</p><p>在运行框中输入regedit，进入注册表中的</p><p>HKEY_LOCAL_MACHINE&#x2F;SYSTEM\Current ControlSet\Control\NLS\Locale下找到</p><p>Default和“00000804”两项，分别修改值为0000049和1 。</p>]]></content>
      
      
      <categories>
          
          <category> Computer </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Computer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Silverlight FullScreen 全屏</title>
      <link href="/2014/10/13/silverlight-fullscreen-quan-ping/"/>
      <url>/2014/10/13/silverlight-fullscreen-quan-ping/</url>
      
        <content type="html"><![CDATA[<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;UserControl x:Class=<span class="string">&quot;FullScreen.MainPage&quot;</span></span><br><span class="line">    xmlns=<span class="string">&quot;http://schemas.microsoft.com/winfx/2006/xaml/presentation&quot;</span></span><br><span class="line">    xmlns:x=<span class="string">&quot;http://schemas.microsoft.com/winfx/2006/xaml&quot;</span></span><br><span class="line">    xmlns:d=<span class="string">&quot;http://schemas.microsoft.com/expression/blend/2008&quot;</span></span><br><span class="line">    xmlns:mc=<span class="string">&quot;http://schemas.openxmlformats.org/markup-compatibility/2006&quot;</span></span><br><span class="line">    mc:Ignorable=<span class="string">&quot;d&quot;</span></span><br><span class="line">    d:DesignHeight=<span class="string">&quot;300&quot;</span> d:DesignWidth=<span class="string">&quot;400&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">    &lt;Grid x:Name=<span class="string">&quot;LayoutRoot&quot;</span> Background=<span class="string">&quot;White&quot;</span>&gt;</span><br><span class="line">        &lt;Border HorizontalAlignment=<span class="string">&quot;Left&quot;</span> VerticalAlignment=<span class="string">&quot;Top&quot;</span> Padding=<span class="string">&quot;10&quot;</span> BorderThickness=<span class="string">&quot;1&quot;</span> CornerRadius=<span class="string">&quot;4&quot;</span> Background=<span class="string">&quot;#7F000000&quot;</span>&gt;</span><br><span class="line">            &lt;StackPanel&gt;</span><br><span class="line">                &lt;StackPanel Orientation=<span class="string">&quot;Horizontal&quot;</span>&gt;</span><br><span class="line">                    &lt;TextBlock Text=<span class="string">&quot;总CPU占用：&quot;</span> TextWrapping=<span class="string">&quot;Wrap&quot;</span> d:LayoutOverrides=<span class="string">&quot;Height&quot;</span> Foreground=<span class="string">&quot;White&quot;</span>&gt;&lt;/TextBlock&gt;</span><br><span class="line">                    &lt;TextBlock x:Name=<span class="string">&quot;txtCPULoad&quot;</span> TextWrapping=<span class="string">&quot;Wrap&quot;</span> d:LayoutOverrides=<span class="string">&quot;Height&quot;</span> Foreground=<span class="string">&quot;White&quot;</span>&gt;&lt;/TextBlock&gt;</span><br><span class="line">                &lt;/StackPanel&gt;</span><br><span class="line">                &lt;StackPanel Orientation=<span class="string">&quot;Horizontal&quot;</span>&gt;</span><br><span class="line">                    &lt;TextBlock Text=<span class="string">&quot;当前CPU占用：&quot;</span> TextWrapping=<span class="string">&quot;Wrap&quot;</span> d:LayoutOverrides=<span class="string">&quot;Height&quot;</span> Foreground=<span class="string">&quot;White&quot;</span>&gt;&lt;/TextBlock&gt;</span><br><span class="line">                    &lt;TextBlock x:Name=<span class="string">&quot;txtSLCPULoad&quot;</span> TextWrapping=<span class="string">&quot;Wrap&quot;</span> d:LayoutOverrides=<span class="string">&quot;Height&quot;</span> Foreground=<span class="string">&quot;White&quot;</span>&gt;&lt;/TextBlock&gt;</span><br><span class="line">                &lt;/StackPanel&gt;</span><br><span class="line">            &lt;/StackPanel&gt;</span><br><span class="line">        &lt;/Border&gt;</span><br><span class="line">        &lt;Button Content=<span class="string">&quot;正常&quot;</span> Height=<span class="string">&quot;47&quot;</span> HorizontalAlignment=<span class="string">&quot;Left&quot;</span> Margin=<span class="string">&quot;152,123,0,0&quot;</span> Name=<span class="string">&quot;btnFull&quot;</span> VerticalAlignment=<span class="string">&quot;Top&quot;</span> Width=<span class="string">&quot;68&quot;</span> Click=<span class="string">&quot;btnFull_Click&quot;</span> /&gt;</span><br><span class="line">    &lt;/Grid&gt;</span><br><span class="line">&lt;/UserControl&gt;</span><br></pre></td></tr></table></figure><p>后台代码</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> System.Linq;</span><br><span class="line"><span class="keyword">using</span> System.Net;</span><br><span class="line"><span class="keyword">using</span> System.Windows;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Controls;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Documents;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Input;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Media;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Media.Animation;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Shapes;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Threading;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">FullScreen</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">partial</span> <span class="keyword">class</span> <span class="title">MainPage</span> : <span class="title">UserControl</span></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        Analytics myAnalytics;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">MainPage</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            InitializeComponent();</span><br><span class="line">            Loaded += <span class="keyword">new</span> RoutedEventHandler(MainPage_Loaded);</span><br><span class="line">            Application.Current.Host.Content.FullScreenChanged += <span class="keyword">new</span> EventHandler(Content_FullScreenChanged);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">MainPage_Loaded</span>(<span class="params"><span class="built_in">object</span> sender, RoutedEventArgs e</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            myAnalytics = <span class="keyword">new</span> Analytics();</span><br><span class="line">            DispatcherTimer timer = <span class="keyword">new</span> DispatcherTimer();</span><br><span class="line">            timer.Interval = TimeSpan.FromSeconds(<span class="number">1</span>);</span><br><span class="line">            timer.Tick += <span class="keyword">new</span> EventHandler(timer_Tick);</span><br><span class="line">            timer.Start();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">timer_Tick</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            txtCPULoad.Text = myAnalytics.AverageProcessorLoad.ToString();</span><br><span class="line">            txtSLCPULoad.Text = myAnalytics.AverageProcessLoad.ToString();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">Content_FullScreenChanged</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">var</span> content = Application.Current.Host.Content;</span><br><span class="line">            <span class="keyword">if</span> (content.IsFullScreen)</span><br><span class="line">            &#123;</span><br><span class="line">                btnFull.Background = <span class="keyword">new</span> SolidColorBrush(Colors.Yellow);</span><br><span class="line">                LayoutRoot.Background = <span class="keyword">new</span> SolidColorBrush(Colors.Yellow);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                btnFull.Background = <span class="keyword">new</span> SolidColorBrush(Colors.Red);</span><br><span class="line">                LayoutRoot.Background = <span class="keyword">new</span> SolidColorBrush(Colors.Red);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">btnFull_Click</span>(<span class="params"><span class="built_in">object</span> sender, RoutedEventArgs e</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">var</span> content = Application.Current.Host.Content;</span><br><span class="line">            <span class="keyword">if</span> (!content.IsFullScreen)</span><br><span class="line">            &#123;</span><br><span class="line">                content.IsFullScreen = !content.IsFullScreen;</span><br><span class="line">                btnFull.Content = <span class="string">&quot;还原&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                content.IsFullScreen = !content.IsFullScreen;</span><br><span class="line">                btnFull.Content = <span class="string">&quot;全屏&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Silverlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Silverlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Silverlight 鼠标双击 事件</title>
      <link href="/2014/10/13/silverlight-shu-biao-shuang-ji-shi-jian/"/>
      <url>/2014/10/13/silverlight-shu-biao-shuang-ji-shi-jian/</url>
      
        <content type="html"><![CDATA[<p>Silverlight 双击事件例子</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;UserControl x:Class=<span class="string">&quot;MouseDbClick.MainPage&quot;</span></span><br><span class="line">    xmlns=<span class="string">&quot;http://schemas.microsoft.com/winfx/2006/xaml/presentation&quot;</span></span><br><span class="line">    xmlns:x=<span class="string">&quot;http://schemas.microsoft.com/winfx/2006/xaml&quot;</span></span><br><span class="line">    xmlns:d=<span class="string">&quot;http://schemas.microsoft.com/expression/blend/2008&quot;</span></span><br><span class="line">    xmlns:mc=<span class="string">&quot;http://schemas.openxmlformats.org/markup-compatibility/2006&quot;</span></span><br><span class="line">    mc:Ignorable=<span class="string">&quot;d&quot;</span></span><br><span class="line">    d:DesignHeight=<span class="string">&quot;300&quot;</span> d:DesignWidth=<span class="string">&quot;400&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">    &lt;Grid x:Name=<span class="string">&quot;LayoutRoot&quot;</span> Background=<span class="string">&quot;White&quot;</span>&gt;</span><br><span class="line">        &lt;ListBox Height=<span class="string">&quot;100&quot;</span> HorizontalAlignment=<span class="string">&quot;Left&quot;</span> Margin=<span class="string">&quot;12,12,0,0&quot;</span> Name=<span class="string">&quot;lbTest&quot;</span> VerticalAlignment=<span class="string">&quot;Top&quot;</span> Width=<span class="string">&quot;120&quot;</span> /&gt;</span><br><span class="line">    &lt;/Grid&gt;</span><br><span class="line">&lt;/UserControl&gt;</span><br></pre></td></tr></table></figure><p>后台代码</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> System.Linq;</span><br><span class="line"><span class="keyword">using</span> System.Net;</span><br><span class="line"><span class="keyword">using</span> System.Windows;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Controls;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Documents;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Input;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Media;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Media.Animation;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Shapes;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">MouseDbClick</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">partial</span> <span class="keyword">class</span> <span class="title">MainPage</span> : <span class="title">UserControl</span>,<span class="title">IMouseDbClick</span></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        MouseDbClickHander hander = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">MainPage</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            InitializeComponent();</span><br><span class="line">            hander = <span class="keyword">new</span> MouseDbClickHander(<span class="keyword">this</span>);</span><br><span class="line">            lbTest.MouseLeftButtonDown += <span class="keyword">new</span> MouseButtonEventHandler(lbTest_MouseLeftButtonDown);</span><br><span class="line">            lbTest.MouseLeftButtonUp += <span class="keyword">new</span> MouseButtonEventHandler(lbTest_MouseLeftButtonUp);</span><br><span class="line">            <span class="built_in">string</span>[] str = &#123;<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>,<span class="string">&quot;d&quot;</span> &#125;;</span><br><span class="line">            lbTest.ItemsSource = str;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">lbTest_MouseLeftButtonUp</span>(<span class="params"><span class="built_in">object</span> sender, MouseButtonEventArgs e</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            hander.OnMouseLeftButtonUp(sender, e);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">lbTest_MouseLeftButtonDown</span>(<span class="params"><span class="built_in">object</span> sender, MouseButtonEventArgs e</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            hander.OnMouseLeftButtonDown(sender, e);  </span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">#<span class="keyword">region</span> IMouseDbClick 成员</span></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onMouseDbClick</span>(<span class="params"><span class="built_in">object</span> sender, MouseButtonEventArgs e</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">string</span> msg = lbTest.SelectedItem <span class="keyword">as</span> <span class="built_in">string</span>;</span><br><span class="line">            MessageBox.Show(msg);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>实现双击的接口代码</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Net;</span><br><span class="line"><span class="keyword">using</span> System.Windows;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Controls;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Documents;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Ink;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Input;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Media;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Media.Animation;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Shapes;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">MouseDbClick</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IMouseDbClick</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">onMouseDbClick</span>(<span class="params"><span class="built_in">object</span> sender, MouseButtonEventArgs e</span>)</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>实现双击的代码</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Net;</span><br><span class="line"><span class="keyword">using</span> System.Windows;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Controls;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Documents;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Ink;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Input;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Media;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Media.Animation;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Shapes;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">MouseDbClick</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MouseDbClickHander</span></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> DateTime lastClick = DateTime.Now;</span><br><span class="line">        <span class="keyword">private</span> <span class="built_in">bool</span> firstClick = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">private</span> IMouseDbClick _mouseDbClick;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Methods</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">MouseDbClickHander</span>(<span class="params">IMouseDbClick mouseDbclick</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">this</span>._mouseDbClick = mouseDbclick;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">OnMouseLeftButtonDown</span>(<span class="params"><span class="built_in">object</span> sender, MouseButtonEventArgs e</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">OnMouseLeftButtonUp</span>(<span class="params"><span class="built_in">object</span> sender, MouseButtonEventArgs e</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//UIElement ui = sender as UIElement;</span></span><br><span class="line">            TimeSpan span = DateTime.Now - lastClick;</span><br><span class="line">            <span class="keyword">if</span> (span.TotalMilliseconds &lt; <span class="number">40</span> || firstClick == <span class="literal">false</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                firstClick = <span class="literal">true</span>;</span><br><span class="line">                lastClick = DateTime.Now;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">this</span>._mouseDbClick.onMouseDbClick(sender, e);</span><br><span class="line">                firstClick = <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>到了Silverlight5.0后鼠标事件中有一个ClickCount属性，可以判断是否是双击。</p>]]></content>
      
      
      <categories>
          
          <category> Silverlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Silverlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SQL datetime和smalldatetime区别</title>
      <link href="/2014/10/11/sql-datetime-he-smalldatetime-qu-bie/"/>
      <url>/2014/10/11/sql-datetime-he-smalldatetime-qu-bie/</url>
      
        <content type="html"><![CDATA[<p>datetime 存储大小8个字节，精确到分后的3为小数，日期范围从1753 年 1 月 1 日到 9999 年 12 月 31 日；而</p><p>smalldatetime存储大小为4个字节，精确到分，日期范围从1900 年 1 月 1 日到 2079 年 6 月 6 日。<br><img src="/images/2014101115271001.jpg" alt="2014101115271001.jpg"><br><img src="/images/2014101115271002.jpg" alt="2014101115271002.jpg"></p><p>参考</p><p><a href="http://msdn.microsoft.com/zh-cn/library/ms187819%28v=sql.105%29.aspx">http://msdn.microsoft.com/zh-cn/library/ms187819%28v=sql.105%29.aspx</a><br><a href="http://msdn.microsoft.com/zh-cn/library/ms182418%28v=sql.105%29.aspx">http://msdn.microsoft.com/zh-cn/library/ms182418%28v=sql.105%29.aspx</a></p>]]></content>
      
      
      <categories>
          
          <category> Silverlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Silverlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Silverlight 用户代码未处理 TypeLoadException</title>
      <link href="/2014/10/10/silverlight-yong-hu-dai-ma-wei-chu-li-typeloadexception/"/>
      <url>/2014/10/10/silverlight-yong-hu-dai-ma-wei-chu-li-typeloadexception/</url>
      
        <content type="html"><![CDATA[<p><img src="/images/2014101017321301.jpg" alt="2014101017321301.jpg"><br>在Silverlight中动态创建Enum时，多次调用改方法出现上图所示错误，后来发现定义名称都是一样的，</p><p>在程序中声明全局变量去区别就可以了。</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">int</span> num = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> Type <span class="title">CreateEnum</span>(<span class="params">List&lt;<span class="built_in">string</span>&gt; lists,<span class="built_in">string</span> enumName</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    AppDomain app = AppDomain.CurrentDomain;</span><br><span class="line">    AssemblyName aName = <span class="keyword">new</span> AssemblyName(<span class="string">&quot;SilverlightEnum&quot;</span> + num);</span><br><span class="line">    AssemblyBuilder ab = app.DefineDynamicAssembly(aName, AssemblyBuilderAccess.Run);</span><br><span class="line">    ModuleBuilder mb = ab.DefineDynamicModule(aName.Name + <span class="string">&quot;Module&quot;</span>);</span><br><span class="line">    EnumBuilder eb = mb.DefineEnum(enumName, TypeAttributes.Public, <span class="keyword">typeof</span>(System.Int32));</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; lists.Count; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        eb.DefineLiteral(lists[i], i);</span><br><span class="line">    &#125;</span><br><span class="line">    num++;</span><br><span class="line">    <span class="keyword">return</span> eb.CreateType();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Silverlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Silverlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Silverlight 动态创建Enum</title>
      <link href="/2014/10/08/silverlight-dong-tai-chuang-jian-enum/"/>
      <url>/2014/10/08/silverlight-dong-tai-chuang-jian-enum/</url>
      
        <content type="html"><![CDATA[<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> Type <span class="title">CreateEnum</span>()</span></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">   List&lt;<span class="built_in">string</span>&gt; lists = <span class="keyword">new</span> List&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">    lists.Add(<span class="string">&quot;男&quot;</span>);</span><br><span class="line">    lists.Add(<span class="string">&quot;女&quot;</span>);</span><br><span class="line">    AppDomain app = AppDomain.CurrentDomain;</span><br><span class="line">    AssemblyName aName = <span class="keyword">new</span>    AssemblyName(<span class="string">&quot;EnumAssemble&quot;</span>);</span><br><span class="line">    AssemblyBuilder ab = app.DefineDynamicAssembly(aName, AssemblyBuilderAccess.Run);</span><br><span class="line">    ModuleBuilder mb = ab.DefineDynamicModule(<span class="string">&quot;EnumModule&quot;</span>);</span><br><span class="line">    EnumBuilder eb = mb.DefineEnum(<span class="string">&quot;Sexs&quot;</span>, TypeAttributes.Public, <span class="keyword">typeof</span>(System.Int32));</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; lists.Count; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        eb.DefineLiteral(lists[i], i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> eb.CreateType();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>注意如果要多次调用该方法，AssemblyName需要不同的名字，请参考 <a href="http://www.cnblogs.com/ZJ199012/p/4016434.html">http://www.cnblogs.com/ZJ199012/p/4016434.html</a></p>]]></content>
      
      
      <categories>
          
          <category> Silverlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Silverlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>silverlight vs2010 需要缺少的web组件才能加载</title>
      <link href="/2014/09/30/silverlight-vs2010-xu-yao-que-shao-de-web-zu-jian-cai-neng-jia-zai/"/>
      <url>/2014/09/30/silverlight-vs2010-xu-yao-que-shao-de-web-zu-jian-cai-neng-jia-zai/</url>
      
        <content type="html"><![CDATA[<p>在打开一个开源的Silverlight项目是遇到如图所示的问题，点击是后没有反应。<br><img src="/images/2014093014111301.png" alt="2014093014111301.png"><br>查了资料，需要安装微软的<a href="http://www.microsoft.com/web/downloads/platform.aspx">webpi</a>(Microsoft Web Platform Installer)</p><p>webpi的介绍资料 <a href="http://msdn.microsoft.com/zh-cn/dd767442.aspx">http://msdn.microsoft.com/zh-cn/dd767442.aspx</a></p><p>下载后直接安装IIS Express，安装完成后加载需要加载的项目，弹出下图对话框，点击是即可。<br><img src="/images/2014093014111302.jpg" alt="2014093014111302.jpg"></p>]]></content>
      
      
      <categories>
          
          <category> Silverlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Silverlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Telerik RadPropertyGrid 设置显隐 Combox选择</title>
      <link href="/2014/09/25/telerik-radpropertygrid-she-zhi-xian-yin-combox-xuan-ze/"/>
      <url>/2014/09/25/telerik-radpropertygrid-she-zhi-xian-yin-combox-xuan-ze/</url>
      
        <content type="html"><![CDATA[<p>Telerik RadPropertyGrid 的排序按钮、搜索框和描述面板的显隐只要设置SortAndGroupButtons、SearchBox、DescriptionPanel的属性值改为Visibility.Collapsed就可以了。</p><p>RadPropertyGrid中的属性值设置成combox来选择，效果如下图：<br><img src="/images/2014092517311201.jpg" alt="2014092517311201.jpg"></p><p>界面代码</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;UserControl x:Class=<span class="string">&quot;SilverlightCreate.TelerikGrid&quot;</span></span><br><span class="line">    xmlns=<span class="string">&quot;http://schemas.microsoft.com/winfx/2006/xaml/presentation&quot;</span></span><br><span class="line">    xmlns:x=<span class="string">&quot;http://schemas.microsoft.com/winfx/2006/xaml&quot;</span></span><br><span class="line">    xmlns:d=<span class="string">&quot;http://schemas.microsoft.com/expression/blend/2008&quot;</span></span><br><span class="line">    xmlns:mc=<span class="string">&quot;http://schemas.openxmlformats.org/markup-compatibility/2006&quot;</span></span><br><span class="line">    xmlns:telerik=<span class="string">&quot;http://schemas.telerik.com/2008/xaml/presentation&quot;</span></span><br><span class="line">    mc:Ignorable=<span class="string">&quot;d&quot;</span></span><br><span class="line">    d:DesignHeight=<span class="string">&quot;300&quot;</span> d:DesignWidth=<span class="string">&quot;400&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">    &lt;Grid x:Name=<span class="string">&quot;LayoutRoot&quot;</span> Background=<span class="string">&quot;White&quot;</span>&gt;</span><br><span class="line">        &lt;telerik:RadPropertyGrid x:Name=<span class="string">&quot;grid1&quot;</span> Margin=<span class="string">&quot;155,0,0,0&quot;</span> AutoGeneratingPropertyDefinition=<span class="string">&quot;grid1_AutoGeneratingPropertyDefinition&quot;</span> LabelColumnWidth=<span class="string">&quot;100&quot;</span>&gt;</span><br><span class="line">        &lt;/telerik:RadPropertyGrid&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/Grid&gt;</span><br><span class="line">&lt;/UserControl&gt;</span><br></pre></td></tr></table></figure><p>后台代码</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">partial</span> <span class="keyword">class</span> <span class="title">TelerikGrid</span> : <span class="title">UserControl</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TelerikGrid</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        InitializeComponent();</span><br><span class="line">        grid1.SortAndGroupButtonsVisibility = Visibility.Collapsed;</span><br><span class="line">        grid1.SearchBoxVisibility = Visibility.Collapsed;</span><br><span class="line">        grid1.DescriptionPanelVisibility = Visibility.Collapsed;</span><br><span class="line">        <span class="keyword">this</span>.grid1.Item = <span class="keyword">new</span> Employee()</span><br><span class="line">        &#123;</span><br><span class="line">            FirstName = <span class="string">&quot;Sarah&quot;</span>,</span><br><span class="line">            LastName = <span class="string">&quot;Blake&quot;</span>,</span><br><span class="line">            Occupation = <span class="string">&quot;Supplied Manager&quot;</span>,</span><br><span class="line">            StartingDate = DateTime.Today,</span><br><span class="line">            IsMarried = <span class="literal">true</span>,</span><br><span class="line">            sex = Sexs.男</span><br><span class="line">        &#125;;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">grid1_AutoGeneratingPropertyDefinition</span>(<span class="params"><span class="built_in">object</span> sender, Telerik.Windows.Controls.Data.PropertyGrid.AutoGeneratingPropertyDefinitionEventArgs e</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        e.PropertyDefinition.GroupName = <span class="string">&quot;Properties&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Employee</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> FirstName &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> LastName &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Occupation &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> DateTime StartingDate &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">bool</span> IsMarried &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> Sexs sex &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="built_in">enum</span> Sexs</span><br><span class="line">&#123; </span><br><span class="line">    男,</span><br><span class="line">    女</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Silverlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Silverlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Win7 桌面图标消失</title>
      <link href="/2014/09/03/win7-zhuo-mian-tu-biao-xiao-shi/"/>
      <url>/2014/09/03/win7-zhuo-mian-tu-biao-xiao-shi/</url>
      
        <content type="html"><![CDATA[<p>win7 桌面图标消失或任务栏也消失，可以按Ctrl+Shift+Esc键调出任务管理器，然后点击文件——新建任务，输入explorer。</p>]]></content>
      
      
      <categories>
          
          <category> Computer </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Computer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C# 生成二维码</title>
      <link href="/2014/09/02/csharp-sheng-cheng-er-wei-ma/"/>
      <url>/2014/09/02/csharp-sheng-cheng-er-wei-ma/</url>
      
        <content type="html"><![CDATA[<p>QrCode.net地址 <a href="http://qrcodenet.codeplex.com/">http://qrcodenet.codeplex.com</a></p><p>QrCode.net 是用C#编写生成二维码的项目，它支持C#、silverlight、winRT</p><p>新建一个winform程序后，引用Gma.QrCodeNet.Encoding.dll</p><p>然后在工具箱中添加一个选项卡，然后右键选择项，选择Gma.QrCodeNet.Encoding.dll，然后出现如图所示的控件<br><img src="/images/2014090216241301.png" alt="2014090216241301.png"><br>将两个控件拖入winform窗体中<br><img src="/images/2014090216241302.png" alt="2014090216241302.png"></p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> Color _lightModule = Color.FromArgb(<span class="number">220</span>, <span class="number">100</span>, <span class="number">203</span>, <span class="number">50</span>);</span><br><span class="line">    <span class="keyword">private</span> Color _darkModule = Color.FromArgb(<span class="number">170</span>, <span class="number">20</span>, <span class="number">250</span>, <span class="number">220</span>);</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">FrmQr</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        InitializeComponent();</span><br><span class="line">        qcicHello.DarkBrush = <span class="keyword">new</span> SolidBrush(_darkModule);</span><br><span class="line">        qcicHello.LightBrush = <span class="keyword">new</span> SolidBrush(_lightModule);</span><br><span class="line">        qcicHello.Text = txtInput.Text.Trim();</span><br><span class="line">        qcgcHello.Text = txtInput.Text.Trim();</span><br><span class="line">        ContrastCal();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">btnSave_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        SaveFileDialog saveFileDialog = <span class="keyword">new</span> SaveFileDialog();</span><br><span class="line">        saveFileDialog.Filter = <span class="string">@&quot;PNG (*.png)|*.png|Bitmap (*.bmp)|*.bmp|Encapsuled PostScript (*.eps)|*.eps|SVG (*.svg)|*.svg&quot;</span>;</span><br><span class="line">        saveFileDialog.FileName = Path.GetFileName(GetFileNameProposal());</span><br><span class="line">        saveFileDialog.DefaultExt = <span class="string">&quot;png&quot;</span>;</span><br><span class="line">        <span class="keyword">if</span> (saveFileDialog.ShowDialog() != DialogResult.OK)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (saveFileDialog.FileName.EndsWith(<span class="string">&quot;eps&quot;</span>))</span><br><span class="line">        &#123;</span><br><span class="line">            BitMatrix matrix = qcgcHello.GetQrMatrix();</span><br><span class="line">            <span class="comment">// 初始化 the EPS renderer</span></span><br><span class="line">            <span class="keyword">var</span> renderer = <span class="keyword">new</span> EncapsulatedPostScriptRenderer(</span><br><span class="line">                <span class="keyword">new</span> FixedModuleSize(<span class="number">6</span>, QuietZoneModules.Two), <span class="comment">// Modules size is 6/72th inch (72 points = 1 inch)</span></span><br><span class="line">                <span class="keyword">new</span> FormColor(Color.Black), <span class="keyword">new</span> FormColor(Color.White));</span><br><span class="line">            <span class="keyword">using</span> (<span class="keyword">var</span> file = File.Open(saveFileDialog.FileName, FileMode.CreateNew))</span><br><span class="line">            &#123;</span><br><span class="line">                renderer.WriteToStream(matrix, file);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (saveFileDialog.FileName.EndsWith(<span class="string">&quot;svg&quot;</span>))</span><br><span class="line">        &#123;</span><br><span class="line">            BitMatrix matrix = qcgcHello.GetQrMatrix();</span><br><span class="line">            <span class="comment">// 初始化 EPS renderer</span></span><br><span class="line">            <span class="keyword">var</span> renderer = <span class="keyword">new</span> SVGRenderer(</span><br><span class="line">                <span class="keyword">new</span> FixedModuleSize(<span class="number">6</span>, QuietZoneModules.Two), <span class="comment">// Modules size is 6/72th inch (72 points = 1 inch)</span></span><br><span class="line">                <span class="keyword">new</span> FormColor(Color.FromArgb(<span class="number">150</span>, <span class="number">200</span>, <span class="number">200</span>, <span class="number">210</span>)), <span class="keyword">new</span> FormColor(Color.FromArgb(<span class="number">200</span>, <span class="number">255</span>, <span class="number">155</span>, <span class="number">0</span>)));</span><br><span class="line">            <span class="keyword">using</span> (<span class="keyword">var</span> file = File.OpenWrite(saveFileDialog.FileName))</span><br><span class="line">            &#123;</span><br><span class="line">                renderer.WriteToStream(matrix, file, <span class="literal">false</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            GraphicsRenderer gRender = <span class="keyword">new</span> GraphicsRenderer(<span class="keyword">new</span> FixedModuleSize(<span class="number">30</span>, QuietZoneModules.Four));</span><br><span class="line">            BitMatrix matrix = qcgcHello.GetQrMatrix();</span><br><span class="line">            <span class="keyword">using</span> (FileStream stream = <span class="keyword">new</span> FileStream(saveFileDialog.FileName, FileMode.Create))</span><br><span class="line">            &#123;</span><br><span class="line">                gRender.WriteToStream(matrix, ImageFormat.Png, stream, <span class="keyword">new</span> Point(<span class="number">600</span>, <span class="number">600</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">txtInput_TextChanged</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        qcicHello.Text = txtInput.Text.Trim();</span><br><span class="line">        qcgcHello.Text = txtInput.Text.Trim();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="built_in">string</span> <span class="title">GetFileNameProposal</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> txtInput.Text.Length &gt; <span class="number">10</span> ? txtInput.Text.Substring(<span class="number">0</span>, <span class="number">10</span>) : txtInput.Text;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">ContrastCal</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        SolidBrush darkmoduleBrush = qcicHello.DarkBrush <span class="keyword">as</span> SolidBrush;</span><br><span class="line">        SolidBrush lightmoduleBrush = qcicHello.LightBrush <span class="keyword">as</span> SolidBrush;</span><br><span class="line">        Color darkmodule = darkmoduleBrush == <span class="literal">null</span> ? _darkModule : darkmoduleBrush.Color;</span><br><span class="line">        Color lightmodule = lightmoduleBrush == <span class="literal">null</span> ? _lightModule : lightmoduleBrush.Color;</span><br><span class="line">        Contrast ctrast = ColorContrast.GetContrast(<span class="keyword">new</span> FormColor(lightmodule), <span class="keyword">new</span> FormColor(darkmodule));</span><br><span class="line">        label1.Text = ctrast.Ratio.ToString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>urlScan 配置阻止sql注入</title>
      <link href="/2014/08/21/urlscan-pei-zhi-zu-zhi-sql-zhu-ru/"/>
      <url>/2014/08/21/urlscan-pei-zhi-zu-zhi-sql-zhu-ru/</url>
      
        <content type="html"><![CDATA[<p>工具<br><a href="http://download.microsoft.com/download/2/1/9/219764e5-533b-4ce7-95fe-d4e3b98eafea/urlscan_v31_x64.msi">urlscan_v31_x64</a><br><a href="http://download.microsoft.com/download/c/7/a/c7a411ed-1c0f-48c1-90e5-6d3a1ca054c1/urlscan_v31_x86.msi">urlscan_v31_x86</a></p><p>URLScan是一个IIS下的ISAPI 筛选器，它能够限制服务器将要处理的HTTP请求的类型。通过阻止特定的 HTTP 请求，URLScan 筛选器可以阻止可能有害的请求到达服务器并造成危害，urlScan 3.1支持IIS6、IIS7。</p><p>URLScan配置文件在 C:\Windows\System32\inetsrv\urlscan</p><p>下面是配置文件的说明</p><p>UseAllowVerbs&#x3D;1<br>; 允许的请求的HTTP类型;<br>; 如果设置为 1，则[AllowVerbs]生效;<br>; 如果设置为 0，则[AllowVerbs]生效。</p><p>UseAllowExtensions&#x3D;0<br>; 允许请求的后缀类型;<br>; 如果设置为 0，则[DenyExtensions]生效;<br>; 如果设置为 1，则[AllowExtensions]生效。</p><p>NormalizeUrlBeforeScan&#x3D;1<br>; 扫描标准化URL之前。</p><p>VerifyNormalization&#x3D;1<br>; 查证标准化URL。</p><p>AllowHighBitCharacters&#x3D;1<br>; 如果设置为 1，将允许URL中存在所有字节;<br>; 如果设置为 0，含有非ASCII字符的URL将拒绝(如UTF8或者MBCS)。</p><p>AllowDotInPath&#x3D;0<br>; 如果设置为0，则URLScan 拒绝所有包含多个句点 (.) 的请求。</p><p>RemoveServerHeader&#x3D;0<br>;设置为1可隐藏服务器信息。</p><p>EnableLogging&#x3D;1<br>; 开启日志记录</p><p>PerProcessLogging&#x3D;0<br>; 如果设置为0，为每个进程创建日志文件。</p><p>AllowLateScanning&#x3D;0<br>; 如果设置为 0，则 URLScan 作为高优先级筛选器运行。</p><p>PerDayLogging&#x3D;1<br>; 如果设置为 1，则URLScan每天创建一个新的日志文件。</p><p>UseFastPathReject&#x3D;0<br>; 如果设置为 1，则 URLScan 忽略 RejectResponseUrl 设置并立即向浏览器返回 404 错误信息。<br>; 如果设置为 0，则 URLScan 使用 RejectResponseUrl 设置来返回请求。</p><p>LogLongUrls&#x3D;0<br>; 这个属性是UrlScan 3.0及以后的弃用。UrlScan禁止3.0及以后总是包括完整的日志文件的URL。</p><p>UnescapeQueryString&#x3D;1<br>;如果设置为1，UrlScan将执行两个传递查询字符串扫描后与原始查询字符串和一次unescaping<br>;如果设置为0，UrlScan禁止只会看看原始客户端发送的查询字符串</p><p>RejectResponseUrl&#x3D;<br>; 设置用于返回的Url路径</p><p>AlternateServerName&#x3D;<br>; 如果将 RemoveServerHeader设为0，此可自定义服务器关信息。<br>; 如果将 RemoveServerHeader设为1，则此选项将被忽略。</p><p>[AlwaysAllowedUrls]<br>;<br>; 这里列出的url将永远是显式地允许UrlScan禁止并将绕过所有UrlScan禁止检查。列出的url必须用“&#x2F;”字符。例如:<br>;<br>;   &#x2F;SampleURL.htm<br>;</p><p>[DenyUrlSequences]<br>;<br>; 如果任何字符序列列在这里出现在任何的URL请求,该请求将被拒绝。<br>;</p><dl><dt>..  ; 不允许目录遍历<br>.&#x2F;  ; 不允许拖点目录名称<br>\   ; 不允许反斜杠的URL</dt><dd>; 不允许交替流的访问<br>%   ; 不允许正常化后溢出<br>&amp;   ; 不允许多个CGI进程在单个请求中运行</dd></dl><p>在参数中过滤sql注入的一些关键字</p><p>[DenyQueryStringSequences]<br>;<br>;如果任何字符序列这里列出在查询字符串中出现任何请求,该请求将被拒绝。<br>;</p><p>下面是一些常用的关键字就不一一列举了</p><p><strong>&lt;**    ; 常用的脚本注入攻击<br>**&gt;</strong>    ;<br><strong>–</strong>   ;<br>delete ;<br>select ;</p><p>注意：设置好这些以后需要重启一下iis，urlscan才能生效</p><p> 最近有看到了一个防止注入的软件</p><p>地址 <a href="http://www.safedog.cn/install_desc_website.html">http://www.safedog.cn/install_desc_website.html</a></p><p>说明文档 <a href="http://www.safedog.cn/download/software/safedogwz_Windows_Help.pdf">http://www.safedog.cn/download/software/safedogwz_Windows_Help.pdf</a></p><p>参考 <a href="http://blog.csdn.net/huwei2003/article/details/6259757">http://blog.csdn.net/huwei2003/article/details/6259757</a></p>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>web 中防止sql注入</title>
      <link href="/2014/08/20/web-zhong-fang-zhi-sql-zhu-ru/"/>
      <url>/2014/08/20/web-zhong-fang-zhi-sql-zhu-ru/</url>
      
        <content type="html"><![CDATA[<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">SqlInject</span>:<span class="title">Page</span></span><br><span class="line"> &#123;</span><br><span class="line">     <span class="comment">//检测到注入后的处理方式: 0:仅警告；1：警告+记录；2：警告+自定义错误页面；3：警告+记录+自定义错误页面  </span></span><br><span class="line">     <span class="keyword">private</span> <span class="keyword">const</span> <span class="built_in">int</span> _type = <span class="number">0</span>;</span><br><span class="line">     <span class="keyword">private</span> <span class="keyword">const</span> <span class="built_in">string</span> errRedirectPage = <span class="string">&quot;/err.aspx&quot;</span>;</span><br><span class="line">     <span class="comment">//如果记录注入信息，那么请设置：errMDBpath：数据库路径  </span></span><br><span class="line">     <span class="keyword">private</span> <span class="keyword">const</span> <span class="built_in">string</span> errMDBpath = <span class="string">&quot;/SqlInject.mdb&quot;</span>;</span><br><span class="line">     <span class="comment">//过滤特征字符  </span></span><br><span class="line">     <span class="comment">//过滤特征字符  </span></span><br><span class="line">     <span class="keyword">private</span> <span class="keyword">static</span> <span class="built_in">string</span> StrKeyWord = ConfigurationManager.AppSettings[<span class="string">&quot;SqlKeyWord&quot;</span>]; <span class="comment">//@&quot;select|insert|delete|from|count(|drop table|update|truncate|asc(|mid(|char(|xp_cmdshell|exec|master|net local group administrators|net user|or|and&quot;;  </span></span><br><span class="line">     <span class="keyword">private</span> <span class="keyword">static</span> <span class="built_in">string</span> StrRegex = ConfigurationManager.AppSettings[<span class="string">&quot;SqlRegex&quot;</span>];  <span class="comment">//@&quot;;|/|(|)|[|]|&#123;|&#125;|%|@|*|&#x27;|!&quot;; // 原始过滤条件：【-|;|,|/|(|)|[|]|&#123;|&#125;|%|@|*|&#x27;|!】  </span></span><br><span class="line">     <span class="keyword">private</span> HttpRequest request;</span><br><span class="line">     <span class="function"><span class="keyword">public</span> <span class="title">SqlInject</span>(<span class="params">System.Web.HttpRequest _request</span>)</span></span><br><span class="line">     &#123;</span><br><span class="line">         <span class="keyword">this</span>.request = _request;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="comment"><span class="doctag">///</span><span class="doctag">&lt;summary&gt;</span>  </span></span><br><span class="line">     <span class="comment"><span class="doctag">///</span>检测SQL注入及记录、显示出错信息  </span></span><br><span class="line">     <span class="comment"><span class="doctag">///</span><span class="doctag">&lt;/summary&gt;</span>  </span></span><br><span class="line">     <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">CheckSqlInject</span>()</span></span><br><span class="line">     &#123;</span><br><span class="line">         <span class="built_in">bool</span> isInject = <span class="literal">false</span>;</span><br><span class="line">         <span class="keyword">if</span> (CheckRequestQuery() || CheckRequestForm())</span><br><span class="line">         &#123;</span><br><span class="line">             isInject = <span class="literal">true</span>;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="keyword">else</span></span><br><span class="line">         &#123;</span><br><span class="line">             <span class="keyword">return</span>;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="keyword">switch</span> (_type)</span><br><span class="line">         &#123;</span><br><span class="line">             <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">                 ShowErr();</span><br><span class="line">                 <span class="keyword">break</span>;</span><br><span class="line">             <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                 ShowErr();</span><br><span class="line">                 SaveToMdb();</span><br><span class="line">                 <span class="keyword">break</span>;</span><br><span class="line">             <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                 ShowErr();</span><br><span class="line">                 <span class="built_in">string</span> temp;</span><br><span class="line">                 System.Web.HttpContext.Current.Response.Write(<span class="string">&quot;&lt;script&gt;setTimeout(\&quot;&quot;</span> + <span class="string">&quot;location.href=&#x27;&quot;</span> + errRedirectPage + <span class="string">&quot;&#x27;&quot;</span> + <span class="string">&quot;\&quot;,5000)&lt;/script&gt;&quot;</span>);</span><br><span class="line">                 <span class="keyword">break</span>;</span><br><span class="line">             <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">                 ShowErr();</span><br><span class="line">                 SaveToMdb();</span><br><span class="line">                 System.Web.HttpContext.Current.Response.Write(<span class="string">&quot;&lt;script&gt;setTimeout(\&quot;&quot;</span> + <span class="string">&quot;location.href=&#x27;&quot;</span> + errRedirectPage + <span class="string">&quot;&#x27;&quot;</span> + <span class="string">&quot;\&quot;,5000)&lt;/script&gt;&quot;</span>);</span><br><span class="line">                 <span class="keyword">break</span>;</span><br><span class="line">             <span class="literal">default</span>:</span><br><span class="line">                 <span class="keyword">break</span>;</span><br><span class="line">         &#125;</span><br><span class="line">         System.Web.HttpContext.Current.Response.End();</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">SaveToMdb</span>()</span></span><br><span class="line">     &#123;</span><br><span class="line">         OleDbConnection conn = <span class="keyword">new</span> OleDbConnection(<span class="string">&quot;Provider=Microsoft.JET.OLEDB.4.0;Data Source=&quot;</span> + Server.MapPath(errMDBpath));</span><br><span class="line">         conn.Open();</span><br><span class="line">         OleDbCommand cmd = conn.CreateCommand();</span><br><span class="line">         cmd.CommandText = <span class="string">&quot;insert into [Record] (sIP,sDate,sPath) values (&#x27;&quot;</span> +</span><br><span class="line">              request.ServerVariables[<span class="string">&quot;REMOTE_ADDR&quot;</span>].ToString() + <span class="string">&quot;&#x27;,&#x27;&quot;</span> +</span><br><span class="line">              DateTime.Now + <span class="string">&quot;&#x27;,&#x27;&quot;</span> + request.ServerVariables[<span class="string">&quot;URL&quot;</span>].ToLower() + RelaceSingleQuotes(request.QueryString.ToString()) + <span class="string">&quot;&#x27;)&quot;</span>;</span><br><span class="line">         <span class="built_in">int</span> code = cmd.ExecuteNonQuery();</span><br><span class="line">         <span class="keyword">if</span> (code == <span class="number">1</span>)</span><br><span class="line">             HttpContext.Current.Response.Write(<span class="string">&quot;&lt;br&gt;****以上信息已记录至日志数据库****&quot;</span>);</span><br><span class="line">         <span class="keyword">else</span></span><br><span class="line">             HttpContext.Current.Response.Write(<span class="string">&quot;&lt;br&gt;日志数据库出错&quot;</span>);</span><br><span class="line">         conn.Close();</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="function"><span class="keyword">private</span> <span class="built_in">string</span> <span class="title">RelaceSingleQuotes</span>(<span class="params"><span class="built_in">string</span> _url</span>)</span></span><br><span class="line">     &#123;</span><br><span class="line">         <span class="built_in">string</span> URL = _url.Replace(<span class="string">&quot;&#x27;&quot;</span>, <span class="string">&quot;单引号&quot;</span>);</span><br><span class="line">         <span class="keyword">return</span> URL;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">ShowErr</span>()</span></span><br><span class="line">     &#123;</span><br><span class="line">         <span class="comment">//string msg = @&quot;&lt;font color=red&gt;请不要尝试未授权之入侵检测！&lt;/font&gt;&quot; + @&quot;&lt;br&gt;&lt;br&gt;&quot;;  </span></span><br><span class="line">         <span class="comment">//msg += @&quot;操作IP：&quot; + request.ServerVariables[&quot;REMOTE_ADDR&quot;] + @&quot;&lt;br&gt;&quot;;  </span></span><br><span class="line">         <span class="comment">//msg += @&quot;操作时间：&quot; + DateTime.Now + @&quot;&lt;br&gt;&quot;;  </span></span><br><span class="line">         <span class="comment">//msg += @&quot;页面：&quot; + request.ServerVariables[&quot;URL&quot;].ToLower() + request.QueryString.ToString() + @&quot;&lt;br&gt;&quot;;  </span></span><br><span class="line">         <span class="comment">//msg += @&quot;&lt;a href=&#x27;#&#x27; onclick=&#x27;javascript:window.close()&#x27;&gt;关闭&lt;/a&gt;&quot;;  </span></span><br><span class="line">         <span class="comment">//System.Web.HttpContext.Current.Response.Clear();  </span></span><br><span class="line">         <span class="comment">//System.Web.HttpContext.Current.Response.Write(msg);  </span></span><br><span class="line">         HttpContext.Current.Response.Write(<span class="string">&quot;&lt;script&gt;alert(&#x27;请不要尝试未授权之入侵检测！&#x27;);javascript:history.go(-1);&lt;/script&gt;&quot;</span>);</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="comment"><span class="doctag">///</span><span class="doctag">&lt;summary&gt;</span>  </span></span><br><span class="line">     <span class="comment"><span class="doctag">///</span> 特征字符  </span></span><br><span class="line">     <span class="comment"><span class="doctag">///</span><span class="doctag">&lt;/summary&gt;</span>  </span></span><br><span class="line">     <span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">string</span> KeyWord</span><br><span class="line">     &#123;</span><br><span class="line">         <span class="keyword">get</span></span><br><span class="line">         &#123;</span><br><span class="line">             <span class="keyword">return</span> StrKeyWord;</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="comment"><span class="doctag">///</span><span class="doctag">&lt;summary&gt;</span>  </span></span><br><span class="line">     <span class="comment"><span class="doctag">///</span> 特征符号  </span></span><br><span class="line">     <span class="comment"><span class="doctag">///</span><span class="doctag">&lt;/summary&gt;</span>  </span></span><br><span class="line">     <span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">string</span> RegexString</span><br><span class="line">     &#123;</span><br><span class="line">         <span class="keyword">get</span></span><br><span class="line">         &#123;</span><br><span class="line">             <span class="keyword">return</span> StrRegex;</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="comment"><span class="doctag">///</span><span class="doctag">&lt;summary&gt;</span>  </span></span><br><span class="line">     <span class="comment"><span class="doctag">///</span>检查字符串中是否包含Sql注入关键字  </span></span><br><span class="line">     <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;_key&quot;&gt;</span>被检查的字符串<span class="doctag">&lt;/param&gt;</span>  </span></span><br><span class="line">     <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>如果包含注入true;否则返回false<span class="doctag">&lt;/returns&gt;</span>  </span></span><br><span class="line">     <span class="comment"><span class="doctag">///</span><span class="doctag">&lt;/summary&gt;</span>  </span></span><br><span class="line">     <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="built_in">bool</span> <span class="title">CheckKeyWord</span>(<span class="params"><span class="built_in">string</span> _key</span>)</span></span><br><span class="line">     &#123;</span><br><span class="line">         <span class="built_in">string</span>[] pattenString = StrKeyWord.Split(<span class="string">&#x27;|&#x27;</span>);</span><br><span class="line">         <span class="built_in">string</span>[] pattenRegex = StrRegex.Split(<span class="string">&#x27;|&#x27;</span>);</span><br><span class="line">         <span class="keyword">foreach</span> (<span class="built_in">string</span> sqlParam <span class="keyword">in</span> pattenString)</span><br><span class="line">         &#123;</span><br><span class="line">             <span class="keyword">if</span> (_key.Contains(sqlParam + <span class="string">&quot; &quot;</span>) || _key.Contains(<span class="string">&quot; &quot;</span> + sqlParam))</span><br><span class="line">             &#123;</span><br><span class="line">                 <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">             &#125;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="keyword">foreach</span> (<span class="built_in">string</span> sqlParam <span class="keyword">in</span> pattenRegex)</span><br><span class="line">         &#123;</span><br><span class="line">             <span class="keyword">if</span> (_key.Contains(sqlParam))</span><br><span class="line">             &#123;</span><br><span class="line">                 <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">             &#125;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="comment"><span class="doctag">///</span><span class="doctag">&lt;summary&gt;</span>  </span></span><br><span class="line">     <span class="comment"><span class="doctag">///</span>检查URL中是否包含Sql注入  </span></span><br><span class="line">     <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;_request&quot;&gt;</span>当前HttpRequest对象<span class="doctag">&lt;/param&gt;</span>  </span></span><br><span class="line">     <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>如果包含注入true;否则返回false<span class="doctag">&lt;/returns&gt;</span>  </span></span><br><span class="line">     <span class="comment"><span class="doctag">///</span><span class="doctag">&lt;/summary&gt;</span>  </span></span><br><span class="line">     <span class="function"><span class="keyword">public</span> <span class="built_in">bool</span> <span class="title">CheckRequestQuery</span>()</span></span><br><span class="line">     &#123;</span><br><span class="line">         <span class="keyword">if</span> (request.QueryString.Count &gt; <span class="number">0</span>)</span><br><span class="line">         &#123;</span><br><span class="line">             <span class="keyword">foreach</span> (<span class="built_in">string</span> sqlParam <span class="keyword">in</span> <span class="keyword">this</span>.request.QueryString)</span><br><span class="line">             &#123;</span><br><span class="line">                 <span class="keyword">if</span> (sqlParam == <span class="string">&quot;__VIEWSTATE&quot;</span>) <span class="keyword">continue</span>;</span><br><span class="line">                 <span class="keyword">if</span> (sqlParam == <span class="string">&quot;__EVENTVALIDATION&quot;</span>) <span class="keyword">continue</span>;</span><br><span class="line">                 <span class="keyword">if</span> (CheckKeyWord(request.QueryString[sqlParam].ToLower()))</span><br><span class="line">                 &#123;</span><br><span class="line">                     <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                 &#125;</span><br><span class="line">             &#125;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="comment"><span class="doctag">///</span><span class="doctag">&lt;summary&gt;</span>  </span></span><br><span class="line">     <span class="comment"><span class="doctag">///</span>检查提交的表单中是否包含Sql注入  </span></span><br><span class="line">     <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;_request&quot;&gt;</span>当前HttpRequest对象<span class="doctag">&lt;/param&gt;</span>  </span></span><br><span class="line">     <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>如果包含注入true;否则返回false<span class="doctag">&lt;/returns&gt;</span>  </span></span><br><span class="line">     <span class="comment"><span class="doctag">///</span><span class="doctag">&lt;/summary&gt;</span>  </span></span><br><span class="line">     <span class="function"><span class="keyword">public</span> <span class="built_in">bool</span> <span class="title">CheckRequestForm</span>()</span></span><br><span class="line">     &#123;</span><br><span class="line">         <span class="keyword">if</span> (request.Form.Count &gt; <span class="number">0</span>)</span><br><span class="line">         &#123;</span><br><span class="line">             <span class="keyword">foreach</span> (<span class="built_in">string</span> sqlParam <span class="keyword">in</span> <span class="keyword">this</span>.request.Form)</span><br><span class="line">             &#123;</span><br><span class="line">                 <span class="keyword">if</span> (sqlParam == <span class="string">&quot;__VIEWSTATE&quot;</span>) <span class="keyword">continue</span>;</span><br><span class="line">                 <span class="keyword">if</span> (sqlParam == <span class="string">&quot;__EVENTVALIDATION&quot;</span>) <span class="keyword">continue</span>;</span><br><span class="line">                 <span class="keyword">if</span> (CheckKeyWord(request.Form[sqlParam]))</span><br><span class="line">                 &#123;</span><br><span class="line">                     <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                 &#125;</span><br><span class="line">             &#125;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">     &#125;  </span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><p>在web编程中都有被sql注入的风险，要防止sql注入，最基本就是从编写代码的时候开始防护</p><p>在web.config中加入</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">appSettings</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">add</span> <span class="attr">key</span>=<span class="string">&quot;SqlKeyWord&quot;</span> <span class="attr">value</span>=<span class="string">&quot;select|insert|delete|from|count(|drop table|update|truncate|asc(|mid(|char(|xp_cmdshell|exec|master|net local group administrators|net user|or|and&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">add</span> <span class="attr">key</span>=<span class="string">&quot;SqlRegex&quot;</span> <span class="attr">value</span>=<span class="string">&quot;;|(|)|[|]|&#123;|&#125;|%|@|*|&#x27;|!&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">appSettings</span>&gt;</span></span><br></pre></td></tr></table></figure><p>然后在Global文件中加入</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Application_BeginRequest</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//防SQL注入代码   </span></span><br><span class="line">    SqlInject myCheck = <span class="keyword">new</span> SqlInject(<span class="keyword">this</span>.Request);</span><br><span class="line">    myCheck.CheckSqlInject();  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>对于软件方面的防护，微软官方给了一个UrlScan的工具</p><p><a href="http://download.microsoft.com/download/c/7/a/c7a411ed-1c0f-48c1-90e5-6d3a1ca054c1/urlscan_v31_x86.msi">urlScanx86</a><br><a href="http://download.microsoft.com/download/2/1/9/219764e5-533b-4ce7-95fe-d4e3b98eafea/urlscan_v31_x64.msi">urlScanx64</a></p><p>安装完软件后要重启一下iis才能生效</p><p>转载自 <a href="http://netsecurity.51cto.com/art/201301/375797_1.htm">http://netsecurity.51cto.com/art/201301/375797_1.htm</a></p>]]></content>
      
      
      <categories>
          
          <category> WEB </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
            <tag> WEB </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C#读取Oracle Spatial的sdo_geometry</title>
      <link href="/2014/06/26/csharp-du-qu-oracle-spatial-de-sdo-geometry/"/>
      <url>/2014/06/26/csharp-du-qu-oracle-spatial-de-sdo-geometry/</url>
      
        <content type="html"><![CDATA[<p>oracle的sdo_geometry中内置get_wkt和get_wkb两个方法。</p><p>以数据库表geoms为例，此表中有id和geometry两列</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span></span><br><span class="line">&#123;</span><br><span class="line">    OracleConnection con = <span class="keyword">new</span> OracleConnection(conStr);</span><br><span class="line">    OracleCommand cmd = <span class="keyword">new</span> OracleCommand(<span class="string">@&quot;SELECT sdo_geometry.get_wkt(geometry) FROM geoms WHERE id= 1902 &quot;</span>, con);</span><br><span class="line">    con.Open();</span><br><span class="line">    OracleDataReader read = cmd.ExecuteReader();</span><br><span class="line">    <span class="keyword">if</span> (read.Read())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">string</span> geo = ((OracleClob)read.GetOracleValue(<span class="number">0</span>)).Value;</span><br><span class="line">        MessageBox.Show(geo);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">catch</span> (Exception ex)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">throw</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>查询出的结果如下所示<br>POINT (113.3293658 23.14338586)<br>POLYGON ((5.0 1.0, 8.0 1.0, 8.0 6.0, 5.0 7.0, 5.0 1.0))</p><p>wkt和wkb介绍</p><p>wkt(OGC well-known text)和wkb(OGC well-known binary)是OGC制定的空间数据的组织规范，wkt是以文本形式描述，wkb是以二进制形式描述。<br>使用wkt和wkb能够很好到和其他系统进行数据交换，目前大部分支持空间数据存储的数据库构造空间数据都采用这两种方式。<br>wkt的组织结构如下：</p><p>Geometry type     Text description     Comment<br>ST_Point     ‘point empty’     empty point<br>ST_Point     ‘point z empty’     empty point with z-coordinate<br>ST_Point     ‘point m empty’     empty point with measure<br>ST_Point     ‘point zm empty’     empty point with z-coordinate and measure<br>ST_Point     ‘point ( 10.05 10.28 )’     point<br>ST_Point     ‘point z( 10.05 10.28 2.51 )’     point with z-coordinate<br>ST_Point     ‘point m( 10.05 10.28 4.72 )’     point with measure<br>ST_Point     ‘point zm(10.05 10.28 2.51 4.72 )’     point with z-coordinate and measure<br>ST_LineString     ‘linestring empty’     empty linestring<br>ST_LineString     ‘linestring z empty’     empty linestring with z-coordinates<br>ST_LineString     ‘linestring m empty’     empty linestring with measures<br>ST_LineString     ‘linestring zm empty’     empty linestring with z-coordinates and measures<br>ST_LineString     ‘linestring (10.05 10.28 , 20.95 20.89 )’     linestring<br>ST_LineString     ‘linestring z(10.05 10.28 3.09, 20.95 31.98 4.72, 21.98 29.80 3.51 )’     linestring with z-coordinates<br>ST_LineString     ‘linestring m(10.05 10.28 5.84, 20.95 31.98 9.01, 21.98 29.80 12.84 )’     linestring with measures<br>ST_LineString     ‘linestring zm(10.05 10.28 3.09 5.84, 20.95 31.98 4.72 9.01, 21.98 29.80 3.51 12.84)’     linestring with z-coordinates and measures<br>ST_Polygon     ‘polygon empty’     empty polygon<br>ST_Polygon     ‘polygon z empty’     empty polygon with z-coordinates<br>ST_Polygon     ‘polygon m empty’     empty polygon with measures<br>ST_Polygon     ‘polygon zm empty’     empty polygon with z-coordinates and measures<br>ST_Polygon     ‘polygon ((10 10, 10 20, 20 20, 20 15, 10 10))’     polygon<br>ST_Polygon     ‘polygon z((10 10 3, 10 20 3, 20 20 3, 20 15 4, 10 10 3))’     polygon with z-coordinates<br>ST_Polygon     ‘polygon m((10 10 8, 10 20 9, 20 20 9, 20 15 9, 10 10 8 ))’     polygon with measures<br>ST_Polygon     ‘polygon zm((10 10 3 8, 10 20 3 9, 20 20 3 9, 20 15 4 9, 10 10 3 8 ))’     polygon with z-coordinates and measures<br>ST_MultiPoint     ‘multipoint empty’     empty multipoint<br>ST_MultiPoint     ‘multipoint z empty’     empty multipoint with z-coordinates<br>ST_MultiPoint     ‘multipoint m empty’     empty multipoint with measures<br>ST_MultiPoint     ‘multipoint zm empty’     empty multipoint with z-coordinates and measures<br>ST_MultiPoint     ‘multipoint (10 10, 20 20)’     multipoint with two points<br>ST_MultiPoint     ‘multipoint z(10 10 2, 20 20 3)’     multipoint with z-coordinates<br>ST_MultiPoint     ‘multipoint m(10 10 4, 20 20 5)’     multipoint with measures<br>ST_MultiPoint     ‘multipoint zm(10 10 2 4, 20 20 3 5)’     multipoint with z-coordinates and measures<br>ST_MultiLineString     ‘multilinestring empty’     empty multilinestring<br>ST_MultiLineString     ‘multilinestring z empty’     empty multilinestring with z-coordinates<br>ST_MultiLineString     ‘multilinestring m empty’     empty multilinestring with measures<br>ST_MultiLineString     ‘multilinestring zm empty’     empty multilinestring with z-coordinates and measures<br>ST_MultiLineString     ‘multilinestring ((10.05 10.28 , 20.95 20.89 ),( 20.95 20.89, 31.92 21.45))’     multilinestring<br>ST_MultiLineString     ‘multilinestring z((10.05 10.28 3.4, 20.95 20.89 4.5),( 20.95 20.89 4.5, 31.92 21.45 3.6))’     multilinestring with z-coordinates<br>ST_MultiLineString     ‘multilinestring m((10.05 10.28 8.4, 20.95 20.89 9.5), (20.95 20.89 9.5, 31.92 21.45 8.6))’     multilinestring with measures<br>ST_MultiLineString     ‘multilinestring zm((10.05 10.28 3.4 8.4, 20.95 20.89 4.5 9.5), (20.95 20.89 4.5 9.5, 31.92 21.45 3.6 8.6))’     multilinestring with z-coordinates and measures<br>ST_MultiPolygon     ‘multipolygon empty’     empty multipolygon<br>ST_MultiPolygon     ‘multipolygon z empty’     empty multipolygon with z-coordinates<br>ST_MultiPolygon     ‘multipolygon m empty’     empty multipolygon with measures<br>ST_MultiPolygon     ‘multipolygon zm empty’     empty<br>ST_MultiPolygon     ‘multipolygon (((10 10, 10 20, 20 20, 20 15 , 10 10), (50 40, 50 50, 60 50, 60 40, 50 40)))’     multipolygon<br>ST_MultiPolygon     ‘multipolygon z(((10 10 7, 10 20 8, 20 20 7, 20 15 5, 10 10 7), (50 40 6, 50 50 6, 60 50 5, 60 40 6, 50 40 6)))’     multipolygon with z-coordinates<br>ST_MultiPolygon     ‘multipolygon m(((10 10 2, 10 20 3, 20 20 4, 20 15 5, 10 10 2), (50 40 7, 50 50 3, 60 50 4, 60 40 5, 50 40 7)))’     multipolygon with measures<br>ST_MultiPolygon     ‘multipolygon zm(((10 10 7 2, 10 20 8 3, 20 20 7 4, 20 15 5 5, 10 10 7 2), (50 40 6 7, 50 50 6 3, 60 50 5 4, 60 40 6 5, 50 40 6 7)))’     multipolygon with z-coordinates and measures</p><p>wkb的组织结构如下：<br>基本类型定义：<br>byte : 1 byte<br>uint32 : 32 bit unsigned integer  (4 bytes)<br>double : double precision number (8 bytes)<br>Building Blocks : Point, LinearRing<br>Point {<br>double x;<br>double y;<br>};<br>LinearRing   {<br>uint32 numPoints;<br>Point points[numPoints];<br>}<br>enum wkbGeometryType {<br>wkbPoint &#x3D; 1,<br>wkbLineString &#x3D; 2,<br>wkbPolygon &#x3D; 3,<br>wkbMultiPoint &#x3D; 4,<br>wkbMultiLineString &#x3D; 5,<br>wkbMultiPolygon &#x3D; 6,<br>wkbGeometryCollection &#x3D; 7<br>};<br>enum wkbByteOrder {<br>wkbXDR &#x3D; 0,     Big Endian<br>wkbNDR &#x3D; 1     Little Endian<br>};<br>WKBPoint {<br>byte    byteOrder;<br>uint32   wkbType;       1<br>Point    point;<br>}<br>WKBLineString {<br>byte    byteOrder;<br>uint32   wkbType;      2<br>uint32   numPoints;<br>Point    points[numPoints];<br>}<br>WKBPolygon {<br>byte    byteOrder;<br>uint32   wkbType;      3<br>uint32   numRings;<br>LinearRing  rings[numRings];<br>}<br>WKBMultiPoint {<br>byte    byteOrder;<br>uint32   wkbType;          4<br>uint32   num_wkbPoints;<br>WKBPoint   WKBPoints[num_wkbPoints];<br>}<br>WKBMultiLineString {<br>byte    byteOrder;<br>uint32   wkbType;      5<br>uint32   num_wkbLineStrings;<br>WKBLineString WKBLineStrings[num_wkbLineStrings];<br>}<br>wkbMultiPolygon {<br>byte    byteOrder;       </p><p>uint32   wkbType;      6<br>uint32   num_wkbPolygons;<br>WKBPolygon  wkbPolygons[num_wkbPolygons];<br>}<br>WKBGeometry  {<br>union {<br>WKBPoint      point;<br>WKBLineString    linestring;<br>WKBPolygon     polygon;<br>WKBGeometryCollection collection;<br>WKBMultiPoint    mpoint;<br>WKBMultiLineString  mlinestring;<br>WKBMultiPolygon   mpolygon;<br>}<br>};<br>WKBGeometryCollection {<br>byte    byte_order;<br>uint32   wkbType;      7<br>uint32   num_wkbGeometries;<br>WKBGeometry  wkbGeometries[num_wkbGeometries]<br>}<br>下面是一个point(1,1) 使用WKB存储的例子：<br>0101000000000000000000F03F000000000000F03F<br>这个2进制流可以按照WKBPoint的结构进行拆分：<br>Byte order : 01<br>WKB type   : 01000000<br>X          : 000000000000F03F<br>Y          : 000000000000F03F<br>byte order要么为0，要么为1，0为使用little-endian编码(NDR)，1为使用big-endian编码(XDR)。<br>WKB type 是几何类型，在wkbGeometryType中定义. 值为1-7，分别对应 Point, LineString, Polygon, MultiPoint, MultiLineString, MultiPolygon, and GeometryCollection.<br>x,y为点的坐标值，为double类型。</p><p>sdo_geometry的详细介绍</p><p>在ArcGIS中通过SDE存储空间数据到Oracle中有多种存储方式，分别有：二进制Long Raw 、ESRI的ST_Geometry以及基于Oracle Spatial的SDO_Geometry等等。 <a href="http://www.cnblogs.com/upDOoGIS/archive/2009/05/20/1469871.html">UpDooGIS原创</a></p><p>关于这几种方式的各自的优缺点不是主要的探讨的方向，这些我们可以通ArcGIS中的ArcGIS Server Help得到相关的帮助。这里主要是学习关于基Oracle Spatial的存储方式，通过这种存储方式几何列Shape的字段类型mdsys.sde_geometry类型。</p><p>Oracle Spatial定义的SDO_GEOMETRY类型为：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> TYPE sdo_geometry <span class="keyword">AS</span> OBJECT (</span><br><span class="line">    SDO_GTYPE   NUMBER,  <span class="operator">/</span><span class="operator">/</span>前面字符串为字段名；后面字符串为字段类型</span><br><span class="line">    SDO_SRID    NUMBER,</span><br><span class="line">    SDO_POINT    SDO_POINT_TYPE,</span><br><span class="line">    SDO_ELEM_INFO    SDO_ELEM_INFO_ARRAY,</span><br><span class="line">    SDO_ORDINATES    SDO_ORDINATE_ARRAY);</span><br></pre></td></tr></table></figure><p>其中sdo_geometry AS OBJECT ，标识该类型为对象类型。开始我们可以想它为ArcObjects中的Geometry对象（本来要素的shape字段中的对象就是Geometry），而不要理解他是怎么样组织的。至于该类型中SDO_POINT_TYPE、SDO_ELEM_INFO_ARRAY、 SDO_ORDINATE_ARRAY也Oracle Spatial自定义的类型和 sdo_geometry 是一样的。</p><p>现在对sdo_geometry 类型中的各个参数简单的介绍：</p><ol><li><p>SDO_GTYPE ：表示要存储的几何类型，如点线面。它是通过 NUMBER类型来表达的；</p></li><li><p>SDO_SRID ：几何的空间参考坐标系，类型也为 NUMBER；</p></li><li><p>SDO_POINT ：如果几何类型点类型的话，就是存储点坐标，否则为空。oracle自定义的SDO_POINT_TYPE类型；</p></li><li><p>SDO_ELEM_INFO ：定义要如何理解SDO_ORDINATES中的坐标串的；</p></li><li><p>SDO_ORDINATES ：存储实际坐标的，以X、Y以及不同点之间都是逗号隔开；</p></li></ol><p>  下面将详细介绍这些字段参数的含义</p><h3 id="一、SDO-GTYPE"><a href="#一、SDO-GTYPE" class="headerlink" title="一、SDO_GTYPE"></a>一、SDO_GTYPE</h3><p>   SDO_GTYPE值是有四位数字组成的，它们的格式为：dltt 。 </p><p>   其中，d 表示几何的维数。如二维、三维对应的d&#x3D;2和d&#x3D;3；</p><p>   l 定义了LRS。一般l&#x3D;0；</p><p>   tt 定义了地理对象的类型。现在使用从00到07，如tt&#x3D;01代表为单点；</p><p>下面就是t&#x3D;2的二维几何类型，SDO_GTYPE参数值具体，如 <strong>图1</strong>：<br><img src="/images/2014062615231201.jpg" alt="2014062615231201.jpg"></p><h3 id="二、SDO-SRID"><a href="#二、SDO-SRID" class="headerlink" title="二、SDO_SRID"></a>二、SDO_SRID</h3><p>SDO_SRID定义了空间坐标参考系统。如果SDO_SRID为null，则没有指定标系统，如果SDO_SRID不为null，那么它的值必须在在 MDSYS.S_SRS 表中的 SRID 列有对应的值，而且它的值必须插入SER_SDO_GEOM_METADATA视图中。MDSYS.CS_SRS 表参考 <strong>图3</strong><br><img src="/images/2014062615231202.jpg" alt="2014062615231202.jpg"></p><h3 id="三、-SDO-POINT"><a href="#三、-SDO-POINT" class="headerlink" title="三、 SDO_POINT"></a>三、 SDO_POINT</h3><p>SDO_POINT类型的构造方法为：sdo_point_type(x,y,z)，其中x,y,类型为Double和Int都可<br>SDO_POINT字段定义为含有X、Y、Z属性的SDO_POINT_TYPE类型。如几何类型为点类型的话，SDO_ELEM_INFO 和SDO_ORDINATES对应值都为Null，SDO_POINT 不为空。其它情况下，SDO_POINT会被patial所忽略即设为 Null。如果这个层只有点对象，那么推荐你将保存在SDO_POINT属性中。 SDO_POINT_TYPE类型的定义如下：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> TYPE sdo_point_type <span class="keyword">AS</span> OBJECT (</span><br><span class="line">     X    NUMBER,  <span class="operator">/</span><span class="operator">/</span>X坐标值</span><br><span class="line">     Y    NUMBER,  <span class="operator">/</span><span class="operator">/</span>y坐标值</span><br><span class="line">     Z    NUMBER); <span class="operator">/</span><span class="operator">/</span>z坐标值</span><br></pre></td></tr></table></figure><h3 id="四、SDO-ELEM-INFO"><a href="#四、SDO-ELEM-INFO" class="headerlink" title="四、SDO_ELEM_INFO"></a>四、SDO_ELEM_INFO</h3><p>SDO_ELEM_INFO类型的构造方法为：sdo_elem_info_array（a,b.c)，其a,b.c为Number类型。<br>SDO_ELEM_INFO是理解和掌握SDO_Geometry的重点和难点，DO_ELEM_INFO 定义了如何理解SDO_ORDINATES中的坐标字符串属性。<br>SDO_ELEM_INFO每三个数字组合为一个SDO_ELEM_INFO属性单元（具体可结合下面的例子理解）。<br>每个SDO_ELEM_INFO属性单元由：SDO_STARTING_OFFSET、SDO_ETYPE SDO_INTERPRETATION 组成。下面介绍一下这三个数字的具体含义：</p><h5 id="4-1、SDO-STARTING-OFFSET：声明了组成当前几何片段的第一个坐标在SDO-ORDINATES数组中的坐标序号。坐标序号是从1开-始起算的而非从0开始。这里的SDO-ORDINATES就是sdo-geometry-中的坐标序列，坐标序列是已逗号隔开的数字，具体的计算如：sdo-ordinate-array-1-4-6-7-8-9-中如果以’6’开始几何片段-的话，坐标序号SDO-STARTING-OFFSET-3。（具体参考下面的例子理解）"><a href="#4-1、SDO-STARTING-OFFSET：声明了组成当前几何片段的第一个坐标在SDO-ORDINATES数组中的坐标序号。坐标序号是从1开-始起算的而非从0开始。这里的SDO-ORDINATES就是sdo-geometry-中的坐标序列，坐标序列是已逗号隔开的数字，具体的计算如：sdo-ordinate-array-1-4-6-7-8-9-中如果以’6’开始几何片段-的话，坐标序号SDO-STARTING-OFFSET-3。（具体参考下面的例子理解）" class="headerlink" title="4.1、SDO_STARTING_OFFSET：声明了组成当前几何片段的第一个坐标在SDO_ORDINATES数组中的坐标序号。坐标序号是从1开 始起算的而非从0开始。这里的SDO_ORDINATES就是sdo_geometry 中的坐标序列，坐标序列是已逗号隔开的数字，具体的计算如：sdo_ordinate_array(1,4,6,7,8,9)中如果以’6’开始几何片段 的话，坐标序号SDO_STARTING_OFFSET&#x3D;3。（具体参考下面的例子理解）"></a>4.1、SDO_STARTING_OFFSET：声明了组成当前几何片段的第一个坐标在SDO_ORDINATES数组中的坐标序号。坐标序号是从1开 始起算的而非从0开始。这里的SDO_ORDINATES就是sdo_geometry 中的坐标序列，坐标序列是已逗号隔开的数字，具体的计算如：sdo_ordinate_array(1,4,6,7,8,9)中如果以’6’开始几何片段 的话，坐标序号SDO_STARTING_OFFSET&#x3D;3。（具体参考下面的例子理解）</h5><h5 id="4-2、SDO-ETYPE-：声明元素的类型。可结合-SDO-STARTING-OFFSET和SDO-ETYPE-表来理解"><a href="#4-2、SDO-ETYPE-：声明元素的类型。可结合-SDO-STARTING-OFFSET和SDO-ETYPE-表来理解" class="headerlink" title="4.2、SDO_ETYPE ：声明元素的类型。可结合 SDO_STARTING_OFFSET和SDO_ETYPE 表来理解."></a>4.2、SDO_ETYPE ：声明元素的类型。可结合 SDO_STARTING_OFFSET和SDO_ETYPE 表来理解.</h5><p>SDO_ETYPE 值 &#x3D; 1, 2, 1003,或2003，说明几何为简单的几何类型。可以全部按SDO_ELEM_INFO 属性单元【即三个以逗号隔开的数】来理解sdo_ordinate_array中的坐标序列。</p><p>特别说明：SDO_ETYPE 值 &#x3D; 1003 ，假如几何类型为面，则表示为外多边形环（以逆时针顺序）</p><p>SDO_ETYPE 值 &#x3D; 2003 ，假如几何类型为面，则表示为内多边形环（以顺时针顺序）</p><p>SDO_ETYPE 值 &#x3D; 4,1005或2005，说明几何为组合元素，往往第一个三数字组不是SDO_ELEM_INFO 属性单元，而是为了说明组合元素的信息。具体可以参见下面 复杂多义线 和 复杂多边形 的例子。</p><h5 id="4-3、SDO-INTERPRETATION：有两种可能的意思，依赖地SDO-ETYPE是否是组合元素。如果SDO-ETYPE-值-4-1005或2005，标识的是有多少组合部分，具体参考-复杂多义线-和-复杂多边形-的例子。如果SDO-ETYPE-值-1-2-1003-或2003，标识决定了元素坐标队列的翻译顺序。"><a href="#4-3、SDO-INTERPRETATION：有两种可能的意思，依赖地SDO-ETYPE是否是组合元素。如果SDO-ETYPE-值-4-1005或2005，标识的是有多少组合部分，具体参考-复杂多义线-和-复杂多边形-的例子。如果SDO-ETYPE-值-1-2-1003-或2003，标识决定了元素坐标队列的翻译顺序。" class="headerlink" title="4.3、SDO_INTERPRETATION：有两种可能的意思，依赖地SDO_ETYPE是否是组合元素。如果SDO_ETYPE 值 &#x3D; 4,1005或2005，标识的是有多少组合部分，具体参考 复杂多义线 和 复杂多边形 的例子。如果SDO_ETYPE 值 &#x3D; 1, 2, 1003,或2003，标识决定了元素坐标队列的翻译顺序。"></a>4.3、SDO_INTERPRETATION：有两种可能的意思，依赖地SDO_ETYPE是否是组合元素。如果SDO_ETYPE 值 &#x3D; 4,1005或2005，标识的是有多少组合部分，具体参考 复杂多义线 和 复杂多边形 的例子。如果SDO_ETYPE 值 &#x3D; 1, 2, 1003,或2003，标识决定了元素坐标队列的翻译顺序。</h5><p>SDO_STARTING_OFFSET和SDO_ETYPE 表  如下<strong>图4:</strong><br><img src="/images/2014062615231203.jpg" alt="2014062615231203.jpg"></p><h3 id="五、SDO-ORDINATES"><a href="#五、SDO-ORDINATES" class="headerlink" title="五、SDO_ORDINATES"></a>五、SDO_ORDINATES</h3><p>SDO_ORDINATES类型的构造方法为：sdo_ordinate_array(x1,y1,x2,y2,……)，其中x1,y1类型等为Double和Int都可。</p><p>SDO_ORDINATES存储的是空间对象的几何节点坐标序列，用逗号将X、Y、Z以及不同点之间隔开，该字段性质：长 度&#x3D;1048576的数字Number类型。如果几何为二维的情况，存储的序列为{Y1, X2, Y2, X3, Y3, X4, Y4……}格式；几何为三维坐标的话，如三维坐标的多边形它的存储的序列为{X1, Y1, Z1, X2, Y2, Z2, X3, Y3, Z3, X4, Y4, Z4, X1, Y1, Z1}格式。坐标序列中的数据必须都合法且不为空。具体坐标的组合成几何的结合SDO_ELEM_INFO来理解。</p><h3 id="六、参考例子"><a href="#六、参考例子" class="headerlink" title="六、参考例子"></a>六、参考例子</h3><h5 id="6-1、矩形"><a href="#6-1、矩形" class="headerlink" title="6.1、矩形"></a>6.1、矩形</h5><p>矩形的具体几何形状和坐标，如下图：<br><img src="/images/2014062615231204.gif" alt="2014062615231204.gif"><br>用SDO_GEOMETRY定义该矩形，如何确定sdo_geometry()构造方法中的各个参数值。详细解释如下：</p><p>SDO_GTYPE &#x3D; 2003；2003中的2表示二维数据，2003中的3表示表示多边形。具体参考 图1</p><pre><code>SDO_SRID = NULL；SDO_POINT = NULL；SDO_ELEM_INFO = (1, 1003, 3).；在属性单元SDO_ELEM_INFO （1,1003,3）中的最后一个3表示该几何为矩形，具体参考 图4 。</code></pre><p>—因为它是矩形且为二维所以它的构造方法为：sdo_point_type（坐下坐标，右上坐标）。</p><pre><code>SDO_ORDINATES = (1,1, 5,7). 定义了具体的坐下坐标和右上坐标的坐标序列。</code></pre><p>例子：用SQL 命令插入一个矩形：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> beniy388 <span class="keyword">VALUES</span>(</span><br><span class="line">   <span class="number">1</span>,          <span class="operator">/</span><span class="operator">/</span>其他的属性字段的值</span><br><span class="line">   <span class="string">&#x27;UpDooGIS&#x27;</span>,    <span class="operator">/</span><span class="operator">/</span>其他的属性字段的值</span><br><span class="line">   MDSYS.SDO_GEOMETRY(  <span class="operator">/</span><span class="operator">/</span>几何字段SDO_GEOMETRY的值</span><br><span class="line">               <span class="number">2003</span>,  <span class="comment">-- 二维多边形</span></span><br><span class="line">               <span class="keyword">NULL</span>,</span><br><span class="line">               <span class="keyword">NULL</span>,</span><br><span class="line">               MDSYS.SDO_ELEM_INFO_ARRAY(<span class="number">1</span>,<span class="number">1003</span>,<span class="number">3</span>), <span class="comment">-- 一个矩形(1003为逆时针方向)</span></span><br><span class="line">               MDSYS.SDO_ORDINATE_ARRAY(<span class="number">1</span>,<span class="number">1</span>, <span class="number">5</span>,<span class="number">7</span>) <span class="comment">-- 只需要两点</span></span><br><span class="line">  )</span><br><span class="line"> );</span><br></pre></td></tr></table></figure><h5 id="6-2、有岛多边形"><a href="#6-2、有岛多边形" class="headerlink" title="6.2、有岛多边形"></a>6.2、有岛多边形</h5><p>有岛多边形的具体几何形状和坐标，如下图：<br><img src="/images/2014062615231205.gif" alt="2014062615231205.gif"></p><p>用SDO_GEOMETRY定义该多边形，如何确定sdo_geometry()构造方法中的各个参数值。详细解释如下：  </p><p>SDO_GTYPE &#x3D; 2003；—2003中的2表示二维数据，2003中的3表示表示多边形。具体参考 图1</p><pre><code>SDO_SRID = NULL；SDO_POINT = NULL；SDO_ELEM_INFO = (1,1003,1, 19,2003,1)； ---有两个三元组SDO_ELEM_INFO属性元素。具体参考 图4---其中1003表明对应的坐标序列组成的几何A为外多边形环(顺时针)；而2003表明对应的坐标序列组成的几何B为内多边形环(逆时针)。---19 表示几何B坐标序列开始的位置，也就是说从19开始的几何坐标组成几何B，而1到18组成几何A。SDO_ORDINATES = (10,10, 10,14, 6,10, 14,10)；---坐标系列 </code></pre><p>例子：用SQL 命令插入一个有岛的多边形：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> beniy388 <span class="keyword">VALUES</span></span><br><span class="line">          <span class="number">10</span>,                   <span class="operator">/</span><span class="operator">/</span>其他的属性字段的值</span><br><span class="line">         <span class="string">&#x27;UpDooGIS&#x27;</span>,       <span class="operator">/</span><span class="operator">/</span>其他的属性字段的值</span><br><span class="line">          MDSYS.SDO_GEOMETRY(  <span class="operator">/</span><span class="operator">/</span>几何字段SDO_GEOMETRY的值</span><br><span class="line">                     <span class="number">2003</span>,</span><br><span class="line">                     <span class="keyword">NULL</span>,</span><br><span class="line">                     <span class="keyword">NULL</span>,</span><br><span class="line">                     MDSYS.SDO_ELEM_INFO_ARRAY(<span class="number">1</span>,<span class="number">1003</span>,<span class="number">1</span>, <span class="number">19</span>,<span class="number">2003</span>,<span class="number">1</span>), <span class="comment">-- 有岛多边形</span></span><br><span class="line">                     MDSYS.SDO_ORDINATE_ARRAY(<span class="number">2</span>,<span class="number">4</span>, <span class="number">4</span>,<span class="number">3</span>, <span class="number">10</span>,<span class="number">3</span>, <span class="number">13</span>,<span class="number">5</span>, <span class="number">13</span>,<span class="number">9</span>, <span class="number">11</span>,<span class="number">13</span>, <span class="number">5</span>,<span class="number">13</span>, <span class="number">2</span>,<span class="number">11</span>, <span class="number">2</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">5</span>, <span class="number">7</span>,<span class="number">10</span>, <span class="number">10</span>,<span class="number">10</span>, <span class="number">10</span>,<span class="number">5</span>, <span class="number">7</span>,<span class="number">5</span>)</span><br><span class="line">         )</span><br><span class="line">);  </span><br></pre></td></tr></table></figure><h5 id="6-3、复杂多义线"><a href="#6-3、复杂多义线" class="headerlink" title="6.3、复杂多义线"></a>6.3、复杂多义线</h5><p>下图描述的是一个由一条直线和一条曲线构成的复杂多义线。图中出现了4个点，(10,10)和(10,14)点表示的是直线 ；10,14), (10,6), 和 (14,10) 描述的是圆弧曲线：<br><img src="/images/2014062615231206.gif" alt="2014062615231206.gif"></p><p>用SDO_GEOMETRY定义该复杂多义线，如何确定sdo_geometry()构造方法中的各个参数值。详细解释如下：</p><p>SDO_GTYPE &#x3D; 2002；2002中的2表示二维数据，第二个2表示表示一条或多条直线段。具体参考 图1。</p><pre><code>DO_SRID = NULL；SDO_POINT = NULL；SDO_ELEM_INFO = (1,4,2, 1,2,1, 3,2,2). ---有三个三元组，其中后两个是SDO_ELEM_INFO属性元素三元组，前一个为表述组合。具体参考 图4。---第一个三元组【1,4,2】，根据4可以得到是个描述三元组，2表示有两个几何元素组成，即后两个三元组描述各自的几何A和几何B。---第二个三元组【1,2,1】，为SDO_ELEM_INFO属性元素三元组，它描述的是几何A。根据 图4可以得到它是一条直线段，且该直线段的最后一个节点还是下一个几何B的开始点，即几何A和几何B有几何节点重合。---第二个三元组【3,2,2】，为SDO_ELEM_INFO属性元素三元组，它描述的是几何B。根据 图4可以得到它是一条曲线段，该几何B的起点和几何A终点节点重合。SDO_ORDINATES = (10,10, 10,14, 6,10, 14,10)；---坐标系列例子：用SQL 命令插入一个复杂多义线：</code></pre><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> beniy388 <span class="keyword">VALUES</span>(</span><br><span class="line">      <span class="number">11</span>,                   <span class="operator">/</span><span class="operator">/</span>其他的属性字段的值</span><br><span class="line">     <span class="string">&#x27;UpDooGIS&#x27;</span>,       <span class="operator">/</span><span class="operator">/</span>其他的属性字段的值</span><br><span class="line">      MDSYS.SDO_GEOMETRY(  <span class="operator">/</span><span class="operator">/</span>几何字段SDO_GEOMETRY的值</span><br><span class="line">                 <span class="number">2002</span>,</span><br><span class="line">                 <span class="keyword">NULL</span>,</span><br><span class="line">                 <span class="keyword">NULL</span>,</span><br><span class="line">                 MDSYS.SDO_ELEM_INFO_ARRAY(<span class="number">1</span>,<span class="number">4</span>,<span class="number">2</span>, <span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>, <span class="number">3</span>,<span class="number">2</span>,<span class="number">2</span>), <span class="comment">-- 复杂多义线</span></span><br><span class="line">                 MDSYS.SDO_ORDINATE_ARRAY(<span class="number">10</span>,<span class="number">10</span>, <span class="number">10</span>,<span class="number">14</span>, <span class="number">6</span>,<span class="number">10</span>, <span class="number">14</span>,<span class="number">10</span>)</span><br><span class="line">     )</span><br><span class="line">);</span><br></pre></td></tr></table></figure><h5 id="SDO-FILTER"><a href="#SDO-FILTER" class="headerlink" title="SDO_FILTER"></a>SDO_FILTER</h5><p>格式：<br>SDO_FILTER(geometry1, geometry2, params);</p><p>描述：<br>    通过空间索引，根据给定的几何要素检索出具有空间相互关系的空间对象。这里的空间关系是指两个几何不分离，即Non-disjoint。【disjoint：表示两个几何的边和内部都不相交】</p><pre><code>这个Sdo_Filter执行只是初始的空间过滤操作；二次的过滤操作将由SDO_RELATE操作子完成，它能确定空间对象的相交关系。</code></pre><p>参数：</p><p>geometry1： 指需要查询表中几何列，该几何列务必已经建立空间索引。该列的数据类型为：MDSYS.SDO_GEOMETRY。</p><p>geometry2： 它值的可以是表中的几何，也可以是具体的几何对象（包括关联的几何对象变量、通过SDO_GEOMETRY构造函数的几何对象）。该列的数据类型也为：MDSYS.SDO_GEOMETRY。</p><p>params：  决定操作子的行为。数据类型为VARCHAR2。</p><p>该params具体有以下几种：</p><p>querytype: 有效的查询类型有：WINDOW和JOIN.。这是个必须的参数。</p><pre><code>querytype =’ WINDOW’建议大部分情况下是使用该参数的。WINDOW’表明查询将执行表中所有候选geometry1，与geometry2进行比较。也就是说WINDOW将单个geometry1和所有的geometry2进行空间关系操作，并比较是否满足空间关系。querytype =’ JOIN’很少用到。当你想比较该geometry1几何列和另外geometry2表中的几何列的话可使用JOIN。使用JOIN表明该geometry2必须建立的几何索引（具体参考使用说明）。</code></pre><p>idxtab1【可选】：如果存在多个空间索引表，它指的是geometry1空间索引表对应的表名。</p><p>idxtab2【可选】：如果存在多个空间索引表，它指的是geometry1空间索引表对应的表名。只有当querytype &#x3D;’ JOIN’才可以使用该参数。</p><p>返回值：</p><p>表达式SDO_FILTER(arg1, arg2, arg3) &#x3D; ‘TRUE’中的True表明两个几何空间关系为：不相离；否则为False。</p><p>使用说明</p><p>这个SDO_FILTER操作子必须用在Where子句中，在sql语句中使用该格式：SDO_FILTER(arg1, arg2,arg3) &#x3D; ‘TRUE’.。</p><p>如果querytype &#x3D;’ WINDOW’。 geometry2可以来自一个表，也可以来自具体的几何对象（包括关联的几何对象变量、通过SDO_GEOMETRY构造函数的几何对象）。</p><p>1、如果2个或大于2的geometry2几何将在SDO_FILTER中使用的话，geometry2将在from语句的第一个参数。</p><p>如果querytype &#x3D;’ JOIN’。</p><p>1、geometry2必须来自于表；</p><p>2、为了更好的执行SQL语句，geometry1和geometry2应该使用相同的空间索引类型（R树或者二叉树）；如果是二叉树他们应该有相同的sdo_level值。geometry1和geometry2不是相同的索引类型，geometry2将按照geometry1索引类型重新构建索引，这样SQL语句的性能就大打折扣。</p><p>如果geometry1和geometry2是基于不同的坐标参考系统的话，为了   执行操作geometry2将被临时的转换为geometry1的坐标系统。</p><p>举例：</p><ol><li>从Polygons表中选择出满足一定条件的GID。该条件为：选择出的GID对应的几何与query_polys表中GID&#x3D;1的几何不相离。</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> A.gid</span><br><span class="line"></span><br><span class="line"><span class="keyword">FROM</span> Polygons A, query_polys B</span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> B.gid <span class="operator">=</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">AND</span> SDO_FILTER(A.Geometry, B.Geometry, ’querytype <span class="operator">=</span> <span class="keyword">WINDOW</span>’) <span class="operator">=</span> ’<span class="literal">TRUE</span>’;</span><br><span class="line"></span><br><span class="line"><span class="operator">/</span><span class="operator">/</span><span class="operator">/</span>其中A.Geometry为Polygons表几何列的列名</span><br></pre></td></tr></table></figure><ol start="2"><li>也是从Polygons表中选择出满足一定条件的GID。不过查询几何被存储到aGeom变量中。</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Select</span> A.Gid</span><br><span class="line"></span><br><span class="line"><span class="keyword">FROM</span> Polygons A</span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> SDO_FILTER(A.Geometry, :aGeom, ’querytype<span class="operator">=</span><span class="keyword">WINDOW</span>’) <span class="operator">=</span> ’<span class="literal">TRUE</span>’;</span><br></pre></td></tr></table></figure><ol start="3"><li>也是从Polygons表中选择出满足一定条件的GID。查询几何为sdo_geometry构造函数构造的几何。</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Select</span> A.Gid</span><br><span class="line"></span><br><span class="line"><span class="keyword">FROM</span> Polygons A</span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> SDO_FILTER(A.Geometry, mdsys.sdo_geometry(<span class="number">2003</span>,<span class="keyword">NULL</span>,<span class="keyword">NULL</span>,</span><br><span class="line"></span><br><span class="line">mdsys.sdo_elem_info_array(<span class="number">1</span>,<span class="number">1003</span>,<span class="number">3</span>),</span><br><span class="line"></span><br><span class="line">mdsys.sdo_ordinate_array(x1,y1,x2,y2)),</span><br><span class="line"></span><br><span class="line">’querytype<span class="operator">=</span><span class="keyword">WINDOW</span>’) <span class="operator">=</span> ’<span class="literal">TRUE</span>’;</span><br></pre></td></tr></table></figure><ol start="4"><li>从Polygons表中选择出满足一定条件的GID，当Polygons表的候选几何与任意一个query_polys的几何对象不相离都将GID选择出。因为多个query_polys中的几何将涉及到（参考使用说明）geometry2将被放到from的第一个参数。</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="comment">/*+ ORDERED */</span></span><br><span class="line"></span><br><span class="line">A.gid</span><br><span class="line"></span><br><span class="line"><span class="keyword">FROM</span> query_polys B, polygons A</span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> SDO_FILTER(A.Geometry, B.Geometry, ’querytype <span class="operator">=</span> <span class="keyword">WINDOW</span>’) <span class="operator">=</span> ’<span class="literal">TRUE</span>’;</span><br></pre></td></tr></table></figure><ol start="5"><li>从Polygons表中选择出满足一定条件的GID，当Polygons表的候选几何与任意一个query_polys的几何对象不相离都将GID选择出。在这个例子中QUERY_POLYS.GEOMETRY几何列务必建立了空间索引。</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> A.gid</span><br><span class="line"></span><br><span class="line"><span class="keyword">FROM</span> Polygons A, query_polys B</span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line"></span><br><span class="line">SDO_FILTER(A.Geometry, B.Geometry, ’querytype <span class="operator">=</span> <span class="keyword">JOIN</span>’) <span class="operator">=</span> ’<span class="literal">TRUE</span>’;</span><br></pre></td></tr></table></figure><h4 id="SDO-RELATE"><a href="#SDO-RELATE" class="headerlink" title="SDO_RELATE"></a>SDO_RELATE</h4><p>格式：</p><p>SDO_RELATE(geometry1, geometry2, params);</p><p>描述：</p><p>通过空间索引，根据给定的几何要素（如一个多边形）检索出与其有特殊空间关系的几何要素。这个空间关系包括九种：Touch, OVERLAPBDYDisjoint, OVERLAPBDYIntersect, Equal,Inside, CoveredBy, Contains, Covers, AnyInteract, On.。具体图形标识如下：</p><p>这个操作子相当于同时执行了第一步（SDO_FILTER的功能）和第二步过滤操作</p><p>参数和关键字：</p><p>geometry1： 指需要查询表中几何列，该几何列务必已经建立空间索引。该列的数据类型为：MDSYS.SDO_GEOMETRY。</p><p>geometry2： 它值的可以是表中的几何，也可以是具体的几何对象（包括关联的几何对象变量、通过SDO_GEOMETRY构造函数的几何对象）。该列的数据类型也为：MDSYS.SDO_GEOMETRY。</p><p>params： 决定操作子的行为。数据类型为VARCHAR2。</p><p>该params具体有以下几种：</p><p>Mask：指定了空间关系。这是个必须的参数。有九种关系如上图所示，多种空间关系可以组合：例如：’mask&#x3D;inside+touch’;</p><p>Querytype：可以参考SDO_FILTER中的介绍，在此不累赘。</p><p>idxtab1和idxtab2 ：可以参考SDO_FILTER中的介绍，在此不累赘。</p><p>返回值：</p><p>表达式SDO_RELATE(geometry1,geometry2, ’mask &#x3D; <some_mask_val> ,querytype &#x3D; <some_querytype>’) &#x3D; ’TRUE’中的True是指两个几何对象满足<some_mask_val>条件。否则为Flase。</p><p>举例：</p><p>这里的所有要求条件和SDO_FILTER例子一样</p><ol><li>从Polygons表中选择出满足一定条件的GID。该条件为：选择出的GID对应的几何与query_polys表中GID&#x3D;1的有任何相交关系。</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> A.gid</span><br><span class="line"></span><br><span class="line"><span class="keyword">FROM</span> Polygons A, query_polys B</span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> B.gid <span class="operator">=</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">AND</span> SDO_RELATE(A.Geometry, B.Geometry,</span><br><span class="line"></span><br><span class="line">’mask<span class="operator">=</span>ANYINTERACT querytype<span class="operator">=</span><span class="keyword">WINDOW</span>’) <span class="operator">=</span> ’<span class="literal">TRUE</span>’;</span><br></pre></td></tr></table></figure><ol start="2"><li>也是从Polygons表中选择出满足一定条件的GID。不过查询几何被存储到aGeom变量中。</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Select</span> A.Gid</span><br><span class="line"></span><br><span class="line"><span class="keyword">FROM</span> Polygons A</span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> SDO_RELATE(A.Geometry, :aGeom, ’mask<span class="operator">=</span>ANYINTERACT querytype<span class="operator">=</span><span class="keyword">WINDOW</span>’)<span class="operator">=</span> ’<span class="literal">TRUE</span>’;</span><br></pre></td></tr></table></figure><p>其他的例子里类似，这里也不累赘。</p><p>下面给出两个操作子结合的SQL语句</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> name boat_name <span class="operator">/</span><span class="operator">/</span>选择在定义矩形内的所有小船</span><br><span class="line"><span class="keyword">FROM</span> mylake t</span><br><span class="line"><span class="keyword">WHERE</span> feature_id <span class="operator">=</span> <span class="number">12</span></span><br><span class="line"><span class="keyword">AND</span> SDO_FILTER(t.shape, mdsys.sdo_geometry(<span class="number">2003</span>,<span class="keyword">NULL</span>,<span class="keyword">NULL</span>,</span><br><span class="line">    mdsys.sdo_elem_info_array(<span class="number">1</span>,<span class="number">1003</span>,<span class="number">1</span>),</span><br><span class="line">    mdsys.sdo_ordinate_array(<span class="number">2</span>,<span class="number">2</span>, <span class="number">5</span>,<span class="number">2</span>, <span class="number">5</span>,<span class="number">5</span>, <span class="number">2</span>,<span class="number">5</span>, <span class="number">2</span>,<span class="number">2</span>)),</span><br><span class="line">    <span class="string">&#x27;querytype=WINDOW&#x27;</span>) <span class="operator">=</span> <span class="string">&#x27;TRUE&#x27;</span></span><br><span class="line"><span class="keyword">AND</span> SDO_RELATE(t.shape, mdsys.sdo_geometry(<span class="number">2003</span>,<span class="keyword">NULL</span>,<span class="keyword">NULL</span>,</span><br><span class="line">    mdsys.sdo_elem_info_array(<span class="number">1</span>,<span class="number">1003</span>,<span class="number">1</span>),</span><br><span class="line">    mdsys.sdo_ordinate_array(<span class="number">2</span>,<span class="number">2</span>, <span class="number">5</span>,<span class="number">2</span>, <span class="number">5</span>,<span class="number">5</span>, <span class="number">2</span>,<span class="number">5</span>, <span class="number">2</span>,<span class="number">2</span>)),</span><br><span class="line">    <span class="string">&#x27;masktype=INSIDE querytype=WINDOW&#x27;</span>) <span class="operator">=</span> <span class="string">&#x27;TRUE&#x27;</span></span><br></pre></td></tr></table></figure><h4 id="SDO-WITHIN-DISTANCE"><a href="#SDO-WITHIN-DISTANCE" class="headerlink" title="SDO_WITHIN_DISTANCE"></a>SDO_WITHIN_DISTANCE</h4><p>格式：</p><p>SDO_WITHIN_DISTANCE(geometry1, aGeom, params);</p><p>描述：</p><p>通过空间索引，检索出距离给定几何对象（可以是具体的多边形、点等）的一定范围内的所有空间对象。</p><p>参数和关键字：</p><p>geometry1：一个表中几何列的列名。这列的几何对象如果是在给定对象aGeom的一定范围之内的话，将被检索出来。这个geometry1对应的几何列务必创建空间索引。</p><p>该列的数据类型为：MDSYS.SDO_GEOMETRY。</p><p>aGeom：值根据这个对象和一定距离去检索geometry1。它可以是一个表的几何列（包含对象的变量），也可以是一个具体的几何对象（如通过SDO_GEOMETRY构造函数的几何对象）。</p><p>该列的数据类型为：MDSYS.SDO_GEOMETRY。</p><p>PARAMS：决定操作子的行为。数据类型为VARCHAR2。</p><p>该params具体有以下几种：</p><p><strong>Distance</strong>：指距离长度，这是个必须的参数。如果指定过滤的几何有关联的参考坐标，这个距离的单位就是参考坐标的单位。数据类型为Number。</p><p><strong>idxtab1</strong>：可以参考SDO_FILTER中的介绍，在此不累赘。</p><p><strong>Querytype</strong>：设置为’querytype&#x3D;FILTER’将执行第一步过滤操作。如果querytype没有指定第一步和第二步过滤操作将执行（默认为该种情况）。数据类型为VARCHAR2。</p><p><strong>Unit</strong>：指定距离单位。例如：unit&#x3D;’KM’.具体的单位SDO_UNIT 值来之MDSYS.SDO_DIST_UNITS 表。数据类型为Number。默认的单位适合具体的数据关联的，例如数据是投影数据的话，单位为M.</p><p>返回值：</p><p>表达式SDO_WITHIN_DISTANCE(arg1, arg2, arg3) &#x3D; ’TRUE’，为True将返回一定距离子内的所有要素。</p><p>举例：</p><ol><li>得到距离矩形为10单位之内的所有POLYGONS几何的GID</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> A.GID</span><br><span class="line"></span><br><span class="line"><span class="keyword">FROM</span> POLYGONS A</span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line"></span><br><span class="line">SDO_WITHIN_DISTANCE(A.Geometry, mdsys.sdo_geometry(<span class="number">2003</span>,<span class="keyword">NULL</span>,<span class="keyword">NULL</span>,</span><br><span class="line"></span><br><span class="line">mdsys.sdo_elem_info_array(<span class="number">1</span>,<span class="number">1003</span>,<span class="number">3</span>),</span><br><span class="line"></span><br><span class="line">mdsys.sdo_ordinate_array(x1,y1,x2,y2)),</span><br><span class="line"></span><br><span class="line">’distance <span class="operator">=</span> <span class="number">10</span>’) <span class="operator">=</span> ’<span class="literal">TRUE</span>’;</span><br></pre></td></tr></table></figure><ol start="2"><li>得到距离 Query_Points中GID &#x3D; 1对应的几何 为10单位之内的所有POLYGONS几何的GID</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> A.GID</span><br><span class="line"></span><br><span class="line"><span class="keyword">FROM</span> POLYGONS A, Query_Points B</span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> B.GID <span class="operator">=</span> <span class="number">1</span> <span class="keyword">AND</span></span><br><span class="line"></span><br><span class="line">SDO_WITHIN_DISTANCE(A.Geometry, B.Geometry, ’distance <span class="operator">=</span> <span class="number">10</span>’) <span class="operator">=</span> ’<span class="literal">TRUE</span>’;</span><br></pre></td></tr></table></figure><p>参考以下文章</p><p><a href="http://book.51cto.com/art/200910/157414.htm">http://book.51cto.com/art/200910/157414.htm</a></p><p><a href="http://blog.sina.com.cn/s/blog_00ccd2400101c2x8.html">http://blog.sina.com.cn/s/blog_00ccd2400101c2x8.html</a></p><p><a href="http://www.cnblogs.com/upDOoGIS/archive/2009/05/20/1469871.html">http://www.cnblogs.com/upDOoGIS/archive/2009/05/20/1469871.html</a></p><p><a href="http://www.cnblogs.com/upDOoGIS/archive/2009/05/31/1493115.html">http://www.cnblogs.com/upDOoGIS/archive/2009/05/31/1493115.html</a></p>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Oracle11g安装报错Environment variable:&quot;PATH&quot;</title>
      <link href="/2014/06/11/oracle11g-an-zhuang-bao-cuo-environment-variable/"/>
      <url>/2014/06/11/oracle11g-an-zhuang-bao-cuo-environment-variable/</url>
      
        <content type="html"><![CDATA[<p>Environment variable: “PATH” - This test checks whether the length of the environment variable “PATH” does not exceed the recommended length.<br>预期值<br> : 1023<br>实际值<br> : 1245</p><p> PRVF-3929 : Adding the Oracle binary location to the PATH environment variable will exceed the OS length limit of [ “1023” ] for the variable<br>-Action:  Ensure that the sum of the lengths of your current PATH environment variable and that of “%ORACLE_HOME%&#x2F;bin;”<br> does not exceed the operating system limit. Restart the installer after correcting the setting for environment variable.</p><p>这样的问题就是环境变量字符太长了，多剪切一些出来，等安装完oracle后在把那些剪切出来环境变量在粘贴回去。</p>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Silverlight 密码框 Focus</title>
      <link href="/2014/05/13/silverlight-mi-ma-kuang-focus/"/>
      <url>/2014/05/13/silverlight-mi-ma-kuang-focus/</url>
      
        <content type="html"><![CDATA[<p>在做一个例子是需要运行起来后焦点默认设置在密码框上，在网上查了资料</p><p>自己找到一种方法,此方法在oob模式下管用</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Login</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    InitializeComponent();</span><br><span class="line">    </span><br><span class="line">    txtLoginName.Text = <span class="string">&quot;admin&quot;</span>;</span><br><span class="line">    <span class="comment">// 设置焦点在密码框上</span></span><br><span class="line">    Dispatcher.BeginInvoke(() =&gt; &#123; txtLoginPwd.Focus(); &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>网上找到的另一种方法</p><ol><li>想在Silverlight首次启动让某个文本框获取焦点，使用Loaded事件中txt.Focus()是不起做用的，要完成这功能只要添加一句代码即可:</li></ol><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">LayoutRoot_Loaded</span>(<span class="params"><span class="built_in">object</span> sender, RoutedEventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    HtmlPage.Plugin.Invoke(<span class="string">&quot;focus&quot;</span>);</span><br><span class="line">    txtName.Focus();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>在程序中为了方便用户，在一个文本框中按回车后跳到别一个文本框或其它控件，我们可以对原有的TextBox进行扩充，添加一个NextControl的属性用于保存下一个控件的名字,</li></ol><p>另外为了方便我加了一个ToNextControl的事件，这样用起来更加方便，代码如下:</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">HahaMan.SLTools.Controls</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MyTextBox</span>:<span class="title">TextBox</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//事件</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">event</span> EventHandler ToNextControl;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> <span class="built_in">string</span> nextControl=<span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="comment">//用于保存下一个控件的名字</span></span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> NextControl</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">get</span> &#123; <span class="keyword">return</span> nextControl; &#125;</span><br><span class="line">            <span class="keyword">set</span> &#123; nextControl = <span class="keyword">value</span>; &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">protected</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">OnKeyDown</span>(<span class="params">KeyEventArgs e</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">base</span>.OnKeyDown(e);</span><br><span class="line">            <span class="keyword">if</span> (e.Key == Key.Enter)<span class="comment">//如果是回车</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (ToNextControl != <span class="literal">null</span>)<span class="comment">//如果自己写了事件处理程序</span></span><br><span class="line">                &#123;</span><br><span class="line">                    ToNextControl(<span class="keyword">this</span>, e);<span class="comment">//调用事件</span></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="comment">//如果没有指定事件</span></span><br><span class="line">                    <span class="keyword">if</span> (nextControl != <span class="literal">null</span> &amp;&amp; nextControl.Length &gt; <span class="number">0</span>)</span><br><span class="line">                    &#123;</span><br><span class="line">                         <span class="comment">//查找下一个控件</span></span><br><span class="line">                        Control c = (<span class="keyword">this</span>.Parent <span class="keyword">as</span> Panel).FindName(nextControl) <span class="keyword">as</span> Control;</span><br><span class="line">                        <span class="keyword">if</span> (c != <span class="literal">null</span>)</span><br><span class="line">                        &#123;</span><br><span class="line">                            c.Focus();</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>使用方法一:</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;my:MyTextBox Height=<span class="string">&quot;23&quot;</span> HorizontalAlignment=<span class="string">&quot;Left&quot;</span> Margin=<span class="string">&quot;786,152,0,0&quot;</span> Name=<span class="string">&quot;txtName&quot;</span> &lt;span style=<span class="string">&quot;color:#ff0000;&quot;</span>&gt;NextControl=<span class="string">&quot;txtPwd&quot;</span>&lt;/span&gt; VerticalAlignment=<span class="string">&quot;Top&quot;</span> Width=<span class="string">&quot;120&quot;</span> /&gt;</span><br><span class="line">            &lt;my:MyTextBox Height=<span class="string">&quot;23&quot;</span> HorizontalAlignment=<span class="string">&quot;Left&quot;</span> Margin=<span class="string">&quot;786,205,0,0&quot;</span> Name=<span class="string">&quot;txtPwd&quot;</span>  &lt;span style=<span class="string">&quot;color:#ff0000;&quot;</span>&gt;NextControl=<span class="string">&quot;btnLogin&quot;</span>&lt;/span&gt; VerticalAlignment=<span class="string">&quot;Top&quot;</span> Width=<span class="string">&quot;120&quot;</span> /&gt;</span><br><span class="line">            &lt;Button Content=<span class="string">&quot;登录&quot;</span> Height=<span class="string">&quot;23&quot;</span> Margin=<span class="string">&quot;763,259,0,0&quot;</span> Name=<span class="string">&quot;btnLogin&quot;</span> VerticalAlignment=<span class="string">&quot;Top&quot;</span> HorizontalAlignment=<span class="string">&quot;Left&quot;</span> Width=<span class="string">&quot;56&quot;</span> Click=<span class="string">&quot;btnLogin_Click&quot;</span> /&gt;</span><br></pre></td></tr></table></figure><p>使用方法二:<br>xaml代码</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;my:MyTextBox Height=<span class="string">&quot;23&quot;</span> HorizontalAlignment=<span class="string">&quot;Left&quot;</span> Margin=<span class="string">&quot;786,152,0,0&quot;</span> Name=<span class="string">&quot;txtName&quot;</span>  VerticalAlignment=<span class="string">&quot;Top&quot;</span> Width=<span class="string">&quot;120&quot;</span> &lt;span style=<span class="string">&quot;color:#ff0000;&quot;</span>&gt;ToNextControl=<span class="string">&quot;toNextControl&quot;</span>&lt;/span&gt; /&gt;</span><br><span class="line">            &lt;my:MyTextBox Height=<span class="string">&quot;23&quot;</span> HorizontalAlignment=<span class="string">&quot;Left&quot;</span> Margin=<span class="string">&quot;786,205,0,0&quot;</span> Name=<span class="string">&quot;txtPwd&quot;</span>   VerticalAlignment=<span class="string">&quot;Top&quot;</span> Width=<span class="string">&quot;120&quot;</span> &lt;span style=<span class="string">&quot;color:#ff0000;&quot;</span>&gt;ToNextControl=<span class="string">&quot;toNextControl&quot;</span>&lt;/span&gt; /&gt;</span><br><span class="line">            &lt;Button Content=<span class="string">&quot;登录&quot;</span> Height=<span class="string">&quot;23&quot;</span> Margin=<span class="string">&quot;763,259,0,0&quot;</span> Name=<span class="string">&quot;btnLogin&quot;</span> VerticalAlignment=<span class="string">&quot;Top&quot;</span> HorizontalAlignment=<span class="string">&quot;Left&quot;</span> Width=<span class="string">&quot;56&quot;</span> Click=<span class="string">&quot;btnLogin_Click&quot;</span> /&gt;</span><br></pre></td></tr></table></figure><p>cs代码</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">toNextControl</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (sender == txtName) txtPwd.Focus();</span><br><span class="line">    <span class="keyword">if</span> (sender == txtPwd) btnLogin.Focus();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>网上找的方法转载至 <a href="http://blog.csdn.net/lijun7788/article/details/8087773">http://blog.csdn.net/lijun7788/article/details/8087773</a></p>]]></content>
      
      
      <categories>
          
          <category> Silverlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Silverlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Silverlight 登陆界面</title>
      <link href="/2014/05/08/silverlight-deng-lu-jie-mian/"/>
      <url>/2014/05/08/silverlight-deng-lu-jie-mian/</url>
      
        <content type="html"><![CDATA[<p>界面代码，效果如下图<br><img src="/images/2014050814221501.jpg" alt="2014050814221501.jpg"></p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">&lt;UserControl x:Class=<span class="string">&quot;ElecDemoTelerikSL.Login&quot;</span></span><br><span class="line">    xmlns=<span class="string">&quot;http://schemas.microsoft.com/winfx/2006/xaml/presentation&quot;</span></span><br><span class="line">    xmlns:x=<span class="string">&quot;http://schemas.microsoft.com/winfx/2006/xaml&quot;</span></span><br><span class="line">    xmlns:d=<span class="string">&quot;http://schemas.microsoft.com/expression/blend/2008&quot;</span></span><br><span class="line">    xmlns:mc=<span class="string">&quot;http://schemas.openxmlformats.org/markup-compatibility/2006&quot;</span></span><br><span class="line">    xmlns:sdk=<span class="string">&quot;http://schemas.microsoft.com/winfx/2006/xaml/presentation/sdk&quot;</span></span><br><span class="line">    xmlns:my=<span class="string">&quot;clr-namespace:Drawsee.Sl.AppBase.UserManage.UI;assembly=Drawsee.Sl.AppBase&quot;</span></span><br><span class="line">    mc:Ignorable=<span class="string">&quot;d&quot;</span></span><br><span class="line">    d:DesignHeight=<span class="string">&quot;800&quot;</span> d:DesignWidth=<span class="string">&quot;1200&quot;</span>&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;Grid x:Name=<span class="string">&quot;LayoutRoot&quot;</span> ScrollViewer.HorizontalScrollBarVisibility=<span class="string">&quot;Disabled&quot;</span> ScrollViewer.VerticalScrollBarVisibility=<span class="string">&quot;Disabled&quot;</span>&gt;</span><br><span class="line">        &lt;Grid.Background&gt;</span><br><span class="line">            &lt;LinearGradientBrush EndPoint=<span class="string">&quot;0.5,1&quot;</span> StartPoint=<span class="string">&quot;0.5,0&quot;</span>&gt;</span><br><span class="line">                &lt;GradientStop Color=<span class="string">&quot;#FF007CC3&quot;</span>/&gt;</span><br><span class="line">                &lt;GradientStop Color=<span class="string">&quot;#FF93CAE2&quot;</span> Offset=<span class="string">&quot;1&quot;</span>/&gt;</span><br><span class="line">            &lt;/LinearGradientBrush&gt;</span><br><span class="line">        &lt;/Grid.Background&gt;</span><br><span class="line">        &lt;StackPanel HorizontalAlignment=<span class="string">&quot;Center&quot;</span> VerticalAlignment=<span class="string">&quot;Center&quot;</span>&gt;</span><br><span class="line">            &lt;TextBlock Text=<span class="string">&quot;登陆测试&quot;</span> FontSize=<span class="string">&quot;24&quot;</span> HorizontalAlignment=<span class="string">&quot;Center&quot;</span> Margin=<span class="string">&quot;0,0,0,20&quot;</span> /&gt;</span><br><span class="line">        &lt;Grid Width=<span class="string">&quot;600&quot;</span> Height=<span class="string">&quot;300&quot;</span>&gt;</span><br><span class="line">            &lt;Rectangle Fill=<span class="string">&quot;#50000000&quot;</span> RadiusX=<span class="string">&quot;10&quot;</span> RadiusY=<span class="string">&quot;10&quot;</span> Margin=<span class="string">&quot;10,10,-10,-15&quot;</span> /&gt;</span><br><span class="line">            &lt;Image Source=<span class="string">&quot;images/elec_background.jpg&quot;</span> Height=<span class="string">&quot;300&quot;</span> HorizontalAlignment=<span class="string">&quot;Center&quot;</span> Name=<span class="string">&quot;imageBackground&quot;</span> Stretch=<span class="string">&quot;Fill&quot;</span> VerticalAlignment=<span class="string">&quot;Center&quot;</span> Width=<span class="string">&quot;600&quot;</span>&gt;</span><br><span class="line">                &lt;Image.Clip&gt;</span><br><span class="line">                    &lt;RectangleGeometry RadiusX=<span class="string">&quot;12&quot;</span> RadiusY=<span class="string">&quot;12&quot;</span> Rect=<span class="string">&quot;0,0,600,300&quot;</span> /&gt;</span><br><span class="line">                &lt;/Image.Clip&gt;</span><br><span class="line">             &lt;/Image&gt;</span><br><span class="line">            &lt;Border BorderBrush=<span class="string">&quot;#80000000&quot;</span> BorderThickness=<span class="string">&quot;1&quot;</span> CornerRadius=<span class="string">&quot;10&quot;</span> &gt;</span><br><span class="line">            &lt;/Border&gt;</span><br><span class="line">            &lt;Grid Margin=<span class="string">&quot;358,124,29,42&quot;</span>&gt;</span><br><span class="line">                &lt;Rectangle  Stretch=<span class="string">&quot;Fill&quot;</span> Fill=<span class="string">&quot;#4FFFFFFF&quot;</span> RadiusX=<span class="string">&quot;20&quot;</span> RadiusY=<span class="string">&quot;20&quot;</span> /&gt;</span><br><span class="line">                &lt;sdk:Label Content=<span class="string">&quot;登录名：&quot;</span> Height=<span class="string">&quot;24&quot;</span> HorizontalAlignment=<span class="string">&quot;Left&quot;</span> Name=<span class="string">&quot;lblLoginName&quot;</span> VerticalAlignment=<span class="string">&quot;Top&quot;</span> Width=<span class="string">&quot;60&quot;</span> Margin=<span class="string">&quot;11,20,0,0&quot;</span> /&gt;</span><br><span class="line">                &lt;sdk:Label Content=<span class="string">&quot;密   码：&quot;</span> Height=<span class="string">&quot;24&quot;</span> HorizontalAlignment=<span class="string">&quot;Left&quot;</span> Name=<span class="string">&quot;lblLoginPwd&quot;</span> VerticalAlignment=<span class="string">&quot;Top&quot;</span> Width=<span class="string">&quot;60&quot;</span> Margin=<span class="string">&quot;11,58,0,0&quot;</span> /&gt;</span><br><span class="line">                &lt;TextBox Height=<span class="string">&quot;24&quot;</span> HorizontalAlignment=<span class="string">&quot;Left&quot;</span> Name=<span class="string">&quot;txtLoginName&quot;</span> VerticalAlignment=<span class="string">&quot;Top&quot;</span> Width=<span class="string">&quot;120&quot;</span> Margin=<span class="string">&quot;77,17,0,0&quot;</span> /&gt;</span><br><span class="line">                &lt;PasswordBox Height=<span class="string">&quot;24&quot;</span> HorizontalAlignment=<span class="string">&quot;Left&quot;</span>  Margin=<span class="string">&quot;77,55,0,0&quot;</span> Name=<span class="string">&quot;txtLoginPwd&quot;</span> VerticalAlignment=<span class="string">&quot;Top&quot;</span> Width=<span class="string">&quot;120&quot;</span> /&gt;</span><br><span class="line">                &lt;Button Content=<span class="string">&quot;登陆&quot;</span> Height=<span class="string">&quot;24&quot;</span> HorizontalAlignment=<span class="string">&quot;Left&quot;</span> Name=<span class="string">&quot;btnLogin&quot;</span> VerticalAlignment=<span class="string">&quot;Top&quot;</span> Width=<span class="string">&quot;75&quot;</span> Margin=<span class="string">&quot;22,95,0,0&quot;</span> Click=<span class="string">&quot;btnLogin_Click&quot;</span> /&gt;</span><br><span class="line">                &lt;Button Content=<span class="string">&quot;取消&quot;</span> Height=<span class="string">&quot;24&quot;</span> HorizontalAlignment=<span class="string">&quot;Left&quot;</span> Name=<span class="string">&quot;btnCancel&quot;</span> VerticalAlignment=<span class="string">&quot;Top&quot;</span> Width=<span class="string">&quot;75&quot;</span> Margin=<span class="string">&quot;122,95,0,0&quot;</span> /&gt;</span><br><span class="line">                &lt;/Grid&gt;</span><br><span class="line">        &lt;/Grid&gt;</span><br><span class="line">        &lt;/StackPanel&gt;</span><br><span class="line">    &lt;/Grid&gt;</span><br><span class="line">&lt;/UserControl&gt;</span><br></pre></td></tr></table></figure><p>后台代码</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">partial</span> <span class="keyword">class</span> <span class="title">Login</span> : <span class="title">UserControl</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Login</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        InitializeComponent();</span><br><span class="line">        </span><br><span class="line">        txtLoginName.Text = <span class="string">&quot;admin&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">btnLogin_Click</span>(<span class="params"><span class="built_in">object</span> sender, RoutedEventArgs e</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">string</span> loginName =txtLoginName.Text.Trim();</span><br><span class="line">        <span class="built_in">string</span> loginPwd =txtLoginPwd.Password.Trim();</span><br><span class="line">        <span class="keyword">if</span> (loginName.Equals(<span class="string">&quot;admin&quot;</span>) &amp;&amp; loginName.Equals(<span class="string">&quot;admin&quot;</span>))</span><br><span class="line">            <span class="keyword">this</span>.Content = <span class="keyword">new</span> MainPage(); <span class="comment">//跳转到主页面</span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            MessageBox.Show(<span class="string">&quot;登陆失败！&quot;</span>, <span class="string">&quot;提示&quot;</span>, MessageBoxButton.OKCancel);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>主页面xaml</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">&lt;UserControl x:Class=<span class="string">&quot;SilverlightCreate.MainTest&quot;</span></span><br><span class="line">    xmlns=<span class="string">&quot;http://schemas.microsoft.com/winfx/2006/xaml/presentation&quot;</span></span><br><span class="line">    xmlns:x=<span class="string">&quot;http://schemas.microsoft.com/winfx/2006/xaml&quot;</span></span><br><span class="line">    xmlns:d=<span class="string">&quot;http://schemas.microsoft.com/expression/blend/2008&quot;</span></span><br><span class="line">    xmlns:mc=<span class="string">&quot;http://schemas.openxmlformats.org/markup-compatibility/2006&quot;</span></span><br><span class="line">    xmlns:sdk=<span class="string">&quot;http://schemas.microsoft.com/winfx/2006/xaml/presentation/sdk&quot;</span></span><br><span class="line">    xmlns:my=<span class="string">&quot;clr-namespace:SilverlightCreate&quot;</span></span><br><span class="line">    mc:Ignorable=<span class="string">&quot;d&quot;</span></span><br><span class="line">    d:DesignHeight=<span class="string">&quot;800&quot;</span> d:DesignWidth=<span class="string">&quot;1800&quot;</span>  &gt;</span><br><span class="line"></span><br><span class="line">    &lt;Grid x:Name=<span class="string">&quot;LayoutRoot&quot;</span> VerticalAlignment=<span class="string">&quot;Stretch&quot;</span>&gt;</span><br><span class="line">        &lt;Grid&gt;</span><br><span class="line">            &lt;Grid.RowDefinitions&gt;</span><br><span class="line">                &lt;RowDefinition Height=<span class="string">&quot;80&quot;</span>&gt;&lt;/RowDefinition&gt;</span><br><span class="line">                &lt;RowDefinition Height=<span class="string">&quot;*&quot;</span>&gt;&lt;/RowDefinition&gt;</span><br><span class="line">            &lt;/Grid.RowDefinitions&gt;</span><br><span class="line"></span><br><span class="line">            &lt;Grid Grid.Row=<span class="string">&quot;0&quot;</span> &gt;</span><br><span class="line">                &lt;Grid.Background&gt;</span><br><span class="line">                    &lt;LinearGradientBrush &gt;</span><br><span class="line">                        &lt;GradientStop Color=<span class="string">&quot;#FF007CC3&quot;</span> Offset=<span class="string">&quot;0.5&quot;</span> /&gt;</span><br><span class="line">                        &lt;GradientStop Color=<span class="string">&quot;#FFa9dcfa&quot;</span> Offset=<span class="string">&quot;1&quot;</span> /&gt;</span><br><span class="line">                    &lt;/LinearGradientBrush&gt;</span><br><span class="line">                &lt;/Grid.Background&gt;</span><br><span class="line">                </span><br><span class="line">                &lt;HyperlinkButton Content=<span class="string">&quot;操作说明&quot;</span> HorizontalAlignment=<span class="string">&quot;Right&quot;</span> VerticalAlignment=<span class="string">&quot;Bottom&quot;</span> Foreground=<span class="string">&quot;AliceBlue&quot;</span> NavigateUri=<span class="string">&quot;http://www.baidu.com&quot;</span> TargetName=<span class="string">&quot;_blank&quot;</span> FontSize=<span class="string">&quot;16&quot;</span> IsTabStop=<span class="string">&quot;False&quot;</span> Height=<span class="string">&quot;24&quot;</span> Name=<span class="string">&quot;hlbHelp&quot;</span> Width=<span class="string">&quot;68&quot;</span> Margin=<span class="string">&quot;0,0,0,12&quot;</span> /&gt;</span><br><span class="line">                &lt;my:ToolBar HorizontalAlignment=<span class="string">&quot;Right&quot;</span> Margin=<span class="string">&quot;0,33,100,0&quot;</span> Padding=<span class="string">&quot;2&quot;</span> x:Name=<span class="string">&quot;toolBar1&quot;</span> VerticalAlignment=<span class="string">&quot;Top&quot;</span> /&gt;</span><br><span class="line">            &lt;/Grid&gt;</span><br><span class="line">            &lt;Grid x:Name=<span class="string">&quot;GridMain&quot;</span> Grid.Row=<span class="string">&quot;1&quot;</span>&gt;</span><br><span class="line">                &lt;Grid.ColumnDefinitions&gt;</span><br><span class="line">                    &lt;ColumnDefinition Width=<span class="string">&quot;290&quot;</span> /&gt;</span><br><span class="line">                    &lt;ColumnDefinition Width=<span class="string">&quot;5&quot;</span> /&gt;</span><br><span class="line">                    &lt;ColumnDefinition Width=<span class="string">&quot;665*&quot;</span> /&gt;</span><br><span class="line">                &lt;/Grid.ColumnDefinitions&gt;</span><br><span class="line">                &lt;Grid Grid.Column=<span class="string">&quot;0&quot;</span> x:Name=<span class="string">&quot;system&quot;</span>&gt;</span><br><span class="line">                    </span><br><span class="line">                    &lt;Border BorderBrush=<span class="string">&quot;LightGray&quot;</span> BorderThickness=<span class="string">&quot;1&quot;</span> CornerRadius=<span class="string">&quot;0&quot;</span> /&gt;</span><br><span class="line">                &lt;/Grid&gt;</span><br><span class="line">                &lt;sdk:GridSplitter Grid.Column=<span class="string">&quot;1&quot;</span> HorizontalAlignment=<span class="string">&quot;Center&quot;</span> VerticalAlignment=<span class="string">&quot;Stretch&quot;</span> Background=<span class="string">&quot;#FF027DC3&quot;</span>&gt;&lt;/sdk:GridSplitter&gt;</span><br><span class="line">                &lt;Grid Grid.Column=<span class="string">&quot;2&quot;</span>&gt;</span><br><span class="line">                    &lt;Grid x:Name=<span class="string">&quot;GridFrame&quot;</span>&gt;</span><br><span class="line">                        &lt;Border BorderBrush=<span class="string">&quot;LightGray&quot;</span> BorderThickness=<span class="string">&quot;1&quot;</span> CornerRadius=<span class="string">&quot;0&quot;</span>&gt;</span><br><span class="line">                            </span><br><span class="line">                        &lt;/Border&gt;</span><br><span class="line">                    &lt;/Grid&gt;</span><br><span class="line">                &lt;/Grid&gt;</span><br><span class="line">            &lt;/Grid&gt;</span><br><span class="line">        &lt;/Grid&gt;</span><br><span class="line">    &lt;/Grid&gt;</span><br><span class="line">&lt;/UserControl&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Silverlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Silverlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>使用Telerik StyleMananger 改变Silverlight Button样式</title>
      <link href="/2014/05/05/shi-yong-telerik-stylemananger-gai-bian-silverlight-button-yang-shi/"/>
      <url>/2014/05/05/shi-yong-telerik-stylemananger-gai-bian-silverlight-button-yang-shi/</url>
      
        <content type="html"><![CDATA[<p>Telerik 支持更改以下控件样式</p><ul><li>System.Windows.Button</li><li>System.Windows.ScrollViewer</li><li>System.Windows.CheckBox</li><li>System.Windows.TextBox</li><li>System.Windows.RadioButton</li><li>System.Windows.ListBox</li><li>System.Windows.PasswordBox</li><li>System.Windows.RepeatButton</li><li>System.Windows.Tooltip</li></ul><p>需要在App.Xaml中的修改，红色是添加的代码</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;Application xmlns=<span class="string">&quot;http://schemas.microsoft.com/winfx/2006/xaml/presentation&quot;</span></span><br><span class="line">             xmlns:x=<span class="string">&quot;http://schemas.microsoft.com/winfx/2006/xaml&quot;</span></span><br><span class="line">             xmlns:telerik=<span class="string">&quot;http://schemas.telerik.com/2008/xaml/presentation&quot;</span></span><br><span class="line">             x:Class=<span class="string">&quot;TestDemo.App&quot;</span></span><br><span class="line">             &gt;</span><br><span class="line">    &lt;Application.Resources&gt;</span><br><span class="line">        &lt;Style TargetType=<span class="string">&quot;Button&quot;</span>/&gt;</span><br><span class="line">    &lt;/Application.Resources&gt;</span><br><span class="line">&lt;/Application&gt;</span><br></pre></td></tr></table></figure><p> 在后台程序中修改，其中红色是需要添加的代码</p> <figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">App</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">this</span>.Startup += <span class="keyword">this</span>.Application_Startup;</span><br><span class="line">    <span class="keyword">this</span>.Exit += <span class="keyword">this</span>.Application_Exit;</span><br><span class="line">    <span class="keyword">this</span>.UnhandledException += <span class="keyword">this</span>.Application_UnhandledException;</span><br><span class="line">    StyleManager.ApplicationTheme = <span class="keyword">new</span> Windows7Theme();</span><br><span class="line">    InitializeComponent();</span><br><span class="line">   StyleManager.SetBasedOn(((Style)Current.Resources[<span class="keyword">typeof</span>(Button)]), StyleManager.ApplicationTheme);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Silverlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Silverlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Silverlight Telerik 学习之主题的设置</title>
      <link href="/2014/04/28/silverlight-telerik-xue-xi-zhi-zhu-ti-de-she-zhi/"/>
      <url>/2014/04/28/silverlight-telerik-xue-xi-zhi-zhu-ti-de-she-zhi/</url>
      
        <content type="html"><![CDATA[<p>Telerik控件版本：RadControls for Silverlight Q1 2013</p><p>当前的Telerik Silverlight 控件支持以下主题</p><p>Office Black - 这是默认主题，无需加载其它任何dll文件。</p><p>Office Blue - 引用 Telerik.Windows.Themes.Office_Blue.dll。</p><p>Office Silver - 引用 Telerik.Windows.Themes.Office_Silver.dll。</p><p>Summer - 引用 Telerik.Windows.Themes.Summer.dll。</p><p>Transparent - 引用 Telerik.Windows.Themes.Transparent.dll。</p><p>Vista - 引用 Telerik.Windows.Themes.Vista.dll。</p><p>Windows 7 - 引用 Telerik.Windows.Themes.Windows7.dll。</p><p>Window 8 - 引用Telerik.Windows.Themes.Windows8.dll。</p><p>Windows8 Touch -引用Telerik.Windows.Themes.Windows8Touch。</p><p>Metro(obsolete) - 引用Telerik.Windows.Themes.Metro.dll。应该替换成windows8主题。</p><p>创建一个Silverlight工程，引用需要的dll</p><p>Common Styling Theming Setting Built In Theme 010</p><p>下图是Windows8 Touch的效果<br><img src="/images/2014042817431201.png" alt="2014042817431201.png"></p><ol><li>设置特定的XAML内置样式（这样只改变指定控件样式）</li></ol><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;UserControl x:Class=<span class="string">&quot;Test.MainPage&quot;</span></span><br><span class="line">    xmlns=<span class="string">&quot;http://schemas.microsoft.com/winfx/2006/xaml/presentation&quot;</span></span><br><span class="line">    xmlns:x=<span class="string">&quot;http://schemas.microsoft.com/winfx/2006/xaml&quot;</span></span><br><span class="line">    xmlns:telerik=<span class="string">&quot;clr-namespace:Telerik.Windows.Controls;assembly=Telerik.Windows.Controls&quot;</span>&gt;</span><br><span class="line">    &lt;Grid x:Name=<span class="string">&quot;LayoutRoot&quot;</span>&gt;</span><br><span class="line"> </span><br><span class="line">       &lt;telerik:RadTabControl x:Name=<span class="string">&quot;tab1&quot;</span>  telerik:StyleManager.Theme=<span class="string">&quot;Windows8Touch&quot;</span>&gt;</span><br><span class="line">            &lt;telerik:RadTabItem Header=<span class="string">&quot;导航一&quot;</span>&gt;&lt;/telerik:RadTabItem&gt;</span><br><span class="line">            &lt;telerik:RadTabItem Header=<span class="string">&quot;导航二&quot;</span>&gt;&lt;/telerik:RadTabItem&gt;</span><br><span class="line">            &lt;telerik:RadTabItem Header=<span class="string">&quot;导航三&quot;</span>&gt;&lt;/telerik:RadTabItem&gt;</span><br><span class="line">        &lt;/telerik:RadTabControl&gt;</span><br><span class="line"> </span><br><span class="line">    &lt;/Grid&gt;</span><br><span class="line">&lt;/UserControl&gt;</span><br></pre></td></tr></table></figure><p>或者通过后台代码控制 StyleManager.SetTheme( tab1, new VistaTheme() );</p><ol start="2"><li>设置应用程序内置主题后台代码（这样影响的是页面控件的样式）</li></ol><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">partial</span> <span class="keyword">class</span> <span class="title">MainPage</span> : <span class="title">UserControl</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MainPage</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        StyleManager.ApplicationTheme = <span class="keyword">new</span> Windows8TouchTheme();</span><br><span class="line">        InitializeComponent();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>或者</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">partial</span> <span class="keyword">class</span> <span class="title">App</span> : <span class="title">Application</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">App</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">this</span>.Startup += <span class="keyword">this</span>.Application_Startup;</span><br><span class="line">        <span class="keyword">this</span>.Exit += <span class="keyword">this</span>.Application_Exit;</span><br><span class="line">        <span class="keyword">this</span>.UnhandledException += <span class="keyword">this</span>.Application_UnhandledException;</span><br><span class="line"></span><br><span class="line">        StyleManager.ApplicationTheme = <span class="keyword">new</span> Windows8TouchTheme();</span><br><span class="line"></span><br><span class="line">        InitializeComponent();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="3"><li>自定义主题</li></ol><p>如果觉得这些样式满足不了要求可以自己定义一些主题</p><p>创建一个自定义主题类</p><p>然后在自定义主题类的构造函数中指定source</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">ThemeLocation( ThemeLocation.BuiltIn )</span>]</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">CustomTheme</span> : <span class="title">Telerik.Windows.Controls.Theme</span></span><br><span class="line">&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">CustomTheme</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">this</span>.Source = <span class="keyword">new</span> Uri( <span class="string">&quot;/Telerik.Windows.Themes.CustomTheme;component/themes/Generic.xaml&quot;</span>, UriKind.Relative );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>参考文章 <a href="http://www.telerik.com/help/silverlight/common-styling-apperance-setting-theme.html">http://www.telerik.com/help/silverlight/common-styling-apperance-setting-theme.html</a></p>]]></content>
      
      
      <categories>
          
          <category> Silverlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Silverlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>强制更新客户端Silverlight XAP 文件</title>
      <link href="/2014/02/17/qiang-zhi-geng-xin-ke-hu-duan-silverlight-xap-wen-jian/"/>
      <url>/2014/02/17/qiang-zhi-geng-xin-ke-hu-duan-silverlight-xap-wen-jian/</url>
      
        <content type="html"><![CDATA[<p>在发布程序更新的时候访问的总是原来的程序，猜想应该是缓存的原因。在网上查找方法</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;silverlightControlHost&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">object</span> <span class="attr">data</span>=<span class="string">&quot;data:application/x-silverlight-2,&quot;</span> <span class="attr">type</span>=<span class="string">&quot;application/x-silverlight-2&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100%&quot;</span> <span class="attr">height</span>=<span class="string">&quot;100%&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">param</span> <span class="attr">name</span>=<span class="string">&quot;source&quot;</span> <span class="attr">value</span>=<span class="string">&quot;ClientBin/ElecDemoSl.xap?&lt;%=Guid.NewGuid().ToString() %&gt;&quot;</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">param</span> <span class="attr">name</span>=<span class="string">&quot;onError&quot;</span> <span class="attr">value</span>=<span class="string">&quot;onSilverlightError&quot;</span> /&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">param</span> <span class="attr">name</span>=<span class="string">&quot;background&quot;</span> <span class="attr">value</span>=<span class="string">&quot;white&quot;</span> /&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">param</span> <span class="attr">name</span>=<span class="string">&quot;minRuntimeVersion&quot;</span> <span class="attr">value</span>=<span class="string">&quot;5.0.61118.0&quot;</span> /&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">param</span> <span class="attr">name</span>=<span class="string">&quot;autoUpgrade&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span> /&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">param</span> <span class="attr">name</span>=<span class="string">&quot;enableGPUAcceleration&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span> /&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://go.microsoft.com/fwlink/?LinkID=149156&amp;v=5.0.61118.0&quot;</span> <span class="attr">style</span>=<span class="string">&quot;text-decoration:none&quot;</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;http://go.microsoft.com/fwlink/?LinkId=161376&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;获取 Microsoft Silverlight&quot;</span> <span class="attr">style</span>=<span class="string">&quot;border-style:none&quot;</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">object</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">iframe</span> <span class="attr">id</span>=<span class="string">&quot;_sl_historyFrame&quot;</span> <span class="attr">style</span>=<span class="string">&quot;visibility:hidden;height:0px;width:0px;border:0px&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>在下面代码中添加绿色的代码就可以了。</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;param name=<span class="string">&quot;source&quot;</span> <span class="keyword">value</span>=<span class="string">&quot;ClientBin/ElecDemoSl.xap?&lt;%=Guid.NewGuid().ToString() %&gt;&quot;</span>/&gt;</span><br></pre></td></tr></table></figure><p>以下方法通过网上查找</p><p>另一个解决方案,我更喜欢甚至包括检查XAP创建日期,并附加参数name &#x3D;“Source”来源</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="built_in">object</span> data=<span class="string">&quot;data:application/x-silverlight-2,&quot;</span> type=<span class="string">&quot;application/x-silverlight-2&quot;</span> width=<span class="string">&quot;100%&quot;</span> height=<span class="string">&quot;100%&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">&lt;%</span><br><span class="line">    <span class="built_in">string</span> strSourceFile = <span class="string">@&quot;ClientBin/SilverlightApplication2.xap&quot;</span>;</span><br><span class="line">    <span class="built_in">string</span> param;</span><br><span class="line">    <span class="keyword">if</span> (System.Diagnostics.Debugger.IsAttached)</span><br><span class="line">        param = <span class="string">&quot;&lt;param name=\&quot;source\&quot; value=\&quot;&quot;</span> + strSourceFile + <span class="string">&quot;\&quot; /&gt;&quot;</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">string</span> xappath = HttpContext.Current.Server.MapPath(<span class="string">@&quot;&quot;</span>) + <span class="string">@&quot;\&quot;</span> + strSourceFile;</span><br><span class="line">        DateTime xapCreationDate = System.IO.File.GetLastWriteTime(xappath);</span><br><span class="line">        param = <span class="string">&quot;&lt;param name=\&quot;source\&quot; value=\&quot;&quot;</span> + strSourceFile + <span class="string">&quot;?ignore=&quot;</span></span><br><span class="line">                + xapCreationDate.ToString() + <span class="string">&quot;\&quot; /&gt;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    Response.Write(param);</span><br><span class="line">%&gt;</span><br><span class="line">&lt;param name=<span class="string">&quot;onError&quot;</span> <span class="keyword">value</span>=<span class="string">&quot;onSilverlightError&quot;</span> /&gt;</span><br></pre></td></tr></table></figure><p>参考文章</p><p><a href="http://www.codeproject.com/Articles/143414/Prevent-your-Silverlight-XAP-File-from-Caching-in">http://www.codeproject.com/Articles/143414/Prevent-your-Silverlight-XAP-File-from-Caching-in</a></p><p><a href="http://kevinfan.blog.51cto.com/1037293/933181/">http://kevinfan.blog.51cto.com/1037293/933181/</a></p>]]></content>
      
      
      <categories>
          
          <category> Silverlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Silverlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Sandcastle Help File Builder 生成NET帮助文档</title>
      <link href="/2013/12/30/sandcastle-help-file-builder-sheng-cheng-net-bang-zhu-wen-dang/"/>
      <url>/2013/12/30/sandcastle-help-file-builder-sheng-cheng-net-bang-zhu-wen-dang/</url>
      
        <content type="html"><![CDATA[<p>Sandcastle是微软提供的一个根据XML注释和DLL文件生成帮助文件的工具，目前是在CodePlex上的一个开源项目，可以去这里下载：<a href="http://sandcastle.codeplex.com/">Sandcastle</a></p><p>Sandcastle生成的输出结果具有以下特点：<br>Ø         类似于MSDN布局的界面。<br>Ø         自动生成索引项、内容项目表、主题块和页面布局，提高一致性和熟悉程度。<br>Ø         自动生成语法宣称部分。<br>Ø         自动生成继承表。<br>Ø         代码彩色化。<br>Ø         提供多种风格和语言选择，终端用户可从中选择自己最喜欢的形式。<br>Ø         输出结果以HTML和CSS形式显示，微软承诺将来提供更多选择。</p><p><a href="http://shfb.codeplex.com/">SHFB</a>(Sandcastle Help File Builder)是Sandcastle的GUI（图形用户界面）版本，Sandcastle 本身是一个console的程序。</p><ol><li>下载完shfb后解压安装，本文用的是SHFBGuidedInstaller_1980，双击“SandcastleInstaller.exe”运行<br><img src="/images/2013123017521201.jpg" alt="2013123017521201.jpg"></li><li>看见此界面后直接next，不用管什么配置<br><img src="/images/2013123017521202.jpg" alt="2013123017521202.jpg"></li><li>安装完成后在vs中可以找到“Documentation”模板，如果没有找到在下载的文件中找到“SHFBVisualStudioPackage_1980.vsix”重新安装一下<br><img src="/images/2013123017521203.jpg" alt="2013123017521203.jpg"><br>安装成功后会弹出下图对话框。<br><img src="/images/2013123017521204.jpg" alt="2013123017521204.jpg"></li><li>新建项目选择“Sandcastle Help File Builder Project”,在新建的项目上右键选择生成文档的格式类型<br><img src="/images/2013123017521205.jpg" alt="2013123017521205.jpg"></li><li>在“Visibility”中选择过滤哪些不需要的选项，然后直接点击“Close”就可以了。<br><img src="/images/2013123017521206.jpg" alt="2013123017521206.jpg"></li><li>在项目工程有右键属性，然后在”生成“中勾选”XML文档文件“，这个不勾选那个方法的说明将不会在生成的帮助文档中显示。<br><img src="/images/2013123017521207.jpg" alt="2013123017521207.jpg"><br><img src="/images/2013123017521208.jpg" alt="2013123017521208.jpg"></li></ol><p>如果点击”Build“的时候报错，注意查看下面的输出日志。</p>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Doxygen简介</title>
      <link href="/2013/12/19/doxygen-jian-jie/"/>
      <url>/2013/12/19/doxygen-jian-jie/</url>
      
        <content type="html"><![CDATA[<h1 id="一．什么是Doxygen"><a href="#一．什么是Doxygen" class="headerlink" title="一．什么是Doxygen?"></a>一．什么是Doxygen?</h1><pre><code>  Doxygen 是一个程序的文件产生工具，可将程序中的特定批注转换成为说明文件。通常我们在写程序时，或多或少都会写上批注，但是对于其它人而言，要直接探索程序里的批注，与打捞铁达尼号同样的辛苦。大部分有用的批注都是属于针对函式，类别等等的说明。所以，如果能依据程序本身的结构，将批注经过处理重新整理成为一个纯粹的参考手册，对于后面利用您的程序代码的人而言将会减少许多的负担。不过，反过来说，整理文件的工作对于您来说，就是沉重的负担。</code></pre><p>Doxygen 就是在您写批注时，稍微按照一些它所制订的规则。接着，他就可以帮您产生出漂亮的文档了。</p><p>因此，Doxygen 的使用可分为两大部分。首先是特定格式的批注撰写，第二便是利用Doxygen的工具来产生文档。</p><p>目前Doxygen可处理的程序语言包含：</p><ul><li>C&#x2F;C++</li><li>Java</li><li>IDL (Corba, Microsoft及KDE-DCOP类型)</li></ul><p>而可产生出来的文档格式有：</p><ul><li>HTML</li><li>XML</li><li>LaTeX</li><li>RTF</li><li>Unix Man Page</li></ul><p>而其中还可衍生出不少其它格式。HTML可以打包成CHM格式，而LaTeX可以透过一些工具产生出PS或是PDF文档。</p><h1 id="二．安装Doxygen"><a href="#二．安装Doxygen" class="headerlink" title="二．安装Doxygen"></a>二．安装Doxygen</h1><h4 id="1-1-安装-Doxygen-1-8-2-Windows"><a href="#1-1-安装-Doxygen-1-8-2-Windows" class="headerlink" title="1.1 安装 Doxygen 1.8.2(Windows)"></a>1.1 安装 <a href="http://ftp.stack.nl/pub/users/dimitri/doxygen-1.8.2-setup.exe">Doxygen 1.8.2(Windows)</a></h4><h4 id="1-2-安装-graphviz-2-28-0-Windows"><a href="#1-2-安装-graphviz-2-28-0-Windows" class="headerlink" title="1.2 安装 graphviz 2.28.0(Windows)"></a>1.2 安装 <a href="http://www.graphviz.org/Download.php">graphviz 2.28.0(Windows)</a></h4><pre><code>graphviz 是一个由AT&amp;T实验室启动的开源工具包，用于绘制DOT语言脚本描述的图形。Doxygen 使用 graphviz 自动生成类之间和文件之间的调用关系图，如不需要此功能可不安装该工具包。</code></pre><h4 id="1-3-安装-html-help-workshop-1-32"><a href="#1-3-安装-html-help-workshop-1-32" class="headerlink" title="1.3 安装 html help workshop 1.32"></a>1.3 安装 <a href="http://dl.pconline.com.cn/html_2/1/87/id=1917&pn=0&linkPage=1.html">html help workshop 1.32</a></h4><pre><code>Doxygen 使用这个工具可以生成 CHM 格式的文档。</code></pre><h1 id="三．Doxygen的配置"><a href="#三．Doxygen的配置" class="headerlink" title="三．Doxygen的配置"></a>三．Doxygen的配置</h1><pre><code>Doxygen 产生文档可以分为三个步骤。一是在程序代码中加上符合Doxygen所定义批注格式。二是使用Doxywizard进行配置。三是使用Doxygen来产生批注文档。Doxygen 1.7.4 主界面如下图 1 所示。</code></pre><p> 说明：1，Doxygen 工作目录，就是用来存放配置文件的目录。</p><pre><code>   2，递归搜索源文件目录需要选上。      选择 wizard 标签下的 Output Topics      相关配置说明如下图 2 所示。      选择 wizard 标签下的 Diagrams Topics      相关配置说明如下图 3 所示。      说明：如果选择这个选项之前需要先安装了 Graphviz 工具包。      选择 expert 标签下的 Project Topics      相关配置说明如下图 4 所示。      说明：编码格式，UTF-8是首选。如果需要显示中文则选择GB2313.      TAB_SIZE 主要是帮助文件中代码的缩进尺寸，譬如@code和@endcode段代码的排版，建议设置成4。      OPTIMIZE_OUTPUT_FOR_C 这个选项选择后，生成文档的一些描述性名称发生变化，主要是符合C习惯。如果      是纯C代码，建议选择。      SUBGROUPING这个选项选择后，输出将会按类型分组。      选择 expert 标签下的 Build      Build页面，这个页面是生成帮助信息中比较关键的配置页面：</code></pre><p>EXTRACT_ALL 表示：输出所有的函数，但是private和static函数不属于其管制。</p><p>EXTRACT_PRIVATE 表示：输出private函数。</p><p>EXTRACT_STATIC 表示：输出static函数。同时还有几个EXTRACT，相应查看文档即可。</p><p>HIDE_UNDOC_MEMBERS 表示：那些没有使用doxygen格式描述的文档（函数或类等）就不显示了。当然，如果EXTRACT_ALL被启用，那么这个标志其实是被忽略的。</p><p>INTERNAL_DOCS 主要指：是否输出注解中的@internal部分。如果没有被启动，那么注解中所有的@internal部分都</p><p>将在目标帮助中不可见。</p><p>CASE_SENSE_NAMES 表示：是否关注大小写名称，注意，如果开启了，那么所有的名称都将被小写。对于C&#x2F;C++这种</p><p>字母相关的语言来说，建议永远不要开启。</p><p>HIDE_SCOPE_NAMES 表示：域隐藏，建议永远不要开启。</p><p>SHOW_INCLUDE_FILES 表示：是否显示包含文件，如果开启，帮助中会专门生成一个页面，里面包含所有包含文件的列</p><p>表。</p><p>INLINE_INFO ：如果开启，那么在帮助文档中，inline函数前面会有一个inline修饰词来标明。</p><p>SORT_MEMBER_DOCS ：如果开启，那么在帮助文档列表显示的时候，函数名称会排序，否则按照解释的顺序显</p><p>示。</p><p>GENERATE_TODOLIST ：是否生成TODOLIST页面，如果开启，那么包含在@todo注解中的内容将会单独生成并显</p><p>示在一个页面中，其他的GENERATE选项同。</p><p>SHOW_USED_FILES ：是否在函数或类等的帮助中，最下面显示函数或类的来源文件。</p><p>SHOW_FILES ：是否显示文件列表页面，如果开启，那么帮助中会存在一个一个文件列表索引页面。<br>选择 expert 标签下的 Input Topics<br>相关配置说明如下图 5 所示。</p><p>说明：输入的源文件的编码，要与源文件的编码格式相同。如果源文件不是UTF-8编码最好转一下。<br>选择 expert 标签下的 HTML Topics<br>相关配置说明如下图 6 所示。</p><p>说明：1，CHM_FILE文件名需要加上后缀（xx.chm）。<br>      2，如果在 Wizard 的 Output Topics 中选择了 prepare for compressed HTML (.chm)选项，此处就会要求选择 hhc.exe 程序的位置。在 windows help workshop 安装目录下可以找到 hhc.exe。<br>     3，为了解决DoxyGen生成的CHM文件的左边树目录的中文变成了乱码，CHM_INDEX_ENCODING中输入GB2312即可。<br>     4，GENERATE_CHI 表示索引文件是否单独输出，建议关闭。否则每次生成两个文件，比较麻烦。<br>     5，TOC_EXPAND 表示是否在索引中列举成员名称以及分组（譬如函数，枚举）名称。<br>选择 Run 标签<br>相关配置说明如下图 7 所示。</p><p>   点击 Run doxygen 按钮， Doxygen 就会从源代码中抓取符合规范的注释生成你定制的格式的文档。</p><h1 id="四．撰写正确格式的批注"><a href="#四．撰写正确格式的批注" class="headerlink" title="四．撰写正确格式的批注"></a>四．撰写正确格式的批注</h1><p>并非所有程序代码中的批注都会被Doxygen 所处理。您必需依照正确的格式撰写。原则上，Doxygen 仅处理与程序结构相关的批注，如Function，Class ，档案的批注等。对于Function内部的批注则不做处理。Doxygen可处理下面几种类型的批注。</p><p>JavaDoc类型：</p><p>&#x2F;**</p><ul><li>… 批注 …<br> *&#x2F;</li></ul><p>Qt类型：</p><p>&#x2F;*!</p><ul><li>… 批注 …<br> *&#x2F;</li></ul><p>单行型式的批注：</p><p>&#x2F;&#x2F;&#x2F; … 批注 …</p><p>或   </p><p>&#x2F;&#x2F;! … 批注 …</p><p>要使用哪种型态完全看自己的喜好。以笔者自己来说，大范围的注解我会使用JavaDoc 型的。单行的批注则使用”&#x2F;&#x2F;&#x2F;“ 的类型。</p><p>此外，由于Doxygen 对于批注是视为在解释后面的程序代码。也就是说，任何一个批注都是在说明其后的程序代码。如果要批注前面的程式码则需用下面格式的批注符号。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">/*!&lt; ... 批注 ... */</span><br><span class="line">/**&lt; ... 批注 ... */</span><br><span class="line">//!&lt; ... 批注 ...</span><br><span class="line">///&lt; ... 批注 ...</span><br></pre></td></tr></table></figure><p>上面这个方式并不适用于任何地方，只能用在class 的member或是function的参数上。<br>举例来说，若我们有下面这样的class。</p><pre><code>class MyClass &#123;    public:        int member1 ;        int member2:        void member_function();&#125;;</code></pre><p>加上批注后，就变成这样：</p><pre><code>/** * 我的自订类别说明 ... */class MyClass &#123;    public:        int member1 ; ///&lt; 第一个member说明 ...        int member2:  ///&lt; 第二个member说明 ...        int member_function(int a, int b);&#125;;/** * 自订类别的member_funtion说明 ... * * @param a 参数a的说明 * @param b 参数b的说明 * * @return 传回a+b。 */int MyClass::member_function( int a, int b )&#123;    return a+b ;&#125;</code></pre><p>当 您使用Doxygen 产生说明文档时，Doxygen 会帮您parsing 您的程式码。并且依据程序结构建立对应的文件。然后再将您的批注，依据其位置套入于正确的地方。您可能已经注意到，除了一般文字说明外，还有一些其它特别 的指令，像是@param及@return 等。这正是Doxygen 另外一个重要的部分，因为一个类别或是函式其实都有固定几个要说明的部分。为了让Doxygen 能够判断，所有我们就必需使用这些指令，来告诉Doxygen 后面的批注是在说明什么东西。Doxygen 在处理时，就会帮您把这些部分做特别的处理或是排版。甚至是制作参考连结。</p><p>首先，我们先说明在Doxygen 中对于类别或是函数批注的一个特定格式。</p><pre><code>/** * class或function的简易说明... * * class或function的详细说明... * ... */</code></pre><p>上 面这个例子要说的是，在Doxygen 处理一个class 或是function注解时，会先判断第一行为简易说明。这个简易说明将一直到空一行的出现。或是遇到第一个”.” 为止。之后的批注将会被视为详细说明。两者的差异在于Doxygen 在某些地方只会显示简易说明，而不显示详细说明。如：class 或function的列表。<br>另一种比较清楚的方式是指定@brief的指令。这将会明确的告诉Doxygen，何者是简易说明。例如：</p><pre><code>/** * @brief class或function的简易说明... * * class或function的详细说明... * ... */</code></pre><p>除了这个class 及function外，Doxygen 也可针对档案做说明，条件是该批注需置于档案的前面。主要也是利用一些指令，通常这部分注解都会放在档案的开始地方。如：</p><pre><code>/*! \file myfile.h    \brief 档案简易说明    详细说明.       \author 作者信息*/</code></pre><p>如您所见，档案批注约略格式如上，请别被”&quot; 所搞混。其实，”&quot; 与”@” 都是一样的，都是告诉Doxygen 后面是一个指令。两种在Doxygen 都可使用。笔者自己比较偏好使用”@”。<br>接着我们来针对一些常用的指令做说明：</p><table><thead><tr><th>属性</th><th>说明</th></tr></thead><tbody><tr><td>@file</td><td>档案的批注说明。</td></tr><tr><td>@author</td><td>作者的信息</td></tr><tr><td>@brief</td><td>用于class 或function的批注中，后面为class 或function的简易说明。</td></tr><tr><td>@param</td><td>格式为 @param arg_name 参数说明 主要用于函式说明中，后面接参数的名字，然后再接关于该参数的说明。</td></tr><tr><td>@return</td><td>后面接函数传回值的说明。用于function的批注中。说明该函数的传回值。</td></tr><tr><td>@retval</td><td>格式为 @retval value 传回值说明 主要用于函式说明中，说明特定传回值的意义。所以后面要先接一个传回值。然后在放该传回值的说明。</td></tr></tbody></table><p>Doxygen 所支持的指令很多，有些甚至是关于输出排版的控制。您可从Doxygen的使用说明中找到详尽的说明。<br>下面我们准备一组example.h 及example.cpp 来说明Doxygen 批注的使用方式：</p><p>example.h:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @file 本范例的include档案。</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 这个档案只定义example这个class。</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * @author garylee@localhost</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">       </span><br><span class="line"><span class="meta">#<span class="keyword">define</span> EXAMPLE_OK  0   <span class="comment">///&lt; 定义EXAMPLE_OK的宏为0。</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @brief Example class的简易说明</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 本范例说明Example class。</span></span><br><span class="line"><span class="comment"> * 这是一个极为简单的范例。</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Example</span> &#123;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="type">int</span> var1 ; <span class="comment">///&lt; 这是一个private的变数</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="type">int</span> var2 ; <span class="comment">///&lt; 这是一个public的变数成员。</span></span><br><span class="line">        <span class="type">int</span> var3 ; <span class="comment">///&lt; 这是另一个public的变数成员。</span></span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">ExFunc1</span><span class="params">(<span class="type">void</span>)</span></span>;</span><br><span class="line">        <span class="function"><span class="type">int</span> <span class="title">ExFunc2</span><span class="params">(<span class="type">int</span> a, <span class="type">char</span> b)</span></span>;</span><br><span class="line">        <span class="function"><span class="type">char</span> *<span class="title">ExFunc3</span><span class="params">(<span class="type">char</span> *c)</span> </span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>example.cpp:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @file 本范例的程序代码档案。</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 这个档案用来定义example这个class的</span></span><br><span class="line"><span class="comment"> * member function。</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * @author garylee@localhost</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @brief ExFunc1的简易说明</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * ExFunc1没有任何参数及传回值。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Example::ExFunc1</span><span class="params">(<span class="type">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// empty funcion.</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @brief ExFunc2的简易说明</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * ExFunc3()传回两个参数相加的值。</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * @param a 用来相加的参数。</span></span><br><span class="line"><span class="comment"> * @param b 用来相加的参数。</span></span><br><span class="line"><span class="comment"> * @return 传回两个参数相加的结果。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">ExFunc2</span><span class="params">(<span class="type">int</span> a, <span class="type">char</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (a+b);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @brief ExFunc3的简易说明</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * ExFunc3()只传回参数输入的指标。</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * @param c 传进的字符指针。</span></span><br><span class="line"><span class="comment"> * @retval NULL 空字符串。</span></span><br><span class="line"><span class="comment"> * @retval !NULL 非空字符串。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="type">char</span> * <span class="title">ExFunc2</span><span class="params">(<span class="type">char</span> * c)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> c;</span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> QT </category>
          
      </categories>
      
      
        <tags>
            
            <tag> QT </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VS文档自动生成</title>
      <link href="/2013/12/19/vs-wen-dang-zi-dong-sheng-cheng/"/>
      <url>/2013/12/19/vs-wen-dang-zi-dong-sheng-cheng/</url>
      
        <content type="html"><![CDATA[<p>(发现，Sandcastle主要是用于C#项目。里面的注释都是XML格式的。不太适合VC的。最终还是得用Doxygen)</p><h2 id="一、Sandcastle简介："><a href="#一、Sandcastle简介：" class="headerlink" title="一、Sandcastle简介："></a>一、Sandcastle简介：</h2><p>Sandcastle(CodeName)是微软出的用于编译发布组件（Assembly）信息的一个工具，其前身为发布VS2005之前，MS内部开发了一个用于生成帮助文档的工具。</p><h2 id="二、Sandcastle与NDoc的简单比较："><a href="#二、Sandcastle与NDoc的简单比较：" class="headerlink" title="二、Sandcastle与NDoc的简单比较："></a>二、Sandcastle与NDoc的简单比较：</h2><p>NDoc是.Net2003下的文档生成工具，它是一个开源的东东。目前已经停止开发，最新版本不支持2.0。</p><p>它们都是通过反射和Xslt技术，从dll文件及其注释（编译时加&#x2F;doc参数得到）中得到一个完整的帮助文档，文档格式可以是html或chm甚至是任何自定义的格式。</p><p>当前Sandcastle最新版本是June CTP，使用的方式仍然是命令行，不提供GUI支持；而且官方网站上给出的使用说明：其只能支持单一的dll，对于Solution仍然没有任何说明。</p><h2 id="三、如何利用Sandcastle自动生成-NET2-0开发帮助文档"><a href="#三、如何利用Sandcastle自动生成-NET2-0开发帮助文档" class="headerlink" title="三、如何利用Sandcastle自动生成.NET2.0开发帮助文档"></a>三、如何利用Sandcastle自动生成.NET2.0开发帮助文档</h2><p>A．软件安装准备工作：(下载网站：<a href="http://shfb.codeplex.com/">http://shfb.codeplex.com/</a>）</p><h4 id="1、-必备软件：HtmlHelpWorkshop-exe-网上到处都有；如果本机已经安装就无需理会；"><a href="#1、-必备软件：HtmlHelpWorkshop-exe-网上到处都有；如果本机已经安装就无需理会；" class="headerlink" title="1、 必备软件：HtmlHelpWorkshop.exe 网上到处都有；如果本机已经安装就无需理会；"></a>1、 必备软件：HtmlHelpWorkshop.exe 网上到处都有；如果本机已经安装就无需理会；</h4><h4 id="2、下载该软件，网址：http-shfb-codeplex-com"><a href="#2、下载该软件，网址：http-shfb-codeplex-com" class="headerlink" title="2、下载该软件，网址：http://shfb.codeplex.com/"></a>2、下载该软件，网址：<a href="http://shfb.codeplex.com/">http://shfb.codeplex.com/</a></h4><pre><code>         解压找到文件夹InstallResources；可找到两个安装包Sandcastle_2710.msi；SandcastleHelpFileBuilder_1950.msi</code></pre><h4 id="3、开始安装，需要装两个软件（最好默认安装到C-下）"><a href="#3、开始安装，需要装两个软件（最好默认安装到C-下）" class="headerlink" title="3、开始安装，需要装两个软件（最好默认安装到C:\下）"></a>3、开始安装，需要装两个软件（最好默认安装到C:\下）</h4><pre><code>         先安装Sandcastle_2710.msi；        后安装SandcastleHelpFileBuilder_1950.msi</code></pre><h4 id="4、安装完毕后，在程序中可以找到“Sandcastle-Help-File-Builder-GUI”执行文件，运行：（里面已经新建了一个工程-7）"><a href="#4、安装完毕后，在程序中可以找到“Sandcastle-Help-File-Builder-GUI”执行文件，运行：（里面已经新建了一个工程-7）" class="headerlink" title="4、安装完毕后，在程序中可以找到“Sandcastle Help File Builder GUI”执行文件，运行：（里面已经新建了一个工程-7）"></a>4、安装完毕后，在程序中可以找到“Sandcastle Help File Builder GUI”执行文件，运行：（里面已经新建了一个工程-7）</h4><p>使用步骤：</p><h5 id="1、点击“File”–-New-Project-–-弹出对话框，输入工程名称，比如：AA，点击保存"><a href="#1、点击“File”–-New-Project-–-弹出对话框，输入工程名称，比如：AA，点击保存" class="headerlink" title="1、点击“File”–&gt; New Project –&gt;弹出对话框，输入工程名称，比如：AA，点击保存"></a>1、点击“File”–&gt; New Project –&gt;弹出对话框，输入工程名称，比如：AA，点击保存</h5><h5 id="2、见AA工程如下图"><a href="#2、见AA工程如下图" class="headerlink" title="2、见AA工程如下图"></a>2、见AA工程如下图</h5><h5 id="3、点击“右边AA”下面“Documentation-Source”，点击右键Add，选择我们开发项目已经编译好的dll和xml文件（注意：项目编译-必须输出-xml文件，方法见下面解说）"><a href="#3、点击“右边AA”下面“Documentation-Source”，点击右键Add，选择我们开发项目已经编译好的dll和xml文件（注意：项目编译-必须输出-xml文件，方法见下面解说）" class="headerlink" title="3、点击“右边AA”下面“Documentation Source”，点击右键Add，选择我们开发项目已经编译好的dll和xml文件（注意：项目编译                  必须输出 xml文件，方法见下面解说）"></a>3、点击“右边AA”下面“Documentation Source”，点击右键Add，选择我们开发项目已经编译好的dll和xml文件（注意：项目编译                  必须输出 xml文件，方法见下面解说）</h5><h5 id="4、配置相关属性"><a href="#4、配置相关属性" class="headerlink" title="4、配置相关属性;"></a>4、配置相关属性;</h5><pre><code>    ①、FrameworkVersion --- 选择对应项目的.net版本(目前支到4.0)    ②、ProjectSummary     ---  项目说明-编译后的hm--Title属性名称    ③、HtmlHelpName       ---   输出chm文件的名称    ④、HelpTitle                  ---   文件标题说明    ⑤、HelpFileFormat      ---   选择HtmlHelp1    ⑥、Language               ---   默认选中“英语（美）”    ⑦、CopyrightText        ---   你的版权说明    ⑧、DocumentInheritedFrameworkMembers   ---- alse    true&lt;将屏蔽继承过来的自带的一些方法说明&gt;    ⑨、DocumentInheritedMembers                       --- false    true&lt;将屏蔽继承过来的自带的一些方法说明&gt;    ⑩、OutputPath            ---  输出chm的文件夹    其他属性可默认....</code></pre><h5 id="5、点击“Bulid-the-help-file”按钮进行编译操作，"><a href="#5、点击“Bulid-the-help-file”按钮进行编译操作，" class="headerlink" title="5、点击“Bulid the help file”按钮进行编译操作，"></a>5、点击“Bulid the help file”按钮进行编译操作，</h5><p> 解说：项目生成输出xml文件操作—》点击项目属性，弹出对话—生成–勾选中 输出XML文档文件，下次编译即可输出xml文件</p>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>QT 商业版调用activex插件</title>
      <link href="/2013/12/09/qt-shang-ye-ban-diao-yong-activex-cha-jian/"/>
      <url>/2013/12/09/qt-shang-ye-ban-diao-yong-activex-cha-jian/</url>
      
        <content type="html"><![CDATA[<p>搭建好qt项目后</p><p>在main.cpp中写入如下代码</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;test.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QtWidgets/QApplication&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QAxWidget&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QString&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">QApplication <span class="title">a</span><span class="params">(argc, argv)</span></span>;</span><br><span class="line"></span><br><span class="line">    QAxWidget *map=<span class="keyword">new</span> <span class="built_in">QAxWidget</span>(<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line">    map-&gt;<span class="built_in">resize</span>(<span class="number">1000</span>,<span class="number">800</span>);</span><br><span class="line"></span><br><span class="line">    map-&gt;<span class="built_in">setControl</span>(QString::<span class="built_in">fromUtf8</span>(<span class="string">&quot;&#123;C54A9308-CECF-42F4-85DD-96F8AD9A67C6&#125;&quot;</span>));</span><br><span class="line">    map-&gt;<span class="built_in">dynamicCall</span>(<span class="string">&quot;openTerrain(string,string,string,string)&quot;</span>,<span class="string">&quot;http://www.drawsee.com/service20/TerrainService/TerrainService.asmx/&quot;</span>,<span class="string">&quot;China&quot;</span>,<span class="string">&quot;http://www.drawsee.com/service20/TerrainImageService/TerrainImageService.asmx/&quot;</span>,<span class="string">&quot;earthnew&quot;</span>);</span><br><span class="line">    map-&gt;<span class="built_in">show</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//test w;</span></span><br><span class="line">    <span class="comment">//w.show();</span></span><br><span class="line">    <span class="keyword">return</span> a.<span class="built_in">exec</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>C54A9308-CECF-42F4-85DD-96F8AD9A67C6是地图插件的id这个是个标识。</p><p>其中openTerrain是打开地图的方法。</p>]]></content>
      
      
      <categories>
          
          <category> QT </category>
          
      </categories>
      
      
        <tags>
            
            <tag> QT </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>html 页面跳转方式</title>
      <link href="/2013/12/09/html-ye-mian-tiao-zhuan-fang-shi/"/>
      <url>/2013/12/09/html-ye-mian-tiao-zhuan-fang-shi/</url>
      
        <content type="html"><![CDATA[<p>网页的跳转在很多时候都非常的有用，下面的是两个简单的例子。仅供参考。</p><h3 id="一、用meta里直接写刷新语句：5秒后跳转到百度"><a href="#一、用meta里直接写刷新语句：5秒后跳转到百度" class="headerlink" title="一、用meta里直接写刷新语句：5秒后跳转到百度"></a>一、用meta里直接写刷新语句：5秒后跳转到百度</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;refresh&quot;</span> <span class="attr">content</span>=<span class="string">&quot;5;url=http://www.baidu.com&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>跳转测试<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    测试：html网页自动跳转代码</span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="二、用javascript的window-location-href方法实现跳转"><a href="#二、用javascript的window-location-href方法实现跳转" class="headerlink" title="二、用javascript的window.location.href方法实现跳转"></a>二、用javascript的window.location.href方法实现跳转</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">language</span>=<span class="string">&quot;javascript&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 方式一 直接跳转</span></span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">href</span>=<span class="string">&#x27;hello.html&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript"><span class="comment">// 方式二 定时跳转</span></span></span><br><span class="line"><span class="language-javascript"><span class="built_in">setTimeout</span>(<span class="string">&quot;javascript:location.href=&#x27;hello.html&#x27;&quot;</span>, <span class="number">5000</span>); </span></span><br><span class="line"><span class="language-javascript">以上两种任选其一</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> HTML/CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTML/CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Oracle 连接字符串</title>
      <link href="/2013/11/27/oracle-lian-jie-zi-fu-chuan/"/>
      <url>/2013/11/27/oracle-lian-jie-zi-fu-chuan/</url>
      
        <content type="html"><![CDATA[<p>方式一：</p><p>data source&#x3D;(DESCRIPTION&#x3D;(ADDRESS_LIST&#x3D;(ADDRESS&#x3D;(PROTOCOL&#x3D;TCP)(HOST&#x3D;IP)(PORT&#x3D;1521)))(CONNECT_DATA&#x3D;(SERVICE_NAME&#x3D;服务器)));Persist Security Info&#x3D;True;user id&#x3D;用户名;password&#x3D;密码;</p><p>方式二：<br>data source&#x3D;ip&#x2F;服务名;user id&#x3D;用户名;password&#x3D;密码;</p>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>将GPT转换成MBR</title>
      <link href="/2013/11/08/jiang-gpt-zhuan-huan-cheng-mbr/"/>
      <url>/2013/11/08/jiang-gpt-zhuan-huan-cheng-mbr/</url>
      
        <content type="html"><![CDATA[<p>准备一个pe启动盘</p><h5 id="1-单击”运行“在弹出来的窗口输入cmd回车"><a href="#1-单击”运行“在弹出来的窗口输入cmd回车" class="headerlink" title="1.单击”运行“在弹出来的窗口输入cmd回车"></a>1.单击”运行“在弹出来的窗口输入cmd回车</h5><h5 id="2-在输入“diskpart”回车"><a href="#2-在输入“diskpart”回车" class="headerlink" title="2.在输入“diskpart”回车"></a>2.在输入“diskpart”回车</h5><h5 id="3-在输入“list-disk”显示硬盘信息，查看那个盘是gpt分区类型"><a href="#3-在输入“list-disk”显示硬盘信息，查看那个盘是gpt分区类型" class="headerlink" title="3.在输入“list disk”显示硬盘信息，查看那个盘是gpt分区类型"></a>3.在输入“list disk”显示硬盘信息，查看那个盘是gpt分区类型</h5><h5 id="4-输入“select-disk-0”，表示选中磁盘0，这个看具体情况。"><a href="#4-输入“select-disk-0”，表示选中磁盘0，这个看具体情况。" class="headerlink" title="4.输入“select disk 0”，表示选中磁盘0，这个看具体情况。"></a>4.输入“select disk 0”，表示选中磁盘0，这个看具体情况。</h5><h5 id="5-输入“clean”清楚当前所选磁盘。"><a href="#5-输入“clean”清楚当前所选磁盘。" class="headerlink" title="5.输入“clean”清楚当前所选磁盘。"></a>5.输入“clean”清楚当前所选磁盘。</h5><h5 id="6-输入“convert-mbr”将gpt转换成mbr格式的了。"><a href="#6-输入“convert-mbr”将gpt转换成mbr格式的了。" class="headerlink" title="6.输入“convert mbr”将gpt转换成mbr格式的了。"></a>6.输入“convert mbr”将gpt转换成mbr格式的了。</h5><p>扩展知识：convert命令的其它用法：</p><p>convert  basic     -将磁盘从动态转换为基本。</p><p>convert  dynamic  -将磁盘从基本转换为动态。</p><p>convert  gpt      -将磁盘从MBR转换为GPT。</p><p>convert  mbr     -将磁盘从GPT转换为MBR</p><p>convert X：&#x2F;FS:NTFS(X：是所要转化的分区盘符)</p>]]></content>
      
      
      <categories>
          
          <category> Computer </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Computer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>QT LCDNumber使用</title>
      <link href="/2013/11/07/qt-lcdnumber-shi-yong/"/>
      <url>/2013/11/07/qt-lcdnumber-shi-yong/</url>
      
        <content type="html"><![CDATA[<p>新建一个QT工程</p><p>然后在cpp文件中写入代码</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;hello.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;qthread.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QVariant&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;qstring.h&gt;</span></span></span><br><span class="line"></span><br><span class="line">Hello::<span class="built_in">Hello</span>(QWidget *parent)</span><br><span class="line">    : <span class="built_in">QDialog</span>(parent)</span><br><span class="line">&#123;</span><br><span class="line">    </span><br><span class="line">    ui.<span class="built_in">setupUi</span>(<span class="keyword">this</span>);</span><br><span class="line">    </span><br><span class="line">    ui.slider-&gt;<span class="built_in">setRange</span>(<span class="number">0</span>,<span class="number">1000</span>);</span><br><span class="line">    <span class="built_in">connect</span>(ui.slider,<span class="built_in">SIGNAL</span>(<span class="built_in">valueChanged</span>(<span class="type">int</span>)),ui.lcd,<span class="built_in">SLOT</span>(<span class="built_in">display</span>(<span class="type">int</span>)));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Hello::~<span class="built_in">Hello</span>()</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>拉动滑块就可以改变lcdnumber中的数值。</p>]]></content>
      
      
      <categories>
          
          <category> QT </category>
          
      </categories>
      
      
        <tags>
            
            <tag> QT </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windows QT 商业版 试用</title>
      <link href="/2013/11/01/windows-qt-shang-ye-ban-shi-yong/"/>
      <url>/2013/11/01/windows-qt-shang-ye-ban-shi-yong/</url>
      
        <content type="html"><![CDATA[<p>You’re about to evaluate Qt Enterprise - the cross-platform application and UI framework used to develop world-leading applications such as Skype , Adobe  Photoshop  Elements, and Google  Earth, as well as millions of embedded devices.</p><p>GETTING STARTED</p><ol><li>Use the links below to download your evaluation</li><li>Install the items you need with the online installer</li><li>Start using Qt!</li></ol><p>GET THE MOST OUT OF YOUR EVALUATION</p><ol><li>Try the Qt Creator IDE and the Qt development tools.</li><li>Dive into the rich Qt documentation - You have full access to extensive Qt documentation and examples included in your evaluation.</li><li>Discover the Qt Enterprise Resource Center - Find training material, on-demand webinars, whitepapers, and newsletters to get started with your Qt project at <a href="http://qt.digia.com/Resource-Center/">http://qt.digia.com/Resource-Center/</a></li><li>Stay tuned with product news on our Qt Blog - Get the latest updates, tips and tricks from Qt Experts at blog.qt.digia.com.</li><li>Write your own code - The best way to experience Qt is to start using it. Modifying and running the examples with the Qt Creator IDE is a great way to discover what’s possible with Qt.</li><li>Stay in touch with the Qt team - We are here to help you through the evaluation process and are available to answer your questions and concerns.</li></ol><p>TERMS OF YOUR EVALUATION</p><p>Your evaluation allows you to try Qt Enterprise for the next 30 days, ending on 2013-12-01.</p><p>Please note that the usage is restricted to the evaluation only. See the User Licensing Agreement included in each package for details.</p><p>WHERE TO DOWNLOAD YOUR EVALUATION</p><p>Qt Online Installer for Windows Host<br><a href="http://dist.qt.digia.com/developer/qt_online/qt-enterprise-windows-x86-1.4.0-2-online.exe">http://dist.qt.digia.com/developer/qt_online/qt-enterprise-windows-x86-1.4.0-2-online.exe</a></p><p>Additional download: Visual Studio Add-In<br><a href="http://dist.qt.digia.com/developer/qt_online/qt-vs-addin-1.2.2.exe">http://dist.qt.digia.com/developer/qt_online/qt-vs-addin-1.2.2.exe</a></p><p>HOW TO INSTALL</p><p>To install the Qt evaluation package, you need to enter the following information:</p><p>Name: xxxxxx<br>Company name: xxxxxx<br>Qt4 License Key: xxxxxx<br>Qt5 License Key: xxxxxx</p><p>注册试用版地址 <a href="http://qt.digia.com/Try-Qt-Now/">http://qt.digia.com/Try-Qt-Now/</a></p><p>这个用户注册的信息可以随便填写</p><p>We hope you enjoy your Qt evaluation. If you have any questions during your evaluation period, or would like to try our Qt support offering as part of your evaluation process, please let us know via our contact form, <a href="http://qt.digia.com/About-us/Contact-us/">http://qt.digia.com/About-us/Contact-us/</a>. We are happy to help.</p><p>Please note: The Qt evaluation process requires that you are informed when your 30-day evaluation license expires.  You will receive a short mail with that information in 30 days.</p><p>–<br>Best regards,<br>Team Qt<br>Get tips and tricks on developing with Qt: <a href="http://blog.qt.digia.com/">http://blog.qt.digia.com/</a><br>Twitter: @QtbyDigia<br>Contact Us: <a href="http://qt.digia.com/About-us/Contact-us/">http://qt.digia.com/About-us/Contact-us/</a></p><p>Join us at Qt Developer Days 2013 - The Premier Qt Event of the Year<br>Oct 7 - 9 Berlin, Germany | Nov 6 - 8 San Francisco, CA, USA<br>New to Qt? Decision maker? Not too techie? <em>New tracks this year</em> ‘Starter Edition’ - Berlin | ‘Why Qt’ - San Francisco<br><a href="http://qt.digia.com/qtdeveloperdays/">http://qt.digia.com/qtdeveloperdays/</a></p>]]></content>
      
      
      <categories>
          
          <category> QT </category>
          
      </categories>
      
      
        <tags>
            
            <tag> QT </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>QT 简单的计算器例子</title>
      <link href="/2013/10/30/qt-jian-dan-de-ji-suan-qi-li-zi/"/>
      <url>/2013/10/30/qt-jian-dan-de-ji-suan-qi-li-zi/</url>
      
        <content type="html"><![CDATA[<p>开发工具：vs2010、qt5.1</p><h4 id="1使用vs新建工程，Base-Class-选择QDialog"><a href="#1使用vs新建工程，Base-Class-选择QDialog" class="headerlink" title="1使用vs新建工程，Base Class 选择QDialog"></a>1使用vs新建工程，Base Class 选择QDialog</h4><p><img src="/images/2013103014542301.jpg" alt="2013103014542301.jpg"><br><img src="/images/2013103014542302.jpg" alt="2013103014542302.jpg"><br>注意：项目的路径最好是英文的，中文可能会报错。</p><h4 id="2新建项目后双击打开“hello-ui”文件，摆放控件（和vs摆放控件一样），摆放完成后直接保存退出。"><a href="#2新建项目后双击打开“hello-ui”文件，摆放控件（和vs摆放控件一样），摆放完成后直接保存退出。" class="headerlink" title="2新建项目后双击打开“hello.ui”文件，摆放控件（和vs摆放控件一样），摆放完成后直接保存退出。"></a>2新建项目后双击打开“hello.ui”文件，摆放控件（和vs摆放控件一样），摆放完成后直接保存退出。</h4><p><img src="/images/2013103014542303.jpg" alt="2013103014542303.jpg"></p><h4 id="3-双击打开“hello-h”文件，往里面添加代码"><a href="#3-双击打开“hello-h”文件，往里面添加代码" class="headerlink" title="3.双击打开“hello.h”文件，往里面添加代码"></a>3.双击打开“hello.h”文件，往里面添加代码</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> HELLO_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HELLO_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QtWidgets/QDialog&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;ui_hello.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Hello</span> : <span class="keyword">public</span> QDialog</span><br><span class="line">&#123;</span><br><span class="line">    Q_OBJECT</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Hello</span>(QWidget *parent = <span class="number">0</span>);</span><br><span class="line">    ~<span class="built_in">Hello</span>();</span><br><span class="line">signals:</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span></span><br><span class="line">    slots:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">btnOK</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">btnAdd</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Ui::HelloClass ui;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// HELLO_H</span></span></span><br></pre></td></tr></table></figure><h4 id="4-打开“hello-cpp”文件，添加代码"><a href="#4-打开“hello-cpp”文件，添加代码" class="headerlink" title="4.打开“hello.cpp”文件，添加代码"></a>4.打开“hello.cpp”文件，添加代码</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;hello.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;qthread.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QVariant&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;qstring.h&gt;</span></span></span><br><span class="line"></span><br><span class="line">Hello::<span class="built_in">Hello</span>(QWidget *parent)</span><br><span class="line">    : <span class="built_in">QDialog</span>(parent)</span><br><span class="line">&#123;</span><br><span class="line">    </span><br><span class="line">    ui.<span class="built_in">setupUi</span>(<span class="keyword">this</span>);</span><br><span class="line">    ui.leResult-&gt;<span class="built_in">setEnabled</span>(<span class="literal">false</span>);</span><br><span class="line">    <span class="built_in">connect</span>(ui.pbOK,<span class="built_in">SIGNAL</span>(<span class="built_in">clicked</span>()),<span class="keyword">this</span>,<span class="built_in">SLOT</span>(<span class="built_in">btnAdd</span>()));</span><br><span class="line">    <span class="built_in">connect</span>(ui.pbExit,<span class="built_in">SIGNAL</span>(<span class="built_in">clicked</span>()),<span class="keyword">this</span>,<span class="built_in">SLOT</span>(<span class="built_in">close</span>()));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Hello::~<span class="built_in">Hello</span>()</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Hello::btnOK</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ui.pbOK-&gt;<span class="built_in">setText</span>(<span class="string">&quot;Cancel&quot;</span>);</span><br><span class="line">    QThread::<span class="built_in">sleep</span>(<span class="number">2</span>);</span><br><span class="line">    <span class="built_in">connect</span>(ui.pbOK,<span class="built_in">SIGNAL</span>(<span class="built_in">clicked</span>()),<span class="keyword">this</span>,<span class="built_in">SLOT</span>(<span class="built_in">close</span>()));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Hello::btnAdd</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    QString num1 = ui.leNum1-&gt;<span class="built_in">text</span>();</span><br><span class="line">    QString num2 = ui.leNum2-&gt;<span class="built_in">text</span>();</span><br><span class="line">    <span class="type">double</span> result;</span><br><span class="line">    <span class="keyword">switch</span>(ui.cbOper-&gt;<span class="built_in">currentIndex</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">            result = num1.<span class="built_in">toDouble</span>() + num2.<span class="built_in">toDouble</span>();</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">            result =num1.<span class="built_in">toDouble</span>() - num2.<span class="built_in">toDouble</span>();</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">            result = num1.<span class="built_in">toDouble</span>() * num2.<span class="built_in">toDouble</span>();</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">            result = num1.<span class="built_in">toDouble</span>() / num2.<span class="built_in">toDouble</span>();</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    ui.leResult-&gt;<span class="built_in">setText</span>(QString::<span class="built_in">number</span>(result));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> QT </category>
          
      </categories>
      
      
        <tags>
            
            <tag> QT </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windows下搭建QT环境</title>
      <link href="/2013/10/22/windows-xia-da-jian-qt-huan-jing/"/>
      <url>/2013/10/22/windows-xia-da-jian-qt-huan-jing/</url>
      
        <content type="html"><![CDATA[<p>必须软件</p><p><a href="http://yunpan.cn/QbTKe5j7A9J9d">qt-windows-opensource-5.1.1-msvc2010-x86-offline</a></p><p><a href="http://yunpan.cn/QbTKXdMtwF6zI">qt-vs-addin-1.2.2-opensource</a> 支持vs2008、2010、2012安装完成后vs开发工具会出现<br><img src="/images/2013102215451201.png" alt="2013102215451201.png"></p><p>安装qt 5.1.1后打开vs工具选择qt5—qt opitons 弹出一个窗口，然偶点击add，填写版本号及路径，然后点击确定。<br><img src="/images/2013102215451202.png" alt="2013102215451202.png"></p>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Silverlight 创建 ImageButton</title>
      <link href="/2013/07/19/silverlight-chuang-jian-imagebutton/"/>
      <url>/2013/07/19/silverlight-chuang-jian-imagebutton/</url>
      
        <content type="html"><![CDATA[<p>这几天一直在折腾怎么在silverlight 按钮上添加图片，直接向imagebutton那样设置成属性可以直接更改，最后到处查找资料终于搞出一个imagebutton了。</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line">&lt;Style x:Key=<span class="string">&quot;ButtonStyle1&quot;</span> TargetType=<span class="string">&quot;Button&quot;</span>&gt;</span><br><span class="line">    &lt;Setter Property=<span class="string">&quot;Background&quot;</span> Value=<span class="string">&quot;#FF1F3B53&quot;</span>/&gt;</span><br><span class="line">    &lt;Setter Property=<span class="string">&quot;Foreground&quot;</span> Value=<span class="string">&quot;#FF000000&quot;</span>/&gt;</span><br><span class="line">    &lt;Setter Property=<span class="string">&quot;Padding&quot;</span> Value=<span class="string">&quot;3&quot;</span>/&gt;</span><br><span class="line">    &lt;Setter Property=<span class="string">&quot;BorderThickness&quot;</span> Value=<span class="string">&quot;1&quot;</span>/&gt;</span><br><span class="line">    &lt;Setter Property=<span class="string">&quot;BorderBrush&quot;</span>&gt;</span><br><span class="line">        &lt;Setter.Value&gt;</span><br><span class="line">            &lt;LinearGradientBrush EndPoint=<span class="string">&quot;0.5,1&quot;</span> StartPoint=<span class="string">&quot;0.5,0&quot;</span>&gt;</span><br><span class="line">                &lt;GradientStop Color=<span class="string">&quot;#FFA3AEB9&quot;</span> Offset=<span class="string">&quot;0&quot;</span>/&gt;</span><br><span class="line">                &lt;GradientStop Color=<span class="string">&quot;#FF8399A9&quot;</span> Offset=<span class="string">&quot;0.375&quot;</span>/&gt;</span><br><span class="line">                &lt;GradientStop Color=<span class="string">&quot;#FF718597&quot;</span> Offset=<span class="string">&quot;0.375&quot;</span>/&gt;</span><br><span class="line">                &lt;GradientStop Color=<span class="string">&quot;#FF617584&quot;</span> Offset=<span class="string">&quot;1&quot;</span>/&gt;</span><br><span class="line">            &lt;/LinearGradientBrush&gt;</span><br><span class="line">        &lt;/Setter.Value&gt;</span><br><span class="line">    &lt;/Setter&gt;</span><br><span class="line">    &lt;Setter Property=<span class="string">&quot;Template&quot;</span>&gt;</span><br><span class="line">        &lt;Setter.Value&gt;</span><br><span class="line">            &lt;ControlTemplate TargetType=<span class="string">&quot;Button&quot;</span>&gt;</span><br><span class="line">                &lt;Grid&gt;</span><br><span class="line">                    &lt;VisualStateManager.VisualStateGroups&gt;</span><br><span class="line">                        &lt;VisualStateGroup x:Name=<span class="string">&quot;CommonStates&quot;</span>&gt;</span><br><span class="line">                            &lt;VisualState x:Name=<span class="string">&quot;Normal&quot;</span>/&gt;</span><br><span class="line">                            &lt;VisualState x:Name=<span class="string">&quot;MouseOver&quot;</span>&gt;</span><br><span class="line">                                &lt;Storyboard&gt;</span><br><span class="line">                                    &lt;DoubleAnimation Duration=<span class="string">&quot;0&quot;</span> To=<span class="string">&quot;1&quot;</span> Storyboard.TargetProperty=<span class="string">&quot;Opacity&quot;</span> Storyboard.TargetName=<span class="string">&quot;BackgroundAnimation&quot;</span>/&gt;</span><br><span class="line">                                    &lt;ColorAnimation Duration=<span class="string">&quot;0&quot;</span> To=<span class="string">&quot;#F2FFFFFF&quot;</span> Storyboard.TargetProperty=<span class="string">&quot;(Rectangle.Fill).(GradientBrush.GradientStops)[1].(GradientStop.Color)&quot;</span> Storyboard.TargetName=<span class="string">&quot;BackgroundGradient&quot;</span>/&gt;</span><br><span class="line">                                    &lt;ColorAnimation Duration=<span class="string">&quot;0&quot;</span> To=<span class="string">&quot;#CCFFFFFF&quot;</span> Storyboard.TargetProperty=<span class="string">&quot;(Rectangle.Fill).(GradientBrush.GradientStops)[2].(GradientStop.Color)&quot;</span> Storyboard.TargetName=<span class="string">&quot;BackgroundGradient&quot;</span>/&gt;</span><br><span class="line">                                    &lt;ColorAnimation Duration=<span class="string">&quot;0&quot;</span> To=<span class="string">&quot;#7FFFFFFF&quot;</span> Storyboard.TargetProperty=<span class="string">&quot;(Rectangle.Fill).(GradientBrush.GradientStops)[3].(GradientStop.Color)&quot;</span> Storyboard.TargetName=<span class="string">&quot;BackgroundGradient&quot;</span>/&gt;</span><br><span class="line">                                &lt;/Storyboard&gt;</span><br><span class="line">                            &lt;/VisualState&gt;</span><br><span class="line">                            &lt;VisualState x:Name=<span class="string">&quot;Pressed&quot;</span>&gt;</span><br><span class="line">                                &lt;Storyboard&gt;</span><br><span class="line">                                    &lt;ColorAnimation Duration=<span class="string">&quot;0&quot;</span> To=<span class="string">&quot;#FF6DBDD1&quot;</span> Storyboard.TargetProperty=<span class="string">&quot;(Border.Background).(SolidColorBrush.Color)&quot;</span> Storyboard.TargetName=<span class="string">&quot;Background&quot;</span>/&gt;</span><br><span class="line">                                    &lt;DoubleAnimation Duration=<span class="string">&quot;0&quot;</span> To=<span class="string">&quot;1&quot;</span> Storyboard.TargetProperty=<span class="string">&quot;Opacity&quot;</span> Storyboard.TargetName=<span class="string">&quot;BackgroundAnimation&quot;</span>/&gt;</span><br><span class="line">                                    &lt;ColorAnimation Duration=<span class="string">&quot;0&quot;</span> To=<span class="string">&quot;#D8FFFFFF&quot;</span> Storyboard.TargetProperty=<span class="string">&quot;(Rectangle.Fill).(GradientBrush.GradientStops)[0].(GradientStop.Color)&quot;</span> Storyboard.TargetName=<span class="string">&quot;BackgroundGradient&quot;</span>/&gt;</span><br><span class="line">                                    &lt;ColorAnimation Duration=<span class="string">&quot;0&quot;</span> To=<span class="string">&quot;#C6FFFFFF&quot;</span> Storyboard.TargetProperty=<span class="string">&quot;(Rectangle.Fill).(GradientBrush.GradientStops)[1].(GradientStop.Color)&quot;</span> Storyboard.TargetName=<span class="string">&quot;BackgroundGradient&quot;</span>/&gt;</span><br><span class="line">                                    &lt;ColorAnimation Duration=<span class="string">&quot;0&quot;</span> To=<span class="string">&quot;#8CFFFFFF&quot;</span> Storyboard.TargetProperty=<span class="string">&quot;(Rectangle.Fill).(GradientBrush.GradientStops)[2].(GradientStop.Color)&quot;</span> Storyboard.TargetName=<span class="string">&quot;BackgroundGradient&quot;</span>/&gt;</span><br><span class="line">                                    &lt;ColorAnimation Duration=<span class="string">&quot;0&quot;</span> To=<span class="string">&quot;#3FFFFFFF&quot;</span> Storyboard.TargetProperty=<span class="string">&quot;(Rectangle.Fill).(GradientBrush.GradientStops)[3].(GradientStop.Color)&quot;</span> Storyboard.TargetName=<span class="string">&quot;BackgroundGradient&quot;</span>/&gt;</span><br><span class="line">                                &lt;/Storyboard&gt;</span><br><span class="line">                            &lt;/VisualState&gt;</span><br><span class="line">                            &lt;VisualState x:Name=<span class="string">&quot;Disabled&quot;</span>&gt;</span><br><span class="line">                                &lt;Storyboard&gt;</span><br><span class="line">                                    &lt;DoubleAnimation Duration=<span class="string">&quot;0&quot;</span> To=<span class="string">&quot;.55&quot;</span> Storyboard.TargetProperty=<span class="string">&quot;Opacity&quot;</span> Storyboard.TargetName=<span class="string">&quot;DisabledVisualElement&quot;</span>/&gt;</span><br><span class="line">                                &lt;/Storyboard&gt;</span><br><span class="line">                            &lt;/VisualState&gt;</span><br><span class="line">                        &lt;/VisualStateGroup&gt;</span><br><span class="line">                        &lt;VisualStateGroup x:Name=<span class="string">&quot;FocusStates&quot;</span>&gt;</span><br><span class="line">                            &lt;VisualState x:Name=<span class="string">&quot;Focused&quot;</span>&gt;</span><br><span class="line">                                &lt;Storyboard&gt;</span><br><span class="line">                                    &lt;DoubleAnimation Duration=<span class="string">&quot;0&quot;</span> To=<span class="string">&quot;1&quot;</span> Storyboard.TargetProperty=<span class="string">&quot;Opacity&quot;</span> Storyboard.TargetName=<span class="string">&quot;FocusVisualElement&quot;</span>/&gt;</span><br><span class="line">                                &lt;/Storyboard&gt;</span><br><span class="line">                            &lt;/VisualState&gt;</span><br><span class="line">                            &lt;VisualState x:Name=<span class="string">&quot;Unfocused&quot;</span>/&gt;</span><br><span class="line">                        &lt;/VisualStateGroup&gt;</span><br><span class="line">                    &lt;/VisualStateManager.VisualStateGroups&gt;</span><br><span class="line">                    &lt;Border x:Name=<span class="string">&quot;Background&quot;</span> BorderBrush=<span class="string">&quot;&#123;TemplateBinding BorderBrush&#125;&quot;</span> BorderThickness=<span class="string">&quot;&#123;TemplateBinding BorderThickness&#125;&quot;</span> Background=<span class="string">&quot;White&quot;</span> CornerRadius=<span class="string">&quot;3&quot;</span>&gt;</span><br><span class="line">                        &lt;Grid Background=<span class="string">&quot;&#123;TemplateBinding Background&#125;&quot;</span> Margin=<span class="string">&quot;1&quot;</span>&gt;</span><br><span class="line">                            &lt;Border x:Name=<span class="string">&quot;BackgroundAnimation&quot;</span> Background=<span class="string">&quot;#FF448DCA&quot;</span> Opacity=<span class="string">&quot;0&quot;</span>/&gt;</span><br><span class="line">                            &lt;Rectangle x:Name=<span class="string">&quot;BackgroundGradient&quot;</span>&gt;</span><br><span class="line">                                &lt;Rectangle.Fill&gt;</span><br><span class="line">                                    &lt;LinearGradientBrush EndPoint=<span class="string">&quot;.7,1&quot;</span> StartPoint=<span class="string">&quot;.7,0&quot;</span>&gt;</span><br><span class="line">                                        &lt;GradientStop Color=<span class="string">&quot;#FFFFFFFF&quot;</span> Offset=<span class="string">&quot;0&quot;</span>/&gt;</span><br><span class="line">                                        &lt;GradientStop Color=<span class="string">&quot;#F9FFFFFF&quot;</span> Offset=<span class="string">&quot;0.375&quot;</span>/&gt;</span><br><span class="line">                                        &lt;GradientStop Color=<span class="string">&quot;#E5FFFFFF&quot;</span> Offset=<span class="string">&quot;0.625&quot;</span>/&gt;</span><br><span class="line">                                        &lt;GradientStop Color=<span class="string">&quot;#C6FFFFFF&quot;</span> Offset=<span class="string">&quot;1&quot;</span>/&gt;</span><br><span class="line">                                    &lt;/LinearGradientBrush&gt;</span><br><span class="line">                                &lt;/Rectangle.Fill&gt;</span><br><span class="line">                            &lt;/Rectangle&gt;</span><br><span class="line">                        &lt;/Grid&gt;</span><br><span class="line">                    &lt;/Border&gt;</span><br><span class="line">                    &lt;ContentPresenter x:Name=<span class="string">&quot;contentPresenter&quot;</span> ContentTemplate=<span class="string">&quot;&#123;TemplateBinding ContentTemplate&#125;&quot;</span> Margin=<span class="string">&quot;4,3,0,3&quot;</span> VerticalAlignment=<span class="string">&quot;&#123;TemplateBinding VerticalContentAlignment&#125;&quot;</span> HorizontalAlignment=<span class="string">&quot;Left&quot;</span>&gt;</span><br><span class="line">                        &lt;Image Height=<span class="string">&quot;32&quot;</span> Source=<span class="string">&quot;&#123;TemplateBinding Content&#125;&quot;</span> Stretch=<span class="string">&quot;Fill&quot;</span> Width=<span class="string">&quot;32&quot;</span>/&gt;</span><br><span class="line">                    &lt;/ContentPresenter&gt;</span><br><span class="line">                    &lt;Rectangle x:Name=<span class="string">&quot;DisabledVisualElement&quot;</span> Fill=<span class="string">&quot;#FFFFFFFF&quot;</span> IsHitTestVisible=<span class="string">&quot;false&quot;</span> Opacity=<span class="string">&quot;0&quot;</span> RadiusY=<span class="string">&quot;3&quot;</span> RadiusX=<span class="string">&quot;3&quot;</span>/&gt;</span><br><span class="line">                    &lt;Rectangle x:Name=<span class="string">&quot;FocusVisualElement&quot;</span> IsHitTestVisible=<span class="string">&quot;false&quot;</span> Margin=<span class="string">&quot;1&quot;</span> Opacity=<span class="string">&quot;0&quot;</span> RadiusY=<span class="string">&quot;2&quot;</span> RadiusX=<span class="string">&quot;2&quot;</span> Stroke=<span class="string">&quot;#FF6DBDD1&quot;</span> StrokeThickness=<span class="string">&quot;1&quot;</span>/&gt;</span><br><span class="line">                    &lt;TextBlock TextWrapping=<span class="string">&quot;Wrap&quot;</span> TextAlignment=<span class="string">&quot;Center&quot;</span> Text=<span class="string">&quot;&#123;TemplateBinding Tag&#125;&quot;</span> Height=<span class="string">&quot;24&quot;</span> VerticalAlignment=<span class="string">&quot;Center&quot;</span> HorizontalAlignment=<span class="string">&quot;Center&quot;</span>/&gt;</span><br><span class="line">                &lt;/Grid&gt;</span><br><span class="line">            &lt;/ControlTemplate&gt;</span><br><span class="line">        &lt;/Setter.Value&gt;</span><br><span class="line">    &lt;/Setter&gt;</span><br><span class="line">&lt;/Style&gt;</span><br></pre></td></tr></table></figure><p>将上面的做好的style样式放入UserControl.Resources标签中，到时候直接放一个按钮直接引用该样式即可</p><p>例如：</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;Button x:Name=<span class="string">&quot;btn1&quot;</span> Content=<span class="string">&quot;/FrameTest;component/images/Normal.png&quot;</span> HorizontalAlignment=<span class="string">&quot;Left&quot;</span> Height=<span class="string">&quot;38&quot;</span> VerticalAlignment=<span class="string">&quot;Top&quot;</span> Width=<span class="string">&quot;122&quot;</span> Style=<span class="string">&quot;&#123;StaticResource ButtonStyle1&#125;&quot;</span> Tag=<span class="string">&quot;ImageButton&quot;</span>/&gt;</span><br></pre></td></tr></table></figure><p><img src="/images/2013071914243501.jpg" alt="2013071914243501.jpg"><br>搞到这里就算完成了，如果大家有什么更好的方法欢迎和我交流！</p>]]></content>
      
      
      <categories>
          
          <category> Silverlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Silverlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Siverlight5 3D 中文环境搭建</title>
      <link href="/2013/06/26/siverlight5-3d-zhong-wen-huan-jing-da-jian/"/>
      <url>/2013/06/26/siverlight5-3d-zhong-wen-huan-jing-da-jian/</url>
      
        <content type="html"><![CDATA[<h2 id="一-测试环境"><a href="#一-测试环境" class="headerlink" title="一.测试环境"></a>一.测试环境</h2><p>　　vs2010旗舰版</p><p>　　win7 64位旗舰版</p><h2 id="二-必备工具"><a href="#二-必备工具" class="headerlink" title="二.必备工具"></a>二.必备工具</h2><h4 id="1-vs2010-旗舰版"><a href="#1-vs2010-旗舰版" class="headerlink" title="1.vs2010 旗舰版"></a>1.vs2010 旗舰版</h4><h4 id="2-vs2010-sp1-补丁"><a href="#2-vs2010-sp1-补丁" class="headerlink" title="2.vs2010 sp1 补丁"></a>2.<a href="http://203.212.2.147/download.microsoft.com/download/E/B/A/EBA0A152-F426-47E6-9E3F-EFB686E3CA20/VS2010SP1dvd1.iso">vs2010 sp1 补丁</a></h4><h4 id="3-silverlight5-tools-也可以去silverlight官网下载"><a href="#3-silverlight5-tools-也可以去silverlight官网下载" class="headerlink" title="3.silverlight5 tools 也可以去silverlight官网下载"></a>3.<a href="http://www.microsoft.com/en-us/download/details.aspx?id=28358">silverlight5 tools</a> 也可以去<a href="http://www.microsoft.com/silverlight">silverlight官网</a>下载</h4><p>　　　　注意：现在的 silverlight5 tools 没有支持中文的，可以先用winrar解压出来，然后将ParameterInfo.xml中的1033全部替换成2052，然后在安装。具体操作请参考<a href="http://www.silverlightchina.net/html/tips/2011/1227/12878.html">http://www.silverlightchina.net/html/tips/2011/1227/12878.html</a></p><h4 id="4-Silverlight-Toolkit-December-2011-for-Silverlight-5-在官网也可以找到-http-msdn-microsoft-com-en-us-silverlight-bb187452"><a href="#4-Silverlight-Toolkit-December-2011-for-Silverlight-5-在官网也可以找到-http-msdn-microsoft-com-en-us-silverlight-bb187452" class="headerlink" title="4.Silverlight Toolkit (December 2011) for Silverlight 5 在官网也可以找到 http://msdn.microsoft.com/en-us/silverlight/bb187452"></a>4.<a href="http://silverlight.codeplex.com/releases/view/78435">Silverlight Toolkit (December 2011) for Silverlight 5</a> 在官网也可以找到 <a href="http://msdn.microsoft.com/en-us/silverlight/bb187452">http://msdn.microsoft.com/en-us/silverlight/bb187452</a></h4><h2 id="三-搭建环境"><a href="#三-搭建环境" class="headerlink" title="三.搭建环境"></a>三.搭建环境</h2><h4 id="1-在必备工具中执行第3、4步后就会在C-Program-Files-Microsoft-Visual-Studio-10-0-Common7-IDE-ProjectTemplates-CSharp-Silverlight-1033中找到Silverlight-Unit-Test-Project、Silverlight3dApp、-Silverlight3dLib这三个模板（如果是64bit系统则在C-Program-Files-x86-Microsoft-Visual-Studio-10-0-Common7-IDE-ProjectTemplates-CSharp-Silverlight-1033中）。将这三个模板文件拷贝到vs2010-安装路径的2052目录下默认的安装的路径是C-Program-Files-Microsoft-Visual-Studio-10-0-Common7-IDE-ProjectTemplates-CSharp-Silverlight-2052（比如我的vs2010安装在D盘，这路径在D-Program-Files-Microsoft-Visual-Studio-10-0-Common7-IDE-ProjectTemplates-CSharp-Silverlight-2052），如果是64bit系统这在Program-Files-x86-文件夹下。"><a href="#1-在必备工具中执行第3、4步后就会在C-Program-Files-Microsoft-Visual-Studio-10-0-Common7-IDE-ProjectTemplates-CSharp-Silverlight-1033中找到Silverlight-Unit-Test-Project、Silverlight3dApp、-Silverlight3dLib这三个模板（如果是64bit系统则在C-Program-Files-x86-Microsoft-Visual-Studio-10-0-Common7-IDE-ProjectTemplates-CSharp-Silverlight-1033中）。将这三个模板文件拷贝到vs2010-安装路径的2052目录下默认的安装的路径是C-Program-Files-Microsoft-Visual-Studio-10-0-Common7-IDE-ProjectTemplates-CSharp-Silverlight-2052（比如我的vs2010安装在D盘，这路径在D-Program-Files-Microsoft-Visual-Studio-10-0-Common7-IDE-ProjectTemplates-CSharp-Silverlight-2052），如果是64bit系统这在Program-Files-x86-文件夹下。" class="headerlink" title="1.在必备工具中执行第3、4步后就会在C:\Program Files\Microsoft Visual Studio 10.0\Common7\IDE\ProjectTemplates\CSharp\Silverlight\1033中找到Silverlight Unit Test Project、Silverlight3dApp、　　　　　　Silverlight3dLib这三个模板（如果是64bit系统则在C:\Program Files (x86)\Microsoft Visual Studio 10.0\Common7\IDE\ProjectTemplates\CSharp\Silverlight\1033中）。将这三个模板文件拷贝到vs2010　　　      安装路径的2052目录下默认的安装的路径是C:\Program Files\Microsoft Visual Studio 10.0\Common7\IDE\ProjectTemplates\CSharp\Silverlight\2052（比如我的vs2010安装在D盘，这路径在D:\Program  　　　　Files\Microsoft Visual Studio 10.0\Common7\IDE\ProjectTemplates\CSharp\Silverlight\2052），如果是64bit系统这在Program Files (x86)文件夹下。"></a>1.在必备工具中执行第3、4步后就会在C:\Program Files\Microsoft Visual Studio 10.0\Common7\IDE\ProjectTemplates\CSharp\Silverlight\1033中找到Silverlight Unit Test Project、Silverlight3dApp、　　　　　　Silverlight3dLib这三个模板（如果是64bit系统则在C:\Program Files (x86)\Microsoft Visual Studio 10.0\Common7\IDE\ProjectTemplates\CSharp\Silverlight\1033中）。将这三个模板文件拷贝到vs2010　　　      安装路径的2052目录下默认的安装的路径是C:\Program Files\Microsoft Visual Studio 10.0\Common7\IDE\ProjectTemplates\CSharp\Silverlight\2052（比如我的vs2010安装在D盘，这路径在D:\Program  　　　　Files\Microsoft Visual Studio 10.0\Common7\IDE\ProjectTemplates\CSharp\Silverlight\2052），如果是64bit系统这在Program Files (x86)文件夹下。</h4><p><img src="/images/2013062617141501.jpg" alt="2013062617141501.jpg"></p><h4 id="2-通过cmd命令（vista及以上系统，记得要“以管理员身份运行”，在搜索栏中输入cmd，然后在搜索的结果中右键-以管理员身份运行）安装模板文件-先要在dos界面中打开vs安装的默认路径中的C-Program-Files-Microsoft-Visual-Studio-10-0-Common7-IDE-在执行以下命令。"><a href="#2-通过cmd命令（vista及以上系统，记得要“以管理员身份运行”，在搜索栏中输入cmd，然后在搜索的结果中右键-以管理员身份运行）安装模板文件-先要在dos界面中打开vs安装的默认路径中的C-Program-Files-Microsoft-Visual-Studio-10-0-Common7-IDE-在执行以下命令。" class="headerlink" title="2.通过cmd命令（vista及以上系统，记得要“以管理员身份运行”，在搜索栏中输入cmd，然后在搜索的结果中右键 以管理员身份运行）安装模板文件(先要在dos界面中打开vs安装的默认路径中的C:\Program Files\Microsoft Visual Studio 10.0\Common7\IDE)在执行以下命令。"></a>2.通过cmd命令（vista及以上系统，记得要“以管理员身份运行”，在搜索栏中输入cmd，然后在搜索的结果中右键 以管理员身份运行）安装模板文件(先要在dos界面中打开vs安装的默认路径中的C:\Program Files\Microsoft Visual Studio 10.0\Common7\IDE)在执行以下命令。</h4><p><img src="/images/2013062617141502.jpg" alt="2013062617141502.jpg"></p><h5 id="2-1-执行devenv-setup-命令。"><a href="#2-1-执行devenv-setup-命令。" class="headerlink" title="2.1 执行devenv &#x2F;setup 命令。"></a>2.1 执行devenv &#x2F;setup 命令。</h5><h5 id="2-2-执行devenv-installvstemplates-命令。"><a href="#2-2-执行devenv-installvstemplates-命令。" class="headerlink" title="2.2 执行devenv &#x2F;installvstemplates 命令。"></a>2.2 执行devenv &#x2F;installvstemplates 命令。</h5><p>安装的快慢取决于机器的性能，如果慢就多等会。执行完这几步后就会多出三项<br><img src="/images/2013062617141503.jpg" alt="2013062617141503.jpg"></p><h4 id="3-新建3D项目，直接弹出错误窗口“创建子项目-Silverlight3dAppContent-时遇到问题。无法找到指定的模板。请检查完整路径是否正确”。可以看看这篇文章http-bbs-silverlightchina-net-forum-php-mod-viewthread-tid-13149"><a href="#3-新建3D项目，直接弹出错误窗口“创建子项目-Silverlight3dAppContent-时遇到问题。无法找到指定的模板。请检查完整路径是否正确”。可以看看这篇文章http-bbs-silverlightchina-net-forum-php-mod-viewthread-tid-13149" class="headerlink" title="3.新建3D项目，直接弹出错误窗口“创建子项目 Silverlight3dAppContent 时遇到问题。无法找到指定的模板。请检查完整路径是否正确”。可以看看这篇文章http://bbs.silverlightchina.net/forum.php?mod=viewthread&amp;tid=13149"></a>3.新建3D项目，直接弹出错误窗口“创建子项目 Silverlight3dAppContent 时遇到问题。无法找到指定的模板。请检查完整路径是否正确”。可以看看这篇文章<a href="http://bbs.silverlightchina.net/forum.php?mod=viewthread&tid=13149">http://bbs.silverlightchina.net/forum.php?mod=viewthread&amp;tid=13149</a></h4><p><img src="/images/2013062617141504.jpg" alt="2013062617141504.jpg"><br>在百度、谷歌上查找原因，原来是需要安装<a href="http://www.microsoft.com/en-us/download/details.aspx?id=23714">XNA Game Studio 4.0</a> （微软链接地址<a href="http://www.microsoft.com/en-us/download/details.aspx?id=23714%EF%BC%89">http://www.microsoft.com/en-us/download/details.aspx?id=23714）</a></p><h4 id="4-安装完这些后终于可以创建silverlight-3D项目了，在按F6生成解决方案是报错了-Error-1-Compile-error-2147024770-0-0-error-Unknown-compile-error-check-flags-against-DX-version-。在去查找原因，缺少dx的那个文件，去下载一个dx，directx-Jun2010-redist-exe-（http-www-microsoft-com-en-us-download-details-aspx-id-8109），安装这个dx后就没有问题了，可能xp环境没有这个问题。"><a href="#4-安装完这些后终于可以创建silverlight-3D项目了，在按F6生成解决方案是报错了-Error-1-Compile-error-2147024770-0-0-error-Unknown-compile-error-check-flags-against-DX-version-。在去查找原因，缺少dx的那个文件，去下载一个dx，directx-Jun2010-redist-exe-（http-www-microsoft-com-en-us-download-details-aspx-id-8109），安装这个dx后就没有问题了，可能xp环境没有这个问题。" class="headerlink" title="4.安装完这些后终于可以创建silverlight 3D项目了，在按F6生成解决方案是报错了(Error 1 Compile error -2147024770 　　(0, 0): error : Unknown compile error (check flags against DX version))。在去查找原因，缺少dx的那个文件，去下载一个dx，directx_Jun2010_redist.exe （http://www.microsoft.com/en-us/download/details.aspx?id=8109），安装这个dx后就没有问题了，可能xp环境没有这个问题。"></a>4.安装完这些后终于可以创建silverlight 3D项目了，在按F6生成解决方案是报错了(Error 1 Compile error -2147024770 　　(0, 0): error : Unknown compile error (check flags against DX version))。在去查找原因，缺少dx的那个文件，去下载一个dx，directx_Jun2010_redist.exe （<a href="http://www.microsoft.com/en-us/download/details.aspx?id=8109%EF%BC%89%EF%BC%8C%E5%AE%89%E8%A3%85%E8%BF%99%E4%B8%AAdx%E5%90%8E%E5%B0%B1%E6%B2%A1%E6%9C%89%E9%97%AE%E9%A2%98%E4%BA%86%EF%BC%8C%E5%8F%AF%E8%83%BDxp%E7%8E%AF%E5%A2%83%E6%B2%A1%E6%9C%89%E8%BF%99%E4%B8%AA%E9%97%AE%E9%A2%98%E3%80%82">http://www.microsoft.com/en-us/download/details.aspx?id=8109），安装这个dx后就没有问题了，可能xp环境没有这个问题。</a></h4><p><img src="/images/2013062617141505.jpg" alt="2013062617141505.jpg"></p><h4 id="5-silverlight项目配置"><a href="#5-silverlight项目配置" class="headerlink" title="5.silverlight项目配置"></a>5.silverlight项目配置</h4><h5 id="5-1-在Silverlight项目属性中，选中“允许在浏览器外运行应用程序“和”在浏览器内运行时需要提升的信任“，这时项目的Properties目录下-将产生对应的OutOfBrowserSettings-xml和InBrowserSettings-xml两个文件，而后续步骤的设置将改变这两个文-件的内容"><a href="#5-1-在Silverlight项目属性中，选中“允许在浏览器外运行应用程序“和”在浏览器内运行时需要提升的信任“，这时项目的Properties目录下-将产生对应的OutOfBrowserSettings-xml和InBrowserSettings-xml两个文件，而后续步骤的设置将改变这两个文-件的内容" class="headerlink" title="5.1.在Silverlight项目属性中，选中“允许在浏览器外运行应用程序“和”在浏览器内运行时需要提升的信任“，这时项目的Properties目录下 将产生对应的OutOfBrowserSettings.xml和InBrowserSettings.xml两个文件，而后续步骤的设置将改变这两个文 件的内容"></a>5.1.在Silverlight项目属性中，选中“允许在浏览器外运行应用程序“和”在浏览器内运行时需要提升的信任“，这时项目的Properties目录下 将产生对应的OutOfBrowserSettings.xml和InBrowserSettings.xml两个文件，而后续步骤的设置将改变这两个文 件的内容</h5><h5 id="5-2、点击“浏览器外设置”，勾选“使用GPU加速”与“在浏览器之外运行时需要提升的信任”-，以保证使用GPU加速，如果此两项不选，则会出现RenderModeReason-GPUAccelerationDisabled的情况。"><a href="#5-2、点击“浏览器外设置”，勾选“使用GPU加速”与“在浏览器之外运行时需要提升的信任”-，以保证使用GPU加速，如果此两项不选，则会出现RenderModeReason-GPUAccelerationDisabled的情况。" class="headerlink" title="5.2、点击“浏览器外设置”，勾选“使用GPU加速”与“在浏览器之外运行时需要提升的信任” ，以保证使用GPU加速，如果此两项不选，则会出现RenderModeReason.GPUAccelerationDisabled的情况。"></a>5.2、点击“浏览器外设置”，勾选“使用GPU加速”与“在浏览器之外运行时需要提升的信任” ，以保证使用GPU加速，如果此两项不选，则会出现RenderModeReason.GPUAccelerationDisabled的情况。</h5><p><img src="/images/2013062617141506.jpg" alt="2013062617141506.jpg"></p><p>将app设置为启动项目，运行后效果如图<br><img src="/images/2013062617141507.jpg" alt="2013062617141507.jpg"></p><p>注意在网页中运行</p><p>  必须在网页中添加这个是允许gpu加速。</p>  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">param</span> <span class="attr">name</span>=<span class="string">&quot;enableGPUAcceleration&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Silverlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Silverlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VC++ 查询数据（SQL）</title>
      <link href="/2013/04/19/vc-cha-xun-shu-ju-sql/"/>
      <url>/2013/04/19/vc-cha-xun-shu-ju-sql/</url>
      
        <content type="html"><![CDATA[<p>使用VC++创建一个基于对话框的MFC应用程序</p><p>在stdafx.h头文件中引入 msado15.dll文件</p><p>#import “C:\Program Files\Common Files\System\ado\msado15.dll” no_namespace rename(“EOF”,”adoEOF”)文件的路径</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">CADODlg::OnBnClickedBtnquery</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> 在此添加控件通知处理程序代码</span></span><br><span class="line">    <span class="built_in">CoInitialize</span>(<span class="literal">NULL</span>);</span><br><span class="line">    <span class="function">_ConnectionPtr <span class="title">pConn</span><span class="params">(__uuidof(Connection))</span></span>;</span><br><span class="line">    <span class="function">_RecordsetPtr <span class="title">pRst</span><span class="params">(__uuidof(Recordset))</span></span>;</span><br><span class="line">    <span class="function">_CommandPtr <span class="title">pCmd</span><span class="params">(__uuidof(Command))</span></span>;</span><br><span class="line"></span><br><span class="line">    pConn-&gt;ConnectionString=<span class="string">&quot;Provider=SQLOLEDB.1;Server=.;DATABASE=Users;UID=sa;PWD=***;&quot;</span>;</span><br><span class="line">    pConn-&gt;<span class="built_in">Open</span>(<span class="string">&quot;&quot;</span>,<span class="string">&quot;&quot;</span>,<span class="string">&quot;&quot;</span>,adConnectUnspecified);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//pRst=pConn-&gt;Execute(&quot;select * from [User]&quot;,NULL,adCmdText);</span></span><br><span class="line">    <span class="comment">//pRst-&gt;Open(&quot;select * from [User]&quot;,_variant_t((IDispatch*)pConn),adOpenDynamic,adLockOptimistic,adCmdText);</span></span><br><span class="line">    pCmd-&gt;<span class="built_in">put_ActiveConnection</span>(<span class="type">_variant_t</span>((IDispatch*)pConn));</span><br><span class="line">    pCmd-&gt;CommandText=<span class="string">&quot;select * from [User]&quot;</span>;</span><br><span class="line">    pRst=pCmd-&gt;<span class="built_in">Execute</span>(<span class="literal">NULL</span>,<span class="literal">NULL</span>,adCmdText);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(!pRst-&gt;adoEOF)</span><br><span class="line">    &#123;</span><br><span class="line">        ((CListBox*)<span class="built_in">GetDlgItem</span>(IDC_LIST1))-&gt;<span class="built_in">AddString</span>((<span class="type">_bstr_t</span>)pRst-&gt;<span class="built_in">GetCollect</span>(<span class="string">&quot;Name&quot;</span>));</span><br><span class="line">        pRst-&gt;<span class="built_in">MoveNext</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    pRst-&gt;<span class="built_in">Close</span>();</span><br><span class="line">    pConn-&gt;<span class="built_in">Close</span>();</span><br><span class="line">    pCmd.<span class="built_in">Release</span>();</span><br><span class="line">    pRst.<span class="built_in">Release</span>();</span><br><span class="line">    pConn.<span class="built_in">Release</span>();</span><br><span class="line"></span><br><span class="line">    <span class="built_in">CoUninitialize</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> C/C++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C/C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ExtJs 4.0 视频教程代码</title>
      <link href="/2013/03/26/extjs-4.0-shi-pin-jiao-cheng-dai-ma/"/>
      <url>/2013/03/26/extjs-4.0-shi-pin-jiao-cheng-dai-ma/</url>
      
        <content type="html"><![CDATA[<p><a href="http://www.uspcat.com/?fromuid=13092">http://www.uspcat.com/?fromuid=13092</a></p>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ext智能提示</title>
      <link href="/2013/03/19/ext-zhi-neng-ti-shi/"/>
      <url>/2013/03/19/ext-zhi-neng-ti-shi/</url>
      
        <content type="html"><![CDATA[<p>Java： spket   <a href="http://www.spket.com/">http://www.spket.com/</a></p><p>VS ： EXT.NET <a href="http://www.ext.net/">http://www.ext.net/</a></p><p>具体操作参考 <a href="http://blog.163.com/lfsyhuangaigang@126/blog/static/77436670201211240313741/">http://blog.163.com/lfsyhuangaigang@126/blog/static/77436670201211240313741/</a></p><p><a href="http://blog.csdn.net/tianxiaode/article/details/7662912">http://blog.csdn.net/tianxiaode/article/details/7662912</a></p>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>知识扩展（线程SQL、SMTP、POP3、反射）</title>
      <link href="/2013/02/26/zhi-shi-kuo-zhan-xian-cheng-sql-smtp-pop3-fan-she/"/>
      <url>/2013/02/26/zhi-shi-kuo-zhan-xian-cheng-sql-smtp-pop3-fan-she/</url>
      
        <content type="html"><![CDATA[<p>C#线程中安全的使访问示例</p><p>刚学C#线程的朋友有可以在不知道如何在线程里调用，访问控件，，我给大家一个示例代码，，，以后可以当模板用</p><p><a href="http://blog.csdn.net/ssihc0/archive/2010/10/29/5974016.aspx">http://blog.csdn.net/ssihc0/archive/2010/10/29/5974016.aspx</a></p><p>c# 后台线程和前台线程</p><p>后台线程和前面线程的最大区别在于，后台线程不会阻止进程中止，，当属于某个进程的所有前台线程都中止了，，，，公共语言运行库就会结束该进程，所有剩余后台线程都会停止且不会完成。</p><p><a href="http://blog.csdn.net/ssihc0/archive/2010/02/23/5320532.aspx#1581510">http://blog.csdn.net/ssihc0/archive/2010/02/23/5320532.aspx#1581510</a></p><p>sql语句开远程终端+建用户+2003添加远程桌面组用户</p><p>没有技术含量,纯属一次偶然中的方便, 代码在查询分析器上可以一步完成以上操作,在2003和XP实验已经成功. 代码如下:</p><p><a href="http://blog.csdn.net/ssihc0/archive/2011/01/18/6150262.aspx">http://blog.csdn.net/ssihc0/archive/2011/01/18/6150262.aspx</a></p><p>C# SMTP与POP3应用编程</p><p><a href="http://wenku.baidu.com/view/983bcf39376baf1ffc4fadfd.html">http://wenku.baidu.com/view/983bcf39376baf1ffc4fadfd.html</a></p><p>SMTP与POP3编程</p><p><a href="http://wenku.baidu.com/view/d1f594b169dc5022aaea0015.html">http://wenku.baidu.com/view/d1f594b169dc5022aaea0015.html</a></p><p> C#怎样测试SmtpClient客户端是否成功连接SmtpServer？</p><p><a href="http://blog.csdn.net/zjfei/archive/2009/11/10/4795875.aspx">http://blog.csdn.net/zjfei/archive/2009/11/10/4795875.aspx</a></p><p>C#连接GMail的SMTP服务器发邮件的代码</p><p><a href="http://www.xwooo.com/LabView_303.html">http://www.xwooo.com/LabView_303.html</a></p><p>使用C#进行SMTP协议客户端开发心得－－连接篇</p><p><a href="http://www.xinfengit.com/200907/1566621.html">http://www.xinfengit.com/200907/1566621.html</a></p><p>了解POP3协议,使用简单的代码监控pop3邮箱,或者不用代码,直接使用telnet</p><p><a href="http://blog.csdn.net/SkyGG/archive/2004/08/04/60736.aspx">http://blog.csdn.net/SkyGG/archive/2004/08/04/60736.aspx</a></p><p>POP3 命令简介</p><p><a href="http://wenku.baidu.com/view/ec3bc969a98271fe910ef936.html">http://wenku.baidu.com/view/ec3bc969a98271fe910ef936.html</a></p><p>C#将字符串拼接后再转成对象输出其值，将一个string的字符串转成一个对象变量，反射</p><p><a href="http://www.javaeye.com/topic/247406">http://www.javaeye.com/topic/247406</a></p><p>Winform c# listview行高的设置</p><p><a href="http://blog.csdn.net/hfzsjz/archive/2008/11/06/3241533.aspx">http://blog.csdn.net/hfzsjz/archive/2008/11/06/3241533.aspx</a></p><p>Oracle、SQL Server中如何锁定DB和解锁DB</p><p><a href="http://tech.ccidnet.com/art/1105/20080805/1533621_1.html">http://tech.ccidnet.com/art/1105/20080805/1533621_1.html</a></p><p>来自于：<a href="http://blog.csdn.net/chong4r/article/details/6156186">http://blog.csdn.net/chong4r/article/details/6156186</a></p>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Oracle 下载|ORACLE 官网下载地址（支持win7/win2008）</title>
      <link href="/2013/01/31/oracle-guan-wang-xia-zai-di-zhi/"/>
      <url>/2013/01/31/oracle-guan-wang-xia-zai-di-zhi/</url>
      
        <content type="html"><![CDATA[<p>使用迅雷等下载工具复制下面的链接地址就可以直接下载</p><p>Oracle Database 10g Release 2 (10.2.0.1.0) Enterprise&#x2F;Standard Edition for Microsoft Windows (32-bit)</p><p>  <a href="http://download.oracle.com/otn/nt/oracle10g/10201/10201_database_win32.zip">http://download.oracle.com/otn/nt/oracle10g/10201/10201_database_win32.zip</a><br>  <a href="http://download.oracle.com/otn/nt/oracle10g/10201/10201_client_win32.zip">http://download.oracle.com/otn/nt/oracle10g/10201/10201_client_win32.zip</a><br>  <a href="http://download.oracle.com/otn/nt/oracle10g/10201/10201_clusterware_win32.zip">http://download.oracle.com/otn/nt/oracle10g/10201/10201_clusterware_win32.zip</a><br>  <a href="http://download.oracle.com/otn/nt/oracle10g/10201/10201_gateways_win32.zip">http://download.oracle.com/otn/nt/oracle10g/10201/10201_gateways_win32.zip</a></p><p>Oracle Database 10g Release 2 (10.2.0.1.0) Enterprise&#x2F;Standard Edition for Microsoft Windows (x64)</p><p>  <a href="http://download.oracle.com/otn/nt/oracle10g/10201/102010_win64_x64_database.zip">http://download.oracle.com/otn/nt/oracle10g/10201/102010_win64_x64_database.zip</a><br>  <a href="http://download.oracle.com/otn/nt/oracle10g/10201/102010_win64_x64_client.zip">http://download.oracle.com/otn/nt/oracle10g/10201/102010_win64_x64_client.zip</a><br>  <a href="http://download.oracle.com/otn/nt/oracle10g/10201/102010_win64_x64_clusterware.zip">http://download.oracle.com/otn/nt/oracle10g/10201/102010_win64_x64_clusterware.zip</a></p><p>Oracle Database 10g Release 2 (10.2.0.1.0) Enterprise&#x2F;Standard Edition for Linux x86</p><p>  <a href="http://download.oracle.com/otn/linux/oracle10g/10201/10201_database_linux32.zip">http://download.oracle.com/otn/linux/oracle10g/10201/10201_database_linux32.zip</a><br>  <a href="http://download.oracle.com/otn/linux/oracle10g/10201/10201_client_linux32.zip">http://download.oracle.com/otn/linux/oracle10g/10201/10201_client_linux32.zip</a><br>  <a href="http://download.oracle.com/otn/linux/oracle10g/10201/10201_gateways_linux32.zip">http://download.oracle.com/otn/linux/oracle10g/10201/10201_gateways_linux32.zip</a></p><p>Oracle Database 10g Release 2 (10.2.0.1.0) Enterprise&#x2F;Standard Edition for Linux x86-64</p><p>  <a href="http://download.oracle.com/otn/linux/oracle10g/10201/10201_database_linux_x86_64.cpio.gz">http://download.oracle.com/otn/linux/oracle10g/10201/10201_database_linux_x86_64.cpio.gz</a><br>  <a href="http://download.oracle.com/otn/linux/oracle10g/10201/10201_client_linux_x86_64.cpio.gz">http://download.oracle.com/otn/linux/oracle10g/10201/10201_client_linux_x86_64.cpio.gz</a><br>  <a href="http://download.oracle.com/otn/linux/oracle10g/10201/10201_clusterware_linux_x86_64.cpio.gz">http://download.oracle.com/otn/linux/oracle10g/10201/10201_clusterware_linux_x86_64.cpio.gz</a><br>  <a href="http://download.oracle.com/otn/linux/oracle10g/10201/10201_gateways_linux_x86_64.cpio.gz">http://download.oracle.com/otn/linux/oracle10g/10201/10201_gateways_linux_x86_64.cpio.gz</a></p><p>Oracle Database 10g Release 2 (10.2.0.1.0) Enterprise&#x2F;Standard Edition for AIX5L</p><p>  <a href="http://download.oracle.com/otn/aix/oracle10g/10201/10gr2_aix5l64_database.cpio.gz">http://download.oracle.com/otn/aix/oracle10g/10201/10gr2_aix5l64_database.cpio.gz</a><br>  <a href="http://download.oracle.com/otn/aix/oracle10g/10201/10gr2_aix5l64_client.cpio.gz">http://download.oracle.com/otn/aix/oracle10g/10201/10gr2_aix5l64_client.cpio.gz</a><br>  <a href="http://download.oracle.com/otn/aix/oracle10g/10201/10gr2_aix5l64_cluster.cpio.gz">http://download.oracle.com/otn/aix/oracle10g/10201/10gr2_aix5l64_cluster.cpio.gz</a><br>  <a href="http://download.oracle.com/otn/aix/oracle10g/10201/10gr2_aix5l64_gateways.cpio.gz">http://download.oracle.com/otn/aix/oracle10g/10201/10gr2_aix5l64_gateways.cpio.gz</a></p><p>Oracle Database 10g Release 2 (10.2.0.2) Enterprise&#x2F;Standard Edition for Solaris Operating System (x86)</p><p>  <a href="http://download.oracle.com/otn/solaris/oracle10g/10202/10202_database_solx86.zip">http://download.oracle.com/otn/solaris/oracle10g/10202/10202_database_solx86.zip</a><br>  <a href="http://download.oracle.com/otn/solaris/oracle10g/10202/10202_client_solx86.zip">http://download.oracle.com/otn/solaris/oracle10g/10202/10202_client_solx86.zip</a><br>  <a href="http://download.oracle.com/otn/solaris/oracle10g/10202/10202_clusterware_solx86.zip">http://download.oracle.com/otn/solaris/oracle10g/10202/10202_clusterware_solx86.zip</a></p><p>Oracle Database 10g Release 2 (10.2.0.1.0) Enterprise&#x2F;Standard Edition for Solaris Operating System (x86-64)</p><p>  <a href="http://download.oracle.com/otn/solaris/oracle10g/10201/x8664/10201_database_solx86_64.zip">http://download.oracle.com/otn/solaris/oracle10g/10201/x8664/10201_database_solx86_64.zip</a><br>  <a href="http://download.oracle.com/otn/solaris/oracle10g/10201/x8664/10201_client_solx86_64.zip">http://download.oracle.com/otn/solaris/oracle10g/10201/x8664/10201_client_solx86_64.zip</a><br>  <a href="http://download.oracle.com/otn/solaris/oracle10g/10201/x8664/10201_clusterware_solx86_64.zip">http://download.oracle.com/otn/solaris/oracle10g/10201/x8664/10201_clusterware_solx86_64.zip</a></p><p>Oracle 10g (10.2.0.3) 支持vista，win7和2008</p><p>32bit</p><p><a href="http://download.oracle.com/otn/nt/oracle10g/10203/10203_vista_w2k8_x86_production_db.zip">http://download.oracle.com/otn/nt/oracle10g/10203/10203_vista_w2k8_x86_production_db.zip</a></p><p>64bit</p><p><a href="http://download.oracle.com/otn/nt/oracle10g/10204/10204_vista_w2k8_x64_production_db.zip">http://download.oracle.com/otn/nt/oracle10g/10204/10204_vista_w2k8_x64_production_db.zip</a></p><p>官网网站 <a href="http://www.oracle.com/technetwork/cn/database/10203vista-088351-zhs.html">http://www.oracle.com/technetwork/cn/database/10203vista-088351-zhs.html</a></p><p>Oracle Database 11g Release 2 Client (11.2.0.1.0) for Microsoft Windows<br>32bit<br><a href="http://download.oracle.com/otn/nt/oracle11g/112010/win32_11gR2_client.zip">http://download.oracle.com/otn/nt/oracle11g/112010/win32_11gR2_client.zip</a></p><p>64bit</p><p><a href="http://download.oracle.com/otn/nt/oracle11g/112010/win64_11gR2_client.zip">http://download.oracle.com/otn/nt/oracle11g/112010/win64_11gR2_client.zip</a></p><p>Oracle Database 11g Release 2 (11.2.0.1.0) for Microsoft Windows<br>32bit<br><a href="http://download.oracle.com/otn/nt/oracle11g/112010/win32_11gR2_database_1of2.zip">http://download.oracle.com/otn/nt/oracle11g/112010/win32_11gR2_database_1of2.zip</a><br><a href="http://download.oracle.com/otn/nt/oracle11g/112010/win32_11gR2_database_2of2.zip">http://download.oracle.com/otn/nt/oracle11g/112010/win32_11gR2_database_2of2.zip</a></p><p>64bit<br><a href="http://download.oracle.com/otn/nt/oracle11g/112010/win64_11gR2_database_1of2.zip">http://download.oracle.com/otn/nt/oracle11g/112010/win64_11gR2_database_1of2.zip</a><br><a href="http://download.oracle.com/otn/nt/oracle11g/112010/win64_11gR2_database_2of2.zip">http://download.oracle.com/otn/nt/oracle11g/112010/win64_11gR2_database_2of2.zip</a></p><p>Oracle Database 12c 第 2 版(12.2.0.1.0)</p><p>window 64bit</p><p><a href="https://download.oracle.com/otn/nt/oracle12c/122010/winx64_12201_database.zip">https://download.oracle.com/otn/nt/oracle12c/122010/winx64_12201_database.zip</a></p><p>参考了</p><p><a href="http://www.cnblogs.com/wangdetian168/archive/2011/03/01/1968155.html">http://www.cnblogs.com/wangdetian168/archive/2011/03/01/1968155.html</a></p><p><a href="http://www.cnblogs.com/ZJ199012/archive/2012/03/21/2410275.html">http://www.cnblogs.com/ZJ199012/archive/2012/03/21/2410275.html</a></p>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>oracle 11g 客户端 连接数据库</title>
      <link href="/2013/01/07/oracle-11g-ke-hu-duan-lian-jie-shu-ju-ku/"/>
      <url>/2013/01/07/oracle-11g-ke-hu-duan-lian-jie-shu-ju-ku/</url>
      
        <content type="html"><![CDATA[<p>安装oracle高版本的数据库后，在使用vs2005的oracleClient会提示只支持8.0什么的，oracle官方提供了一个Oracle.DataAccess.dll去做数据的操作，11g的客户端安装后在product\11.2.0\client_2\ODP.NET\bin\2.x文件夹下。</p>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>在IIS中部署WCF服务出现authentication mode=windows</title>
      <link href="/2013/01/07/zai-iis-zhong-bu-shu-wcf-fu-wu-chu-xian-authentication-mode-windows/"/>
      <url>/2013/01/07/zai-iis-zhong-bu-shu-wcf-fu-wu-chu-xian-authentication-mode-windows/</url>
      
        <content type="html"><![CDATA[<p>现在IIS中创建应用程序，还有问题把C:\Windows\Microsoft.NET\Framework\v4.0.30319\Config\machine.config文件中的allowDefinition &#x3D; “MachineToApplication” 修改成 allowDefinition &#x3D; “Everywhere”</p>]]></content>
      
      
      <categories>
          
          <category> WCF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Computer </tag>
            
            <tag> WCF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>WCF返回xml</title>
      <link href="/2012/12/24/wcf-fan-hui-xml/"/>
      <url>/2012/12/24/wcf-fan-hui-xml/</url>
      
        <content type="html"><![CDATA[<p>这次出差的时候要用wcf服务返回xml，但是返回xml后微软在外面包装了一层，将BodyStyle &#x3D; WebMessageBodyStyle.Bare可以去掉外面的一层包装，可是返回的还是一个字符串，后来终于找到解决办法了。</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> XmlElement <span class="title">XmlStringToXmlDoc</span>(<span class="params"><span class="built_in">string</span> xmlString</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">      XmlDocument xmlDoc = <span class="keyword">new</span> XmlDocument();</span><br><span class="line">      xmlDoc.LoadXml(xmlString);</span><br><span class="line">      <span class="keyword">return</span> xmlDoc.DocumentElement;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>如果大家有什么好的方法可以交流……</p>]]></content>
      
      
      <categories>
          
          <category> WCF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> WCF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Google Earth无法连接到服务器</title>
      <link href="/2012/11/29/google-earth-wu-fa-lian-jie-dao-fu-wu-qi/"/>
      <url>/2012/11/29/google-earth-wu-fa-lian-jie-dao-fu-wu-qi/</url>
      
        <content type="html"><![CDATA[<p>最近要在Google Earth上截取图片，哪知道打开Google Earth直接提示无法连接到服务器，直接去网上搜索，大家都说在C:\Windows\System32\drivers\etc 找到Hosts文件，然后用记事本打开，将203.208.46.30 kh.google.com复制进去就可以打开了，这样试了可是不管用，无奈啊！</p><p>不过还好后来终于找到了一个将74.125.39.99   kh.google.com和72.14.203.101 <a href="http://www.panoramio.com/">www.panoramio.com</a>  复制到上面说的Hosts文件中，不过这个方法打开比较慢，追求速度的就别试了。<br><img src="/images/2012112915112353.jpg" alt="2012112915112353.jpg"></p><p>注意：</p><p>这个ip地址就是通过Dos中的PING命令得到的，在dos界面中输入ping kh.google.com即可。</p><p><a href="http://www.godeyes.cn/html/2012/03/29/google_earth_13006.html">http://www.godeyes.cn/html/2012/03/29/google_earth_13006.html</a> 大家可以看看这个文章</p>]]></content>
      
      
      <categories>
          
          <category> Other </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Other </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ext入门(Window、Panel、Viewport、Grid、Form、TreePanel)</title>
      <link href="/2012/10/19/ext-ru-men-window-panel-viewport-grid-form-treepanel/"/>
      <url>/2012/10/19/ext-ru-men-window-panel-viewport-grid-form-treepanel/</url>
      
        <content type="html"><![CDATA[<p>在Window、Panel、Viewport、Grid、Form、TreePanel这些组件中Window是用show方法显示出来，Viewport不需要指定renderTo，其他的都需要指定。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Window</span></span><br><span class="line"><span class="title class_">Ext</span>.<span class="title function_">onReady</span>(<span class="keyword">function</span>(<span class="params"></span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> win = <span class="keyword">new</span> <span class="title class_">Ext</span>.<span class="title class_">Window</span>(</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">width</span>:<span class="number">500</span>,</span><br><span class="line">            <span class="attr">height</span>:<span class="number">400</span>,</span><br><span class="line">            <span class="attr">title</span>:<span class="string">&#x27;第一个窗体&#x27;</span>,</span><br><span class="line">            <span class="attr">buttons</span>:[&#123;<span class="attr">text</span>:<span class="string">&quot;确定&quot;</span>&#125;,&#123;<span class="attr">text</span>:<span class="string">&quot;取消&quot;</span>&#125;]</span><br><span class="line">        &#125;);</span><br><span class="line">        win.<span class="title function_">show</span>();</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//Panel</span></span><br><span class="line"><span class="title class_">Ext</span>.<span class="title function_">onReady</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> panel = <span class="keyword">new</span> <span class="title class_">Ext</span>.<span class="title class_">Panel</span>(&#123;</span><br><span class="line">        <span class="attr">width</span>:<span class="number">500</span>,</span><br><span class="line">        <span class="attr">height</span>:<span class="number">200</span>,</span><br><span class="line">        <span class="attr">title</span>:<span class="string">&quot;面板头部Header&quot;</span>,</span><br><span class="line">        <span class="attr">html</span>:<span class="string">&#x27;&lt;h1&gt;面板主区域&lt;/h1&gt;&#x27;</span>,</span><br><span class="line">        <span class="comment">//autoLoad:&#123;url:&#x27;index.html&#x27;&#125;,</span></span><br><span class="line">        <span class="attr">tbar</span>:[&#123;<span class="attr">pressed</span>:<span class="literal">true</span>,<span class="attr">text</span>:<span class="string">&#x27;刷新&#x27;</span>&#125;],</span><br><span class="line">        <span class="attr">bbar</span>:[&#123;<span class="attr">text</span>:<span class="string">&#x27;底部工具栏bottomtoolbar&#x27;</span>&#125;],</span><br><span class="line">        <span class="attr">buttons</span>:[&#123;<span class="attr">text</span>:<span class="string">&quot;按钮位于footer&quot;</span>&#125;]</span><br><span class="line">    &#125;);</span><br><span class="line">    </span><br><span class="line">    panel.<span class="title function_">render</span>(<span class="string">&#x27;test&#x27;</span>); <span class="comment">//渲染到id为test的div上</span></span><br><span class="line">    <span class="title function_">alert</span>(panel.<span class="property">el</span>.<span class="property">dom</span>.<span class="property">innerHTML</span>);</span><br><span class="line">    <span class="title function_">alert</span>(panel.<span class="property">el</span>.<span class="property">dom</span>.<span class="property">outerHTML</span>);</span><br><span class="line">    <span class="title function_">alert</span>(<span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">innerHTML</span>);</span><br><span class="line">    panel.<span class="property">body</span>.<span class="title function_">update</span>(</span><br><span class="line">        <span class="string">&quot;&lt;h1&gt;&lt;font color=&#x27;blue&#x27;&gt;EXT 主面板&lt;/font&gt;&lt;/h1&gt;&quot;</span>,<span class="literal">true</span>,<span class="keyword">function</span>(<span class="params"></span>)&#123;&#125;</span><br><span class="line">    );</span><br><span class="line">    panel.<span class="title function_">load</span>(&#123;</span><br><span class="line">        <span class="attr">url</span>:<span class="string">&#x27;index.html&#x27;</span>,</span><br><span class="line">        <span class="attr">params</span>:&#123;<span class="attr">name</span>:<span class="string">&quot;daxia&quot;</span>,<span class="attr">pwd</span>:<span class="string">&quot;123&quot;</span>&#125;,</span><br><span class="line">        <span class="attr">scope</span>: <span class="variable language_">this</span>,</span><br><span class="line">        <span class="attr">discardUrl</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">nocache</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">text</span>: <span class="string">&quot;正在加载，请稍候...&quot;</span>,</span><br><span class="line">        <span class="attr">timeout</span>: <span class="number">30</span>,</span><br><span class="line">        <span class="attr">scripts</span>: <span class="literal">true</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//Panel中renderTo、applyTo、contentEl的区别renderTo和applyTo是把板渲染到制定的div的节点上，contentEl是配置选项来把页面中的某一个IV 的内容作为面板的内容</span></span><br><span class="line"><span class="title class_">Ext</span>.<span class="title function_">onReady</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> panel = <span class="keyword">new</span> <span class="title class_">Ext</span>.<span class="title class_">Panel</span>(&#123;</span><br><span class="line">        <span class="attr">title</span>:<span class="string">&#x27;面板&#x27;</span>,</span><br><span class="line">        <span class="attr">width</span>:<span class="number">500</span>,</span><br><span class="line">        <span class="attr">height</span>:<span class="number">300</span>,</span><br><span class="line">        <span class="attr">renderTo</span>:<span class="string">&#x27;c&#x27;</span>,</span><br><span class="line">        <span class="attr">contentEl</span>:<span class="string">&#x27;tt&#x27;</span></span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="title function_">alert</span>(<span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">innerHTML</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//ViewPort</span></span><br><span class="line"><span class="comment">//简单的viewport面板，不需要在制定renderTo</span></span><br><span class="line"><span class="title class_">Ext</span>.<span class="title function_">onReady</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">Ext</span>.<span class="title class_">Viewport</span>(&#123;</span><br><span class="line">        <span class="attr">layout</span>:<span class="string">&#x27;fit&#x27;</span>,</span><br><span class="line">        <span class="attr">items</span>:[&#123;</span><br><span class="line">            <span class="attr">title</span>:<span class="string">&#x27;Viewport面板&#x27;</span>,</span><br><span class="line">            <span class="attr">html</span>:<span class="string">&#x27;面板body&#x27;</span>,</span><br><span class="line">            <span class="attr">bbar</span>:[&#123;<span class="attr">text</span>:<span class="string">&#x27;按钮1&#x27;</span>&#125;,&#123;<span class="attr">text</span>:<span class="string">&#x27;按钮2&#x27;</span>&#125;]</span><br><span class="line">        &#125;]</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="title class_">Ext</span>.<span class="title function_">onReady</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">Ext</span>.<span class="title class_">Viewport</span>(&#123;</span><br><span class="line">        <span class="attr">enableTabScroll</span>:<span class="literal">true</span>,</span><br><span class="line">        <span class="attr">layout</span>:<span class="string">&#x27;border&#x27;</span>,</span><br><span class="line">        <span class="attr">items</span>:[</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">title</span>:<span class="string">&#x27;面板&#x27;</span>,</span><br><span class="line">            <span class="attr">region</span>:<span class="string">&#x27;north&#x27;</span>,</span><br><span class="line">            <span class="attr">height</span>:<span class="number">200</span>,</span><br><span class="line">            <span class="attr">html</span>:<span class="string">&#x27;&lt;h1&gt;网站后台管理系统&lt;/h1&gt;&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">        ,&#123;</span><br><span class="line">            <span class="attr">title</span>:<span class="string">&#x27;菜单&#x27;</span>,</span><br><span class="line">            <span class="attr">region</span>:<span class="string">&#x27;west&#x27;</span>,</span><br><span class="line">            <span class="attr">width</span>:<span class="number">300</span>,</span><br><span class="line">            <span class="attr">collapsible</span>:<span class="literal">true</span>,</span><br><span class="line">            <span class="attr">html</span>:<span class="string">&#x27;菜单栏&#x27;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">xtype</span>:<span class="string">&#x27;tabpanel&#x27;</span>,</span><br><span class="line">            <span class="attr">region</span>:<span class="string">&#x27;center&#x27;</span>,</span><br><span class="line">            <span class="attr">items</span>:[&#123;<span class="attr">title</span>:<span class="string">&#x27;面板1&#x27;</span>&#125;,&#123;<span class="attr">title</span>:<span class="string">&#x27;面板2&#x27;</span>&#125;]</span><br><span class="line">        &#125;]</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//对话框</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">confirmDialog</span>(<span class="params"></span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="title class_">Ext</span>.<span class="property">Msg</span>.<span class="title function_">confirm</span>(<span class="string">&#x27;提示&#x27;</span>,<span class="string">&#x27;是否要删除&#x27;</span>,<span class="keyword">function</span>(<span class="params">button</span>)&#123;</span><br><span class="line">        <span class="title function_">alert</span>(<span class="string">&quot;选择的结构：&quot;</span>+(button==<span class="string">&#x27;yes&#x27;</span>?<span class="string">&#x27;是&#x27;</span>:<span class="string">&#x27;否&#x27;</span>));</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">inputDialog</span>(<span class="params"></span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="title class_">Ext</span>.<span class="property">MessageBox</span>.<span class="title function_">prompt</span>(<span class="string">&quot;输入你的名字&quot;</span>,<span class="string">&quot;请输入你的名字:&quot;</span>,<span class="keyword">function</span>(<span class="params">button,text</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(button==<span class="string">&quot;ok&quot;</span>)&#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&quot;输入的名字:&quot;</span>+text);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="title function_">alert</span>(<span class="string">&quot;你放弃输入 !&quot;</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> t=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">progress</span>(<span class="params"></span>)</span><br><span class="line">&#123;</span><br><span class="line">    t=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">var</span> msgbox = <span class="title class_">Ext</span>.<span class="property">Msg</span>.<span class="title function_">progress</span>(<span class="string">&#x27;请稍后&#x27;</span>,<span class="string">&#x27;保存数据&#x27;</span>,<span class="string">&#x27;请稍候，正在保存数据......&#x27;</span>);</span><br><span class="line">    <span class="title function_">updateProgress</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">updateProgress</span>(<span class="params"></span>)</span><br><span class="line">&#123;</span><br><span class="line">    t+=<span class="number">0.1</span>;</span><br><span class="line">    <span class="title class_">Ext</span>.<span class="property">Msg</span>.<span class="title function_">updateProgress</span>(t);</span><br><span class="line">    <span class="keyword">if</span>(t&gt;<span class="number">1</span>)</span><br><span class="line">        <span class="title class_">Ext</span>.<span class="property">Msg</span>.<span class="title function_">hide</span>();</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        updateProgress.<span class="title function_">defer</span>(<span class="number">1000</span>);</span><br><span class="line">        </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">doSave</span>(<span class="params">button,text</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(button=<span class="string">&quot;yes&quot;</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="title function_">progress</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(button==<span class="string">&quot;no&quot;</span>)</span><br><span class="line">    &#123;</span><br><span class="line">　　<span class="comment">//不保存数据</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//取消当前操作</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">save</span>(<span class="params"></span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="title class_">Ext</span>.<span class="property">Msg</span>.<span class="title function_">show</span>(&#123;</span><br><span class="line">        <span class="attr">title</span>:<span class="string">&#x27;保存数据&#x27;</span>,</span><br><span class="line">        <span class="attr">msg</span>:<span class="string">&#x27;是否要保存修改的数据？&#x27;</span>,</span><br><span class="line">        <span class="attr">buttons</span>:<span class="title class_">Ext</span>.<span class="property">Msg</span>.<span class="property">YESNOCANCEL</span>,</span><br><span class="line">        <span class="attr">fn</span>:doSave,</span><br><span class="line">        <span class="attr">icon</span>:<span class="title class_">Ext</span>.<span class="property">MessageBox</span>.<span class="property">QUESTION</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//TabPanel</span></span><br><span class="line"><span class="title class_">Ext</span>.<span class="title function_">onReady</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> i=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">var</span> tab = <span class="keyword">new</span> <span class="title class_">Ext</span>.<span class="title class_">TabPanel</span>(&#123;</span><br><span class="line">        <span class="attr">renderTo</span>:<span class="string">&#x27;tt&#x27;</span>,</span><br><span class="line">        <span class="attr">width</span>:<span class="number">500</span>,</span><br><span class="line">        <span class="attr">height</span>:<span class="number">300</span>,</span><br><span class="line">        <span class="attr">enableTabScroll</span>:<span class="literal">true</span>,</span><br><span class="line">        <span class="attr">activeTab</span>:<span class="literal">true</span>,</span><br><span class="line">        <span class="attr">bbar</span>:[&#123;<span class="attr">text</span>:<span class="string">&#x27;添加&#x27;</span>,<span class="attr">handler</span>:<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">            tab.<span class="title function_">add</span>(&#123;<span class="attr">title</span>:<span class="string">&#x27;新面板&#x27;</span>+i++,<span class="attr">closable</span>:<span class="literal">true</span>,<span class="attr">html</span>:<span class="string">&#x27;this is the new &#x27;</span>+i+<span class="string">&#x27; Panel！&#x27;</span>&#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;],</span><br><span class="line">        <span class="attr">items</span>:[&#123;<span class="attr">title</span>:<span class="string">&#x27;面板1&#x27;</span>,<span class="attr">html</span>:<span class="string">&#x27;this is first Tabpanel!&#x27;</span>&#125;,&#123;<span class="attr">closable</span>:<span class="literal">true</span>,<span class="attr">title</span>:<span class="string">&#x27;面板2&#x27;</span>,<span class="attr">html</span>:<span class="string">&#x27;this is second TabPanel!&#x27;</span>&#125;,&#123;<span class="attr">closable</span>:<span class="literal">true</span>,<span class="attr">title</span>:<span class="string">&#x27;面板3&#x27;</span>,<span class="attr">html</span>:<span class="string">&#x27;this is third TabPanel!&#x27;</span>&#125;]</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//Grid</span></span><br><span class="line"><span class="title class_">Ext</span>.<span class="title function_">onReady</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> data =[</span><br><span class="line">        [<span class="number">1</span>, <span class="string">&#x27;EasyJWeb&#x27;</span>, <span class="string">&#x27;EasyJF&#x27;</span>,<span class="string">&#x27;www.easyjf.com&#x27;</span>],</span><br><span class="line">        [<span class="number">2</span>, <span class="string">&#x27;jfox&#x27;</span>, <span class="string">&#x27;huihoo&#x27;</span>,<span class="string">&#x27;www.huihoo.org&#x27;</span>],</span><br><span class="line">        [<span class="number">3</span>, <span class="string">&#x27;jdon&#x27;</span>, <span class="string">&#x27;jdon&#x27;</span>,<span class="string">&#x27;www.jdon.com&#x27;</span>],</span><br><span class="line">        [<span class="number">4</span>, <span class="string">&#x27;springside&#x27;</span>,<span class="string">&#x27;springside&#x27;</span>,<span class="string">&#x27;www.springside.org.cn&#x27;</span>]</span><br><span class="line">    ];</span><br><span class="line">    <span class="keyword">var</span> store = <span class="keyword">new</span> <span class="title class_">Ext</span>.<span class="property">data</span>.<span class="title class_">SimpleStore</span>(&#123;<span class="attr">data</span>:data,<span class="attr">fields</span>:[<span class="string">&#x27;id&#x27;</span>,<span class="string">&#x27;name&#x27;</span>,<span class="string">&#x27;organization&#x27;</span>,<span class="string">&#x27;homepage&#x27;</span>]&#125;);</span><br><span class="line">    <span class="keyword">var</span> grid = <span class="keyword">new</span> <span class="title class_">Ext</span>.<span class="property">grid</span>.<span class="title class_">GridPanel</span>(&#123;</span><br><span class="line">        <span class="attr">renderTo</span>:<span class="string">&#x27;tt&#x27;</span>,</span><br><span class="line">        <span class="attr">title</span>:<span class="string">&#x27;中国Java开源产品及团队&#x27;</span>,</span><br><span class="line">        <span class="attr">height</span>:<span class="number">150</span>,</span><br><span class="line">        <span class="attr">width</span>:<span class="number">600</span>,</span><br><span class="line">        <span class="attr">columns</span>:[&#123;<span class="attr">header</span>:<span class="string">&#x27;项目名称&#x27;</span>,<span class="attr">dataIndex</span>:<span class="string">&#x27;name&#x27;</span>&#125;,</span><br><span class="line">            &#123;<span class="attr">header</span>:<span class="string">&#x27;开发团队&#x27;</span>,<span class="attr">dataIndex</span>:<span class="string">&#x27;organization&#x27;</span>&#125;,</span><br><span class="line">            &#123;<span class="attr">header</span>:<span class="string">&#x27;网址&#x27;</span>,<span class="attr">dataIndex</span>:<span class="string">&#x27;homepage&#x27;</span>&#125;</span><br><span class="line">        ],</span><br><span class="line">        <span class="attr">store</span>:store,</span><br><span class="line">        <span class="attr">autoExpandColumn</span>:<span class="number">2</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//TreePanel</span></span><br><span class="line"><span class="title class_">Ext</span>.<span class="title function_">onReady</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> root = <span class="keyword">new</span> <span class="title class_">Ext</span>.<span class="property">tree</span>.<span class="title class_">TreeNode</span>(&#123;</span><br><span class="line">        <span class="attr">id</span>:<span class="string">&#x27;root&#x27;</span>,</span><br><span class="line">        <span class="attr">text</span>:<span class="string">&#x27;树的根&#x27;</span></span><br><span class="line">    &#125;);</span><br><span class="line">    root.<span class="title function_">appendChild</span>(<span class="keyword">new</span> <span class="title class_">Ext</span>.<span class="property">tree</span>.<span class="title class_">TreeNode</span>(&#123;</span><br><span class="line">        <span class="attr">id</span>:<span class="string">&#x27;c1&#x27;</span>,</span><br><span class="line">        <span class="attr">text</span>:<span class="string">&#x27;子节点&#x27;</span></span><br><span class="line">    &#125;)</span><br><span class="line">    );</span><br><span class="line">    <span class="keyword">var</span> tree = <span class="keyword">new</span> <span class="title class_">Ext</span>.<span class="property">tree</span>.<span class="title class_">TreePanel</span>(&#123;</span><br><span class="line">        <span class="attr">renderTo</span>:<span class="string">&#x27;test&#x27;</span>,</span><br><span class="line">        <span class="attr">width</span>:<span class="number">100</span>,</span><br><span class="line">        <span class="attr">root</span>:root</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//form</span></span><br><span class="line"><span class="title class_">Ext</span>.<span class="title function_">onReady</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> f = <span class="keyword">new</span> <span class="title class_">Ext</span>.<span class="property">form</span>.<span class="title class_">FormPanel</span>(&#123;</span><br><span class="line">        <span class="attr">renderTo</span>:<span class="string">&#x27;test&#x27;</span>,</span><br><span class="line">        <span class="attr">width</span>:<span class="number">300</span>,</span><br><span class="line">        <span class="attr">height</span>:<span class="number">200</span>,</span><br><span class="line">        <span class="attr">title</span>:<span class="string">&#x27;用户信息录入&#x27;</span>,</span><br><span class="line">        <span class="attr">labelWidth</span>:<span class="number">60</span>,</span><br><span class="line">        <span class="attr">labelAlign</span>:<span class="string">&#x27;right&#x27;</span>,</span><br><span class="line">        <span class="attr">frame</span>:<span class="literal">true</span>,</span><br><span class="line">        <span class="attr">defaults</span>:&#123;<span class="attr">xtype</span>:<span class="string">&#x27;textfield&#x27;</span>,<span class="attr">width</span>:<span class="number">180</span>&#125;,</span><br><span class="line">        <span class="attr">items</span>:[</span><br><span class="line">            &#123;<span class="attr">name</span>:<span class="string">&#x27;username&#x27;</span>,<span class="attr">fieldLabel</span>:<span class="string">&#x27;姓名&#x27;</span>&#125;,</span><br><span class="line">            &#123;<span class="attr">name</span>:<span class="string">&#x27;password&#x27;</span>,<span class="attr">fieldLabel</span>:<span class="string">&#x27;密码&#x27;</span>,<span class="attr">inputType</span>:<span class="string">&#x27;password&#x27;</span>&#125;,</span><br><span class="line">            &#123;<span class="attr">name</span>:<span class="string">&#x27;email&#x27;</span>,<span class="attr">fieldLabel</span>:<span class="string">&#x27;电子邮件&#x27;</span>&#125;,</span><br><span class="line">            &#123;<span class="attr">xtype</span>:<span class="string">&#x27;textarea&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;intro&#x27;</span>,<span class="attr">fieldLabel</span>:<span class="string">&#x27;简介&#x27;</span>&#125;</span><br><span class="line">        ],</span><br><span class="line">        <span class="attr">buttons</span>:[&#123;<span class="attr">text</span>:<span class="string">&#x27;提交&#x27;</span>,<span class="attr">handler</span>:<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">            f.<span class="property">form</span>.<span class="title function_">submit</span>(&#123;</span><br><span class="line">                <span class="attr">waitTitle</span>:<span class="string">&#x27;请稍候&#x27;</span>,</span><br><span class="line">                <span class="attr">waitMsg</span>:<span class="string">&#x27;正在提交表单数据，请稍候......&#x27;</span></span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;&#125;,</span><br><span class="line">        &#123;<span class="attr">text</span>:<span class="string">&#x27;重置&#x27;</span>,<span class="attr">handler</span>:<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">            f.<span class="property">form</span>.<span class="title function_">reset</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;]</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>IE和FireFox下的JS调试工具</title>
      <link href="/2012/09/29/ie-he-firefox-xia-de-js-diao-shi-gong-ju/"/>
      <url>/2012/09/29/ie-he-firefox-xia-de-js-diao-shi-gong-ju/</url>
      
        <content type="html"><![CDATA[<p>IE下的JS调试工具Companion.JS这是一个IE的插件并且要和Microsoft ScriptDebugger结合起来使用</p><p>Companion.JS 下载地址 <a href="http://www.my-debugbar.com/wiki/CompanionJS/HomePage">http://www.my-debugbar.com/wiki/CompanionJS/HomePage</a></p><p>具体使用方法为：</p><h5 id="1、先下载Companion-JS安装文件，然后安装"><a href="#1、先下载Companion-JS安装文件，然后安装" class="headerlink" title="1、先下载Companion.JS安装文件，然后安装"></a>1、先下载Companion.JS安装文件，然后安装</h5><h5 id="2、下载安装Microsoft-Script-Debugger，如果您的机器已经安装过了就可以免过这一步"><a href="#2、下载安装Microsoft-Script-Debugger，如果您的机器已经安装过了就可以免过这一步" class="headerlink" title="2、下载安装Microsoft Script Debugger，如果您的机器已经安装过了就可以免过这一步"></a>2、下载安装Microsoft Script Debugger，如果您的机器已经安装过了就可以免过这一步</h5><h5 id="3、打开IE菜单“工具”–“Internet选项”–“高级”，找到“禁用脚本调试-Internet-Explorer-”和“禁用脚本调试-其他-”，将两个选项前面的对钩都去掉，然后重启IE"><a href="#3、打开IE菜单“工具”–“Internet选项”–“高级”，找到“禁用脚本调试-Internet-Explorer-”和“禁用脚本调试-其他-”，将两个选项前面的对钩都去掉，然后重启IE" class="headerlink" title="3、打开IE菜单“工具”–“Internet选项”–“高级”，找到“禁用脚本调试(Internet Explorer)”和“禁用脚本调试(其他)”，将两个选项前面的对钩都去掉，然后重启IE"></a>3、打开IE菜单“工具”–“Internet选项”–“高级”，找到“禁用脚本调试(Internet Explorer)”和“禁用脚本调试(其他)”，将两个选项前面的对钩都去掉，然后重启IE</h5><h5 id="4、在Ie中输入：http-www-my-debugbar-com-wiki-uploads-CompanionJS-dummy-htm，然后点击click-me链接，如果左上角弹出一个小错误提示或下面控制台出现了错误信息提示，就说明您已经安装成功了"><a href="#4、在Ie中输入：http-www-my-debugbar-com-wiki-uploads-CompanionJS-dummy-htm，然后点击click-me链接，如果左上角弹出一个小错误提示或下面控制台出现了错误信息提示，就说明您已经安装成功了" class="headerlink" title="4、在Ie中输入：http://www.my-debugbar.com/wiki/uploads/CompanionJS/dummy.htm，然后点击click me链接，如果左上角弹出一个小错误提示或下面控制台出现了错误信息提示，就说明您已经安装成功了"></a>4、在Ie中输入：<a href="http://www.my-debugbar.com/wiki/uploads/CompanionJS/dummy.htm">http://www.my-debugbar.com/wiki/uploads/CompanionJS/dummy.htm</a>，然后点击click me链接，如果左上角弹出一个小错误提示或下面控制台出现了错误信息提示，就说明您已经安装成功了</h5><p>提示：Microsoft Script Debugger下载可到MS官网(需要经过MS的操作系统正版验证)：<a href="http://www.microsoft.com/downloads/details.aspx?displaylang=zh-cn&amp;FamilyID=E606E71F-BA7F-471E-A57D-F2216D81EC3D#filelist">http://www.microsoft.com/downloads/details.aspx?displaylang=zh-cn&amp;FamilyID=E606E71F-BA7F-471E-A57D-F2216D81EC3D#filelist</a>或到baidu里输入“Microsoft Script Debugger 下载”寻找一下。</p><p>FireFox下的JS调试工具 FireBug</p><p>FireBug 下载地址 <a href="http://getfirebug.com/">http://getfirebug.com/</a></p><p>具体使用方法为：</p><p>1.直接点击网页右边的“Install Firebug” 按钮安装，安装成功后重启浏览器</p>]]></content>
      
      
      <categories>
          
          <category> HTML/CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTML/CSS </tag>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>创建 Excel 表格</title>
      <link href="/2012/09/26/chuang-jian-excel-biao-ge/"/>
      <url>/2012/09/26/chuang-jian-excel-biao-ge/</url>
      
        <content type="html"><![CDATA[<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建excel</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">CreateExcel</span>(<span class="params"><span class="built_in">string</span> tableName, <span class="built_in">string</span> tableType , List&lt;HNFatherAddress&gt; list</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">object</span> missing = System.Reflection.Missing.Value;</span><br><span class="line">    MSExcel.Application app = <span class="keyword">new</span> MSExcel.Application();</span><br><span class="line">    app.Application.Workbooks.Add(<span class="literal">true</span>);</span><br><span class="line">    MSExcel.Workbook book = (MSExcel.Workbook)app.ActiveWorkbook;</span><br><span class="line">    MSExcel.Worksheet sheet = (MSExcel.Worksheet)book.ActiveSheet;</span><br><span class="line">    <span class="comment">//第一行</span></span><br><span class="line">    sheet.Cells[<span class="number">1</span>, <span class="number">1</span>] = <span class="string">&quot;table&quot;</span>;</span><br><span class="line">    sheet.Cells[<span class="number">1</span>, <span class="number">2</span>] = tableName;</span><br><span class="line">    sheet.Cells[<span class="number">1</span>, <span class="number">3</span>] = tableType;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//第二行</span></span><br><span class="line">    sheet.Cells[<span class="number">2</span>, <span class="number">1</span>] = <span class="string">&quot;编号&quot;</span>;</span><br><span class="line">    sheet.Cells[<span class="number">2</span>, <span class="number">2</span>] = <span class="string">&quot;地址&quot;</span>;</span><br><span class="line">    sheet.Cells[<span class="number">2</span>, <span class="number">3</span>] = <span class="string">&quot;类型&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">int</span> count = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">foreach</span> (HNFatherAddress item <span class="keyword">in</span> list)</span><br><span class="line">    &#123;</span><br><span class="line">        count = count + <span class="number">1</span>;</span><br><span class="line">        sheet.Cells[count, <span class="number">1</span>] = <span class="string">&quot;num&quot;</span>;</span><br><span class="line">        sheet.Cells[count, <span class="number">2</span>] = item.FatherName;</span><br><span class="line">        sheet.Cells[count, <span class="number">3</span>] = item.FatherType;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//保存</span></span><br><span class="line">    SaveFileDialog save = <span class="keyword">new</span> SaveFileDialog();</span><br><span class="line">    save.Filter = <span class="string">&quot;Excel(*.xls)|*.xls&quot;</span>;</span><br><span class="line">    save.ShowDialog();</span><br><span class="line"></span><br><span class="line">    <span class="built_in">string</span> savePath = save.FileName;</span><br><span class="line">    book.SaveCopyAs(savePath);</span><br><span class="line">    book.Close(<span class="literal">false</span>, missing, missing);</span><br><span class="line"></span><br><span class="line">    app.Quit();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Access 获取数据库表名和字段名</title>
      <link href="/2012/09/26/access-huo-qu-shu-ju-ku-biao-ming-he-zi-duan-ming/"/>
      <url>/2012/09/26/access-huo-qu-shu-ju-ku-biao-ming-he-zi-duan-ming/</url>
      
        <content type="html"><![CDATA[<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//获取Access数据库表的字段名</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;<span class="built_in">string</span>&gt; <span class="title">GetTableFieldNameList</span>(<span class="params"><span class="built_in">string</span> TableName</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">string</span> conStr = <span class="string">&quot;provider=microsoft.jet.oledb.4.0;&quot;</span>;</span><br><span class="line">    conStr += <span class="string">@&quot;data source=&quot;</span> + 数据库的路径（例如：<span class="string">&quot;D:\\data\\test.mdb&quot;</span>）</span><br><span class="line">    List&lt;<span class="built_in">string</span>&gt; list = <span class="keyword">new</span> List&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">    OleDbConnection con = <span class="keyword">new</span> OleDbConnection(conStr);</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    &#123;</span><br><span class="line">        con.Open();</span><br><span class="line">        <span class="keyword">using</span> (OleDbCommand cmd = <span class="keyword">new</span> OleDbCommand())</span><br><span class="line">        &#123;</span><br><span class="line">            cmd.CommandText = <span class="string">&quot;SELECT TOP 1 * FROM [&quot;</span> + TableName + <span class="string">&quot;]&quot;</span>;</span><br><span class="line">            cmd.Connection = con;</span><br><span class="line">            OleDbDataReader dr = cmd.ExecuteReader();</span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; dr.FieldCount; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                list.Add(dr.GetName(i));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> list;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (Exception e)</span><br><span class="line">    &#123; <span class="keyword">throw</span> e; &#125;</span><br><span class="line">    <span class="keyword">finally</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (con.State == ConnectionState.Open)</span><br><span class="line">            con.Close();</span><br><span class="line">        con.Dispose();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获取Access数据库表名集合</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> ArrayList <span class="title">GetTableNameList</span>(<span class="params"><span class="built_in">string</span> filePath</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">string</span> conStr = <span class="string">&quot;provider=microsoft.jet.oledb.4.0;&quot;</span>;</span><br><span class="line">    conStr += <span class="string">@&quot;data source=&quot;</span> + filePath;</span><br><span class="line">    ArrayList tableList = <span class="keyword">new</span> ArrayList();</span><br><span class="line">    OleDbConnection con = <span class="keyword">new</span> OleDbConnection(conStr);</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    &#123;</span><br><span class="line">        con.Open();</span><br><span class="line">        <span class="comment">//第一种方法</span></span><br><span class="line">        <span class="comment">/*DataRow [] rows = con.GetOleDbSchemaTable(OleDbSchemaGuid.Tables, null).Select();</span></span><br><span class="line"><span class="comment">        for (int i = 0; i &lt; rows.Length; i++)</span></span><br><span class="line"><span class="comment">        &#123;</span></span><br><span class="line"><span class="comment">            if (!rows[i][&quot;TABLE_NAME&quot;].ToString().Contains(&quot;MSys&quot;))</span></span><br><span class="line"><span class="comment">            &#123;</span></span><br><span class="line"><span class="comment">                tableList.Add(rows[i][&quot;TABLE_NAME&quot;].ToString());</span></span><br><span class="line"><span class="comment">            &#125;</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        return tableList;*/</span></span><br><span class="line">        <span class="comment">//第二种方法</span></span><br><span class="line">        DataTable dt = con.GetSchema(<span class="string">&quot;Tables&quot;</span>);</span><br><span class="line">        <span class="keyword">foreach</span> (DataRow row <span class="keyword">in</span> dt.Rows)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (row[<span class="number">3</span>].ToString() == <span class="string">&quot;TABLE&quot;</span>)</span><br><span class="line">                tableList.Add(row[<span class="number">2</span>].ToString());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> tableList;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (Exception e)</span><br><span class="line">    &#123; </span><br><span class="line">        <span class="keyword">throw</span> e; </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">finally</span> </span><br><span class="line">    &#123; </span><br><span class="line">        <span class="keyword">if</span> (con.State == ConnectionState.Open)</span><br><span class="line">            con.Close();</span><br><span class="line">        con.Dispose(); </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>添加Access数据库的的字段名</p><p>alter table tableName add column 字段名 int</p>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Silverlight引用WCF 修改配置</title>
      <link href="/2012/06/07/silverlight-yin-yong-wcf-xiu-gai-pei-zhi/"/>
      <url>/2012/06/07/silverlight-yin-yong-wcf-xiu-gai-pei-zhi/</url>
      
        <content type="html"><![CDATA[<h3 id="第一种"><a href="#第一种" class="headerlink" title="第一种"></a>第一种</h3><p>可以修改*.xap文件中的ServiceReferences.ClientConfig将服务的地址改过来即可</p><p>注：*.xap可以用winrar解压，ServiceReferences.ClientConfig中有</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">client</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">endpoint</span> <span class="attr">address</span>=<span class="string">&quot;http://192.168.2.160/AppService/AppService.svc&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">binding</span>=<span class="string">&quot;basicHttpBinding&quot;</span> <span class="attr">bindingConfiguration</span>=<span class="string">&quot;BasicHttpBinding_IDatabaseService&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">contract</span>=<span class="string">&quot;DrawseeAppService.IDatabaseService&quot;</span> <span class="attr">name</span>=<span class="string">&quot;BasicHttpBinding_IDatabaseService&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">endpoint</span> <span class="attr">address</span>=<span class="string">&quot;http://192.168.2.160/AppService/AppService.svc&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">binding</span>=<span class="string">&quot;basicHttpBinding&quot;</span> <span class="attr">bindingConfiguration</span>=<span class="string">&quot;BasicHttpBinding_IUserManageService&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">contract</span>=<span class="string">&quot;DrawseeAppService.IUserManageService&quot;</span> <span class="attr">name</span>=<span class="string">&quot;BasicHttpBinding_IUserManageService&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">client</span>&gt;</span></span><br></pre></td></tr></table></figure><p>将其中的 <a href="http://192.168.2.160/AppService/AppService.svc%E6%94%B9%E6%88%90%E4%BD%A0%E7%8E%B0%E5%9C%A8%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%9C%B0%E5%9D%80%E3%80%82">http://192.168.2.160/AppService/AppService.svc改成你现在的服务地址。</a></p><h3 id="第二种-动态调用服务"><a href="#第二种-动态调用服务" class="headerlink" title="第二种 动态调用服务"></a>第二种 动态调用服务</h3><p>1.删除ServiceReferences.ClientConfig文件</p><p>2.新建一个类</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> DatabaseServiceClient <span class="title">GetDynamicClient</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        BasicHttpBinding binding = <span class="keyword">new</span> BasicHttpBinding(</span><br><span class="line">            Application.Current.Host.Source.Scheme.Equals(</span><br><span class="line">            <span class="string">&quot;https&quot;</span>, StringComparison.InvariantCultureIgnoreCase) ?</span><br><span class="line">            BasicHttpSecurityMode.Transport : BasicHttpSecurityMode.None);</span><br><span class="line">        binding.MaxReceivedMessageSize = <span class="built_in">int</span>.MaxValue;</span><br><span class="line">        binding.MaxBufferSize = <span class="built_in">int</span>.MaxValue;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> DatabaseServiceClient(binding, <span class="keyword">new</span> EndpointAddress(<span class="keyword">new</span> Uri(Application.Current.Host.Source, <span class="string">&quot;../AppService.svc&quot;</span>)));</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>在要调用的地方 DatabaseServiceClient client &#x3D; 类名.GetDynamicClient();</p><p>其它的和原来调用wcf服务都一样。</p>]]></content>
      
      
      <categories>
          
          <category> Silverlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Silverlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SQL把数据从一张表中导入另一张表</title>
      <link href="/2012/05/24/sql-ba-shu-ju-cong-yi-zhang-biao-zhong-dao-ru-ling-yi-zhang-biao/"/>
      <url>/2012/05/24/sql-ba-shu-ju-cong-yi-zhang-biao-zhong-dao-ru-ling-yi-zhang-biao/</url>
      
        <content type="html"><![CDATA[<h3 id="1、对于已存在的表"><a href="#1、对于已存在的表" class="headerlink" title="1、对于已存在的表"></a>1、对于已存在的表</h3><p>insert into table_target(字段1,字段2….)<br>select (字段1,字段2….) from table_source</p><h3 id="2、对于尚未建立的表"><a href="#2、对于尚未建立的表" class="headerlink" title="2、对于尚未建立的表"></a>2、对于尚未建立的表</h3><p>select  (字段1,字段2….)  into table_target<br>from table_source</p>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Silverlight ToolBar(工具条)</title>
      <link href="/2012/05/17/silverlight-toolbar-gong-ju-tiao/"/>
      <url>/2012/05/17/silverlight-toolbar-gong-ju-tiao/</url>
      
        <content type="html"><![CDATA[<p>前段时间为搞silverlight 工具条很烦，幸运的是后来在网上找到第三方控件了，还有简单的代码示例。和大家分享一下</p><p><a href="http://www.devcomponents.com/dotnetbarsilverlight/download.aspx">http://www.devcomponents.com/dotnetbarsilverlight/download.aspx</a></p>]]></content>
      
      
      <categories>
          
          <category> Silverlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Silverlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Silverlight 在IIS5.1或6.0下部署</title>
      <link href="/2012/05/11/silverlight-zai-iis5.1-huo-6.0-xia-bu-shu/"/>
      <url>/2012/05/11/silverlight-zai-iis5.1-huo-6.0-xia-bu-shu/</url>
      
        <content type="html"><![CDATA[<p>首先要在IIS的MIME类型中添加这几个类型</p><p> .xap application&#x2F;x-silverlight-app<br> .xaml application&#x2F;xaml+xml<br> .xbap application&#x2F;x-ms-xbap</p><p>在就是看是否安装了.netframework</p>]]></content>
      
      
      <categories>
          
          <category> Silverlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Silverlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Siverlight调用服务提示无法跨域访问</title>
      <link href="/2012/05/11/siverlight-diao-yong-fu-wu-ti-shi-wu-fa-kua-yu-fang-wen/"/>
      <url>/2012/05/11/siverlight-diao-yong-fu-wu-ti-shi-wu-fa-kua-yu-fang-wen/</url>
      
        <content type="html"><![CDATA[<p>添加2个xml</p><p>ClientAccessPolicy.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;utf-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">access-policy</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">cross-domain-access</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">policy</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">allow-from</span> <span class="attr">http-request-headers</span>=<span class="string">&quot;*&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">domain</span> <span class="attr">uri</span>=<span class="string">&quot;*&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">allow-from</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">grant-to</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">resource</span> <span class="attr">path</span>=<span class="string">&quot;/&quot;</span> <span class="attr">include-subpaths</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">grant-to</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">policy</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">cross-domain-access</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">access-policy</span>&gt;</span></span><br></pre></td></tr></table></figure><p>crossdomain.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span>?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">cross-domain-policy</span> <span class="keyword">SYSTEM</span> <span class="string">&quot;http://www.macromedia.com/xml/dtds/cross-domain-policy.dtd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">cross-domain-policy</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">allow-access-from</span> <span class="attr">domain</span>=<span class="string">&quot;*&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">allow-http-request-headers-from</span> <span class="attr">domain</span>=<span class="string">&quot;*&quot;</span> <span class="attr">headers</span>=<span class="string">&quot;*&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">cross-domain-policy</span>&gt;</span></span><br></pre></td></tr></table></figure><p>具体请参考：<a href="http://msdn.microsoft.com/en-us/library/cc645032%28VS.95%29.aspx">http://msdn.microsoft.com/en-us/library/cc645032%28VS.95%29.aspx</a></p>]]></content>
      
      
      <categories>
          
          <category> Silverlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Silverlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Silverlight contextMenu 拖拽</title>
      <link href="/2012/05/07/silverlight-contextmenu-tuo-zhuai/"/>
      <url>/2012/05/07/silverlight-contextmenu-tuo-zhuai/</url>
      
        <content type="html"><![CDATA[<p><a href="https://silverlight.codeplex.com/releases/view/43528">Silverlight4 toolkit</a> 提供了ContextMenu和MenuItem控件来实现右键菜单,下面是效果图<br><img src="/images/2012050716493147.jpg" alt="2012050716493147.jpg"></p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;Canvas x:Name=<span class="string">&quot;LayoutRoot&quot;</span>&gt;</span><br><span class="line">&lt;Border Height=<span class="string">&quot;30&quot;</span> Name=<span class="string">&quot;bType&quot;</span> Width=<span class="string">&quot;90&quot;</span> Canvas.Left=<span class="string">&quot;96&quot;</span> BorderThickness=<span class="string">&quot;1&quot;</span> BorderBrush=<span class="string">&quot;Gray&quot;</span> Background=<span class="string">&quot;Transparent&quot;</span> MouseLeftButtonDown=<span class="string">&quot;Border_MouseLeftButtonDown&quot;</span> MouseMove=<span class="string">&quot;Border_MouseMove&quot;</span> MouseLeftButtonUp=<span class="string">&quot;mouseLeftUp&quot;</span>&gt;</span><br><span class="line">             &lt;sdk:Label Name=<span class="string">&quot;lbSencond&quot;</span> HorizontalAlignment=<span class="string">&quot;Center&quot;</span> Content=<span class="string">&quot;类型&quot;</span> /&gt;</span><br><span class="line">             &lt;my:ContextMenuService.ContextMenu&gt;</span><br><span class="line">                 &lt;my:ContextMenu Name=<span class="string">&quot;TypeMenu&quot;</span> Background=<span class="string">&quot;Transparent&quot;</span>&gt;</span><br><span class="line">                     &lt;my:MenuItem Header=<span class="string">&quot;植物&quot;</span> Click=<span class="string">&quot;TypeMenu_Click&quot;</span>&gt;</span><br><span class="line">                         &lt;my:MenuItem.Icon&gt;</span><br><span class="line">                             &lt;Image Width=<span class="string">&quot;16&quot;</span> Height=<span class="string">&quot;16&quot;</span> Source=<span class="string">&quot;images/zhiwu.jpg&quot;</span> /&gt;</span><br><span class="line">                         &lt;/my:MenuItem.Icon&gt;</span><br><span class="line">                     &lt;/my:MenuItem&gt;</span><br><span class="line">                     &lt;my:Separator /&gt;</span><br><span class="line">                     &lt;my:MenuItem Header=<span class="string">&quot;动物&quot;</span> Click=<span class="string">&quot;TypeMenu_Click&quot;</span>&gt;</span><br><span class="line">                         &lt;my:MenuItem.Icon&gt;</span><br><span class="line">                             &lt;Image Width=<span class="string">&quot;16&quot;</span> Height=<span class="string">&quot;16&quot;</span> Source=<span class="string">&quot;images/dongwu.jpg&quot;</span> /&gt;</span><br><span class="line">                         &lt;/my:MenuItem.Icon&gt;</span><br><span class="line">                     &lt;/my:MenuItem&gt;</span><br><span class="line">                 &lt;/my:ContextMenu&gt;</span><br><span class="line">             &lt;/my:ContextMenuService.ContextMenu&gt;</span><br><span class="line">         &lt;/Border&gt;</span><br><span class="line"> &lt;/Canvas&gt;</span><br></pre></td></tr></table></figure><p>下面是cs代码</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="built_in">bool</span> isDrag;</span><br><span class="line"><span class="keyword">private</span> Point startPoint;</span><br><span class="line"><span class="keyword">private</span> Point endPoint;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">MainPage</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    InitializeComponent();</span><br><span class="line">  </span><br><span class="line">&#125;     </span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">TypeMenu_Click</span>(<span class="params"><span class="built_in">object</span> sender, RoutedEventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    MenuItem item = (MenuItem)sender;</span><br><span class="line">    <span class="keyword">switch</span> (item.Header.ToString())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">case</span><span class="string">&quot;动物&quot;</span>:</span><br><span class="line">            MessageBox.Show(item.Header.ToString());</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span><span class="string">&quot;植物&quot;</span>:</span><br><span class="line">            MessageBox.Show(<span class="string">&quot;类型是植物&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="literal">default</span>:</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    TypeMenu.IsOpen = <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">mouseLeftUp</span>(<span class="params"><span class="built_in">object</span> sender, MouseButtonEventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    isDrag = <span class="literal">false</span>; </span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Border_MouseLeftButtonDown</span>(<span class="params"><span class="built_in">object</span> sender, MouseButtonEventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    Point p = e.GetPosition(LayoutRoot);</span><br><span class="line">    SetDrag(p, bType);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Border_MouseMove</span>(<span class="params"><span class="built_in">object</span> sender, MouseEventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (isDrag)</span><br><span class="line">    &#123;</span><br><span class="line">        endPoint = e.GetPosition(LayoutRoot);</span><br><span class="line">       </span><br><span class="line">        Position(endPoint, bType);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Position</span>(<span class="params">Point end, UIElement uiName</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//计算X、Y轴起始点与终止点之间的相对偏移量</span></span><br><span class="line">    <span class="built_in">double</span> x = end.X - startPoint.X;</span><br><span class="line">    <span class="built_in">double</span> y = end.Y - startPoint.Y;</span><br><span class="line"> </span><br><span class="line">    Point positon = <span class="keyword">new</span> Point((<span class="built_in">double</span>)Canvas.GetLeft(uiName), (<span class="built_in">double</span>)Canvas.GetTop(uiName));</span><br><span class="line">    positon.X += x;</span><br><span class="line">    positon.Y += y;</span><br><span class="line"> </span><br><span class="line">    Canvas.SetLeft(uiName, positon.X);</span><br><span class="line">    Canvas.SetTop(uiName, positon.Y);</span><br><span class="line">    startPoint = end;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">SetDrag</span>(<span class="params">Point start, UIElement uiName</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    isDrag = <span class="literal">true</span>;</span><br><span class="line">    startPoint = start;</span><br><span class="line">    uiName.CaptureMouse();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Silverlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Silverlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>浏览Silverlight5 3D例子后打开以前的项目运行不起来</title>
      <link href="/2012/04/20/liu-lan-silverlight5-3d-li-zi-hou-da-kai-yi-qian-de-xiang-mu-yun-xing-bu-qi-lai/"/>
      <url>/2012/04/20/liu-lan-silverlight5-3d-li-zi-hou-da-kai-yi-qian-de-xiang-mu-yun-xing-bu-qi-lai/</url>
      
        <content type="html"><![CDATA[<p>只需卸载所有的Silverlight sdk然后在重新安装一遍就好了。</p>]]></content>
      
      
      <categories>
          
          <category> Silverlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Silverlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>silverlight中嵌入html、swf、pdf</title>
      <link href="/2012/03/29/silverlight-zhong-qian-ru-html-swf-pdf/"/>
      <url>/2012/03/29/silverlight-zhong-qian-ru-html-swf-pdf/</url>
      
        <content type="html"><![CDATA[<p>使用HtmlHost小组件就方便多了</p><p>网站：<a href="http://www.divelements.co.uk/silverlight/tools.aspx">http://www.divelements.co.uk/silverlight/tools.aspx</a></p><p>下载：<a href="http://www.divelements.co.uk/silverlight/SilverlightTools.1.0.2.">http://www.divelements.co.uk/silverlight/SilverlightTools.1.0.2.</a>zip</p><p>1、基本特性</p><p>组件所在命名空间：</p><p>Divelements.SilverlightTools</p><p>组件常用属性：</p><p>SourceUri：显示在该组件中的内容的URI。</p><p>SourceHtml：用该组件显示的超文本内容。</p><p>Document：显示在该组件中的内容的HTML。</p><p>组件常用事件：</p><p>DocumentReady：当在该组件中的内容的HTML加载完毕后触发该事件。</p><p>注：该组件在windowless下才能正常工作</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;form id=<span class="string">&quot;form1&quot;</span> runat=<span class="string">&quot;server&quot;</span> style=<span class="string">&quot;height:100%&quot;</span>&gt;</span><br><span class="line">   &lt;div id=<span class="string">&quot;silverlightControlHost&quot;</span>&gt;</span><br><span class="line">       &lt;<span class="built_in">object</span> data=<span class="string">&quot;data:application/x-silverlight-2,&quot;</span> type=<span class="string">&quot;application/x-silverlight-2&quot;</span> width=<span class="string">&quot;100%&quot;</span> height=<span class="string">&quot;100%&quot;</span>&gt;</span><br><span class="line">         &lt;param name=<span class="string">&quot;source&quot;</span> <span class="keyword">value</span>=<span class="string">&quot;ClientBin/testMap.xap&quot;</span>/&gt;</span><br><span class="line">         &lt;param name=<span class="string">&quot;onError&quot;</span> <span class="keyword">value</span>=<span class="string">&quot;onSilverlightError&quot;</span> /&gt;</span><br><span class="line">         &lt;param name=<span class="string">&quot;background&quot;</span> <span class="keyword">value</span>=<span class="string">&quot;white&quot;</span> /&gt;</span><br><span class="line">         &lt;param name=<span class="string">&quot;minRuntimeVersion&quot;</span> <span class="keyword">value</span>=<span class="string">&quot;4.0.60310.0&quot;</span> /&gt;</span><br><span class="line">         &lt;param name=<span class="string">&quot;autoUpgrade&quot;</span> <span class="keyword">value</span>=<span class="string">&quot;true&quot;</span> /&gt;</span><br><span class="line">         &lt;param name=<span class="string">&quot;windowless&quot;</span> <span class="keyword">value</span>=<span class="string">&quot;true&quot;</span> /&gt;</span><br><span class="line">         &lt;a href=<span class="string">&quot;http://go.microsoft.com/fwlink/?LinkID=149156&amp;v=4.0.60310.0&quot;</span> style=<span class="string">&quot;text-decoration:none&quot;</span>&gt;</span><br><span class="line">              &lt;img src=<span class="string">&quot;http://go.microsoft.com/fwlink/?LinkId=161376&quot;</span> alt=<span class="string">&quot;获取 Microsoft Silverlight&quot;</span> style=<span class="string">&quot;border-style:none&quot;</span>/&gt;</span><br><span class="line">         &lt;/a&gt;</span><br><span class="line">       &lt;/<span class="built_in">object</span>&gt;&lt;iframe id=<span class="string">&quot;_sl_historyFrame&quot;</span> style=<span class="string">&quot;visibility:hidden;height:0px;width:0px;border:0px&quot;</span>&gt;&lt;/iframe&gt;</span><br><span class="line">       </span><br><span class="line">       &lt;/div&gt;</span><br></pre></td></tr></table></figure><p>新建一个controlHtmlHost.xaml页面</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;navigation:Page x:Class=<span class="string">&quot;testMap.ControlHtmlHost&quot;</span></span><br><span class="line">           xmlns=<span class="string">&quot;http://schemas.microsoft.com/winfx/2006/xaml/presentation&quot;</span></span><br><span class="line">           xmlns:x=<span class="string">&quot;http://schemas.microsoft.com/winfx/2006/xaml&quot;</span></span><br><span class="line">           xmlns:d=<span class="string">&quot;http://schemas.microsoft.com/expression/blend/2008&quot;</span></span><br><span class="line">           xmlns:mc=<span class="string">&quot;http://schemas.openxmlformats.org/markup-compatibility/2006&quot;</span></span><br><span class="line">           mc:Ignorable=<span class="string">&quot;d&quot;</span></span><br><span class="line">           xmlns:navigation=<span class="string">&quot;clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Navigation&quot;</span></span><br><span class="line">           d:DesignWidth=<span class="string">&quot;640&quot;</span> d:DesignHeight=<span class="string">&quot;480&quot;</span></span><br><span class="line">           Title=<span class="string">&quot;ControlHtmlHost Page&quot;</span> xmlns:divtools=<span class="string">&quot;clr-namespace:Divelements.SilverlightTools;assembly=Divelements.SilverlightTools&quot;</span>&gt;</span><br><span class="line">    &lt;Grid x:Name=<span class="string">&quot;LayoutRoot&quot;</span>&gt;</span><br><span class="line">        &lt;divtools:HtmlHost Name=<span class="string">&quot;htmlHost&quot;</span> /&gt;</span><br><span class="line">    &lt;/Grid&gt;</span><br><span class="line">&lt;/navigation:Page&gt;</span><br></pre></td></tr></table></figure><p>MainPage.xaml页面</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;UserControl x:Class=<span class="string">&quot;testMap.MainPage&quot;</span></span><br><span class="line">    xmlns=<span class="string">&quot;http://schemas.microsoft.com/winfx/2006/xaml/presentation&quot;</span></span><br><span class="line">    xmlns:x=<span class="string">&quot;http://schemas.microsoft.com/winfx/2006/xaml&quot;</span></span><br><span class="line">    xmlns:d=<span class="string">&quot;http://schemas.microsoft.com/expression/blend/2008&quot;</span></span><br><span class="line">    xmlns:mc=<span class="string">&quot;http://schemas.openxmlformats.org/markup-compatibility/2006&quot;</span></span><br><span class="line">    mc:Ignorable=<span class="string">&quot;d&quot;</span> xmlns:my=<span class="string">&quot;clr-namespace:Drawsee.Sl.Kernel.Controls;assembly=Drawsee.Sl.Kernel&quot;</span> xmlns:my1=<span class="string">&quot;clr-namespace:Drawsee.Sl.AppBase.Database.UI;assembly=Drawsee.Sl.AppBase&quot;</span> xmlns:sdk=<span class="string">&quot;http://schemas.microsoft.com/winfx/2006/xaml/presentation/sdk&quot;</span> Height=<span class="string">&quot;535&quot;</span> Width=<span class="string">&quot;783&quot;</span> xmlns:divtools=<span class="string">&quot;clr-namespace:Divelements.SilverlightTools;assembly=Divelements.SilverlightTools&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">    &lt;Grid x:Name=<span class="string">&quot;LayoutRoot&quot;</span> Background=<span class="string">&quot;White&quot;</span>&gt;</span><br><span class="line">        &lt;Grid Height=<span class="string">&quot;316&quot;</span> HorizontalAlignment=<span class="string">&quot;Left&quot;</span> Margin=<span class="string">&quot;173,39,0,0&quot;</span> Name=<span class="string">&quot;Container&quot;</span> VerticalAlignment=<span class="string">&quot;Top&quot;</span> Width=<span class="string">&quot;600&quot;</span>&gt;</span><br><span class="line">            &lt;divtools:HtmlHost HorizontalAlignment=<span class="string">&quot;Left&quot;</span> Margin=<span class="string">&quot;339,131,0,0&quot;</span> Name=<span class="string">&quot;htmlHost1&quot;</span> VerticalAlignment=<span class="string">&quot;Top&quot;</span> /&gt;</span><br><span class="line">        &lt;/Grid&gt;</span><br><span class="line">        &lt;Button Content=<span class="string">&quot;btnHtml&quot;</span> Height=<span class="string">&quot;23&quot;</span> HorizontalAlignment=<span class="string">&quot;Left&quot;</span> Margin=<span class="string">&quot;696,500,0,0&quot;</span> Name=<span class="string">&quot;btnLoad&quot;</span> VerticalAlignment=<span class="string">&quot;Top&quot;</span> Width=<span class="string">&quot;75&quot;</span> Click=<span class="string">&quot;btnLoad_Click&quot;</span> /&gt;</span><br><span class="line">    &lt;/Grid&gt;</span><br><span class="line">&lt;/UserControl&gt;</span><br></pre></td></tr></table></figure><p>MainPage.xaml.cs</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">btnLoad_Click</span>(<span class="params"><span class="built_in">object</span> sender, RoutedEventArgs e</span>)</span></span><br><span class="line">     &#123;</span><br><span class="line">         GetRichContent(<span class="string">&quot;index.htm&quot;</span>, UriKind.Relative); <span class="comment">//&quot;&quot;内可以写swf、html和pdf文件</span></span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">     <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">GetRichContent</span>(<span class="params"><span class="built_in">string</span> uri, UriKind uriKind</span>)</span></span><br><span class="line">     &#123;</span><br><span class="line">         Content.Children.Clear();</span><br><span class="line">         ControlHtmlHost chtml = <span class="keyword">new</span> ControlHtmlHost();</span><br><span class="line">         HtmlHost hh = chtml.FindName(<span class="string">&quot;htmlHost&quot;</span>) <span class="keyword">as</span> HtmlHost;</span><br><span class="line">         hh.SourceUri = <span class="keyword">new</span> Uri(uri, uriKind);</span><br><span class="line">         Content.Children.Add(chtml);</span><br><span class="line">     &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Silverlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Silverlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Silverlight DataGrid</title>
      <link href="/2012/03/22/silverlight-datagrid/"/>
      <url>/2012/03/22/silverlight-datagrid/</url>
      
        <content type="html"><![CDATA[<p>直接把查询出的数据赋予Silverlight datagrid 用把AutoGenerateColumns&#x3D;”True”才可以显示数据。</p><p>Silverlight多线程 <a href="http://www.360doc.com/content/11/0912/17/7304817_147699415.shtml">http://www.360doc.com/content/11/0912/17/7304817_147699415.shtml</a></p><p>Silverlight DataGrid 用法 <a href="http://www.360doc.com/content/12/0301/18/5054188_190898289.shtml">http://www.360doc.com/content/12/0301/18/5054188_190898289.shtml</a></p><p>　　　　　　　　　　　　<a href="http://www.silverlightchina.net/html/tips/2011/1104/11507.html">http://www.silverlightchina.net/html/tips/2011/1104/11507.html</a></p>]]></content>
      
      
      <categories>
          
          <category> Silverlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Silverlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Oracle 下载地址和win7上安装出现的问题</title>
      <link href="/2012/03/21/oracle-xia-zai-di-zhi-he-win7-shang-an-zhuang-chu-xian-de-wen-ti/"/>
      <url>/2012/03/21/oracle-xia-zai-di-zhi-he-win7-shang-an-zhuang-chu-xian-de-wen-ti/</url>
      
        <content type="html"><![CDATA[<p>支持vista，win7和2008 32bit  <a href="http://download.oracle.com/otn/nt/oracle10g/10203/10203_vista_w2k8_x86_production_db.zip">http://download.oracle.com/otn/nt/oracle10g/10203/10203_vista_w2k8_x86_production_db.zip</a></p><p>64bit <a href="http://download.oracle.com/otn/nt/oracle10g/10204/10204_vista_w2k8_x64_production_db.zip">http://download.oracle.com/otn/nt/oracle10g/10204/10204_vista_w2k8_x64_production_db.zip</a></p><p>错误1：</p><p>正在检查操作系统要求…<br>要求的结果: 5.0,5.1,5.2,6.0 之一<br>实际结果: 6.1<br>检查完成。此次检查的总体结果为: 失败 &lt;&lt;&lt;&lt;<br>问题: Oracle Database 10g 未在当前操作系统中经过认证。<br>建议案: 确保在正确的平台上安装软件。</p><p>解决方案：</p><h3 id="1、db-Disk1-stage-prereq-db-和-db-Disk1-stage-prereq-db-prereqs-db-中找到refhost-xml，然后在适当位置（在CERTIFIED-SYSTEMS节点中）添加以下内容，注意括号配对"><a href="#1、db-Disk1-stage-prereq-db-和-db-Disk1-stage-prereq-db-prereqs-db-中找到refhost-xml，然后在适当位置（在CERTIFIED-SYSTEMS节点中）添加以下内容，注意括号配对" class="headerlink" title="1、db\Disk1\stage\prereq\db 和 db\Disk1\stage\prereq\db_prereqs\db 中找到refhost.xml，然后在适当位置（在CERTIFIED_SYSTEMS节点中）添加以下内容，注意括号配对"></a>1、db\Disk1\stage\prereq\db 和 db\Disk1\stage\prereq\db_prereqs\db 中找到refhost.xml，然后在适当位置（在CERTIFIED_SYSTEMS节点中）添加以下内容，注意括号配对</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--Microsoft Windows 7--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">OPERATING_SYSTEM</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">VERSION</span> <span class="attr">VALUE</span>=<span class="string">&quot;6.1&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">OPERATING_SYSTEM</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="2、在安装目录中搜索oraparam-ini，找到以下相似内容，然后修改为"><a href="#2、在安装目录中搜索oraparam-ini，找到以下相似内容，然后修改为" class="headerlink" title="2、在安装目录中搜索oraparam.ini，找到以下相似内容，然后修改为"></a>2、在安装目录中搜索oraparam.ini，找到以下相似内容，然后修改为</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#You can customise error message shown for failure, provide value for CERTIFIED_VERSION_FAILURE_MESSAGE</span></span><br><span class="line"><span class="comment">#Windows=5.0,5.1,5.2,6.0,6.1</span></span><br></pre></td></tr></table></figure><p>然后在适当位置添加（在下面或有相似的节点）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#[Windows-6.1-required]</span></span><br><span class="line"><span class="comment">#Minimum display colours for OUI to run</span></span><br><span class="line">MIN_DISPLAY_COLORS=256</span><br><span class="line"><span class="comment">#Minimum CPU speed required for OUI</span></span><br><span class="line"><span class="comment">#CPU=300</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#[Windows-6.1-optional]</span></span><br></pre></td></tr></table></figure><p>错误二：</p><p>正在检查网络配置要求…<br>检查完成。此次检查的总体结果为: 失败 &lt;&lt;&lt;&lt;<br>问题: 安装检测到系统的主 IP 地址是 DHCP 分配的地址。<br>建议案: Oracle 支持在具有 DHCP 分配的 IP 地址的系统上进行安装。但在安装之前, 必须将 Microsoft LoopBack Adapter 配置为系统的主网络适配器。有关在配置有 DHCP 的系统上安装软件的详细信息, 请参阅 Installation Guide。</p><p>解决方案：</p><h5 id="1、开始-运行，输入hdwwiz-exe-win7系统-打开硬件添加界面；xp系统中点击控制面板，然后点击添加硬件"><a href="#1、开始-运行，输入hdwwiz-exe-win7系统-打开硬件添加界面；xp系统中点击控制面板，然后点击添加硬件" class="headerlink" title="1、开始-运行，输入hdwwiz.exe(win7系统)打开硬件添加界面；xp系统中点击控制面板，然后点击添加硬件"></a>1、开始-运行，输入hdwwiz.exe(win7系统)打开硬件添加界面；xp系统中点击控制面板，然后点击添加硬件</h5><h5 id="2、选择-手动从列表选择的硬件添加"><a href="#2、选择-手动从列表选择的硬件添加" class="headerlink" title="2、选择 手动从列表选择的硬件添加"></a>2、选择 手动从列表选择的硬件添加</h5><h5 id="3、选择”网络适配器”"><a href="#3、选择”网络适配器”" class="headerlink" title="3、选择”网络适配器”"></a>3、选择”网络适配器”</h5><h5 id="4、左边选择”Microsoft”，右边选择”Microsoft-Loopback-Adapter”下一步，确定"><a href="#4、左边选择”Microsoft”，右边选择”Microsoft-Loopback-Adapter”下一步，确定" class="headerlink" title="4、左边选择”Microsoft”，右边选择”Microsoft Loopback Adapter”下一步，确定"></a>4、左边选择”Microsoft”，右边选择”Microsoft Loopback Adapter”下一步，确定</h5><h5 id="5、打开网络连接那里的”更改适配器设置”，给新添加的假网卡”Microsoft-Loopback-Adapter”随便配置一个IP"><a href="#5、打开网络连接那里的”更改适配器设置”，给新添加的假网卡”Microsoft-Loopback-Adapter”随便配置一个IP" class="headerlink" title="5、打开网络连接那里的”更改适配器设置”，给新添加的假网卡”Microsoft Loopback Adapter”随便配置一个IP"></a>5、打开网络连接那里的”更改适配器设置”，给新添加的假网卡”Microsoft Loopback Adapter”随便配置一个IP</h5><p>可以参考</p><p><a href="http://www.slyar.com/">http://www.slyar.com</a></p><p><a href="http://www.duote.com/tech/4/11925.html">http://www.duote.com/tech/4/11925.html</a></p>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SQL 连接字符串</title>
      <link href="/2012/03/19/sql-lian-jie-zi-fu-chuan/"/>
      <url>/2012/03/19/sql-lian-jie-zi-fu-chuan/</url>
      
        <content type="html"><![CDATA[<p>&#x2F;&#x2F;sql server 身份验证 连接字符串 private string ConnectionStrSqlServer &#x3D; “server&#x3D;服务器名称;database&#x3D;数据库名称;uid&#x3D;登录名称;pwd&#x3D;登录密码;”;</p><p>&#x2F;&#x2F;windows 身份验证连接字符串 private string ConnectionStrWindows &#x3D; “server&#x3D;服务器名称;database&#x3D;数据库名称;Trusted_Connection&#x3D;SSPI;”;</p><p>&#x2F;&#x2F; 在 C# 代码中用 SqlClient 的方式访问 SQL Server 2008 数据库</p><p>&#x2F;&#x2F; .NET Framework Data Provider for SQL Server 标准写法<br>Data Source&#x3D;. 或者ip地址(需要允许远程连接);Initial Catalog&#x3D;DataBase;User Id&#x3D;UserName;Password&#x3D;pwd;</p><p>&#x2F;&#x2F; .NET Framework Data Provider for SQL Server 另一种标准写法<br>Server&#x3D;. 或者ip地址(需要允许远程连接);Database&#x3D;DataBase;User ID&#x3D;UserName;Password&#x3D;pwd;Trusted_Connection&#x3D;False;</p><p>&#x2F;&#x2F; .NET Framework Data Provider for SQL Server 信任连接写法<br>Data Source&#x3D;. 或者ip地址(需要允许远程连接);Initial Catalog&#x3D;DataBase;Integrated Security&#x3D;SSPI;</p><p>&#x2F;&#x2F; .NET Framework Data Provider for SQL Server 信任连接另一种写法<br>Server&#x3D;. 或者ip地址(需要允许远程连接);Database&#x3D;DataBase;Trusted_Connection&#x3D;True;</p>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS 调用WCF config</title>
      <link href="/2012/03/14/js-diao-yong-wcf-config/"/>
      <url>/2012/03/14/js-diao-yong-wcf-config/</url>
      
        <content type="html"><![CDATA[<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;utf-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">connectionStrings</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">add</span> <span class="attr">name</span>=<span class="string">&quot;conn&quot;</span> <span class="attr">connectionString</span>=<span class="string">&quot;server=.;database=Users;uid=sa;pwd=123456;&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">connectionStrings</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">system.web</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">compilation</span> <span class="attr">debug</span>=<span class="string">&quot;true&quot;</span> <span class="attr">targetFramework</span>=<span class="string">&quot;4.0&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">system.web</span>&gt;</span></span><br><span class="line"> </span><br><span class="line">  <span class="tag">&lt;<span class="name">system.serviceModel</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">behaviors</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">endpointBehaviors</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">behavior</span> <span class="attr">name</span>=<span class="string">&quot;webBehavior&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">enableWebScript</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">behavior</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">endpointBehaviors</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">serviceBehaviors</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">behavior</span> <span class="attr">name</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">          <span class="comment">&lt;!-- 为避免泄漏元数据信息，请在部署前将以下值设置为 false 并删除上面的元数据终结点 --&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">serviceMetadata</span> <span class="attr">httpGetEnabled</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">          <span class="comment">&lt;!-- 要接收故障异常详细信息以进行调试，请将以下值设置为 true。在部署前设置为 false 以避免泄漏异常信息 --&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">serviceDebug</span> <span class="attr">includeExceptionDetailInFaults</span>=<span class="string">&quot;false&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">behavior</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">serviceBehaviors</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">behaviors</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">serviceHostingEnvironment</span> <span class="attr">aspNetCompatibilityEnabled</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">multipleSiteBindingsEnabled</span>=<span class="string">&quot;true&quot;</span> &gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">baseAddressPrefixFilters</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">add</span> <span class="attr">prefix</span>=<span class="string">&quot;string&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">baseAddressPrefixFilters</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">serviceHostingEnvironment</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">services</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">service</span> <span class="attr">name</span>=<span class="string">&quot;IUserTest&quot;</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">endpoint</span> <span class="attr">address</span>=<span class="string">&quot;&quot;</span> <span class="attr">behaviorConfiguration</span>=<span class="string">&quot;webBehavior&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">binding</span>=<span class="string">&quot;webHttpBinding&quot;</span> <span class="attr">contract</span>=<span class="string">&quot;IUserTest&quot;</span> /&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--&lt;endpoint address=&quot;&quot; binding=&quot;basicHttpBinding&quot; contract=&quot;ReaderService&quot;  /&gt;--&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">service</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">services</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bindings</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">webHttpBinding</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">binding</span> <span class="attr">name</span>=<span class="string">&quot;webBinding&quot;</span> <span class="attr">crossDomainScriptAccessEnabled</span>=<span class="string">&quot;true&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">binding</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">webHttpBinding</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bindings</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">system.serviceModel</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"> <span class="tag">&lt;<span class="name">system.webServer</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modules</span> <span class="attr">runAllManagedModulesForAllRequests</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">system.webServer</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><p>注意：</p><h5 id="1-在svc的文件中要加上Factory-”System-ServiceModel-Activation-WebServiceHostFactory”"><a href="#1-在svc的文件中要加上Factory-”System-ServiceModel-Activation-WebServiceHostFactory”" class="headerlink" title="1.在svc的文件中&lt;%@ ServiceHost Language&#x3D;”C#” Debug&#x3D;”true” Service&#x3D;”WCFTest.UserTest” CodeBehind&#x3D;”UserTest.svc.cs” Factory&#x3D;”System.ServiceModel.Activation.WebServiceHostFactory” %&gt;要加上Factory&#x3D;”System.ServiceModel.Activation.WebServiceHostFactory”"></a>1.在svc的文件中&lt;%@ ServiceHost Language&#x3D;”C#” Debug&#x3D;”true” Service&#x3D;”WCFTest.UserTest” CodeBehind&#x3D;”UserTest.svc.cs” Factory&#x3D;”System.ServiceModel.Activation.WebServiceHostFactory” %&gt;要加上Factory&#x3D;”System.ServiceModel.Activation.WebServiceHostFactory”</h5><h5 id="2-在代码上加上-AspNetCompatibilityRequirements-RequirementsMode-AspNetCompatibilityRequirementsMode-Allowed"><a href="#2-在代码上加上-AspNetCompatibilityRequirements-RequirementsMode-AspNetCompatibilityRequirementsMode-Allowed" class="headerlink" title="2.在代码上加上 [AspNetCompatibilityRequirements(RequirementsMode &#x3D; AspNetCompatibilityRequirementsMode.Allowed)]"></a>2.在代码上加上 [AspNetCompatibilityRequirements(RequirementsMode &#x3D; AspNetCompatibilityRequirementsMode.Allowed)]</h5><h5 id="3-在接口上加上-WebInvoke-ResponseFormat-WebMessageFormat-Json-UriTemplate-”-方法名”-Method-”GET”-BodyStyle-WebMessageBodyStyle-Wrapped"><a href="#3-在接口上加上-WebInvoke-ResponseFormat-WebMessageFormat-Json-UriTemplate-”-方法名”-Method-”GET”-BodyStyle-WebMessageBodyStyle-Wrapped" class="headerlink" title="3.在接口上加上 [WebInvoke(ResponseFormat &#x3D; WebMessageFormat.Json,UriTemplate&#x3D;”&#x2F;方法名”, Method&#x3D;”GET” ,BodyStyle &#x3D; WebMessageBodyStyle.Wrapped)]"></a>3.在接口上加上 [WebInvoke(ResponseFormat &#x3D; WebMessageFormat.Json,UriTemplate&#x3D;”&#x2F;方法名”, Method&#x3D;”GET” ,BodyStyle &#x3D; WebMessageBodyStyle.Wrapped)]</h5>]]></content>
      
      
      <categories>
          
          <category> WCF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>XP IIS COM+ 应用程序无法打开</title>
      <link href="/2012/03/14/xp-iis-com-ying-yong-cheng-xu-wu-fa-da-kai/"/>
      <url>/2012/03/14/xp-iis-com-ying-yong-cheng-xu-wu-fa-da-kai/</url>
      
        <content type="html"><![CDATA[<p><strong>打开 “管理工具”-&gt;“组件服务”-&gt;“计算机”-&gt;“我的电脑”－&gt;“COM+应用程序”,(如果打不开看下面的A：提示) 然后在右边框中，右击“IIS Out-Of-Process Pooled Applications”，(如果没有看到此项看下面：B)选择属性，点“标识”选项卡，选择“系统帐户”，然后确定，在“服务”(不是刚才那个,打开 管理工具-服务)中重启IIS即可。</strong></p><p>1.如打开“COM+应用程序”时出现错误，错误代码：“8004E00F-COM+无法与Microsoft分布式事务协调程序 ”</p><p>解决办法：在”开始”-“运行“窗口中输入，msdtc -resetlog (注意-前面有一空格)即可。</p><p>2.在“COM+应用程序”右框的组件中“IIS Out-Of-Process Pooled Applications”找不到解决办法：</p><p>开始菜单-&gt;运行-&gt;cmd打开命令提示窗口。</p><p>输入cd %windir%&#x2F;system32&#x2F;inetsrv切换到了system32下inetsrv目录。</p><p>再输入rundll32 wamreg.dll, CreateIISPackage。（这里小写的时候是：createiispackage）</p><p>注意:必须准确键入“CreateIISPackage”，它区分大小写。</p><p>再输入regsvr32 asptxn.dll。</p>]]></content>
      
      
      <categories>
          
          <category> Computer </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Computer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Installshield 创建虚拟目录脚本</title>
      <link href="/2011/12/22/installshield-chuang-jian-xu-ni-mu-lu-jiao-ben/"/>
      <url>/2011/12/22/installshield-chuang-jian-xu-ni-mu-lu-jiao-ben/</url>
      
        <content type="html"><![CDATA[<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">function CreateVirtualDir(VirtualName,VirtualDataPath)</span><br><span class="line"></span><br><span class="line">    STRING szWaitTxt,szVirPath;</span><br><span class="line">    OBJECT objIIS_Virtual,objVirtDir;</span><br><span class="line"></span><br><span class="line">begin</span><br><span class="line"></span><br><span class="line">    szWaitTxt= &quot;正在创建 &quot; + VirtualName + &quot; 虚拟目录....&quot;;</span><br><span class="line">    SdShowMsg (szWaitTxt, TRUE);</span><br><span class="line">    Delay(3);          </span><br><span class="line"></span><br><span class="line">    set objIIS_Virtual = CoGetObject(&quot;IIS://localhost/W3SVC/1/Root&quot;, &quot;&quot;);                   </span><br><span class="line">    szVirPath = TARGETDIR + VirtualDataPath;</span><br><span class="line"></span><br><span class="line">    if (IsObject(objIIS_Virtual)) then</span><br><span class="line"></span><br><span class="line">        try</span><br><span class="line"></span><br><span class="line">            set objVirtDir = objIIS_Virtual.Create(&quot;IISWebVirtualDir&quot;, VirtualName);</span><br><span class="line">            if (IsObject(objVirtDir)) then</span><br><span class="line">                objVirtDir.Path = szVirPath; </span><br><span class="line"></span><br><span class="line">                objVirtDir.AccessRead = TRUE;</span><br><span class="line">                objVirtDir.AccessScript = TRUE; </span><br><span class="line">                objVirtDir.AccessWrite = FALSE;</span><br><span class="line">                objVirtDir.EnableDirBrowsing = FALSE;  </span><br><span class="line">                objVirtDir.EnableDefaultDoc = TRUE;  </span><br><span class="line">                objVirtDir.AppFriendlyName = VirtualName;</span><br><span class="line">                objVirtDir.SetInfo();          </span><br><span class="line"></span><br><span class="line">                objVirtDir.AppCreate2(2);</span><br><span class="line">                objVirtDir.SetInfo();</span><br><span class="line">            endif;  </span><br><span class="line"></span><br><span class="line">        catch</span><br><span class="line">            MessageBox(&quot;无法创建虚拟目录，请自行创建虚拟目录！&quot;, INFORMATION);</span><br><span class="line">        endcatch; </span><br><span class="line"></span><br><span class="line">    endif;</span><br><span class="line"></span><br><span class="line">end; </span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>由于 Web 服务器上的“ISAPI 和 CGI 限制”列表设置，无法提供您请求的页面</title>
      <link href="/2011/12/22/you-yu-web-fu-wu-qi-shang-de-isapi-he-cgi-xian-zhi-lie-biao-she-zhi-wu-fa-ti-gong-nin-qing-qiu-de-ye-mian/"/>
      <url>/2011/12/22/you-yu-web-fu-wu-qi-shang-de-isapi-he-cgi-xian-zhi-lie-biao-she-zhi-wu-fa-ti-gong-nin-qing-qiu-de-ye-mian/</url>
      
        <content type="html"><![CDATA[<h3 id="1-打开IIS管理器"><a href="#1-打开IIS管理器" class="headerlink" title="1.打开IIS管理器"></a>1.打开IIS管理器</h3><p><img src="/images/2011122214481644.jpg" alt="2011122214481644.jpg"></p><h3 id="2-选中ISAPI和CGI限制，把-net版本设置为允许。"><a href="#2-选中ISAPI和CGI限制，把-net版本设置为允许。" class="headerlink" title="2.选中ISAPI和CGI限制，把.net版本设置为允许。"></a>2.选中ISAPI和CGI限制，把.net版本设置为允许。</h3><p><img src="/images/2011122214510872.jpg" alt="2011122214510872.jpg"></p><p><img src="/images/2011122214512447.jpg" alt="2011122214512447.jpg"></p>]]></content>
      
      
      <categories>
          
          <category> Computer </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Computer </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
