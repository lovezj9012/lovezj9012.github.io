<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>WinScp 保存的密码解密</title>
      <link href="/tools/winscp-bao-cun-de-mi-ma-jie-mi/"/>
      <url>/tools/winscp-bao-cun-de-mi-ma-jie-mi/</url>
      
        <content type="html"><![CDATA[<h2 id="WinSCP工具解密"><a href="#WinSCP工具解密" class="headerlink" title="WinSCP工具解密"></a>WinSCP工具解密</h2><p>网上查找恢复WinSCP工具的密码，有的说需要找到WinScp.ini文件在安装目录中没找到,找到WinSCP工具的设置，发现默认密码保存在注册表</p><p><img src="/images/2023110714211301.png" alt="2023110714211301.png"></p><h2 id="winscppwd工具解密"><a href="#winscppwd工具解密" class="headerlink" title="winscppwd工具解密"></a>winscppwd工具解密</h2><p>工具 <a href="https://github.com/anoopengineer/winscppasswd/releases/tag/1.0">winscppwd</a></p><ol><li><p>注册表恢复方式<br>winscppasswd.exe ip 账号 注册表中加密串<br><img src="/images/2023110714211302.png" alt="2023110714211302.png"></p></li><li><p>ini文件恢复方式<br>使用ini方式需要编译一下源代码，ini文件可以导出配置，工具-&gt;导出&#x2F;备份配置<br>winscppasswd.exe ini文件</p></li></ol><p>参考 <a href="https://www.zhihu.com/tardis/bd/art/502455530?source_id=1001">https://www.zhihu.com/tardis/bd/art/502455530?source_id=1001</a></p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>win10蓝屏不自动重启</title>
      <link href="/computer/win10-lan-ping-bu-zi-dong-chong-qi/"/>
      <url>/computer/win10-lan-ping-bu-zi-dong-chong-qi/</url>
      
        <content type="html"><![CDATA[<h2 id="高级系统重设置自动重启"><a href="#高级系统重设置自动重启" class="headerlink" title="高级系统重设置自动重启"></a>高级系统重设置自动重启</h2><p><img src="/images/2023110113501301.png" alt="2023110113501301.png"></p><h2 id="使用命令设置自动重启"><a href="#使用命令设置自动重启" class="headerlink" title="使用命令设置自动重启"></a>使用命令设置自动重启</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">wmic RecoverOS <span class="token builtin class-name">set</span> AutoReboot <span class="token operator">=</span> True<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="/images/2023110113501302.png" alt="2023110113501302.png"></p>]]></content>
      
      
      <categories>
          
          <category> Computer </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Computer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>win11系统优化</title>
      <link href="/computer/win11-xi-tong-you-hua/"/>
      <url>/computer/win11-xi-tong-you-hua/</url>
      
        <content type="html"><![CDATA[<h2 id="任务栏右键任务管理器"><a href="#任务栏右键任务管理器" class="headerlink" title="任务栏右键任务管理器"></a>任务栏右键任务管理器</h2><ol><li>通过regedit进入注册表</li><li>进入注册表新建一个DWORD值命名为UndockingDisabled，更改值为1<br><img src="/images/2023103113241101.png" alt="2023103113241101.png"></li></ol><h2 id="优化文件资源管理器"><a href="#优化文件资源管理器" class="headerlink" title="优化文件资源管理器"></a>优化文件资源管理器</h2><ol><li>通过gpedit.msc进入组策略计算机配置-&gt;管理模块-&gt;Windows组件-&gt;文件资源管理器</li><li>双击右侧快速访问，将默认的未配置修改为已禁用</li></ol><h2 id="切换旧版右键菜单"><a href="#切换旧版右键菜单" class="headerlink" title="切换旧版右键菜单"></a>切换旧版右键菜单</h2><ol><li>切换</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">reg <span class="token function">add</span> <span class="token string">"HKCU\Software\Classes\CLSID\&#123;86ca1aa0-34aa-4e8b-a509-50c905bae2a2&#125;\InprocServer32"</span> /f /ve<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="2"><li>恢复win11右键菜单</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">reg delete <span class="token string">"HKCU\Software\Classes\CLSID\&#123;86ca1aa0-34aa-4e8b-a509-50c905bae2a2&#125;"</span> /f<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="3"><li>重启Windows资源管理器生效</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">taskkill /f /im explorer.exestart explorer.exe<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>最好不是kill资源管理器，会导致点击开始菜单无反应</p><h2 id="任务栏居左"><a href="#任务栏居左" class="headerlink" title="任务栏居左"></a>任务栏居左</h2><p>设置中找到个性化，找到任务栏行为中任务栏对齐方式选择居左</p><h2 id="关闭推荐"><a href="#关闭推荐" class="headerlink" title="关闭推荐"></a>关闭推荐</h2><p>设置中找到个性化中的开始，将显示最近添加的应用关闭</p><h2 id="剪贴板历史记录"><a href="#剪贴板历史记录" class="headerlink" title="剪贴板历史记录"></a>剪贴板历史记录</h2><p>win+v打开剪贴板，点击启用</p><h2 id="win11系统更新一直卡在正在更新中"><a href="#win11系统更新一直卡在正在更新中" class="headerlink" title="win11系统更新一直卡在正在更新中"></a>win11系统更新一直卡在正在更新中</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">dism.exe /Online/Cleanup-image/Scanhealthdism.exe /Online/Cleanup-image/Restorehealth<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Computer </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Computer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>window忘记密码</title>
      <link href="/computer/window-wang-ji-mi-ma/"/>
      <url>/computer/window-wang-ji-mi-ma/</url>
      
        <content type="html"><![CDATA[<h3 id="利用winpe中密码修改工具修改"><a href="#利用winpe中密码修改工具修改" class="headerlink" title="利用winpe中密码修改工具修改"></a>利用winpe中密码修改工具修改</h3><h3 id="带命令的安装模式下修改"><a href="#带命令的安装模式下修改" class="headerlink" title="带命令的安装模式下修改"></a>带命令的安装模式下修改</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 新建用户</span>net user zhangsan <span class="token number">123456</span> /add<span class="token comment">#设置用户组</span>net localgroup administrators zhangsan /add<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>登录zhangsan账户，然后重置被锁定用户密码</p>]]></content>
      
      
      <categories>
          
          <category> Computer </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Computer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++获取当前系统日期</title>
      <link href="/c-c/c-huo-qu-dang-qian-xi-tong-ri-qi/"/>
      <url>/c-c/c-huo-qu-dang-qian-xi-tong-ri-qi/</url>
      
        <content type="html"><![CDATA[<pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">#ifdef _WIN32#include&lt;windows.h&gt;#else#include&lt;sys&#x2F;time.h&gt;#endif#include&lt;stdlib.h&gt;&#x2F;&#x2F;mode D(YYMMDD) T(HHMMSS)char* GetSysTime(char mode)&#123;    char f_date[7];    char t_yy[3],t_mm[3],t_dd[3];    time_t now;    tm* timeInfo;    time(&amp;now);    timeInfo &#x3D; localtime(&amp;now);    if(mode&#x3D;&#x3D;&#39;T&#39;)&#123;        sprintf(t_yy,&quot;%02d&quot;,timeInfo-&gt;tm_hour);        sprintf(t_mm,&quot;%02d&quot;,timeInfo-&gt;tm_min);        sprintf(t_dd,&quot;%02d&quot;,timeInfo-&gt;tm_sec);        strncpy(f_date,t_yy,2);        strncpy(f_date+2,t_mm,2);        strncpy(f_date+4,t_dd,2);        f_date[6]&#x3D;&#39;\0&#39;;    &#125;else&#123;        sprintf(t_yy,&quot;%02d&quot;,(timeInfo-&gt;tm_year+1900));        sprintf(t_mm,&quot;%02d&quot;,(timeInfo-&gt;tm_mon+1));        sprintf(t_dd,&quot;%02d&quot;,timeInfo-&gt;tm_mday);        strncpy(f_date,t_yy,2);        strncpy(f_date+2,t_mm,2);        strncpy(f_date+4,t_dd,2);        f_date[6]&#x3D;&#39;\0&#39;;    &#125;    return(f_date);&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> C/C++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C/C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux ifconfig命令</title>
      <link href="/computer/linux-ifconfig-ming-ling/"/>
      <url>/computer/linux-ifconfig-ming-ling/</url>
      
        <content type="html"><![CDATA[<h3 id="ifconfig命令提示找不到"><a href="#ifconfig命令提示找不到" class="headerlink" title="ifconfig命令提示找不到"></a>ifconfig命令提示找不到</h3><p><img src="/images/2023102511141301.png" alt="2023102511141301.png"></p><h3 id="切换root用户"><a href="#切换root用户" class="headerlink" title="切换root用户"></a>切换root用户</h3><p>可以使用exit退出切到root用户，或者使用sudo</p><h3 id="安装-ifconfig"><a href="#安装-ifconfig" class="headerlink" title="安装 ifconfig"></a>安装 ifconfig</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">yum <span class="token function">install</span> <span class="token function">ifconfig</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="/images/2023102511141302.png" alt="2023102511141302.png"></p><h3 id="查找-ifconfig"><a href="#查找-ifconfig" class="headerlink" title="查找 ifconfig"></a>查找 ifconfig</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">yum search <span class="token function">ifconfig</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="/images/2023102511141303.png" alt="2023102511141303.png"></p><h3 id="安装-net-tools-x86-64"><a href="#安装-net-tools-x86-64" class="headerlink" title="安装 net-tools.x86_64"></a>安装 net-tools.x86_64</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">yum <span class="token function">install</span> <span class="token parameter variable">-y</span> net-tools.x86_64<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Computer </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Computer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux awk命令</title>
      <link href="/computer/linux-awk-ming-ling/"/>
      <url>/computer/linux-awk-ming-ling/</url>
      
        <content type="html"><![CDATA[<h2 id="awk-语法"><a href="#awk-语法" class="headerlink" title="awk 语法"></a>awk 语法</h2><p>awk    option      pattern[action]  file<br>      awk可选参数   模式     动作     文件&#x2F;数据<br>action 指动作，awk擅长文本格式化，并且能输出格式化后的结果，因此最常见的动作就是print和printf</p><h2 id="awk-处理文本内容模式"><a href="#awk-处理文本内容模式" class="headerlink" title="awk 处理文本内容模式"></a>awk 处理文本内容模式</h2><ol><li>awk默认以空格为分隔符，并且多个空格也识别为一个空格</li><li>awk按行处理文件，一行处理完毕后，在处理下一行</li><li>awk可以根据用户只当你哥的分隔去处理数据，没有指定则默认空格</li></ol><h3 id="awk-内置变量"><a href="#awk-内置变量" class="headerlink" title="awk 内置变量"></a>awk 内置变量</h3><table><thead><tr><th>内置变量</th><th>说明</th></tr></thead><tbody><tr><td>$n</td><td>指定分隔符后，当前的第n个列所在的字段</td></tr><tr><td>$0</td><td>完整的一行记录</td></tr><tr><td>FS</td><td>输入字段分隔符，默认是空格</td></tr><tr><td>OFS</td><td>输出字段分隔符，默认是空格</td></tr><tr><td>RS</td><td>输入记录分隔符，指定输入时的换行符</td></tr><tr><td>ORS</td><td>输出记录分隔符，输出时用指定符号替换换行符</td></tr><tr><td>NF(Number of fields)</td><td>字段分隔后，当前一共多少个字段</td></tr><tr><td>NR(Number of records)</td><td>当前记录数，行号</td></tr><tr><td>FNR</td><td>各文件分别计数的行号</td></tr><tr><td>FILENAME</td><td>当前文件名</td></tr><tr><td>ARGC</td><td>命令行参数个数</td></tr><tr><td>ARGV</td><td>数组，命令行所给的各个参数</td></tr></tbody></table><p>数据<br><img src="/images/2023102510151001.png" alt="2023102510151001.png"></p><ol><li>输出指定列内容，比如第三列</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">awk</span> <span class="token string">'&#123;print $3&#125;'</span> test.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="/images/2023102510151002.png" alt="2023102510151002.png"><br>2. 输出多列内容</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">awk</span> <span class="token string">'&#123;print $1,$3&#125;'</span> test.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="/images/2023102510151003.png" alt="2023102510151003.png"><br>3. 查看指定行内容，比如第二行</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">awk</span> <span class="token string">'NR==3 &#123;print $0&#125;'</span> test.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="/images/2023102510151004.png" alt="2023102510151004.png"><br>4. 输出从第n行到m行，并显示行号</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">awk</span> <span class="token string">'NR==1,NR==3 &#123;print NR,$0&#125;'</span> test.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="/images/2023102510151005.png" alt="2023102510151005.png"><br>5. 自定义输出内容</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">awk</span> <span class="token string">'&#123;print "第一列" $1,"第三列" $3&#125;'</span> test.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="/images/2023102510151006.png" alt="2023102510151006.png"></p><h3 id="awk-参数"><a href="#awk-参数" class="headerlink" title="awk 参数"></a>awk 参数</h3><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>-F</td><td>指定分隔字段符</td></tr><tr><td>-v</td><td>定义或修改一个awk内部变量</td></tr><tr><td>-f</td><td>从脚本文件中读取awk命令</td></tr></tbody></table><p>数据和之前test一样，只是将空格替换为#</p><ol><li>指定分隔符显示内容</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">awk</span> <span class="token parameter variable">-F</span> <span class="token string">'#'</span> <span class="token string">'&#123;print $1&#125;'</span> test2.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="/images/2023102510151008.png" alt="2023102510151008.png"><br>2. 显示文件第一列，倒数第一、二列的内容</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">awk</span> <span class="token parameter variable">-F</span> <span class="token string">'#'</span> <span class="token string">'&#123;print $1,$NF,$(NF-1)&#125;'</span> test2.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="/images/2023102510151009.png" alt="2023102510151009.png"><br>3. 取出本机ip</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">ifconfig</span> enp0s3 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'NR==2 &#123;print $2&#125;'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="/images/2023102510151010.png" alt="2023102510151010.png"><br><img src="/images/2023102510151011.png" alt="2023102510151011.png"><br>4. 取出文件的第一列和最后一列</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">awk</span> <span class="token parameter variable">-F</span> <span class="token string">'#'</span> <span class="token string">'&#123;print $1,$NF&#125;'</span> test2.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="OFS输出分隔符"><a href="#OFS输出分隔符" class="headerlink" title="OFS输出分隔符"></a>OFS输出分隔符</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">awk</span> <span class="token parameter variable">-F</span> <span class="token string">'#'</span> <span class="token parameter variable">-v</span> <span class="token assign-left variable">OFS</span><span class="token operator">=</span><span class="token string">' *** '</span> <span class="token string">'&#123;print  $1,$NF&#125;'</span> test2.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="/images/2023102510151007.png" alt="2023102510151007.png"></p><p>参考 <a href="https://www.php.cn/faq/500600.html">https://www.php.cn/faq/500600.html</a></p>]]></content>
      
      
      <categories>
          
          <category> Computer </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Computer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux系统配置</title>
      <link href="/computer/linux-xi-tong-pei-zhi/"/>
      <url>/computer/linux-xi-tong-pei-zhi/</url>
      
        <content type="html"><![CDATA[<h2 id="vim-显示行号"><a href="#vim-显示行号" class="headerlink" title="vim 显示行号"></a>vim 显示行号</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">vim</span> /etc/vimrc<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>执行命令，在最后加上如下图的set nu<br><img src="/images/2023102509521101.png" alt="2023102509521101.png"></p>]]></content>
      
      
      <categories>
          
          <category> Computer </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Computer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++ Vector 排序</title>
      <link href="/c-c/c-vector-pai-xu/"/>
      <url>/c-c/c-vector-pai-xu/</url>
      
        <content type="html"><![CDATA[<h2 id="vector排序"><a href="#vector排序" class="headerlink" title="vector排序"></a>vector排序</h2><h3 id="排序元素为整数"><a href="#排序元素为整数" class="headerlink" title="排序元素为整数"></a>排序元素为整数</h3><pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">void printVector(const vector&lt;int&gt;&amp; v) &#123;for (vector&lt;int&gt;::const_iterator i &#x3D; v.begin(); i!&#x3D;v.end(); i++)&#123;cout &lt;&lt; (*i) &lt;&lt; &quot;\t&quot;;&#125;cout &lt;&lt; endl;&#125;int main()&#123;    &#x2F;&#x2F;默认构造vector&lt;int&gt; v;for (int i &#x3D; 0; i &lt; 10; i++)&#123;v.push_back(i);&#125;    cout &lt;&lt; &quot;-----------------排序----------------------&quot; &lt;&lt; endl;sort(v.begin(),v.end());printVector(v);cout &lt;&lt; &quot;-----------------降序排序----------------------&quot; &lt;&lt; endl;sort(v.begin(), v.end(), greater&lt;int&gt;());printVector(v);    return 0;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="排序元素为对象"><a href="#排序元素为对象" class="headerlink" title="排序元素为对象"></a>排序元素为对象</h3><pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">struct Students &#123;string name;int score;string date;&#125;;void printVectorStu(const vector&lt;Students&gt;&amp; v) &#123;for (vector&lt;Students&gt;::const_iterator i &#x3D; v.begin(); i !&#x3D; v.end(); i++)&#123;cout &lt;&lt; (*i).name &lt;&lt; &quot;\t&quot; &lt;&lt;(*i).score &lt;&lt; &quot;\t&quot; &lt;&lt;(*i).date &lt;&lt; &quot;\t&quot;;cout &lt;&lt; endl;&#125;cout &lt;&lt; endl;&#125;&#x2F;&#x2F;日期降序bool compareDate(Students&amp; s1, Students&amp; s2) &#123;return s1.date &gt; s2.date;&#125;&#x2F;&#x2F;分数升序bool compareScore(Students&amp; s1, Students&amp; s2) &#123;return s1.score &lt;&#x3D; s2.score;&#125;int main()&#123;    vector&lt;Students&gt; students &#x3D; &#123;&#123;&quot;zhangsan&quot;,44,&quot;20230903&quot;&#125;,&#123;&quot;lishi&quot;,55,&quot;20231018&quot;&#125;,&#123;&quot;wangwu&quot;,36,&quot;20230707&quot;&#125;,&#123;&quot;zhaoliu&quot;,21,&quot;20231109&quot;&#125;,&#123;&quot;angel&quot;,66,&quot;20230520&quot;&#125;&#125;;std::sort(students.begin(), students.end(), compareDate);printVectorStu(students);sort(students.begin(), students.end(), compareScore);printVectorStu(students);    return 0;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p><img src="/images/2023102410591301.png" alt="2023102410591301.png"><br>排序元素为对象出现上图错误，需要在.h中在比较方法(compareScore)中申明函数为静态(static)</p>]]></content>
      
      
      <categories>
          
          <category> C/C++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C/C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo 更换主题</title>
      <link href="/tools/hexo-geng-huan-zhu-ti/"/>
      <url>/tools/hexo-geng-huan-zhu-ti/</url>
      
        <content type="html"><![CDATA[<h2 id="切换主题"><a href="#切换主题" class="headerlink" title="切换主题"></a>切换主题</h2><p>修改博客文件夹根目录下的_config.yml中theme的值为主体名称,以主题<a href="https://github.com/blinkfox/hexo-theme-matery.git">hexo-theme-matery</a>为例</p><h2 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h2><h3 id="新建tags页"><a href="#新建tags页" class="headerlink" title="新建tags页"></a>新建tags页</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">hexo new page <span class="token string">"tags"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>在新建的index.md中粘贴以下内容</p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup">---title: tagsdate: 2018-09-30 18:23:38type: "tags"layout: "tags"---<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>其他的categories、about、contract和friends都只要修改对应的名称即可</p><h3 id="新建404页面"><a href="#新建404页面" class="headerlink" title="新建404页面"></a>新建404页面</h3><p>在博客目录中的source下新建404.md文件，输入以下内容</p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup">---title: 404date: 2018-09-30 17:25:30type: "404"layout: "404"description: "Oops～，我崩溃了！找不到你想要的页面 :("---<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="搜索"><a href="#搜索" class="headerlink" title="搜索"></a>搜索</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> hexo-generator-search <span class="token parameter variable">--save</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>在博客根目录中的_config.yml文件中新增以下配置</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">search</span><span class="token punctuation">:</span>  <span class="token key atrule">path</span><span class="token punctuation">:</span> search.xml  <span class="token key atrule">field</span><span class="token punctuation">:</span> post <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="中文链接转拼音"><a href="#中文链接转拼音" class="headerlink" title="中文链接转拼音"></a>中文链接转拼音</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> i hexo-permalink-pinyin <span class="token parameter variable">--save</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>在博客根目录中的_config.yml文件中新增以下配置</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">permalink_pinyin</span><span class="token punctuation">:</span>  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">separator</span><span class="token punctuation">:</span> <span class="token string">'-'</span> <span class="token comment"># default: '-'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="文章字数统计插件"><a href="#文章字数统计插件" class="headerlink" title="文章字数统计插件"></a>文章字数统计插件</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> i <span class="token parameter variable">--save</span> hexo-wordcount<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h2><h3 id="修改语言"><a href="#修改语言" class="headerlink" title="修改语言"></a>修改语言</h3><p>修改根目录下的language的值为zh-CN</p><p>修改url的值 <a href="https://yourname.github.io/">https://yourname.github.io</a></p><p>修改permalink中的<a href="https://hexo.io/zh-cn/docs/permalinks">永久链接</a></p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>移动机顶盒刷机</title>
      <link href="/other/yi-dong-ji-ding-he-shua-ji/"/>
      <url>/other/yi-dong-ji-ding-he-shua-ji/</url>
      
        <content type="html"><![CDATA[<h2 id="刷机步骤"><a href="#刷机步骤" class="headerlink" title="刷机步骤"></a>刷机步骤</h2><ol><li><p>把刷机的MstarUpgrade.bin放到U盘根目录中，开机时频繁点按遥控器音量+，如果刷机不需要第二部，如果卡开机，关机第二步。</p></li><li><p>断电重命名MstarUpgrade.bin为MstarUpgrade_ANP.bin放到U盘根目录中，开机时频繁点按遥控器音量+，自动重启升级刷机。</p></li></ol><p>注意：<br><strong>U盘格式必须是fat32</strong></p><p>参考<br>链接: <a href="https://pan.baidu.com/s/1DIDjqA9xZ3_ZNDNlZDErMQ">https://pan.baidu.com/s/1DIDjqA9xZ3_ZNDNlZDErMQ</a> 提取码： 6axf<br>备用链接：<a href="https://wwt.lanzoux.com/b021zvjkj">https://wwt.lanzoux.com/b021zvjkj</a>  提取码：6l1n<br>固件路径：A《当贝桌面纯净完美版–固件大全》（固件种类更多一些）&gt;5《烽火(HG)盒子固件合集》&gt;《HG680-MC／HG680-MY》通刷</p><p><strong>刷机网站</strong><br><a href="https://histb.com/">https://histb.com</a><br>神雕大佬官网:<a href="https://www.ecoo.top/">https://www.ecoo.top</a></p>]]></content>
      
      
      <categories>
          
          <category> Other </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Other </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hiredis连接redis</title>
      <link href="/c-c/hiredis-lian-jie-redis/"/>
      <url>/c-c/hiredis-lian-jie-redis/</url>
      
        <content type="html"><![CDATA[<p><a href="https://lovezj9012.github.io/tools/linux-an-zhuang-redis/">linxu上安装redis</a>参考之前的文章</p><p>hiredis是一个非常全面的C语言版redis接口库，支持所有命令、管道与脚本。</p><p>使用C语言客户端(hiredis)连接Redis，需要先安装编译环境以及hiredis，以CentOS为例，介绍C客户端环境搭建</p><h2 id="安装gcc、make和hiredis"><a href="#安装gcc、make和hiredis" class="headerlink" title="安装gcc、make和hiredis"></a>安装gcc、make和hiredis</h2><ol><li>安装gcc和make</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">yum <span class="token function">install</span> gcc <span class="token function">make</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="2"><li>安装<a href="https://github.com/redis/hiredis/archive/master.zip">hiredis</a></li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">wget</span> https://github.com/redis/hiredis/archive/master.zip<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>如果命令下载不了可以直接下载下来然后上传的linux上</p><p>编译<br>进入hiredis解压后的目录后编译安装</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">make</span><span class="token function">make</span> <span class="token function">install</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>执行上面命令后<br>hiredis.h文件默认在 &#x2F;usr&#x2F;local&#x2F;include&#x2F;hiredis&#x2F;中<br>libhiredis.so.1.2.1-dev文件默认在 &#x2F;usr&#x2F;local&#x2F;lib&#x2F;中</p><h2 id="连接redis"><a href="#连接redis" class="headerlink" title="连接redis"></a>连接redis</h2><p>新建testRedis.c文件</p><pre class="line-numbers language-C" data-language="C"><code class="language-C">#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#include &lt;string.h&gt;#include &lt;&#x2F;usr&#x2F;local&#x2F;include&#x2F;hiredis&#x2F;hiredis.h&gt;int main(int argc, char **argv) &#123;     unsigned int j;     redisContext *conn;     redisReply *reply;     if (argc &lt; 3) &#123;             printf(&quot;Usage: example &#123;instance_ip_address&#125; 6379 &#123;password&#125;\n&quot;);             exit(0);     &#125;     const char *hostname &#x3D; argv[1];     const int port &#x3D; atoi(argv[2]);     const char *password &#x3D; argv[3];     struct timeval timeout &#x3D; &#123; 1, 500000 &#125;; &#x2F;&#x2F; 1.5 seconds     conn &#x3D; redisConnectWithTimeout(hostname, port, timeout);     if (conn &#x3D;&#x3D; NULL || conn-&gt;err) &#123;if (conn) &#123;             printf(&quot;Connection error: %s\n&quot;, conn-&gt;errstr);             redisFree(conn);&#125; else &#123;             printf(&quot;Connection error: can&#39;t allocate redis context\n&quot;);&#125;        exit(1);     &#125;     &#x2F;* AUTH 使用密码认证，不认证下面操作无法继续*&#x2F;      reply &#x3D; redisCommand(conn, &quot;AUTH %s&quot;, password);     printf(&quot;AUTH: %s\n&quot;, reply-&gt;str);     freeReplyObject(reply); &#x2F;&#x2F;释放执行redisCommand返回replay的结果所占内存      &#x2F;* Set *&#x2F;     reply &#x3D; redisCommand(conn,&quot;SET %s %s&quot;, &quot;welcome&quot;, &quot;Hello, DCS for Redis!&quot;);     printf(&quot;SET: %s\n&quot;, reply-&gt;str);     freeReplyObject(reply);         &#x2F;* Get *&#x2F;     reply &#x3D; redisCommand(conn,&quot;GET welcome&quot;);     printf(&quot;GET welcome: %s\n&quot;, reply-&gt;str);     freeReplyObject(reply);          &#x2F;* Disconnects and frees the context *&#x2F;     if(conn!&#x3D;NULL)&#123;        redisFree(conn);     &#125;     return 0;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>保存退出后执行命令</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">gcc testRedis.c <span class="token parameter variable">-o</span> testRedis <span class="token parameter variable">-L</span> /usr/local/lib <span class="token parameter variable">-lhiredis</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="/images/2023101713300301.png" alt="2023101713300301.png"></p><p>然后执行命令测试</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">./testRedis <span class="token number">127.0</span>.0.1 <span class="token number">6379</span> <span class="token number">123456</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>如果如下图则成功<br><img src="/images/2023101713300302.png" alt="2023101713300302.png"><br>否则需要新建目录迁移文件</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">mkdir</span> /usr/lib/hiredis<span class="token function">cp</span> /usr/local/lib/libhiredis.so.1.2.1-dev /usr/lib/hiredis/<span class="token function">mkdir</span> /usr/include/hiredis<span class="token function">cp</span> /usr/local/include/hiredis/hiredis.h /usr/include/hiredis/<span class="token builtin class-name">echo</span> <span class="token string">'/usr/local/lib'</span> <span class="token operator">>></span>/etc/ld.so.confldconfig<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>参考 <a href="https://zhuanlan.zhihu.com/p/75281231">https://zhuanlan.zhihu.com/p/75281231</a></p>]]></content>
      
      
      <categories>
          
          <category> C/C++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C/C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>TVBox设置源及修改</title>
      <link href="/other/tvbox-she-zhi-yuan-ji-xiu-gai/"/>
      <url>/other/tvbox-she-zhi-yuan-ji-xiu-gai/</url>
      
        <content type="html"><![CDATA[<h3 id="修改TVBox背景及内置源"><a href="#修改TVBox背景及内置源" class="headerlink" title="修改TVBox背景及内置源"></a>修改TVBox背景及内置源</h3><ol><li>下载<a href="https://mt2.cn/download/">MT管理器</a></li><li>使用MT管理器查看TVBox安装包</li><li>使用dex编辑器++查看classex.dex<br><img src="/images/2023101314181201.png" alt="2023101314181201.png"><br><img src="/images/2023101314181202.png" alt="2023101314181202.png"><br>找到<strong>HomeActivity</strong>下方的<strong>api_url</strong><br><img src="/images/2023101314181203.png" alt="2023101314181203.png"><br><img src="/images/2023101314181204.png" alt="2023101314181204.png"><br>点击返回，然后保存并退出，勾选自动签名,并点击确定<br><img src="/images/2023101314181205.png" alt="2023101314181205.png"><br>同样在查找内容中搜索自定义<br><img src="/images/2023101314181206.png" alt="2023101314181206.png"></li><li>替换背景图，将背景图修改为W_.png然后替换<br><img src="/images/2023101314181207.png" alt="2023101314181207.png"></li><li>返回到apk文件夹点击功能，apk共存<br><img src="/images/2023101314181208.png" alt="2023101314181208.png"></li><li>修改apk中的AndroidMainfest.xml中的版本号</li><li>xml搜索修改文字<br><img src="/images/2023101314181209.png" alt="2023101314181209.png"></li></ol>]]></content>
      
      
      <categories>
          
          <category> Other </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Other </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo搭建博客</title>
      <link href="/tools/hexo-da-jian-bo-ke/"/>
      <url>/tools/hexo-da-jian-bo-ke/</url>
      
        <content type="html"><![CDATA[<h3 id="1、安装Git"><a href="#1、安装Git" class="headerlink" title="1、安装Git"></a>1、安装Git</h3><h3 id="2、安装nodejs"><a href="#2、安装nodejs" class="headerlink" title="2、安装nodejs"></a>2、安装nodejs</h3><h3 id="3、安装hexo-安装完成可以使用hexo-v命令查看是否安装成功"><a href="#3、安装hexo-安装完成可以使用hexo-v命令查看是否安装成功" class="headerlink" title="3、安装hexo,安装完成可以使用hexo -v命令查看是否安装成功"></a>3、安装hexo,安装完成可以使用hexo -v命令查看是否安装成功</h3><pre><code> <pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-g</span> hexo-cli<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></code></pre><h5 id="1、初始化"><a href="#1、初始化" class="headerlink" title="1、初始化"></a>1、初始化</h5><pre><code>    <pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">hexo init blogs<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></code></pre><h5 id="2、进入blogs文件夹"><a href="#2、进入blogs文件夹" class="headerlink" title="2、进入blogs文件夹"></a>2、进入blogs文件夹</h5><pre><code>    <pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>    blogs文件夹下有        node_modules: 依赖包        public：存放生成的页面        scaffolds：生成文章的一些模板        source：用来存放你的文章        themes：主题**         _config.yml: 博客的配置文件**  注意：1初始化和2进入文件夹可以合并为一步，直接新建好blogs文件夹，然后进入文件夹，直接执行命令 hexo init即可</code></pre><h5 id="3、运行服务-可以浏览网站了"><a href="#3、运行服务-可以浏览网站了" class="headerlink" title="3、运行服务,可以浏览网站了"></a>3、运行服务,可以浏览网站了</h5><pre><code>    <pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">hexo ghexo server<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></code></pre><h3 id="4、GitHub创建仓库（仓库名-youname-github-io）"><a href="#4、GitHub创建仓库（仓库名-youname-github-io）" class="headerlink" title="4、GitHub创建仓库（仓库名 youname.github.io）"></a>4、GitHub创建仓库（仓库名 youname.github.io）</h3><h3 id="5、生成ssh添加到GitHub"><a href="#5、生成ssh添加到GitHub" class="headerlink" title="5、生成ssh添加到GitHub"></a>5、生成ssh添加到GitHub</h3><pre><code> a、在gitbash中配置名称和邮箱    git config --global user.name &quot;youname&quot;    git config --global user.email &quot;youremail&quot; b、检查是否配置成功    git config user.name    git config user.email c、创建ssh，一直回车    ssh-keygen -t rsa -C &quot;youemail&quot; d、进入github的setting找到ssh and gpg keys    新建sshkey 将id_rsa.pub中的内容复制到keys中 e、在gitbash中验证是否成功    ssh -T git@github.com    //直接执行该命令</code></pre><h3 id="6、将hexo部署到github"><a href="#6、将hexo部署到github" class="headerlink" title="6、将hexo部署到github"></a>6、将hexo部署到github</h3><pre><code>a、修改_config.yml文件   deploy:    type: git    repo: git@github.com:yourgitHubName/yourgitHubName.github.io.git    branch: main  根据自己的分支名修改b、安装deploy-git    npm install hexo-deployer-git --savec、执行命令   hexo clean      清除之前生成的内容   hexo generate   生成静态内容，缩写 hexo g   hexo deploy     部署 缩写 hexo d</code></pre><h3 id="7、新建分类、标签、关于"><a href="#7、新建分类、标签、关于" class="headerlink" title="7、新建分类、标签、关于"></a>7、新建分类、标签、关于</h3><pre><code>a、分类   hexo new page categories  --在source文件夹下回新建一个                               categories文件夹                                其中有一个index.md,在date之后加上type:&#39;categories&#39;b、标签    hexo new page tags      --在source文件夹下回新建一个tags文件夹                               其中有一个index.md,在date之后加上type:&#39;tags&#39;c、关于    hexo new page about     --在source文件夹下回新建一个about文件夹                               其中有一个index.md</code></pre>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux 操作命令</title>
      <link href="/computer/linux-cao-zuo-ming-ling/"/>
      <url>/computer/linux-cao-zuo-ming-ling/</url>
      
        <content type="html"><![CDATA[<h3 id="ls-命令：用于显示指定目录下的内容"><a href="#ls-命令：用于显示指定目录下的内容" class="headerlink" title="ls 命令：用于显示指定目录下的内容"></a>ls 命令：用于显示指定目录下的内容</h3><p>-a 所有文件及目录(.开头的隐藏文件也列出)</p><p>-l  除文件名外，会将文件类型、权限，所有者、文件大小等信息列出，注意 ls -l 等价于 ll</p><p>ll -h 标识以人性化方式显示内容</p><p>ll *  *通配符标识任意字符，？标识有且只有一个字符</p><h3 id="cd-change-directory-命令"><a href="#cd-change-directory-命令" class="headerlink" title="cd (change directory) 命令"></a>cd (change directory) 命令</h3><p>~ 表示home目录</p><p>. 表示当前目录</p><p>.. 标识当前目录的上一级目录</p><p>&#x2F; 根目录</p><h3 id="创建、删除"><a href="#创建、删除" class="headerlink" title="创建、删除"></a>创建、删除</h3><p>mkdir (make directory) :创建目录</p><p>-p 确保父目录名称存在，不存在则创建</p><p>touch：创建一个空文件，无内容</p><p>ex: touch – –abc 创建一个–abc的文件</p><p>rm (remove) :用于删除一个文件或目录</p><p>-f 强制删除，无需用户确认</p><p>-r 将目录及下面文件和目录递归删除</p><p>ex: rm – –abc（rm .&#x2F; –abc） 删除一个–abc的文件</p><h3 id="复制、移动"><a href="#复制、移动" class="headerlink" title="复制、移动"></a>复制、移动</h3><p>cp (copy file):用于复制文件或目录</p><p>-r 源文件是一个目录文件，则将该目录下的所有子目录和文件全部复制</p><p>mv (move file):用于文件或目录改名、或将文件或目录移入其它位置    </p><h3 id="文件内容查看"><a href="#文件内容查看" class="headerlink" title="文件内容查看"></a>文件内容查看</h3><ol><li><p>cat (concatenate): 用于连接文件并打印到标准输出设备上如console控制台上。适合小文件内容查看</p></li><li><p>more：类似cat，不过会以一页一页的形式展示，更方便使用者阅读，翻页结束自动退出，适合大文件查看，按space键翻下一页，按b往回（back）上一页   more &#x2F;etc&#x2F;profile</p></li><li><p>tail ：用于查看文件结尾部分的内容</p></li></ol><p>-n 用于显示行数，默认为10，即显示10行内容</p><p>-f  用于实时显示文件动态追加的内容，会把文件里最尾部的内容显示在屏幕上，并且不断刷新，只要有文件更新，就可以查看到最新的文件内容。</p><h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><h4 id="管道命令：-将前一个命令执行的结果作为内容交给下一个命令处理。可以形成多级管道操作"><a href="#管道命令：-将前一个命令执行的结果作为内容交给下一个命令处理。可以形成多级管道操作" class="headerlink" title="| 管道命令： 将前一个命令执行的结果作为内容交给下一个命令处理。可以形成多级管道操作"></a>| 管道命令： 将前一个命令执行的结果作为内容交给下一个命令处理。可以形成多级管道操作</h4><p>命令1|命令2 可以将命令1的结果通过命令2做进一步操作</p><p>ps -ef | grep sshd</p><p>echo 命令：用于内容的输出，将内容输出到console控制台上</p><h4 id="输出重定向-覆盖-命令"><a href="#输出重定向-覆盖-命令" class="headerlink" title="&gt; 输出重定向(覆盖)命令"></a>&gt; 输出重定向(覆盖)命令</h4><p>command &gt; file 执行command然后将输出的内容存入file，file内已经存在的内容将被新内容覆盖替代</p><h4 id="输出重定向-追加-命令"><a href="#输出重定向-追加-命令" class="headerlink" title="&gt;&gt; 输出重定向(追加)命令"></a>&gt;&gt; 输出重定向(追加)命令</h4><p>command &gt;&gt; file 执行command 然后将输出的内容存入file，新内容追加在文件末尾</p><h3 id="解压缩命令"><a href="#解压缩命令" class="headerlink" title="解压缩命令"></a>解压缩命令</h3><h4 id="打包、解包"><a href="#打包、解包" class="headerlink" title="打包、解包"></a>打包、解包</h4><p>tar (tape archive):常用于备份文件。是用来建立，还原备份文件的工具程序，它可以加入，解开备份文件内的文件</p><p>-c 或 –create 建立新的备份文件</p><p>-x 或–extract 或–get 从备份文件中还原文件</p><p>-v 或–verbose 显示指令执行过程</p><p>-f&lt;备份文件&gt;或–file&#x3D;&lt;备份文件&gt; 指定备份文件</p><p>打包 tar -cvf 包名.tar 文件或目录(1.txt 2.txt)</p><p>解包 tar -xvf 包名.tar 或 tar -xvf 包名.tar -C 指定解压目录</p><h4 id="打包压缩，解包解压缩"><a href="#打包压缩，解包解压缩" class="headerlink" title="打包压缩，解包解压缩"></a>打包压缩，解包解压缩</h4><p>在打包备份或解包的过程中，可以通过指定压缩算法，对打包的文件进行压缩，解压的时候也需要指定对应的算法</p><p>-z 或 –gzip 或 –ungzip 通过gzip指令处理备份文件</p><p>重要搭配：tar -zxvf xxxx.tar.gz</p><h3 id="时间、日期、内存，磁盘使用率、进程查看"><a href="#时间、日期、内存，磁盘使用率、进程查看" class="headerlink" title="时间、日期、内存，磁盘使用率、进程查看"></a>时间、日期、内存，磁盘使用率、进程查看</h3><p>date：用来显示或者设定系统日期与时间，可以设置显示格式，格式是 +后接标记 (date +”%Y-%m-%d %H:%M:%s”)</p><p>cal(calendar): 用于显示当前或者指定日期的公历</p><p>free：用于显示内存状态，会显示内存使用情况，包括实体内存、虚拟交换文件内存、共享内存区段、以及系统核心使用的缓冲区</p><p>free -h</p><p>df(disk free): 用于显示目前在linux系统上的文件系统磁盘使用情况</p><p>df -h</p><p>ps(process status): 用于显示当前进程的状态，类似windows的任务管理器</p><p>du -sh: 统计文件夹大小</p><p>ps -ef | grep 进程名</p><p>kill -9 pid(进程id) 杀进程</p><p>ps -ef | grep 进程名  | grep -v grep | awk ‘{print $2}’ | xargs -i kill -9 {}    kill所有进程名的进程</p><p>jps：jdk自带命令，专门用于查看本机运行java进程情况</p><p>lscpu: 查看cpu信息</p><p>cat &#x2F;proc&#x2F;cpuinfo cpuinfo文件包含了有关每个可用CPU的详细信息</p><p>vmstat：(虚拟内存统计)允许用户监视系统资源使用情况，包括CPU利用率。</p><p>vmstat 1 #每秒更新一次</p><p>mpstat：(多处理器统计)提供了一个全面的多核cpu利用率报告。</p><p>mpstat -P ALL 5 # 每5秒更新所有逻辑核心</p>]]></content>
      
      
      <categories>
          
          <category> Computer </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Computer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C#新语法</title>
      <link href="/c-winform/csharp-xin-yu-fa/"/>
      <url>/c-winform/csharp-xin-yu-fa/</url>
      
        <content type="html"><![CDATA[<h2 id="顶级语句-C-9-0开始"><a href="#顶级语句-C-9-0开始" class="headerlink" title="顶级语句(C#9.0开始)"></a>顶级语句(C#9.0开始)</h2><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">&#x2F;&#x2F; See https:&#x2F;&#x2F;aka.ms&#x2F;new-console-template for more informationConsole.WriteLine(&quot;Hello, World!&quot;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ol><li>一个项目中只能有一个顶级文件</li><li>顶级语句可以使用await语法，也可以申明静态方法</li><li>可以直接在Program写语句，不用写Main方法</li></ol><p>参考：<a href="https://learn.microsoft.com/zh-cn/dotnet/csharp/fundamentals/program-structure/top-level-statements">顶级语句</a></p><h2 id="全局Using指令-C-10-0开始"><a href="#全局Using指令-C-10-0开始" class="headerlink" title="全局Using指令(C#10.0开始)"></a>全局Using指令(C#10.0开始)</h2><ol><li>在using namespace前面加上global，该命名空间会应用到整个项目，注意不是整个解决方案，不用重复using</li><li>通常会单独新建一个C#文件来放全局的global using namespace</li><li>csproj文件中启用ImplicitUsings，编译器会自动隐式增加对于System、System.Linq等常用命名空间的引用，不同类型的项目引用的命名空间不一样；<br>如果将ImplicitUsings设置为disable<br><img src="/images/2023091111271701.png" alt="2023091111271701.png"></li></ol><p>参考 <a href="https://learn.microsoft.com/zh-cn/dotnet/core/tutorials/top-level-templates#global-using-directives">全局Using</a></p><h2 id="Using声明（C-8-0开始）"><a href="#Using声明（C-8-0开始）" class="headerlink" title="Using声明（C#8.0开始）"></a>Using声明（C#8.0开始）</h2><ol><li>在实现了IDisposable&#x2F;IasyncDisposable接口类型的变量申明前加using，当代码执行离开变量作用域，对象就会被释放。</li></ol><p>参考 <a href="https://learn.microsoft.com/zh-cn/dotnet/csharp/language-reference/statements/using">Using声明</a></p><h2 id="文件范围的命名空间声明-C-10-0开始"><a href="#文件范围的命名空间声明-C-10-0开始" class="headerlink" title="文件范围的命名空间声明(C#10.0开始)"></a>文件范围的命名空间声明(C#10.0开始)</h2><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">namespace MyNamespace;public class Dog&#123;   public long Id&#123;get;set;&#125;   public string Name&#123;get;set;&#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>参考 <a href="https://learn.microsoft.com/zh-cn/dotnet/csharp/whats-new/csharp-10#file-scoped-namespace-declaration">文件范围的命名空间声明</a></p><h2 id="可为-null-的引用类型-C-8-0开始"><a href="#可为-null-的引用类型-C-8-0开始" class="headerlink" title="可为 null 的引用类型(C#8.0开始)"></a>可为 null 的引用类型(C#8.0开始)</h2><ol><li>设置一个属性类型可为空使用？，想要去除编译器警告使用！</li></ol><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">string? nullable；string name;Console.WriterLine(name!.toLower())<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>参考：<a href="https://learn.microsoft.com/zh-cn/dotnet/csharp/language-reference/builtin-types/nullable-reference-types">可为 null 的引用类型</a></p><h2 id="record类型-C-9-0开始"><a href="#record类型-C-9-0开始" class="headerlink" title="record类型(C#9.0开始)"></a>record类型(C#9.0开始)</h2><ol><li>record类型，编译器会自动生成Equal和GetHashcode等方法</li></ol><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">public class Person&#123;       public Person(int id,string name)&#123;       this.Id&#x3D;id;       this.Name&#x3D; name;   &#125;      public int Id &#123;get;init;&#125;   public string Name&#123;get;init&#125;    &#125; Person p1 &#x3D;new Person(1,&quot;zhangsan&quot;);Person p2 &#x3D;new Person(1,&quot;zhangsan&quot;);Console.WriteLine(p1.ToString()); &#x2F;&#x2F;打印出类名Console.WriteLine(p1&#x3D;&#x3D;p2)； &#x2F;&#x2F;FalseConsole.WriteLine(p1.Equal(p2))； &#x2F;&#x2F;False&#x2F;&#x2F;&#x3D;&#x3D;和Equal比较的是判断两个变量是否指向同一个对象&#x2F;&#x2F;Record类型public record Person(int Id,string Name,int Age);Person p3 &#x3D;new Person(1,&quot;zhangsan&quot;);Person p4 &#x3D;new Person(1,&quot;zhangsan&quot;);Person p5 &#x3D;new Person(1,&quot;lishi&quot;);Console.WriteLine(p3.ToString()); &#x2F;&#x2F;类中的属性数据Console.WriteLine(p3&#x3D;&#x3D;p4)； &#x2F;&#x2F;TrueConsole.WriteLine(p3&#x3D;&#x3D;p5)； &#x2F;&#x2F;False<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>参考 <a href="https://learn.microsoft.com/zh-cn/dotnet/csharp/whats-new/csharp-9">record类型</a></p><p>参考： <a href="https://learn.microsoft.com/zh-cn/dotnet/core/tutorials/top-level-templates#global-using-directives">https://learn.microsoft.com/zh-cn/dotnet/core/tutorials/top-level-templates#global-using-directives</a></p><p>　　　<a href="https://learn.microsoft.com/zh-cn/dotnet/csharp/fundamentals/program-structure/top-level-statements">https://learn.microsoft.com/zh-cn/dotnet/csharp/fundamentals/program-structure/top-level-statements</a></p>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++读取调用接口返回的json数据</title>
      <link href="/c-c/c-du-qu-diao-yong-jie-kou-fan-hui-de-json-shu-ju/"/>
      <url>/c-c/c-du-qu-diao-yong-jie-kou-fan-hui-de-json-shu-ju/</url>
      
        <content type="html"><![CDATA[<h3 id="引入头文件"><a href="#引入头文件" class="headerlink" title="引入头文件"></a>引入头文件</h3><pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">#include &lt;boost&#x2F;property_tree&#x2F;ptree.hpp&gt;#include &lt;boost&#x2F;property_tree&#x2F;json_parser.hpp&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="读取json数据方法，http请求中的chunked传输数据会返回数据的长度，在最后一个chunked中其头部长度定为0"><a href="#读取json数据方法，http请求中的chunked传输数据会返回数据的长度，在最后一个chunked中其头部长度定为0" class="headerlink" title="读取json数据方法，http请求中的chunked传输数据会返回数据的长度，在最后一个chunked中其头部长度定为0"></a>读取json数据方法，http请求中的chunked传输数据会返回数据的长度，在最后一个chunked中其头部长度定为0</h3><pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">&#x2F;&#x2F;读取json文件&#123;&quot;name&quot;:&quot;zhangsan&quot;,&quot;age&quot;:25&#125;template&lt;class T&gt;void readJson(const string&amp; data, T&amp; t) &#123;    if (strcmp(data.c_str(), &quot;&quot;) !&#x3D; 0) &#123;        std::size_t start &#x3D; data.find_first_of(&quot;&#123;&quot;);        std::size_t end &#x3D; data.find_last_of(&quot;&#125;&quot;);        string res &#x3D; data.substr(start, end - start + 1);        std::stringstream ss(res);        boost::property_tree::ptree pt;        boost::property_tree::json_parser::read_json(ss, pt);        t &#x3D; pt.get&lt;T&gt;(&quot;name&quot;);        std::cout &lt;&lt; &quot;result:&quot; &lt;&lt; t &lt;&lt; std::endl;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">void postCustom(const string&amp; url, const string&amp; token) &#123;    boost::asio::io_service io;    HttpBoost c(io);    c.post(url, token);    io.run();    string p&#x3D;0;    readJson(c.getResponse(),p);    std::cout &lt;&lt; c.getResponse() &lt;&lt; std::endl;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> 参考 <a href="https://www.jianshu.com/p/acb76b784230">https://www.jianshu.com/p/acb76b784230</a></p>]]></content>
      
      
      <categories>
          
          <category> C/C++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C/C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>EFCore 连接MySQL数据库查询数据提示This MySqlConnection is already in use</title>
      <link href="/mysql-sql-oracle/efcore-lian-jie-mysql-shu-ju-ku-cha-xun-shu-ju-ti-shi-this-mysqlconnection-is-already-in-use/"/>
      <url>/mysql-sql-oracle/efcore-lian-jie-mysql-shu-ju-ku-cha-xun-shu-ju-ti-shi-this-mysqlconnection-is-already-in-use/</url>
      
        <content type="html"><![CDATA[<p>EFCore 连接数据查询数据提示”This MySqlConnection is already in use”代码如下</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">using (MyDBContext db &#x3D;new MyDBContext())&#123;        Order order&#x3D; db.Orders.Single(o &#x3D;&gt; o.Id&#x3D;&#x3D;2);        printChildren(1, db, order);&#125;static void printChildren(int depLevel,MyDBContext ctx,Order ou)&#123;    var children &#x3D; ctx.Orders.Where(o &#x3D;&gt; o.Parent &#x3D;&#x3D; ou);    foreach (var child in children)    &#123;        Console.WriteLine(new String(&#39;\t&#39;, depLevel) + child.Name);        &#x2F;&#x2F;递归        printChildren(depLevel + 1, ctx, child);    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="/images/2023083109101001.png" alt="2023083109101001.png"><br>代码中的var children &#x3D; ctx.Orders.Where(o &#x3D;&gt; o.Parent &#x3D;&#x3D; ou)只是将代码转换为SQL语句，返回的结果为IQueryable类型集合，不会立即执行SQL语句，</p><p>这时候再去递归查询会提示连接已经被使用，只有碰到终结方法(ToList、ToArray、MAX、Min、Count等)才会立即执行sql语句。</p><p>将代码改为var children &#x3D; ctx.Orders.Where(o &#x3D;&gt; o.Parent &#x3D;&#x3D; ou).ToList()才会执行sql语句返回类型是IEnumerable类型集合是将数据加载到本地内存中</p><p>判断终结和非终结方法</p><p>一般返回IQueryable类型的是非终结方法(Select、Skip、Take、Where等)；反之是终结方法</p>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>proc c++连接oracle</title>
      <link href="/c-c/proc-c-lian-jie-oracle/"/>
      <url>/c-c/proc-c-lian-jie-oracle/</url>
      
        <content type="html"><![CDATA[<p>环境：oracle11g、vs2022</p><ol><li>编写pc文件</li></ol><pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">EXEC SQL BEGIN DECLARE SECTION;struct datatable&#123;    int id;    char name[30];&#125; data;EXEC SQL END DECLARE SECTION;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">&#x2F;&#x2F;#define SQLCA_STORAGE_CLASS extern  &#x2F;&#x2F;增加该行报错EXEC SQL INCLUDE connect_oracle.h;#include &lt;sqlca.h&gt;#include &lt;iostream&gt;using namespace std;EXEC SQL BEGIN DECLARE SECTION;   char* pid &#x3D;&quot;scott&#x2F;tiger@orcl&quot;;   int ids;EXEC SQL END DECLARE SECTION;int connectdb()&#123;    EXEC SQL CONNECT :pid;    if(sqlca.sqlcode!&#x3D;0)&#123;        cout&lt;&lt; &quot;connect err &quot;&lt;&lt;sqlca.sqlcode&lt;&lt;endl;        return sqlca.sqlcode;;    &#125;    cout&lt;&lt; &quot;connect ok&quot;&lt;&lt;endl;    return sqlca.sqlcode;;&#125;int selectData(datatable&amp; data)&#123;    EXEC SQL     SELECT * INTO :data FROM TEST where id&#x3D;1;    return sqlca.sqlcode;&#125;int insertData(datatable&amp; data)&#123;    exec sql      insert into test(id,name) values (:data.id,:data.name);    if(sqlca.sqlcode!&#x3D;0)&#123;        cout&lt;&lt; &quot;insert err &quot;&lt;&lt;sqlca.sqlcode&lt;&lt;endl;        return sqlca.sqlcode;;    &#125;    exec sql commit;    return sqlca.sqlcode;&#125;int updateData(datatable&amp; data)&#123;    exec sql      update test set name&#x3D;:data.name where id&#x3D;:data.id;    if(sqlca.sqlcode!&#x3D;0)&#123;        cout&lt;&lt; &quot;update err &quot;&lt;&lt;sqlca.sqlcode&lt;&lt;endl;        return sqlca.sqlcode;;    &#125;    exec sql commit;    return sqlca.sqlcode;&#125;int deleteData(int id)&#123;    ids &#x3D;id;    exec sql     delete from test where id&#x3D;:ids;    if(sqlca.sqlcode!&#x3D;0)&#123;        cout&lt;&lt; &quot;delete err &quot;&lt;&lt;sqlca.sqlcode&lt;&lt;endl;        return sqlca.sqlcode;;    &#125;    exec sql commit;    return sqlca.sqlcode;&#125;void disconnect()&#123;    EXEC SQL COMMIT RELEASE;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="2"><li>编译pc文件<br>在dos中执行 proc code&#x3D;cpp .&#x2F;connect_oracle.pc</li><li>在vs新建工程，添加新增的cpp文件</li></ol><pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">#define SQLCA_STORAGE_CLASS extern#include &lt;iostream&gt;#include &lt;sqlca.h&gt;using namespace std;struct datatable&#123;    int id;    char name[30];&#125;;extern int connectdb();extern int selectData(datatable&amp; data);extern int insertData(datatable&amp; data);extern int updateData(datatable&amp; data);extern int deleteData(int id);extern void disconnect();int main() &#123;    connectdb();    datatable da;    selectData(da);    datatable insertdata;    insertdata.id &#x3D; 2;    strcpy(insertdata.name, &quot;bbb&quot;);    insertData(insertdata);    strcpy(insertdata.name, &quot;ccc&quot;);    updateData(insertdata);    deleteData(2);    disconnect();    return 0;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> C/C++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C/C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>进制转换</title>
      <link href="/other/jin-zhi-zhuan-huan/"/>
      <url>/other/jin-zhi-zhuan-huan/</url>
      
        <content type="html"><![CDATA[<p><img src="/images/2023060116271701.png" alt="2023060116271701.png"></p><h2 id="二进制转换"><a href="#二进制转换" class="headerlink" title="二进制转换"></a>二进制转换</h2><p><strong>二进制数</strong>： 10010</p><ol><li><p>转换为8进制 是3位一组（2³&#x3D;8），不足三位前面补0，转换8进制后结果：22<br>010 010<br>421 421<br>二进制位的0不用看，所以转为8进制是22</p></li><li><p>转16进制 是4位一组（2ⁿ4&#x3D;16），不足前面补0，转换16进制后结果：12，反之16转二进制这是12可以拆分为1和2,1前面不足补充0则为0001，2位0010，二进制结果为10010</p></li></ol><p>0001 0010<br>8421 8421<br>和转8进制一样只看2进制上1对应的数字，结果为12</p><ol start="3"><li>二进制转10进制，反之10进制转二进制就是分解18&#x3D;16+2，所以二进制结果10010</li></ol><p>0×2º+1×2¹+0×2²+0×2³+1×2ⁿ4&#x3D;18</p><h2 id="十进制转换"><a href="#十进制转换" class="headerlink" title="十进制转换"></a>十进制转换</h2><ol><li>转2进制，例如25转二进制<br>二进制结果从下往上：11001，11001转10进制则是从个位数开2的n次(n从0开始) 1×2º+0×2¹+0×2²+1×2³+1×2ⁿ4&#x3D;25<br><img src="/images/2023060116271702.png" alt="2023060116271702.png"></li><li>十进制转8进制，结果是31，反过来转换1×8º+3×8¹&#x3D;25<br><img src="/images/2023060116271703.png" alt="2023060116271703.png"></li><li>十进制转换16进制，结果是19，反过来转换 9×16º+1×16¹&#x3D;25<br><img src="/images/2023060116271704.png" alt="2023060116271704.png"></li></ol>]]></content>
      
      
      <categories>
          
          <category> Other </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Other </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>proc c++ vs设置</title>
      <link href="/c-c/proc-c-vs-she-zhi/"/>
      <url>/c-c/proc-c-vs-she-zhi/</url>
      
        <content type="html"><![CDATA[<ol><li>在pc文件上右键，项类型中选择自定生成工具，点击应用才能看见自定义生成工具<br><img src="/images/2023053113280801.png" alt="2023053113280801.png"></li><li>命令行和输出中中配置，proc是oracle的执行程序在（client_1\BIN）目录下<br><img src="/images/2023053113280802.png" alt="2023053113280802.png"><br><img src="/images/2023053113280803.png" alt="2023053113280803.png"></li></ol>]]></content>
      
      
      <categories>
          
          <category> C/C++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C/C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Boost编译</title>
      <link href="/c-c/boost-bian-yi/"/>
      <url>/c-c/boost-bian-yi/</url>
      
        <content type="html"><![CDATA[<h2 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h2><p>VS2022社区版<br><a href="https://jfrog-prod-usw2-shared-oregon-main.s3.amazonaws.com/aol-boostorg/filestore/eb/ebe3ae43e9bab987aa2c56bf158968676b56f0a0?X-Artifactory-username=anonymous&X-Artifactory-repoType=local&X-Artifactory-repositoryKey=main&X-Artifactory-packageType=generic&X-Artifactory-artifactPath=release/1.82.0/source/boost_1_82_0.zip&X-Artifactory-projectKey=default&x-jf-traceId=dfb4a8183a8df825&response-content-disposition=attachment;filename=%22boost_1_82_0.zip%22&response-content-type=application/zip&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFwaCXVzLXdlc3QtMiJHMEUCIQCsP5pWAI1qKcWMSaSdiukkap13MnFqnXi4RHslZyrsxwIgKboWg/2JzdDCBgV/q0SjDoIodMc7bqeAAAjzuKAU/eQqhgUIVRAAGgwxNTIxNTMwNjIxNDEiDCpvUXvmMpyCkE7M7CrjBBqXsYP/zVAjU3gojx3itHfwqOsrdIPoxxLpIFMiu42mWAeHpLUL+nPBYh0XJk2I5bRxz6HsRE8Rc+beXOR9ag2Xp9MQepAcvnsjxCl9b5l5x7xD8SlOPSU/pP5aKo6bHi6ooqrSuX95EuwQCA0HRGA7beyskyKUrL9Sb9yn44c9mApo4NaLKVC9NV7Lwu9JSu80IxNewrXHmIHXHPsbG4U2dYDS0GnV/5lOL8wjDuRkgTrq72sJ5JVyFGy4xVZ8ZedKyZkH3R757emrDNlV7GHtT+9OK3IK2QDOSxEeluxC/XcvbD4JrQvWd+/7nqz+um3UfJ97OkvTUIRh7DLg9FMSQ8VHPf2o1WhAhKUMJWv+vdXYhVZjIXYIBeunRL7nIE4BKO7BAp9KmLOMxq6BF6oCHgSAT4IikidxCNwcJ8PcSGXHbdi+5U/YGoDef8RyWazcW4NxerUZ+Wu40HOVwICre11hc1yaCKF/lzeoDmfWZwP9C1KiBlh4JTs1YZ9QHHeu/sqgcGUXopg6l/Q0j7GkU+vKdrmy7f7KbRF8qSfnfNWKzOp0vhSnVehFP97uv3jNA1urUm8VNMC2K/dU4+j/WxWEZawAUt82zQdLewiVQjg6rhywG2NEPwjp8rzeYPz3ytby6U6wmJhGQtrUxkCjeayNZxDpqddsUHe2hLfE9PMzduz4EqN9jph32O50OnaZErjNEwLs5jIp1Cd4I9UC0iRMlazbg2BL6r0KZnTPCI8Z7aODBrWp3XrmFGndKbhvj+cLZq6OP307i8aHYAOksrRjEEK+x0neQz1E1L5qckt9MMer+KEGOpoBHck6TsiUZ1bpV02gof/oixKzr5NP1ozI4hkemDir1jEU6uOMNVob3Zbh1Ue1BjOTiDbonsp8sSB1WAjr9dpa6v8O67qSBQ9UH4UEv5Dt/F6O9AsRNV87rDQ/DX/+6AM/wwwuqe/KfwBNYIIpHwSI1C22oaqKqS3ddn2721xdz7NQxOxkxAhYCdX+v7eRV3FRRsAZTrzlA7ubqA==&X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Date=20230418T041938Z&X-Amz-SignedHeaders=host&X-Amz-Expires=30&X-Amz-Credential=ASIASG3IHPL67TAA7E5P/20230418/us-west-2/s3/aws4_request&X-Amz-Signature=1145b5ecb90e39f010ced908a4c07eb74bf47cef0bdae9b13f483cb6492c01e4">boost1.82.0</a></p><h2 id="编译"><a href="#编译" class="headerlink" title="编译"></a>编译</h2><ol><li>打开dos窗口，进入boost所在目录<br><img src="/images/2023041813370101.png" alt="2023041813370101.png"></li><li>boost_1_82_0目录下回生成b2.exe文件，直接双击运行会生成bin.v2和stage文件夹<br><img src="/images/2023041813370102.png" alt="2023041813370102.png"></li></ol><h2 id="vs配置boost"><a href="#vs配置boost" class="headerlink" title="vs配置boost"></a>vs配置boost</h2><p><img src="/images/2023041813370103.png" alt="2023041813370103.png"><br><img src="/images/2023041813370104.png" alt="2023041813370104.png"></p>]]></content>
      
      
      <categories>
          
          <category> C/C++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C/C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SpringBoot与Spring Cloud对应关系</title>
      <link href="/java/springboot-yu-spring-cloud-dui-ying-guan-xi/"/>
      <url>/java/springboot-yu-spring-cloud-dui-ying-guan-xi/</url>
      
        <content type="html"><![CDATA[<p>springBoot与spring cloud 版本对应关系<br><a href="https://start.spring.io/actuator/info">https://start.spring.io/actuator/info</a></p><p>参考：<a href="https://zhuanlan.zhihu.com/p/556412488">https://zhuanlan.zhihu.com/p/556412488</a></p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PLSQL免安装oracle客户端链接oracle数据库</title>
      <link href="/tools/plsql-mian-an-zhuang-oracle-ke-hu-duan-lian-jie-oracle-shu-ju-ku/"/>
      <url>/tools/plsql-mian-an-zhuang-oracle-ke-hu-duan-lian-jie-oracle-shu-ju-ku/</url>
      
        <content type="html"><![CDATA[<ol><li>在<a href="https://www.oracle.com/cn/database/technologies/instant-client/downloads.html">oracle官网</a>下载相应的客户端</li><li>配置plsql的oracle_home和oci的路径<br><img src="/images/2023032113350501.png" alt="2023032113350501.png"></li><li>配置环境变量ORACLE_HOME和TNS_ADMIN<br><img src="/images/2023032113350502.png" alt="2023032113350502.png"><br><img src="/images/2023032113350503.png" alt="2023032113350503.png"><br>将ora文件放到network&#x2F;admin的目录中<br><img src="/images/2023032113350504.png" alt="2023032113350504.png"></li><li>重启plsql即可</li><li>常见错误<br>初始化报错，缺少visual studio 2013组件<br><img src="/images/2023032113350505.png" alt="2023032113350505.png"><br>解决办法下载vcredist然后安装<br><a href="https://docs.microsoft.com/en-US/cpp/windows/latest-supported-vc-redist?view=msvc-170">https://docs.microsoft.com/en-US/cpp/windows/latest-supported-vc-redist?view=msvc-170</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>电脑设置总结</title>
      <link href="/computer/dian-nao-she-zhi-zong-jie/"/>
      <url>/computer/dian-nao-she-zhi-zong-jie/</url>
      
        <content type="html"><![CDATA[<ol><li><p>电脑命令总结<br>任务计划 taskschd.msc<br>组件服务 dcomcnfg<br>设备管理器 devmgmt.msc<br>服务 services.msc<br>系统配置 msconfig<br>计算机管理 compmgmt.msc<br>程序管理 appwiz.cpl</p></li><li><p>win10打开ie自动跳转edge浏览器<br>win+Q键搜索<strong>internet选项</strong>，选中<strong>高级</strong>，把勾选“<strong>启用第三方浏览器扩展</strong>”去掉就不会自动跳转<br><img src="/images/2023031511000101.png" alt="2023031511000101.png"><br><img src="/images/2023031511000102.png" alt="2023031511000102.png"></p></li><li><p>window设置开机自动登陆</p><ol><li>win+R输入regedit进入注册表，HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\PasswordLess\Device，找到下面的DevicePasswordLessBuildVersion修改值为0</li><li>win+R输入netplwiz确定，去掉红色框中的对钩，点击应用会弹出窗口让输入开机密码，输入后确定，然后重启电脑就可以。<br><img src="/images/2023031511000103.png" alt="2023031511000103.png"></li></ol></li></ol>]]></content>
      
      
      <categories>
          
          <category> Computer </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Computer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux安装redis</title>
      <link href="/tools/linux-an-zhuang-redis/"/>
      <url>/tools/linux-an-zhuang-redis/</url>
      
        <content type="html"><![CDATA[<ol><li>先去<a href="https://redis.io/download/">官网</a>下载redis的压缩包<br><img src="/images/2023030917301301.png" alt="2023030917301301.png"></li><li>redis是基于C语言编写的，需要安装gcc依赖</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">yum <span class="token function">install</span> <span class="token parameter variable">-y</span> gcc tcl<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="3"><li><p>编译redis</p><ol><li>在linux新建目录将redis解压</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 新建目录</span> <span class="token function">mkdir</span> /soft/redis <span class="token comment">#解压redis</span> <span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> redis.x.x.tar.gz<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ol start="2"><li>编译</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#进入解压后的目录</span><span class="token comment">#这样默认会安装到 /usr/local/bin中</span><span class="token function">make</span> <span class="token operator">&amp;&amp;</span> <span class="token function">make</span> <span class="token function">install</span> <span class="token comment"># prefix指定安装目录</span><span class="token function">make</span> <span class="token assign-left variable">PREFIX</span><span class="token operator">=</span>/usr/local/redis <span class="token function">install</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> <img src="/images/2023030917301302.png" alt="2023030917301302.png"><br>3. 启动redis</p><p> redis-cli：是 redis 提供的命令行客户端</p><p> .&#x2F;redis-cli</p><p> redis-server：是 redis 的服务端启动脚本</p><p> .&#x2F;redis-server &#x2F;etc&#x2F;redis&#x2F;redis.conf</p><p> redis-sentinel：是 redis 的哨兵启动脚本</p></li><li><p>连接redis问题</p><ol><li>查看linux防火墙状态，开启则关闭防火墙</li></ol> <pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#查看状态</span><span class="token function">service</span> firewalld status<span class="token comment">#关闭防火墙</span><span class="token function">service</span> firewalld stop<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ol start="2"><li>注释掉redis配置<br><img src="/images/2023030917301303.png" alt="2023030917301303.png"></li><li>出现下图错误，需要修改配置protected-mode为no<br><img src="/images/2023030917301304.png" alt="2023030917301304.png"></li></ol></li></ol>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Oracle Virtual ssh无法连接</title>
      <link href="/tools/oracle-virtual-ssh-wu-fa-lian-jie/"/>
      <url>/tools/oracle-virtual-ssh-wu-fa-lian-jie/</url>
      
        <content type="html"><![CDATA[<ol><li>虚拟机网路设置为nat（网络地址转换）<br><img src="/images/2023030917110101.png" alt="2023030917110101.png"></li><li>设置端口转发<br><img src="/images/2023030917110102.png" alt="2023030917110102.png"></li><li>连接linux<br><img src="/images/2023030917110103.png" alt="2023030917110103.png"></li></ol>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Eclipse 获取maven项目出现问题汇总</title>
      <link href="/tools/eclipse-huo-qu-maven-xiang-mu-chu-xian-wen-ti-hui-zong/"/>
      <url>/tools/eclipse-huo-qu-maven-xiang-mu-chu-xian-wen-ti-hui-zong/</url>
      
        <content type="html"><![CDATA[<ol><li>errors occurred during the build，可以试试加上下图的配置，路径根据自己jak安装路径去修改<br><img src="/images/2023030209021201.png" alt="2023030209021201.png"></li></ol>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Eclipse设置背景色等</title>
      <link href="/tools/eclipse-she-zhi-bei-jing-se-deng/"/>
      <url>/tools/eclipse-she-zhi-bei-jing-se-deng/</url>
      
        <content type="html"><![CDATA[<h2 id="设置背景色"><a href="#设置背景色" class="headerlink" title="设置背景色"></a>设置背景色</h2><ol><li>Window-&gt;Preferences-&gt;General-&gt;Editors-&gt;Text Editors</li><li>选择Background color选择自定义颜色<br><img src="/images/2023022216501501.png" alt="2023022216501501.png"></li></ol><h2 id="设置编码格式General-Workspace"><a href="#设置编码格式General-Workspace" class="headerlink" title="设置编码格式General-&gt;Workspace"></a>设置编码格式General-&gt;Workspace</h2><p><img src="/images/2023022216501502.png" alt="2023022216501502.png"></p><h2 id="设置字体大小"><a href="#设置字体大小" class="headerlink" title="设置字体大小"></a>设置字体大小</h2><p><img src="/images/2023022216501503.png" alt="2023022216501503.png"></p><h2 id="设置maven"><a href="#设置maven" class="headerlink" title="设置maven"></a>设置maven</h2><p><img src="/images/2023022216501504.png" alt="2023022216501504.png"></p><h2 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h2><p>maven</p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span><span class="token comment">&lt;!--Licensed to the Apache Software Foundation (ASF) under oneor more contributor license agreements.  See the NOTICE filedistributed with this work for additional informationregarding copyright ownership.  The ASF licenses this fileto you under the Apache License, Version 2.0 (the"License"); you may not use this file except in compliancewith the License.  You may obtain a copy of the License at    http://www.apache.org/licenses/LICENSE-2.0Unless required by applicable law or agreed to in writing,software distributed under the License is distributed on an"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANYKIND, either express or implied.  See the License for thespecific language governing permissions and limitationsunder the License.--></span><span class="token comment">&lt;!-- | This is the configuration file for Maven. It can be specified at two levels: | |  1. User Level. This settings.xml file provides configuration for a single user, |                 and is normally provided in $&#123;user.home&#125;/.m2/settings.xml. | |                 NOTE: This location can be overridden with the CLI option: | |                 -s /path/to/user/settings.xml | |  2. Global Level. This settings.xml file provides configuration for all Maven |                 users on a machine (assuming they're all using the same Maven |                 installation). It's normally provided in |                 $&#123;maven.conf&#125;/settings.xml. | |                 NOTE: This location can be overridden with the CLI option: | |                 -gs /path/to/global/settings.xml | | The sections in this sample file are intended to give you a running start at | getting the most out of your Maven installation. Where appropriate, the default | values (values used when the setting is not specified) are provided. | |--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>settings</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/SETTINGS/1.0.0<span class="token punctuation">"</span></span>          <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>          <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token comment">&lt;!-- localRepository   | The path to the local repository maven will use to store artifacts.   |   | Default: $&#123;user.home&#125;/.m2/repository  &lt;localRepository>/path/to/local/repo&lt;/localRepository>  --></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>localRepository</span><span class="token punctuation">></span></span>E:\Java\mavenRepository<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>localRepository</span><span class="token punctuation">></span></span>  <span class="token comment">&lt;!-- interactiveMode   | This will determine whether maven prompts you when it needs input. If set to false,   | maven will use a sensible default value, perhaps based on some other setting, for   | the parameter in question.   |   | Default: true  &lt;interactiveMode>true&lt;/interactiveMode>  --></span>  <span class="token comment">&lt;!-- offline   | Determines whether maven should attempt to connect to the network when executing a build.   | This will have an effect on artifact downloads, artifact deployment, and others.   |   | Default: false  &lt;offline>false&lt;/offline>  --></span>  <span class="token comment">&lt;!-- pluginGroups   | This is a list of additional group identifiers that will be searched when resolving plugins by their prefix, i.e.   | when invoking a command line like "mvn prefix:goal". Maven will automatically add the group identifiers   | "org.apache.maven.plugins" and "org.codehaus.mojo" if these are not already contained in the list.   |--></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pluginGroups</span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!-- pluginGroup     | Specifies a further group identifier to use for plugin lookup.    &lt;pluginGroup>com.your.plugins&lt;/pluginGroup>    --></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pluginGroups</span><span class="token punctuation">></span></span>  <span class="token comment">&lt;!-- proxies   | This is a list of proxies which can be used on this machine to connect to the network.   | Unless otherwise specified (by system property or command-line switch), the first proxy   | specification in this list marked as active will be used.   |--></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>proxies</span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!-- proxy     | Specification for one proxy, to be used in connecting to the network.     |    &lt;proxy>      &lt;id>optional&lt;/id>      &lt;active>true&lt;/active>      &lt;protocol>http&lt;/protocol>      &lt;username>proxyuser&lt;/username>      &lt;password>proxypass&lt;/password>      &lt;host>proxy.host.net&lt;/host>      &lt;port>80&lt;/port>      &lt;nonProxyHosts>local.net|some.host.com&lt;/nonProxyHosts>    &lt;/proxy>    --></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>proxies</span><span class="token punctuation">></span></span>  <span class="token comment">&lt;!-- servers   | This is a list of authentication profiles, keyed by the server-id used within the system.   | Authentication profiles can be used whenever maven must make a connection to a remote server.   |--></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servers</span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!-- server     | Specifies the authentication information to use when connecting to a particular server, identified by     | a unique name within the system (referred to by the 'id' attribute below).     |     | NOTE: You should either specify username/password OR privateKey/passphrase, since these pairings are     |       used together.     |    &lt;server>      &lt;id>deploymentRepo&lt;/id>      &lt;username>repouser&lt;/username>      &lt;password>repopwd&lt;/password>    &lt;/server>    --></span>    <span class="token comment">&lt;!-- Another sample, using keys to authenticate.    &lt;server>      &lt;id>siteServer&lt;/id>      &lt;privateKey>/path/to/private/key&lt;/privateKey>      &lt;passphrase>optional; leave empty if not used.&lt;/passphrase>    &lt;/server>    --></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servers</span><span class="token punctuation">></span></span>  <span class="token comment">&lt;!-- mirrors   | This is a list of mirrors to be used in downloading artifacts from remote repositories.   |   | It works like this: a POM may declare a repository to use in resolving certain artifacts.   | However, this repository may have problems with heavy traffic at times, so people have mirrored   | it to several places.   |   | That repository definition will have a unique id, so we can create a mirror reference for that   | repository, to be used as an alternate download site. The mirror site will be the preferred   | server for that repository.   |--></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirrors</span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!-- mirror     | Specifies a repository mirror site to use instead of a given repository. The repository that     | this mirror serves has an ID that matches the mirrorOf element of this mirror. IDs are used     | for inheritance and direct lookup purposes, and must be unique across the set of mirrors.     |    &lt;mirror>      &lt;id>mirrorId&lt;/id>      &lt;mirrorOf>repositoryId&lt;/mirrorOf>      &lt;name>Human Readable Name for this Mirror.&lt;/name>      &lt;url>http://my.repository.com/repo/path&lt;/url>    &lt;/mirror>     --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirror</span><span class="token punctuation">></span></span>           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">></span></span>nexus_aliyun<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">></span></span>           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirrorOf</span><span class="token punctuation">></span></span>central<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirrorOf</span><span class="token punctuation">></span></span>           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>Nexus aliyun<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">></span></span>http://maven.aliyun.com/nexus/content/groups/public<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirror</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirror</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">></span></span>aliyunmaven<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirrorOf</span><span class="token punctuation">></span></span>*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirrorOf</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>阿里云公共仓库<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">></span></span>https://maven.aliyun.com/repository/central<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirror</span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!--&lt;mirror>        &lt;id>alimaven&lt;/id>      &lt;mirrorOf>central&lt;/mirrorOf>      &lt;name>aliyun maven&lt;/name>      &lt;url>http://maven.aliyun.com/nexus/content/groups/public&lt;/url>    &lt;/mirror>--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirror</span><span class="token punctuation">></span></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">></span></span>Central<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">></span></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">></span></span>http://repo1.maven.org/maven2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">></span></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirrorOf</span><span class="token punctuation">></span></span>central<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirrorOf</span><span class="token punctuation">></span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirror</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirrors</span><span class="token punctuation">></span></span>  <span class="token comment">&lt;!-- profiles   | This is a list of profiles which can be activated in a variety of ways, and which can modify   | the build process. Profiles provided in the settings.xml are intended to provide local machine-   | specific paths and repository locations which allow the build to work in the local environment.   |   | For example, if you have an integration testing plugin - like cactus - that needs to know where   | your Tomcat instance is installed, you can provide a variable here such that the variable is   | dereferenced during the build process to configure the cactus plugin.   |   | As noted above, profiles can be activated in a variety of ways. One way - the activeProfiles   | section of this document (settings.xml) - will be discussed later. Another way essentially   | relies on the detection of a system property, either matching a particular value for the property,   | or merely testing its existence. Profiles can also be activated by JDK version prefix, where a   | value of '1.4' might activate a profile when the build is executed on a JDK version of '1.4.2_07'.   | Finally, the list of active profiles can be specified directly from the command line.   |   | NOTE: For profiles defined in the settings.xml, you are restricted to specifying only artifact   |       repositories, plugin repositories, and free-form properties to be used as configuration   |       variables for plugins in the POM.   |   |--></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>profiles</span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!-- profile     | Specifies a set of introductions to the build process, to be activated using one or more of the     | mechanisms described above. For inheritance purposes, and to activate profiles via &lt;activatedProfiles/>     | or the command line, profiles have to have an ID that is unique.     |     | An encouraged best practice for profile identification is to use a consistent naming convention     | for profiles, such as 'env-dev', 'env-test', 'env-production', 'user-jdcasey', 'user-brett', etc.     | This will make it more intuitive to understand what the set of introduced profiles is attempting     | to accomplish, particularly when you only have a list of profile id's for debug.     |     | This profile example uses the JDK version to trigger activation, and provides a JDK-specific repo.    &lt;profile>      &lt;id>jdk-1.4&lt;/id>      &lt;activation>        &lt;jdk>1.4&lt;/jdk>      &lt;/activation>      &lt;repositories>        &lt;repository>          &lt;id>jdk14&lt;/id>          &lt;name>Repository for JDK 1.4 builds&lt;/name>          &lt;url>http://www.myhost.com/maven/jdk14&lt;/url>          &lt;layout>default&lt;/layout>          &lt;snapshotPolicy>always&lt;/snapshotPolicy>        &lt;/repository>      &lt;/repositories>    &lt;/profile>    --></span>    <span class="token comment">&lt;!--     | Here is another profile, activated by the system property 'target-env' with a value of 'dev',     | which provides a specific path to the Tomcat instance. To use this, your plugin configuration     | might hypothetically look like:     |     | ...     | &lt;plugin>     |   &lt;groupId>org.myco.myplugins&lt;/groupId>     |   &lt;artifactId>myplugin&lt;/artifactId>     |     |   &lt;configuration>     |     &lt;tomcatLocation>$&#123;tomcatPath&#125;&lt;/tomcatLocation>     |   &lt;/configuration>     | &lt;/plugin>     | ...     |     | NOTE: If you just wanted to inject this configuration whenever someone set 'target-env' to     |       anything, you could just leave off the &lt;value/> inside the activation-property.     |    &lt;profile>      &lt;id>env-dev&lt;/id>      &lt;activation>        &lt;property>          &lt;name>target-env&lt;/name>          &lt;value>dev&lt;/value>        &lt;/property>      &lt;/activation>      &lt;properties>        &lt;tomcatPath>/path/to/tomcat/instance&lt;/tomcatPath>      &lt;/properties>    &lt;/profile>    --></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>profiles</span><span class="token punctuation">></span></span>  <span class="token comment">&lt;!-- activeProfiles   | List of profiles that are active for all builds.   |  &lt;activeProfiles>    &lt;activeProfile>alwaysActiveProfile&lt;/activeProfile>    &lt;activeProfile>anotherAlwaysActiveProfile&lt;/activeProfile>  &lt;/activeProfiles>  --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>settings</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>前端配置操作</title>
      <link href="/tools/qian-duan-pei-zhi-cao-zuo/"/>
      <url>/tools/qian-duan-pei-zhi-cao-zuo/</url>
      
        <content type="html"><![CDATA[<h2 id="npm"><a href="#npm" class="headerlink" title="npm"></a>npm</h2><ol><li>npm项目初始化操作<br><img src="/images/2023020816411101.png" alt="2023020816411101.png"></li></ol><p>npm init 项目初始化后会生成package.json文件，类似于java中的pom.xml文件</p><p>#按照提示输入相关信息，如果是用默认值则直接回车即可。</p><p>#name: 项目名称</p><p>#version: 项目版本号</p><p>#description: 项目描述</p><p>#keywords: {Array}关键词，便于用户搜索到我们的项目</p><p>npm init -y 直接初始化项目，不用一步一步确定</p><ol start="2"><li>npm下载js依赖<br><img src="/images/2023020816411102.png" alt="2023020816411102.png"><ol><li>npm install 依赖名称 例如：（npm install jquery）</li><li>npm install 指定依赖版本  （npm install <a href="mailto:&#x6a;&#113;&#117;&#101;&#x72;&#x79;&#64;&#x32;&#46;&#x31;&#46;&#x78;">&#x6a;&#113;&#117;&#101;&#x72;&#x79;&#64;&#x32;&#46;&#x31;&#46;&#x78;</a>）</li></ol></li></ol><p>下载npm依赖之前最好修改下npm镜像地址<br>npm官方的管理包都是从<a href="http://npmjs.com/">http://npmjs.com</a>下载，这个网站国内访问速度慢，推荐使用淘宝的npm镜像<a href="http://npm.taobao.org/">http://npm.taobao.org</a></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#经过下面的配置，以后所有的 npm install 都会经过淘宝的镜像地址下载</span><span class="token function">npm</span> config <span class="token builtin class-name">set</span> registry https://registry.npm.taobao.org<span class="token comment">#查看npm配置信息</span><span class="token function">npm</span> config list<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>npm install 命令使用</p><ol><li>npm 全局安装<br>   全局安装的目录在 用户目录\AppData\Roaming\npm\node_modules<br>   npm intall -g webpack</li><li>其他命令</li><li>根据package.json文件下载依赖<br>   使用命令 npm install<br>   npm安装webpack出现如下图问题<br>   <img src="/images/2023020816411103.png" alt="2023020816411103.png"><br>   发现在之前安装的hadoop中有yarn.cmd文件发生冲突，将改文件改名或者删除都可以<br>   <img src="/images/2023020816411104.png" alt="2023020816411104.png"></li></ol><h2 id="Bable安装"><a href="#Bable安装" class="headerlink" title="Bable安装"></a>Bable安装</h2><ol><li>安装命令</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">--global</span> babel-cli<span class="token comment">#查看是否安装成功</span>babel <span class="token parameter variable">--version</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ol start="2"><li>初始化项目<br>npm init -y</li><li>创建文件，编写es6代码</li></ol><pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">&#x2F;&#x2F; 定义数据let input &#x3D; [1, 2, 3]&#x2F;&#x2F; 将数组的每个元素 乘10input &#x3D; input.map(item &#x3D;&gt; item * 10)console.log(input)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="4"><li>配置文件.babelrc<br>配置文件是 .babelrc,放在项目的根目录，配置转码规则</li></ol><pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>    <span class="token property">"presets"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"es2015"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token property">"plugins"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ol start="5"><li>安装转码器<br>npm install –save-dev babel-preset-es2015</li><li>转码</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 转码结果写入一个文件</span><span class="token function">mkdir</span> dist<span class="token comment"># --out-file 或 -o 参数指定输出文件</span>babel src/test.js --out-file dist/test.js<span class="token comment"># 或者简写</span>babel src/test.js <span class="token parameter variable">-o</span> dist/test.js<span class="token comment"># 整个目录转码</span><span class="token function">mkdir</span> dist<span class="token comment"># --out-dir 或 -d 参数指定输出目录</span>babel src --out-dir dist<span class="token comment"># 或者简写</span>babel src <span class="token parameter variable">-d</span> dist<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="webpack安装"><a href="#webpack安装" class="headerlink" title="webpack安装"></a>webpack安装</h2><ol><li>全局安装<br>npm install -g webpack webpack-cli</li><li>查看安装后的版本<br>webpack -v</li><li>初始化项目<br>npm init -y</li><li>写入后代码<br>创建add.js</li></ol><pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">exports.add &#x3D; function (a, b) &#123;    return a + b;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>创建main.js</p><pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">const opr&#x3D; require(&#39;.&#x2F;add&#39;);  &#x2F;&#x2F;引入add.jscommon.info( opr.add(10, 2));<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ol start="5"><li>配置文件 webpack.config.js</li></ol><pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">const path &#x3D; require(&quot;path&quot;); &#x2F;&#x2F;Node.js内置模块module.exports &#x3D; &#123;    entry: &#39;.&#x2F;src&#x2F;main.js&#39;, &#x2F;&#x2F;配置入口文件    output: &#123;        path: path.resolve(__dirname, &#39;.&#x2F;dist&#39;), &#x2F;&#x2F;输出路径，__dirname：当前文件所在路径        filename: &#39;example.js&#39; &#x2F;&#x2F;输出文件    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="6"><li>执行编译命令<br>webpack   #带有警告<br>webpack –mode&#x3D;development # 无警告<br>mode 有development 和 production</li><li>css打包配置文件，在webpack.config.js中增加</li></ol><pre class="line-numbers language-json" data-language="json"><code class="language-json">module<span class="token operator">:</span><span class="token punctuation">&#123;</span>        rules<span class="token operator">:</span><span class="token punctuation">[</span>            <span class="token punctuation">&#123;</span>                test<span class="token operator">:</span> /\.css$/<span class="token punctuation">,</span> <span class="token comment">//打包规则引用到css结尾的文件上</span>                use<span class="token operator">:</span><span class="token punctuation">[</span>'style-loader'<span class="token punctuation">,</span>'css-loader'<span class="token punctuation">]</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">]</span>    <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="8"><li>安装css加载工具，打包方法与js相同<br>npm install –save-dev style-loader css-loader</li></ol>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vscode 终端中运行执行js文件</title>
      <link href="/tools/vscode-zhong-duan-zhong-yun-xing-zhi-xing-js-wen-jian/"/>
      <url>/tools/vscode-zhong-duan-zhong-yun-xing-zhi-xing-js-wen-jian/</url>
      
        <content type="html"><![CDATA[<p>问题汇总</p><p>在vscode中执行node -v没有反应或者执行js文件出现下图错误<br><img src="/images/2023020815380801.png" alt="2023020815380801.png"><br>解决办法：</p><ol><li>先关闭vscode，找到vscode的执行文件，在兼容性中勾上以管理员身份运行此程序，该问题win10出现比较多<br><img src="/images/2023020815380802.png" alt="2023020815380802.png"></li><li>如果上面操作之后，还没有出现版本号<ol><li>确定nodejs是否安装成功</li><li>使用cmd能看到版本号，确定成功了，重启下电脑</li></ol></li></ol>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VSCode 抽取vue的代码片段</title>
      <link href="/tools/vscode-chou-qu-vue-de-dai-ma-pian-duan/"/>
      <url>/tools/vscode-chou-qu-vue-de-dai-ma-pian-duan/</url>
      
        <content type="html"><![CDATA[<p>在vscode中文件——&gt;首选项——&gt;用户片段，输入名字按去确定，输入代码片段</p><pre class="line-numbers language-HTML" data-language="HTML"><code class="language-HTML">&#123;    &quot;vue htm&quot;: &#123;        &quot;scope&quot;: &quot;html&quot;,        &quot;prefix&quot;: &quot;vuehtml&quot;,        &quot;body&quot;: [            &quot;&lt;!DOCTYPE html&gt;&quot;,            &quot;&lt;html lang&#x3D;\&quot;en\&quot;&gt;&quot;,            &quot;&quot;,            &quot;&lt;head&gt;&quot;,            &quot;    &lt;meta charset&#x3D;\&quot;UTF-8\&quot;&gt;&quot;,            &quot;    &lt;meta name&#x3D;\&quot;viewport\&quot; content&#x3D;\&quot;width&#x3D;device-width, initial-scale&#x3D;1.0\&quot;&gt;&quot;,            &quot;    &lt;meta http-equiv&#x3D;\&quot;X-UA-Compatible\&quot; content&#x3D;\&quot;ie&#x3D;edge\&quot;&gt;&quot;,            &quot;    &lt;title&gt;Document&lt;&#x2F;title&gt;&quot;,            &quot;&lt;&#x2F;head&gt;&quot;,            &quot;    &lt;script type&#x3D;\&quot;text&#x2F;javascript\&quot; src&#x3D;\&quot;https:&#x2F;&#x2F;unpkg.com&#x2F;vue@2.6.14&#x2F;dist&#x2F;vue.min.js\&quot;&gt;&lt;&#x2F;script&gt;&quot;,            &quot;&quot;,            &quot;&lt;body&gt;&quot;,            &quot;    &lt;div id&#x3D;\&quot;app\&quot;&gt;&quot;,            &quot;&quot;,            &quot;    &lt;&#x2F;div&gt;&quot;,            &quot;    &lt;script&gt;&quot;,            &quot;        new Vue(&#123;&quot;,            &quot;            el: &#39;#app&#39;,&quot;,            &quot;            data: &#123;&quot;,            &quot;                $1&quot;,            &quot;            &#125;&quot;,            &quot;        &#125;)&quot;,            &quot;    &lt;&#x2F;script&gt;&quot;,            &quot;&lt;&#x2F;body&gt;&quot;,            &quot;&quot;,            &quot;&lt;&#x2F;html&gt;&quot;,        ],        &quot;description&quot;: &quot;my vue template in html&quot;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MyBatisPlus 报MP_OPTLOCK_VERSION_ORIGINAL not found. Available parameters are错误</title>
      <link href="/java/mybatisplus-bao-mp-optlock-version-original-not-found.available-parameters-are-cuo-wu/"/>
      <url>/java/mybatisplus-bao-mp-optlock-version-original-not-found.available-parameters-are-cuo-wu/</url>
      
        <content type="html"><![CDATA[<p>配置mybatisplus乐观锁的过程</p><ol><li>在数据库表中添加version字段类型int<br><img src="/images/2023010415551501.png" alt="2023010415551501.png"></li><li>在实体类中增加version属性，属性上增加@Version注解<br><img src="/images/2023010415551502.png" alt="2023010415551502.png"></li><li>配置乐观锁插件<br>提示Parameter ‘MP_OPTLOCK_VERSION_ORIGINAL’ not found. Available parameters are [param1, et]是因为mybatisplus版本的原因， 新的版本这样配置相当于没有生效，老本的是OptimisticLockerInterceptor已经过时了</li></ol><pre class="line-numbers language-Java" data-language="Java"><code class="language-Java">@Configurationpublic class MyBatisConfig &#123;    &#x2F;&#x2F;乐观锁插件    @Bean    public MybatisPlusInterceptor mybatisPlusInterceptor()&#123;        MybatisPlusInterceptor interceptor &#x3D;new MybatisPlusInterceptor();        interceptor.addInnerInterceptor(new OptimisticLockerInnerInterceptor());        return interceptor;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="/images/2023010415551503.png" alt="2023010415551503.png"></p><p>参考：<a href="https://baomidou.com/pages/0d93c0/#_1-%E9%85%8D%E7%BD%AE%E6%8F%92%E4%BB%B6">https://baomidou.com/pages/0d93c0/#_1-%E9%85%8D%E7%BD%AE%E6%8F%92%E4%BB%B6</a></p><p><img src="/images/2023010415551504.png" alt="2023010415551504.png"></p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>docker中安装elasticsarch 等镜像</title>
      <link href="/tools/docker-zhong-an-zhuang-elasticsarch-deng-jing-xiang/"/>
      <url>/tools/docker-zhong-an-zhuang-elasticsarch-deng-jing-xiang/</url>
      
        <content type="html"><![CDATA[<ol><li><p>在<a href="https://hub.docker.com/">dockerhub</a>中查找镜像</p></li><li><p>查看镜像下的说明，如下图标识成功</p><ol><li>安装elasticsearch<br>运行命令</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">docker</span> run <span class="token parameter variable">--name</span> myes01 <span class="token parameter variable">-d</span> <span class="token parameter variable">-p</span> <span class="token number">9200</span>:9200 <span class="token parameter variable">-p</span> <span class="token number">9300</span>:9300 <span class="token parameter variable">-e</span> <span class="token assign-left variable">ES_JAVA_OPTS</span><span class="token operator">=</span><span class="token string">"-Xms256m -Xmx256m"</span> <span class="token parameter variable">-e</span> <span class="token string">"discovery.type=single-node"</span> elasticsearch:tag<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p> ES_JAVA_OPTS&#x3D;”-Xms256m -Xmx256m”表示限制初始化内存占用大小<br> –name 容器启动后的名称<br> -d     后台运行<br> -p ip1：ip2 映射端口号 ip1 主机端口 ip2 docker容器内部端口。<br> 注意：<br> 启动失败可以设置max_map_count、nofile<br> vi &#x2F;etc&#x2F;security&#x2F;limits.conf<br> #新增如下内容在limits.conf文件中<br> * soft nofile 200000<br> * hard nofile 200000</p><p> vi &#x2F;etc&#x2F;sysctl.conf<br> 添加参数:新增如下内容在sysctl.conf文件中，当前用户拥有的内存权限大小<br> vm.max_map_count&#x3D;262144<br> 重启生效:让系统控制权限配置生效<br> sysctl -p<br> 或者 sysctl -w vm.max_map_count&#x3D;262144 之后 sysctl -p<br> <img src="/images/2022122610551501.png" alt="2022122610551501.png"><br>2. 安装mysql<br>运行命令</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">docker</span> run <span class="token parameter variable">--name</span> mysql01 <span class="token parameter variable">-p</span> <span class="token number">3306</span>:330 <span class="token parameter variable">-e</span> <span class="token assign-left variable">MYSQL_ROOT_PASSWORD</span><span class="token operator">=</span><span class="token number">123456</span> <span class="token parameter variable">-d</span> mysql:tag<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="3"><li>安装rabbitmq，选择带management的有管理界面<br><img src="/images/2022122610551502.png" alt="2022122610551502.png"><br>运行命令</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">-p</span> <span class="token number">5672</span>:5672 <span class="token parameter variable">-p</span> <span class="token number">15672</span>:15672 <span class="token parameter variable">--name</span> myrabbitmq rabbitmq:tag<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>端口15672是访问管理界面的端口号，地址是 ip：15672</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Jenkins安装和自动化部署</title>
      <link href="/tools/jenkins-an-zhuang-he-zi-dong-hua-bu-shu/"/>
      <url>/tools/jenkins-an-zhuang-he-zi-dong-hua-bu-shu/</url>
      
        <content type="html"><![CDATA[<ol><li><p>Jenkins安装机器安装要求可以参考官网 <a href="https://www.jenkins.io/">https://www.jenkins.io</a><br><img src="/images/2022110714041401.png" alt="2022110714041401.png"></p></li><li><p>下载jenkins的war包上传到linux上部署<br><img src="/images/2022110714041402.png" alt="2022110714041402.png"></p></li><li><p>安装jdk、git、maven</p><ol><li>安装jdk<br>搜索可以的jdk包并安装</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">yum search <span class="token function">java</span><span class="token operator">|</span><span class="token function">grep</span> jdkyum <span class="token function">install</span> java-1.8.0-openjdk<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ol start="2"><li>安装git</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">yum <span class="token function">install</span> <span class="token parameter variable">-y</span> <span class="token function">git</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="3"><li>在maven官网下载的安装包<br>解压maven包</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> maven包名 <span class="token function">mv</span> 解压maven包名 /usr/local/maven 使用 /usr/local/maven/bin/mvn 验证是否成功<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p> <img src="/images/2022110714041403.png" alt="2022110714041403.png"><br> 然后在Global Tool configuration配置maven<br> <img src="/images/2022110714041404.png" alt="2022110714041404.png"></p></li><li><p>使用ip+8080访问jenkins<br>访问不了，可以查看防火墙是否开启，关闭防火墙</p></li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">systemctl status firewalldsystemctl stop firewalld<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ol start="5"><li>新建Item并配置<br><img src="/images/2022110714041405.png" alt="2022110714041405.png"><br>jenkins构建编译出现下图报错需要安装java jdk<br><img src="/images/2022110714041406.png" alt="2022110714041406.png"></li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">yum <span class="token function">install</span> <span class="token parameter variable">-y</span> java-devel<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>安装publisher over ssh插件后在Configure System配置测试服务器，测试服务器需要安装jdk<br><img src="/images/2022110714041407.png" alt="2022110714041407.png"><br>在项目构建完成后设置传送到测试服务器并启动<br><img src="/images/2022110714041407.png" alt="2022110714041408.png"><br>jenkins发布后传输到测试服务器并自动运行程序，清理之前的程序<br><img src="/images/2022110714041409.png" alt="2022110714041409.png"><br> shell脚本</p> <pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#删除数据文件</span><span class="token function">rm</span> <span class="token parameter variable">-rf</span> first<span class="token assign-left variable">appname</span><span class="token operator">=</span><span class="token variable">$1</span><span class="token comment">#输入的参数</span><span class="token builtin class-name">echo</span> <span class="token string">"arg:<span class="token variable">$appname</span>"</span><span class="token comment">#获取正在运行jar包的pid</span><span class="token assign-left variable">pid</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">ps</span> <span class="token parameter variable">-ef</span> <span class="token operator">|</span><span class="token function">grep</span> $appname <span class="token operator">|</span><span class="token function">grep</span> <span class="token string">'java -jar'</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'&#123;printf $2&#125;'</span><span class="token variable">`</span></span><span class="token comment">#输出pid</span><span class="token builtin class-name">echo</span> <span class="token variable">$pid</span><span class="token comment">#判断pid是否为空，为空则不处理，不为空则kill</span><span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-z</span> <span class="token variable">$pid</span>  <span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">then</span>                <span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$appname</span> not started"</span>                <span class="token builtin class-name">exit</span> <span class="token number">0</span>        <span class="token keyword">else</span>                <span class="token function">kill</span> <span class="token parameter variable">-9</span> <span class="token variable">$pid</span>                <span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$appname</span> is stopping ..."</span><span class="token keyword">fi</span><span class="token assign-left variable">checkpid</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">ps</span> <span class="token parameter variable">-ef</span> <span class="token operator">|</span><span class="token function">grep</span> <span class="token parameter variable">-w</span> $pid <span class="token operator">|</span><span class="token function">grep</span> <span class="token function">java</span><span class="token variable">`</span></span><span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-z</span> <span class="token variable">$checkpid</span>  <span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">then</span>                <span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$appanme</span> pid: <span class="token variable">$pid</span> kill fail"</span>        <span class="token keyword">else</span>                <span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$appname</span> pid: <span class="token variable">$pid</span> is killed"</span><span class="token keyword">fi</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>注意： <strong>shell脚本中定义变量时，&#x3D;周围不能存在空格，否则会报错</strong></p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Oracle 创建dblink</title>
      <link href="/mysql-sql-oracle/oracle-chuang-jian-dblink/"/>
      <url>/mysql-sql-oracle/oracle-chuang-jian-dblink/</url>
      
        <content type="html"><![CDATA[<ol><li>检查该用户是否拥有创建dblink权限</li></ol><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">select * from user_sys_privs a where a.privilege like upper(&#39;%DATABASE LINK%&#39;);<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="/images/2022102810501501.png" alt="2022102810501501.png"></p><ol start="2"><li>用户没有dblink权限，则需要赋权限</li></ol><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">grant public database link to username<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="3"><li>创建dblink，dblink_name可以随便写</li></ol><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">CREATE database link dblink_name CONNECT TO userName IDENTIFIED BY password USING &#39;(DESCRIPTION&#x3D;    (ADDRESS_LIST&#x3D;         (ADDRESS&#x3D;(PROTOCOL&#x3D;TCP)(HOST&#x3D;ip地址)(PORT&#x3D;1521))     )     (CONNECT_DATA&#x3D;         (SERVICE_NAME&#x3D;数据库实例名)     )  )&#39;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="4"><li>不需要dblink可以删除</li></ol><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">drop public database link dblink_name<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL连接提示 public key retrieval is not allowed</title>
      <link href="/mysql-sql-oracle/mysql-lian-jie-ti-shi-public-key-retrieval-is-not-allowed/"/>
      <url>/mysql-sql-oracle/mysql-lian-jie-ti-shi-public-key-retrieval-is-not-allowed/</url>
      
        <content type="html"><![CDATA[<p>使用DBeaver连接mysql数据提示public key retrieval is not allowed<br>修改DBeaver的驱动属性中的allowPublicKeyRetrieval<br><img src="/images/2022102413211101.png" alt="2022102413211101.png"></p>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>eclipse 安装sts插件</title>
      <link href="/java/eclipse-an-zhuang-sts-cha-jian/"/>
      <url>/java/eclipse-an-zhuang-sts-cha-jian/</url>
      
        <content type="html"><![CDATA[<ol><li>在线安装<br><img src="/images/2022101114531301.png" alt="2022101114531301.png"><br><a href="http://download.springsource.com/release/TOOLS/update/e4.16/">http://download.springsource.com/release/TOOLS/update/e4.16/</a><ol><li>查看eclise版本，把对应的版本修改下</li><li>点击help-install new software，输入name和url，勾选要安装的选项，记得取消自动更新选项<br><img src="/images/2022101114531302.png" alt="2022101114531302.png"></li></ol></li><li>离线安装<br><a href="https://github.com/spring-attic/toolsuite-distribution/wiki/Spring-Tool-Suite-3">sts</a><br>和在线安装差不多，选择对应的版本安装</li></ol>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Win10安装环回适配器</title>
      <link href="/computer/win10-an-zhuang-huan-hui-gua-pei-qi/"/>
      <url>/computer/win10-an-zhuang-huan-hui-gua-pei-qi/</url>
      
        <content type="html"><![CDATA[<ol><li><p>以管理员方式运行dos窗口</p></li><li><p>输入hdwwiz命令回车<br><img src="/images/2022100914100101.png" alt="2022100914100101.png"></p></li></ol>]]></content>
      
      
      <categories>
          
          <category> Computer </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Computer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>oracle统计表空间语句</title>
      <link href="/mysql-sql-oracle/oracle-tong-ji-biao-kong-jian-yu-ju/"/>
      <url>/mysql-sql-oracle/oracle-tong-ji-biao-kong-jian-yu-ju/</url>
      
        <content type="html"><![CDATA[<ol><li>统计单个表所占空间<br>使用dba_segments或user_segments都可以</li></ol><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">   select segment_name,round(sum(BYTES)&#x2F;1024&#x2F;1024&#x2F;1024,2) GB  from user_segmentswhere partition_name like &#39;DWB_PSUSCPN%&#39;group by segment_name<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ol start="2"><li>查看oracle空间</li></ol><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">SELECT a.tablespace_name 表空间名,round(a.bytes&#x2F;1024&#x2F;1024&#x2F;1024,2) 总空间,round(b.bytes&#x2F;1024&#x2F;1024&#x2F;1024,2) 使用空间,round(c.bytes&#x2F;1024&#x2F;1024&#x2F;1024,2) 空闲空间,d.maxbytes 最大空间,round((b.bytes * 100) &#x2F; a.bytes,2) &quot;% USED &quot;,round((c.bytes * 100) &#x2F; a.bytes,2) &quot;% FREE &quot;FROM sys.sm$ts_avail a, sys.sm$ts_used b, sys.sm$ts_free c,(SELECT tablespace_name,round(SUM(maxbytes) &#x2F; 1024 &#x2F; 1024 &#x2F; 1024, 2) maxbytes FROM dba_data_files GROUP BY tablespace_name) dWHERE a.tablespace_name &#x3D; b.tablespace_nameAND a.tablespace_name &#x3D; c.tablespace_nameAND a.tablespace_name &#x3D; d.tablespace_name;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>截取指定错误信息长度</title>
      <link href="/java/jie-qu-zhi-ding-cuo-wu-xin-xi-chang-du/"/>
      <url>/java/jie-qu-zhi-ding-cuo-wu-xin-xi-chang-du/</url>
      
        <content type="html"><![CDATA[<p>截取指定长度错误信息</p><pre class="line-numbers language-Java" data-language="Java"><code class="language-Java">&#x2F;** * 截取消息长度 *  * @param errorMsg 消息 * @param interceptLength 截取长度 * @return String *&#x2F;private String getMessage(String errorMsg, int interceptLength) &#123;    if (StringUtils.isBlank(errorMsg)) &#123;        return &quot;&quot;;    &#125;    int minLength &#x3D; Math.min(interceptLength, errorMsg.getBytes(StandardCharsets.UTF_8).length);    int byteLength &#x3D; 0;    String subStr &#x3D; &quot;&quot;;    do &#123;        subStr &#x3D; errorMsg.substring(0, minLength--);        byteLength &#x3D; subStr.getBytes(StandardCharsets.UTF_8).length;    &#125; while (byteLength &gt; interceptLength);    return subStr;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>win11离线安装netframework3</title>
      <link href="/tools/win11-chi-xian-an-zhuang-netframework3/"/>
      <url>/tools/win11-chi-xian-an-zhuang-netframework3/</url>
      
        <content type="html"><![CDATA[<ol><li><a href="https://pan.baidu.com/s/1eAM8YGcTH3SMoDiV3L-2ww?pwd=p4dw">下载cab包</a></li><li>以管理员方式运行dos，dism.exe &#x2F;online &#x2F;enable-feature &#x2F;featurename:netfx3 &#x2F;Source:D:\sources\sxs (D:\sources\sxs这里根据自己电脑情况建立文件夹)</li><li>在设置-&gt;应用中打开可勾选功能<br><img src="/images/2022072014590901.png" alt="2022072014590901.png"></li></ol>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>TortoiseGit切换分支提示pull requires the selected local branch to be the current branch</title>
      <link href="/tools/tortoisegit-qie-huan-fen-zhi-ti-shi-pull-requires-the-selected-local-branch-to-be-the-current-branch/"/>
      <url>/tools/tortoisegit-qie-huan-fen-zhi-ti-shi-pull-requires-the-selected-local-branch-to-be-the-current-branch/</url>
      
        <content type="html"><![CDATA[<p>切换分支提示pull requires the selected local branch to be the current branch<br><img src="/images/2022072014471701.png" alt="2022072014471701.png"><br>解决办法，安装高版本的TortoiseGit就可以了。</p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MyBatis QueryWrapper 简单用法</title>
      <link href="/java/mybatis-querywrapper-jian-dan-yong-fa/"/>
      <url>/java/mybatis-querywrapper-jian-dan-yong-fa/</url>
      
        <content type="html"><![CDATA[<p>sql 语句</p><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">select * from data_log where status is null and ((ind is null and data_type&#x3D;&#39;A&#39;) or (ind is not null and data_type&#x3D;&#39;B&#39;))<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>翻译java代码</p><pre class="line-numbers language-Java" data-language="Java"><code class="language-Java">QueryWrapper&lt;T&gt; qw &#x3D;new QueryWrapper&lt;&gt;();qw.isNull(&quot;status&quot;);qw.and(a-&gt;a.isNull(&quot;ind&quot;).eq(&quot;data_type&quot;,&quot;A&quot;)            .or(b-&gt;b.isNotNull(&quot;ind&quot;).eq(&quot;data_type&quot;,&quot;B&quot;)));<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>win10 替换背景图片提示文件夹拒绝访问</title>
      <link href="/computer/win10-ti-huan-bei-jing-tu-pian-ti-shi-wen-jian-jia-ju-jue-fang-wen/"/>
      <url>/computer/win10-ti-huan-bei-jing-tu-pian-ti-shi-wen-jian-jia-ju-jue-fang-wen/</url>
      
        <content type="html"><![CDATA[<p><img src="/images/2022071817051501.png" alt="2022071817051501.png"></p>]]></content>
      
      
      <categories>
          
          <category> Computer </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Computer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Jenkins建立一个指定的分支</title>
      <link href="/tools/jenkins-jian-li-yi-ge-zhi-ding-de-fen-zhi/"/>
      <url>/tools/jenkins-jian-li-yi-ge-zhi-ding-de-fen-zhi/</url>
      
        <content type="html"><![CDATA[<p><img src="/images/2022042710531301.png" alt="2022042710531301.png"><br><img src="/images/2022042710531302.png" alt="2022042710531302.png"></p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SpringBoot Profile多环境支持</title>
      <link href="/java/springboot-profile-duo-huan-jing-zhi-chi/"/>
      <url>/java/springboot-profile-duo-huan-jing-zhi-chi/</url>
      
        <content type="html"><![CDATA[<p>多profiles文件使用spring.profiles.active&#x3D;dev没有生效，需要在pom.xml文件中增加</p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token comment">&lt;!-- profile多环境支持需要配置 --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resources</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resource</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>directory</span><span class="token punctuation">></span></span>src/main/resources<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>directory</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filtering</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filtering</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resource</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resources</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>applicaiton.properties，需要切换环境只需要在application.properties中修改spring.profiles.active&#x3D;dev或者prod</p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup">server.port=8089spring.profiles.active=dev<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>application-dev.properties</p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup">server.port=8081<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>application-prod.properties</p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup">server.port=8082<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>yaml文件配置</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">spring</span><span class="token punctuation">:</span>  <span class="token key atrule">profiles</span><span class="token punctuation">:</span>    <span class="token key atrule">active</span><span class="token punctuation">:</span> dev    <span class="token punctuation">---</span><span class="token key atrule">server</span><span class="token punctuation">:</span>  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8084</span><span class="token key atrule">spring</span><span class="token punctuation">:</span>  <span class="token key atrule">profiles</span><span class="token punctuation">:</span> dev    <span class="token punctuation">---</span><span class="token key atrule">server</span><span class="token punctuation">:</span>  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8085</span><span class="token key atrule">spring</span><span class="token punctuation">:</span>  <span class="token key atrule">profiles</span><span class="token punctuation">:</span> prod<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>yaml文件和properties文件只能存在一种，使用yaml文件需要把properties文件里的内容全部注释掉。</strong></p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Postman Cloud not get response</title>
      <link href="/tools/postman-cloud-not-get-response/"/>
      <url>/tools/postman-cloud-not-get-response/</url>
      
        <content type="html"><![CDATA[<p>使用post输入https请求是提示cloud not get response<br><img src="/images/2022041114501501.png" alt="2022041114501501.png"><br>只需要在设置中关闭ssl certificate verification<br><img src="/images/2022041114501502.png" alt="2022041114501502.png"></p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Docker安装出现的问题</title>
      <link href="/tools/docker-an-zhuang-chu-xian-de-wen-ti/"/>
      <url>/tools/docker-an-zhuang-chu-xian-de-wen-ti/</url>
      
        <content type="html"><![CDATA[<ol><li>.bash:docker.exe Common not found<br><img src="/images/2022032914521201.png" alt="2022032914521201.png"><br>在系统环境变量中配置一下docker的安装路径</li><li>Looks like something went wrong in step ´Looking for vboxmanage.exe´<br>需要一步步排除docker安装目录下的文件（start.sh）中的系统环境变量读取是否正确<br>配置环境变量还是读取不了，直接赋值具体路径（D:\Program Files\Docker Toolbox\docker-machine.exe)<br><img src="/images/2022032914521202.png" alt="2022032914521202.png"><br>同样的方法排除变量VBOX_MSI_INSTALL_PATH<br><img src="/images/2022032914521203.png" alt="2022032914521203.png"></li></ol>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java SimpleDateFormat用法</title>
      <link href="/java/java-simpledateformat-yong-fa/"/>
      <url>/java/java-simpledateformat-yong-fa/</url>
      
        <content type="html"><![CDATA[<pre class="line-numbers language-Java" data-language="Java"><code class="language-Java">public static void main(String[] args) &#123;        &#x2F;**         *SimpleDateFormat函数语法：          G 年代标志符          y 年          M 月          d 日          h 时 在上午或下午 (1~12)          H 时 在一天中 (0~23)          m 分          s 秒          S 毫秒          E 星期          D 一年中的第几天          F 一月中第几个星期几          w 一年中第几个星期          W 一月中第几个星期          a 上午 &#x2F; 下午 标记符          k 时 在一天中 (1~24)          K 时 在上午或下午 (0~11)          z 时区         *&#x2F;        SimpleDateFormat simple&#x3D;new SimpleDateFormat(                &quot;yyyyMMdd HH:mm:ss 一年中的第 D 天 第w个星期 一月中第W个星期 E 在一天中k时 z时区&quot;);        System.out.println(simple.format(new Date()));&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="/images/2022022316061601.png" alt="2022022316061601.png"></p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Oracle 操作表</title>
      <link href="/mysql-sql-oracle/oracle-cao-zuo-biao/"/>
      <url>/mysql-sql-oracle/oracle-cao-zuo-biao/</url>
      
        <content type="html"><![CDATA[<pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">--查询回收站中的表select * from recyclebin;--清空回收站中的表purge recyclebin;--清空回收站中指定的表purge table &amp;ORIGINAL_NAME;--恢复回收站中的指定表FLASHBACK TABLE TABLE_NAME TO BEFORE DROP;--恢复回收站中的指定表并重命名flashback table TABLE_NAME to before drop rename to new_table_name;--一次性彻底删除表drop table TABLE_NAME purge;--删除带约束的表drop table TABLE_NAME cascade constraints;--删除表，并未真正删除，只是把表放入回收站中drop table TABLE_NAME;--查询表名select * from user_tables;--批量生成删除语句select &#39;drop table &#39;|| table_name || &#39; cascade constraints;&#39; from user_tables; --判断是否存在表再删除declare  n_count number;begin  select count(1)    into n_count    from user_tables   where table_name &#x3D; &#39;TABLE_NAME&#39;;  if n_count &gt; 0 then    execute immediate &#39;drop table TABLE_NAMEcascade constraints&#39;;  end if;end;--查询表最后的更新时间（last_ddl_time）SELECT object_name,object_type,created,last_ddl_time FROM USER_OBJECTS WHERE OBJECT_TYPE &#x3D; &#39;TABLE&#39; order by last_ddl_time desc;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>plsql导出表结构</title>
      <link href="/mysql-sql-oracle/plsql-dao-chu-biao-jie-gou/"/>
      <url>/mysql-sql-oracle/plsql-dao-chu-biao-jie-gou/</url>
      
        <content type="html"><![CDATA[<ol><li>点击export table,选中导出的表</li><li>在where clause加上 where rownum&lt;1,控制是否导出数据<br><img src="/images/2021110316201201.png" alt="2021110316201201.png"></li></ol>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java中http请求</title>
      <link href="/java/java-zhong-http-qing-qiu/"/>
      <url>/java/java-zhong-http-qing-qiu/</url>
      
        <content type="html"><![CDATA[<pre class="line-numbers language-Java" data-language="Java"><code class="language-Java">&#x2F;** * Http请求 *  * @param url         请求地址 * @param requestType 请求方式(GET,POST) * @return String *&#x2F;public static String sendRequest(String httpUrl, String requestType) &#123;    HttpURLConnection con &#x3D; null;    BufferedReader reader &#x3D; null;    StringBuilder result &#x3D; null;    InputStream stream &#x3D; null;    try &#123;        URL url &#x3D; new URL(httpUrl);        con &#x3D; (HttpURLConnection) url.openConnection();        con.setRequestMethod(requestType);        con.setRequestProperty(&quot;Content-Type&quot;, &quot;application&#x2F;json;charset&#x3D;UTF-8&quot;);        con.setDoOutput(true);        con.setDoInput(true);        con.setUseCaches(false);        int respon &#x3D; con.getResponseCode();        if (respon &#x3D;&#x3D; 200) &#123;            stream &#x3D; con.getInputStream();            result &#x3D; new StringBuilder();            String line;            reader &#x3D; new BufferedReader(new InputStreamReader(stream, &quot;UTF-8&quot;));            while ((line &#x3D; reader.readLine()) !&#x3D; null) &#123;                result.append(line);            &#125;            return result.toString();        &#125;    &#125; catch (Exception e) &#123;        log.error(&quot;请求异常：&quot; + e.toString());    &#125; finally &#123;        if (reader !&#x3D; null) &#123;            try &#123;                reader.close();            &#125; catch (IOException e) &#123;                log.error(&quot;关闭读取流失败：&quot; + e.toString());            &#125;        &#125;        if (stream !&#x3D; null) &#123;            try &#123;                stream.close();            &#125; catch (IOException e) &#123;                log.error(&quot;关闭流失败：&quot; + e.toString());            &#125;        &#125;        if (con !&#x3D; null) &#123;            con.disconnect();        &#125;    &#125;    return &quot;&quot;;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>计算两个日期相隔月份</title>
      <link href="/java/ji-suan-liang-ge-ri-qi-xiang-ge-yue-fen/"/>
      <url>/java/ji-suan-liang-ge-ri-qi-xiang-ge-yue-fen/</url>
      
        <content type="html"><![CDATA[<pre class="line-numbers language-Java" data-language="Java"><code class="language-Java">&#x2F;** *  * 比较日期月份 * @param start 开始日期 * @param end 结束日期 * @return Integer *&#x2F;public static Integer diffMonth(Date start, Date end) &#123;    if (start &#x3D;&#x3D; null || end &#x3D;&#x3D; null) &#123;        return null;    &#125;    Calendar cStart &#x3D; Calendar.getInstance();    cStart.setTime(start);    Calendar cEnd &#x3D; Calendar.getInstance();    cEnd.setTime(end);    int month &#x3D; cEnd.get(Calendar.MONTH) - cStart.get(Calendar.MONTH);    int year &#x3D; cEnd.get(Calendar.YEAR) - cStart.get(Calendar.YEAR);    return year * 12 + month;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java 日期验证和获取</title>
      <link href="/java/java-ri-qi-yan-zheng-he-huo-qu/"/>
      <url>/java/java-ri-qi-yan-zheng-he-huo-qu/</url>
      
        <content type="html"><![CDATA[<pre class="line-numbers language-Java" data-language="Java"><code class="language-Java">&#x2F;*** 日期格式 yyyyMMdd*&#x2F;private static final String DATEFORMAT &#x3D; &quot;([0-9]&#123;4&#125;)(0[1-9]|1[012])(0[1-9]|[12][0-9]|3[01])&quot;;&#x2F;** *  * isDate 判断是否是有效的日期 * @param date 日期字符串 * @return 是否 *&#x2F;public static boolean isDate(String date) &#123;        Pattern pattern &#x3D; Pattern.compile(DATEFORMAT);    Matcher matcher &#x3D; pattern.matcher(date);    if (matcher.matches()) &#123;        pattern &#x3D; Pattern.compile(DATE);        matcher &#x3D; pattern.matcher(date);        if (matcher.matches()) &#123;            int y &#x3D; Integer.valueOf(matcher.group(1));            int m &#x3D; Integer.valueOf(matcher.group(2));            int d &#x3D; Integer.valueOf(matcher.group(3));            if (d &gt; 28) &#123;                Calendar c &#x3D; Calendar.getInstance();                c.set(y, m - 1, 1);                &#x2F;&#x2F; 每个月的最大天数                int lastDay &#x3D; c.getActualMaximum(Calendar.DAY_OF_MONTH);                return (lastDay &gt;&#x3D; d);            &#125;        &#125;        return true;    &#125;    return false;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-Java" data-language="Java"><code class="language-Java">private static final String DATEFORMAT &#x3D; &quot;([0-9]&#123;4&#125;)(0[1-9]|1[012])&quot;;private static final String DATE &#x3D; &quot;(\\d&#123;4&#125;)(\\d&#123;2&#125;)&quot;; &#x2F;** * 返回月份最后一天 * * @param month  日期 yyyyMM * @param amount 增加月份 * @return String *&#x2F;public static String addMonth(String month, int amount) &#123;    Date result &#x3D; null;    Pattern pattern &#x3D; Pattern.compile(DATEFORMAT);    Matcher matcher &#x3D; pattern.matcher(month);    if (matcher.matches()) &#123;        pattern &#x3D; Pattern.compile(DATE);        matcher &#x3D; pattern.matcher(month);        if (matcher.matches()) &#123;            int y &#x3D; Integer.parseInt(matcher.group(1));            int m &#x3D; Integer.parseInt(matcher.group(2));            Calendar c &#x3D; Calendar.getInstance();            c.set(y, (m - 1 + amount), 1);            &#x2F;&#x2F; 每个月的最大天数            int lastDay &#x3D; c.getActualMaximum(Calendar.DAY_OF_MONTH);            c.set(Calendar.DAY_OF_MONTH, lastDay);            result &#x3D; c.getTime();        &#125;    &#125;    SimpleDateFormat sdfDay &#x3D; new SimpleDateFormat(&quot;yyyyMMdd&quot;);    return sdfDay.format(result);&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MyBatis注解调用存储过程获取返回值</title>
      <link href="/java/mybatis-zhu-jie-diao-yong-cun-chu-guo-cheng-huo-qu-fan-hui-zhi/"/>
      <url>/java/mybatis-zhu-jie-diao-yong-cun-chu-guo-cheng-huo-qu-fan-hui-zhi/</url>
      
        <content type="html"><![CDATA[<ol><li>准备存储过程</li></ol><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">create or replace procedure P_Test(vc_num1 in varchar2,                                   vc_num2 in varchar2,                                   vc_sql out varchar2) isbegin  &#x2F;&#x2F;具体操作end P_Test;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="2"><li>在dao文件配置<br>statementType &#x3D; StatementType.CALLABLE 表示存储过程</li></ol><pre class="line-numbers language-Java" data-language="Java"><code class="language-Java">@Select(&quot;&#123;call P_Test(#&#123;map.num1,jdbcType&#x3D;VARCHAR,mode&#x3D;IN&#125;,&quot;            + &quot;#&#123;map.num2,jdbcType&#x3D;VARCHAR,mode&#x3D;IN&#125;,&quot;            + &quot;#&#123;map.sql,jdbcType&#x3D;VARCHAR,mode&#x3D;OUT&#125;)&#125;&quot;)    @Result(column &#x3D; &quot;sql&quot;, property &#x3D; &quot;sql&quot;, jdbcType &#x3D; JdbcType.VARCHAR)    @Options(statementType &#x3D; StatementType.CALLABLE)    void getSqlBycondition(@Param(&quot;map&quot;) Map&lt;String, Object&gt; map);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="3"><li>在service中调用<br>在通过map.get(“sql”)获取返回值</li></ol><pre class="line-numbers language-Java" data-language="Java"><code class="language-Java">String sql &#x3D; &quot;&quot;;        Map&lt;String, Object&gt; mapSql &#x3D; new HashMap&lt;&gt;();        mapSql.put(&quot;num1&quot;, &quot;1&quot;);        mapSql.put(&quot;num2&quot;, &quot;2&quot;);        mapSql.put(&quot;sql&quot;, sql);        middleService.getSqlBycondition(mapSql);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>DBeaver连接oracle声明变量使用</title>
      <link href="/mysql-sql-oracle/dbeaver-lian-jie-oracle-sheng-ming-bian-liang-shi-yong/"/>
      <url>/mysql-sql-oracle/dbeaver-lian-jie-oracle-sheng-ming-bian-liang-shi-yong/</url>
      
        <content type="html"><![CDATA[<p>在<strong>plsql</strong>中使用&amp;接收用户输入的值</p><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">select &amp;变量名 from dual;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>在<strong>dbeaver</strong>可以定义变量实现<br>声明变量</p><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">@set 变量名（startdate）&#x3D;&#39;2021-08-02&#39;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>使用变量</p><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">select $&#123;startdate&#125; from dual<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Oracle复制表中数据</title>
      <link href="/mysql-sql-oracle/oracle-fu-zhi-biao-zhong-shu-ju/"/>
      <url>/mysql-sql-oracle/oracle-fu-zhi-biao-zhong-shu-ju/</url>
      
        <content type="html"><![CDATA[<ol><li>insert into select<br>这种方式需要table1表和对象的字段都必须存在</li></ol><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">insert into table1 (字段1,字段2) select  字段1,字段2 from table2<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="2"><li>create table as select<br>这种方式是根据table2的表结构创建table1</li></ol><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">create table table1 as select * from table2<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git配置</title>
      <link href="/tools/git-pei-zhi/"/>
      <url>/tools/git-pei-zhi/</url>
      
        <content type="html"><![CDATA[<ol><li>配置git<br>git config –global user.name “用户名”<br>git config –global user.email “用户邮箱”</li><li>git配置修改<ol><li>方法一　<br>git config –global –replace-all user.name “用户名”<br>git config –global –replace-all user.email “用户邮箱”</li><li>方法二<br>找到本地配置文件，路径：C:\Users{user 电脑登陆账号}.gitconfig，直接修改文件中name或email<br>如有name或email有重复值，需删除多个重复值，保留一个值即可。<br><img src="/images/2021061115381801.png" alt="2021061115381801.png"></li></ol></li></ol>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jdbc连接oracle方法</title>
      <link href="/mysql-sql-oracle/jdbc-lian-jie-oracle-fang-fa/"/>
      <url>/mysql-sql-oracle/jdbc-lian-jie-oracle-fang-fa/</url>
      
        <content type="html"><![CDATA[<ol><li><p>servicename连接方式<br>jdbc:oracle:thin:@&#x2F;&#x2F;<host>:<port>&#x2F;<service_name></p></li><li><p>sid连接方式</p><ol><li>jdbc:oracle:thin:@<host>:<port>&#x2F;<SID></li><li>jdbc:oracle:thin:@<host>:<port>:<SID></li></ol></li></ol><p>转载：<a href="https://www.cnblogs.com/zhuitian/p/11530694.html">https://www.cnblogs.com/zhuitian/p/11530694.html</a></p>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Oracle 查看所有表结构</title>
      <link href="/mysql-sql-oracle/oracle-cha-kan-suo-you-biao-jie-gou/"/>
      <url>/mysql-sql-oracle/oracle-cha-kan-suo-you-biao-jie-gou/</url>
      
        <content type="html"><![CDATA[<pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">with temp as (select table_name name,         &#39;表&#39; type,         comments comments,         &#39;&#39; tablename,         0 num,         &#39;&#39; nullable    from user_tab_comments   where table_type &#x3D; &#39;TABLE&#39;  union all  select &#39;      &#39; || a.column_name name,         a.data_type || &#39;(&#39; || a.data_length || &#39;)&#39; type,         b.comments comments,         a.table_name tablename,         column_id num,         nullable nullable    from user_tab_columns a, user_col_comments b   where a.table_name &#x3D; b.table_name     and a.column_name &#x3D; b.column_name)select name, type, nullable, comments  from temp t start with tablename is nullconnect by prior t.name &#x3D; t.tablename order siblings by num;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>转载：<a href="https://www.cnblogs.com/fighter7/p/12667366.html">https://www.cnblogs.com/fighter7/p/12667366.html</a></p>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Orale 多列转多行</title>
      <link href="/mysql-sql-oracle/orale-duo-lie-zhuan-duo-xing/"/>
      <url>/mysql-sql-oracle/orale-duo-lie-zhuan-duo-xing/</url>
      
        <content type="html"><![CDATA[<ol><li>创建表</li></ol><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">create table TESTDATE(  calc_type NVARCHAR2(10),  calc_no   NVARCHAR2(10),  calc_name NVARCHAR2(10),  calc_aca1 NVARCHAR2(10),  calc_aca2 NVARCHAR2(10),  calc_acn1 NVARCHAR2(10),  calc_acn2 NVARCHAR2(10))<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="2"><li>插入数据 如下图<br><img src="/images/2021052817261601.png" alt="2021052817261601.png"></li><li>sql语句</li></ol><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">select calc_type,calc_no,calc_name,aca,acn,newnamefrom testdate unpivot ((aca,acn) --多列合并一列别名 for newname in (   (calc_aca1,calc_acn1),(calc_aca2,calc_acn2) --实际数据库的列明   ))<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="/images/2021052817261602.png" alt="2021052817261602.png"></p>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Win10 离线安装CAB和MSU格式不定</title>
      <link href="/computer/win10-chi-xian-an-zhuang-cab-he-msu-ge-shi-bu-ding/"/>
      <url>/computer/win10-chi-xian-an-zhuang-cab-he-msu-ge-shi-bu-ding/</url>
      
        <content type="html"><![CDATA[<ol><li><p>CAB包安装<br>以管理员方式运行dos<br>dism &#x2F;online &#x2F;add-package &#x2F;packagepath:”文件路径”<br>文件路径例如 D:\test\test.cab</p></li><li><p>MUS安装<br>wusa.exe “文件路径” &#x2F;quiet &#x2F;norestart<br>文件路径例如 D:\test\test.mus</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> Computer </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Computer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>oracle 查看表是否被锁定</title>
      <link href="/mysql-sql-oracle/oracle-cha-kan-biao-shi-fou-bei-suo-ding/"/>
      <url>/mysql-sql-oracle/oracle-cha-kan-biao-shi-fou-bei-suo-ding/</url>
      
        <content type="html"><![CDATA[<ol><li>查看哪个表被锁</li></ol><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">select b.owner,b.object_name,a.session_id,a.locked_modefrom v$locked_object a,dba_objects bwhere b.object_id &#x3D; a.object_id;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ol start="2"><li>查看哪个进程锁的</li></ol><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">select b.username,b.sid,b.serial#,logon_timefrom v$locked_object a,v$session bwhere a.session_id &#x3D; b.sid order by b.logon_time;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ol start="3"><li>杀掉进程</li></ol><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">alter system kill session &#39;sid,serial#&#39;;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>eclipse this compilation unit is not on the build path</title>
      <link href="/java/eclipse-this-compilation-unit-is-not-on-the-build-path/"/>
      <url>/java/eclipse-this-compilation-unit-is-not-on-the-build-path/</url>
      
        <content type="html"><![CDATA[<p>先看看项目中的project文件中的javabuilder和javanature有没有，没有就添加</p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token comment">&lt;!-- 检查有没有javabuilder,没有的话添加--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>buildSpec</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>buildCommand</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>org.eclipse.jdt.core.javabuilder<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>arguments</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>arguments</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>buildCommand</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>buildSpec</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>natures</span><span class="token punctuation">></span></span><span class="token comment">&lt;!-- 检查有没有javanature,没有的话添加--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nature</span><span class="token punctuation">></span></span>org.eclipse.jdt.core.javanature<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nature</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nature</span><span class="token punctuation">></span></span>org.apache.ivyde.eclipse.ivynature<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nature</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>natures</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Win10 中javac命令无法执行</title>
      <link href="/java/win10-zhong-javac-ming-ling-wu-fa-zhi-xing/"/>
      <url>/java/win10-zhong-javac-ming-ling-wu-fa-zhi-xing/</url>
      
        <content type="html"><![CDATA[<p>在win10系统中配置Java jdk环境后，javac无法执行<br>网上没有找到解决办法<br>在系统变量中配置无用，在用户变量中也配置了一遍居然可以了<br><img src="/images/2021021914051501.png" alt="2021021914051501.png"><br><img src="/images/2021021914051502.png" alt="2021021914051502.png"><br><img src="/images/2021021914051503.png" alt="2021021914051503.png"></p><p>win10以下可以参考 <a href="https://www.cnblogs.com/ZJ199012/p/4033353.html">Java Jdk 环境配置和测</a></p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Docker安装</title>
      <link href="/tools/docker-an-zhuang/"/>
      <url>/tools/docker-an-zhuang/</url>
      
        <content type="html"><![CDATA[<h2 id="win10以下用户推荐下载Docker-Toolbox"><a href="#win10以下用户推荐下载Docker-Toolbox" class="headerlink" title="win10以下用户推荐下载Docker Toolbox"></a>win10以下用户推荐下载Docker Toolbox</h2><ol><li><p>安装docker Toolbox<br>　　安装完成后建议断开本地网络</p></li><li><p>指定docker machine的位置<br>　　a.在Windows的系统环境添加MACHINE_STORAGE_PATH ，指向虚拟机的位置（例如F:\vm\docker）<br>　　b.复制安装目录下boot2docker.iso到虚拟机的位置同级目录cache中,没有该文件夹自己创建（F:\vm\docker\cache）</p></li><li><p>修改start.sh脚本<br>　　找到”${DOCKER_MACHINE}” create</p><p>   –engine-registry-mirror 指定加速地址<br>   –virtualbox-disk-size 指定虚机空间大小，单位M</p><p>  调整为<br>  “${DOCKER_MACHINE}” create ‘–engine-registry-mirror&#x3D;<a href="https://8080ka5p.mirror.aliyuncs.com/">https://8080ka5p.mirror.aliyuncs.com</a>‘ -d virtualbox –virtualbox-disk-size “100000” $PROXY_ENV “${VM}”</p></li></ol><p><img src="/images/2021021907371701.png" alt="2021021907371701.png"><br>4. 运行Docker QuickStart安装即可</p><ol start="5"><li>镜像加速</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">docker-machine <span class="token function">ssh</span> default<span class="token function">sudo</span> <span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">"s|EXTRA_ARGS='|EXTRA_ARGS='--registry-mirror=https://registry.docker-cn.com |g"</span> /var/lib/boot2docker/profile<span class="token builtin class-name">exit</span>docker-machine restart default<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="6"><li>建议虚机分配至少2cpu、2G内存，在Oracle VM VirtualBox关闭虚机后调整<br><img src="/images/2021021907371702.png" alt="2021021907371702.png"></li><li>验证命令</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">docker</span> <span class="token function">ps</span>docker-machine <span class="token function">ssh</span> default<span class="token comment">#当类似</span><span class="token function">docker</span> search mysql<span class="token comment">#该命令无法执行使，需要调整一下dns</span><span class="token function">sudo</span> <span class="token function">vi</span> /etc/resolv.confnameserver  <span class="token number">8.8</span>.8.8<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="win10"><a href="#win10" class="headerlink" title="win10"></a>win10</h2><ol><li><p>对于Windows 10 Home的用户</p><ol><li>安装要求</li></ol></li></ol><p>Windows 10 Home machines must meet the following requirements to install Docker Desktop:</p><p>Install Windows 10, version 1903 or higher.<br>Enable the WSL 2 feature on Windows. For detailed instructions, refer to the <a href="https://docs.microsoft.com/en-us/windows/wsl/install-win10">Microsoft documentation</a>.<br>The following hardware prerequisites are required to successfully run WSL 2 on Windows 10 Home:<br>    64 bit processor with <a href="https://en.wikipedia.org/wiki/Second_Level_Address_Translation">Second Level Address Translation (SLAT)</a><br>    4GB system RAM<br>    BIOS-level hardware virtualization support must be enabled in the BIOS settings. For more information, see <a href="https://docs.docker.com/docker-for-windows/troubleshoot/#virtualization-must-be-enabled">Virtualization</a>.</p><p>Download and install the <a href="https://docs.microsoft.com/zh-cn/windows/wsl/install-win10#step-4---download-the-linux-kernel-update-package">Linux kernel update package</a>.<br>   2. 客户端安装<br><a href="https://docs.docker.com/docker-for-windows/install-windows-home/">https://docs.docker.com/docker-for-windows/install-windows-home/</a><br>   3. 镜像加速<br>在系统右下角托盘图标内右键菜单选择 Settings，打开配置窗口后左侧导航菜单选择 Docker Daemon。编辑窗口内的JSON串，填写下方加速器地址：</p><pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>  <span class="token property">"registry-mirrors"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"https://registry.docker-cn.com"</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ol start="2"><li><p>对于Windows 10 专业版以上的用户</p><ol><li>安装要求</li></ol></li></ol><p>Windows 10 64-bit: Pro, Enterprise, or Education (Build 15063 or later).<br>Hyper-V and Containers Windows features must be enabled.<br>   2. 客户端安装<br><a href="https://docs.docker.com/docker-for-windows/install/">https://docs.docker.com/docker-for-windows/install/</a><br>   3. 镜像加速<br>在系统右下角托盘图标内右键菜单选择 Settings，打开配置窗口后左侧导航菜单选择 Docker Daemon。编辑窗口内的JSON串，填写下方加速器地址：</p><pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>  <span class="token property">"registry-mirrors"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"https://registry.docker-cn.com"</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><strong>注意</strong><br>Docker for Windows 和 Docker Toolbox互不兼容，如果同时安装两者的话，需要使用hyperv的参数启动。</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">docker-machine create --engine-registry-mirror<span class="token operator">=</span>https://8080ka5p.mirror.aliyuncs.com <span class="token parameter variable">-d</span> hyperv default<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>Docker for Windows 有两种运行模式，一种运行Windows相关容器，一种运行传统的Linux容器。同一时间只能选择一种模式运行。<br>运行出现如下错误：<br>Caused by: com.github.dockerjava.api.exception.InternalServerErrorException: {“message”:”driver failed programming external connectivity on endpoint objective_wright (709b2f91ae761c8cfb7c2c1caa99360265da62eb7c20f82de40d4038545c6dfb): Bind for 0.0.0.0:6379 failed: port is already allocated”}<br>解决办法：<br>打开oracle虚拟机，重启虚拟机</p><p>参考文档<br><a href="https://docs.docker.com/engine/reference/commandline/cli/?spm=5176.8351553.0.0.c4471991tz57hG">Docker 命令参考文档</a><br><a href="https://docs.docker.com/engine/reference/builder/?spm=5176.8351553.0.0.c4471991tz57hG">Dockerfile 镜像构建参考文档</a></p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git统计代码量和常用命令</title>
      <link href="/tools/git-tong-ji-dai-ma-liang-he-chang-yong-ming-ling/"/>
      <url>/tools/git-tong-ji-dai-ma-liang-he-chang-yong-ming-ling/</url>
      
        <content type="html"><![CDATA[<h2 id="Git统计代码量"><a href="#Git统计代码量" class="headerlink" title="Git统计代码量"></a>Git统计代码量</h2><ol><li>根据用户名时间段统计</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> log <span class="token parameter variable">--author</span><span class="token operator">=</span><span class="token string">"username"</span> <span class="token parameter variable">--since</span><span class="token operator">=</span><span class="token number">2018</span>-01-01 <span class="token parameter variable">--until</span><span class="token operator">=</span><span class="token number">2019</span>-12-31 <span class="token parameter variable">--pretty</span><span class="token operator">=</span>tformat: <span class="token parameter variable">--numstat</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'&#123; add += $1; subs += $2; loc += $1 - $2 &#125; END &#123; printf "added lines: %s, removed lines: %s, total lines: %s\n", add, subs, loc &#125;'</span> -<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="2"><li>查看提交者排名前N位</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> log <span class="token parameter variable">--pretty</span><span class="token operator">=</span><span class="token string">'%aN'</span> <span class="token operator">|</span> <span class="token function">sort</span> <span class="token operator">|</span> <span class="token function">uniq</span> <span class="token parameter variable">-c</span> <span class="token operator">|</span> <span class="token function">sort</span> <span class="token parameter variable">-k1</span> <span class="token parameter variable">-n</span> <span class="token parameter variable">-r</span> <span class="token operator">|</span> <span class="token function">head</span> <span class="token parameter variable">-n</span> <span class="token number">5</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="3"><li>提交数统计</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> log <span class="token parameter variable">--oneline</span> <span class="token operator">|</span> <span class="token function">wc</span> <span class="token parameter variable">-l</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="4"><li>根据用户名统计</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> log <span class="token parameter variable">--author</span><span class="token operator">=</span><span class="token string">"username"</span> <span class="token parameter variable">--pretty</span><span class="token operator">=</span>tformat: <span class="token parameter variable">--numstat</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'&#123; add += $1; subs += $2; loc += $1 - $2 &#125; END &#123; printf "added lines: %s, removed lines: %s, total lines: %s\n", add, subs, loc &#125;'</span> -<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="5"><li>根据时间段统计</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> log <span class="token parameter variable">--since</span><span class="token operator">=</span><span class="token number">2020</span>-01-01 <span class="token parameter variable">--until</span><span class="token operator">=</span><span class="token number">2021</span>-02-04 <span class="token parameter variable">--pretty</span><span class="token operator">=</span>tformat: <span class="token parameter variable">--numstat</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'&#123; add += $1; subs += $2; loc += $1 - $2 &#125; END &#123; printf "added lines: %s, removed lines: %s, total lines: %s\n", add, subs, loc &#125;'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="6"><li>统计每个人的增删行数</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> log <span class="token parameter variable">--format</span><span class="token operator">=</span><span class="token string">'%aN'</span> <span class="token operator">|</span> <span class="token function">sort</span> <span class="token parameter variable">-u</span> <span class="token operator">|</span> <span class="token keyword">while</span> <span class="token builtin class-name">read</span> name<span class="token punctuation">;</span> <span class="token keyword">do</span> <span class="token builtin class-name">echo</span> <span class="token parameter variable">-en</span> <span class="token string">"<span class="token variable">$name</span><span class="token entity" title="\t">\t</span>"</span><span class="token punctuation">;</span> <span class="token function">git</span> log <span class="token parameter variable">--author</span><span class="token operator">=</span><span class="token string">"<span class="token variable">$name</span>"</span> <span class="token parameter variable">--pretty</span><span class="token operator">=</span>tformat: <span class="token parameter variable">--numstat</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'&#123; add += $1; subs += $2; loc += $1 - $2 &#125; END &#123; printf "added lines: %s, removed lines: %s, total lines: %s ", add, subs, loc &#125;'</span> -<span class="token punctuation">;</span> <span class="token keyword">done</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="7"><li>贡献者统计</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> log <span class="token parameter variable">--pretty</span><span class="token operator">=</span><span class="token string">'%aN'</span> <span class="token operator">|</span> <span class="token function">sort</span> <span class="token parameter variable">-u</span> <span class="token operator">|</span> <span class="token function">wc</span> <span class="token parameter variable">-l</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="8"><li>根据时间段排除文件夹统计</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> log <span class="token parameter variable">--since</span><span class="token operator">=</span><span class="token number">2021</span>-01-28 <span class="token parameter variable">--until</span><span class="token operator">=</span><span class="token number">2021</span>-02-03 <span class="token parameter variable">--pretty</span><span class="token operator">=</span>tformat: <span class="token parameter variable">--numstat</span> -- <span class="token builtin class-name">.</span> <span class="token string">":(exclude)src/test"</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'&#123; add += $1; subs += $2; loc += $1 + $2 &#125; END &#123; printf "added lines: %s, removed lines: %s, total lines: %s\n", add, subs, loc &#125;'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>– . “:(exclude)folderName”  folderName指src&#x2F;test文件夹，这里是相对路径<br>– . “:(exclude)folderName1”  “:(exclude)folderName2”  排除多个文件夹<br>– . “:(exclude)folderName”也 可以用在其他的统计中；–前只能有一个空格，有多个空格识别不了</p><ol start="9"><li>根据指定文件夹统计</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> log <span class="token parameter variable">--since</span><span class="token operator">=</span><span class="token number">2021</span>-06-24 <span class="token parameter variable">--until</span><span class="token operator">=</span><span class="token number">2021</span>-06-30 <span class="token parameter variable">--pretty</span><span class="token operator">=</span>tformat: <span class="token parameter variable">--numstat</span> <span class="token operator">|</span> <span class="token function">grep</span> src/test <span class="token operator">|</span> <span class="token function">gawk</span> <span class="token string">'&#123; add += $1; subs += $2; loc += $1 + $2 &#125; END &#123; printf "added lines: %s, removed lines: %s, total lines: %s\n", add, subs, loc &#125;'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>src&#x2F;test 指定src的test目录下<br>注意：增删也算统计的代码量就修改loc +&#x3D; $1 + $2</p><ol start="10"><li>代码存量</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">find</span> <span class="token builtin class-name">.</span> <span class="token parameter variable">-name</span> *<span class="token punctuation">\</span>.java  <span class="token parameter variable">-exec</span> <span class="token function">wc</span> <span class="token parameter variable">-l</span>  <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span> <span class="token punctuation">\</span><span class="token punctuation">;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'&#123;s+=$1&#125;END&#123;print s&#125;'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="Git常用命令"><a href="#Git常用命令" class="headerlink" title="Git常用命令"></a>Git常用命令</h2><ol><li>克隆一个git项目到本地,将git项目拉取到本地</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> clone  项目地址<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="2"><li>查看文件状态,列出当前目录没有被git管理，以及被修改过还未提交的文件</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> status<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="3"><li>将我们提交的文件添加到索引库中（添加到缓冲区），*可以是路径也可以是.符号，git add . 代表将当前目录下的所有文件都添加到索引库中,如果指定路径则代表将制定路径的文件添加到索引库中。</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> <span class="token function">add</span> *<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="4"><li>将文件推送到本地仓库中,-m 后可以填写此次提交的备注如git commit -m “提交删除功能代码”，那么在git项目中的提交记录里面就能看见你的推送备注。</li></ol><p>这一步仅仅是放在缓冲区中，还未真正提交代码</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> commit <span class="token parameter variable">-m</span> <span class="token string">"备注"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="5"><li>这一步才是推送代码推送时需要跟分支名，表示需要将代码推送至某个分支.如git push origin dev表示你要讲代码推送至dev分支</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> push origin 分支名<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="6"><li>更新当前分支的代码,获取最新的代码</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> pull<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="7"><li>从当前分支切换至另一个分支</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> checkout 分支名<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="8"><li>当前分支合并其他分支</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> merge 分支名<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="9"><li>提交被忽略的文件</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">git</span> <span class="token function">add</span> src/XXX<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>如果抛出如下异常</p><p>The following paths are ignored by one of your .gitignore files:src&#x2F;XXX<br>Use -f if you really want to add them.<br>提示提交的时候，需要加 –f。使用如下命令即可解决：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">git</span> <span class="token function">add</span> <span class="token parameter variable">-f</span> src/XXX<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>参考 <a href="https://git-scm.com/docs/git-log">https://git-scm.com/docs/git-log</a></p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>查找ORA-04021等待超时</title>
      <link href="/mysql-sql-oracle/cha-zhao-ora-04021-deng-dai-chao-shi/"/>
      <url>/mysql-sql-oracle/cha-zhao-ora-04021-deng-dai-chao-shi/</url>
      
        <content type="html"><![CDATA[<h2 id="第一步-知道sid"><a href="#第一步-知道sid" class="headerlink" title="第一步:知道sid"></a>第一步:知道sid</h2><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">select session_id sid, owner, name, type,mode_held held, mode_requested requestfrom dba_ddl_lockswhere name &#x3D; &#39;&amp;存储过程名称&#39;  ;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h2 id="第二步：通过sid查找"><a href="#第二步：通过sid查找" class="headerlink" title="第二步：通过sid查找"></a>第二步：通过sid查找</h2><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">select b.sid,b.serial#,b.machine,b.terminal,b.program,b.process,b.status from v$lock a , v$session bwhere a.SID &#x3D; b.SID and b.sid in (178,152);select b.serial#,a.* from v$session_wait a,v$session b where a.sid &#x3D; b.sid and b.sid in (178,152);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h2 id="通过电脑名称查找"><a href="#通过电脑名称查找" class="headerlink" title="通过电脑名称查找"></a>通过电脑名称查找</h2><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">select V$SESSION.*  from v$lock,       V$SESSION where v$lock.sid &#x3D; v$session.sid   and V$SESSION.MACHINE &#x3D; &#39;电脑名称&#39;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C#中时间戳和日期相互转换</title>
      <link href="/c-winform/csharp-zhong-shi-jian-chuo-he-ri-qi-xiang-hu-zhuan-huan/"/>
      <url>/c-winform/csharp-zhong-shi-jian-chuo-he-ri-qi-xiang-hu-zhuan-huan/</url>
      
        <content type="html"><![CDATA[<ol><li>日期转换时间戳</li></ol><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">&#x2F;&#x2F;&#x2F; &lt;summary&gt;&#x2F;&#x2F;&#x2F; 将日期转换为时间戳&#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;time&quot;&gt;&lt;&#x2F;param&gt;&#x2F;&#x2F;&#x2F; &lt;returns&gt;&lt;&#x2F;returns&gt;private long ConverDateTimeToLong(DateTime time)&#123;    DateTime startTime &#x3D; TimeZone.CurrentTimeZone.ToLocalTime(new DateTime(1970, 1, 1, 0, 0, 0, 0));    long t &#x3D; (time.Ticks - startTime.Ticks) &#x2F; 10000;   &#x2F;&#x2F;除10000调整为13位          return t;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="2"><li>时间戳转换日期</li></ol><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">&#x2F;&#x2F;&#x2F; &lt;summary&gt;&#x2F;&#x2F;&#x2F; 将时间戳转换为日期&#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;timespan&quot;&gt;&lt;&#x2F;param&gt;&#x2F;&#x2F;&#x2F; &lt;returns&gt;&lt;&#x2F;returns&gt;private DateTime ConvertToDateTime(long timespan)&#123;     DateTime dtStart &#x3D; TimeZone.CurrentTimeZone.ToLocalTime(new DateTime(1970, 1, 1));    string l &#x3D; timespan + &quot;0000&quot;;    TimeSpan ts &#x3D; new TimeSpan(long.Parse(l));    return dtStart.Add(ts);&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>记事本中快速查看数字对应的ASCII</title>
      <link href="/tools/ji-shi-ben-zhong-kuai-su-cha-kan-shu-zi-dui-ying-de-ascii/"/>
      <url>/tools/ji-shi-ben-zhong-kuai-su-cha-kan-shu-zi-dui-ying-de-ascii/</url>
      
        <content type="html"><![CDATA[<p>先按键盘上的 ATL键，输入数字，然后放开ALT键<br><img src="/images/2020080715301301.gif" alt="2020080715301301.gif"></p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Dos命令调用FlashFXP上传文件</title>
      <link href="/c-winform/dos-ming-ling-diao-yong-flashfxp-shang-chuan-wen-jian/"/>
      <url>/c-winform/dos-ming-ling-diao-yong-flashfxp-shang-chuan-wen-jian/</url>
      
        <content type="html"><![CDATA[<p>DOS命令调用FlashFXP上传文件到FTP</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">flashfxp.exe <span class="token parameter variable">-upload</span> ftp://user:password@192.168.2.1:21 <span class="token parameter variable">-localpath</span><span class="token operator">=</span>本地路径  <span class="token parameter variable">-remotepath</span><span class="token operator">=</span>FTP路径<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>远程FTP路径根目录直接用  “&#x2F;”  表示</p><p>本地路径如果想上传文件夹下的所有文件，必须在文件夹后加“&#x2F;”；例如：D:\test\表示把test文件夹上所有文件都上传</p><p>下载文件到本地使用<br>flashfxp.exe -download<br>flashfxp上传文件完成后自动关闭</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">flashfxp.exe <span class="token parameter variable">-min</span> <span class="token parameter variable">-c2</span> <span class="token parameter variable">-upload</span> ftp://user:password@192.168.2.1:21 <span class="token parameter variable">-localpath</span><span class="token operator">=</span>本地路径  <span class="token parameter variable">-remotepath</span><span class="token operator">=</span>FTP路径<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>-c2表示上传完成后自动关闭flashfxp，还有其他参数看下图<br><img src="/images/2020070215481801.png" alt="2020070215481801.png"></p><p>-min 最小化<br>-max 最大化<br>-tray 启动flashfxp在系统托盘</p><p>参考 <a href="https://www.flashfxp.com/forum/flashfxp/frequently-asked-questions-faq-/14748-command-line-switches.html">https://www.flashfxp.com/forum/flashfxp/frequently-asked-questions-faq-/14748-command-line-switches.html</a></p>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>curl 上传文件</title>
      <link href="/tools/curl-shang-chuan-wen-jian/"/>
      <url>/tools/curl-shang-chuan-wen-jian/</url>
      
        <content type="html"><![CDATA[<p>cur下载地址<br><a href="https://curl.haxx.se/download.html">curl</a></p><p>curl FTP 上传下载文件</p><ol><li>查看文件</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">curl</span> ftp://192.168.2.10/test/ <span class="token parameter variable">-u</span> user:passwd    <span class="token comment">#查看test文件夹下的文件（文件夹后必须加 /）,查看更目录直接写ftp://192.168.2.10/</span><span class="token function">curl</span> ftp://192.168.2.10/test/test.txt <span class="token parameter variable">-u</span> user:passwd    <span class="token comment">#在dos界面查看test.txt文件内容</span><span class="token function">curl</span> ftp://user:passwd@192.168.2.10/test/    <span class="token comment">#查看test文件夹下内容的简洁写法</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ol start="2"><li>上传文件</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#上传test.txt文件并以test.txt保存在ftp上</span><span class="token function">curl</span> ftp://user:passwd@192.168.2.10/test/ <span class="token parameter variable">-u</span> user:passwd <span class="token parameter variable">-T</span> <span class="token string">"test.txt"</span><span class="token comment">#上传test.txt文件并以test_new.txt保存在ftp上</span><span class="token function">curl</span> ftp://user:passwd@192.168.2.10/test/test_new.txt <span class="token parameter variable">-u</span> user:passwd <span class="token parameter variable">-T</span> <span class="token string">"test.txt"</span><span class="token comment">#上传多个文件</span><span class="token function">curl</span> ftp://user:passwd@192.168.2.10/test/ <span class="token parameter variable">-u</span> user:passwd <span class="token parameter variable">-T</span> <span class="token string">"&#123;test1.txt,test2.txt&#125;"</span>  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="3"><li>下载文件</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#下载 FTP 指定文件 /test/test.txt, 以原文件名命名保存到当前目录</span><span class="token function">curl</span> ftp://user:passwd@192.168.2.10/test/test.txt <span class="token parameter variable">-u</span> user:passwd <span class="token parameter variable">-O</span><span class="token comment">#下载 FTP 指定文件 /test/test.txt, 以 test_new.txt 命名保存</span><span class="token function">curl</span> ftp://192.168.2.10/test/test.txt <span class="token parameter variable">-u</span> user:passwd <span class="token parameter variable">-o</span> test_new.txt<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>上传中文名称文件有问题，还没有找到解决的办法</p><p>参考 <a href="https://curl.haxx.se/docs/manual.html">https://curl.haxx.se/docs/manual.html</a></p><p><a href="https://blog.csdn.net/wulong710/article/details/53127606">https://blog.csdn.net/wulong710/article/details/53127606</a></p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>批处理文件中等待几秒</title>
      <link href="/c-winform/pi-chu-li-wen-jian-zhong-deng-dai-ji-miao/"/>
      <url>/c-winform/pi-chu-li-wen-jian-zhong-deng-dai-ji-miao/</url>
      
        <content type="html"><![CDATA[<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">@echo off<span class="token builtin class-name">echo</span> 开始延时5秒<span class="token function">ping</span> <span class="token parameter variable">-n</span> <span class="token number">5</span> <span class="token number">127.0</span>.0.<span class="token operator"><span class="token file-descriptor important">1</span>></span>nul<span class="token builtin class-name">echo</span> 这句话延时了5秒pause<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>转载 C# 连接oracle 10g 出现ora-1017用户名/口令无效; 登录被拒绝</title>
      <link href="/mysql-sql-oracle/zhuan-zai-csharp-lian-jie-oracle-10g-chu-xian-ora-1017-yong-hu-ming-kou-ling-wu-xiao-deng-lu-bei-ju-jue/"/>
      <url>/mysql-sql-oracle/zhuan-zai-csharp-lian-jie-oracle-10g-chu-xian-ora-1017-yong-hu-ming-kou-ling-wu-xiao-deng-lu-bei-ju-jue/</url>
      
        <content type="html"><![CDATA[<h2 id="出现症状"><a href="#出现症状" class="headerlink" title="出现症状"></a>出现症状</h2><ol><li>使用sqlplus连接正常</li><li>C#使用10g的ODP.NET连接时，报上面的错误</li></ol><h2 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h2><ol><li>Oracle11G之前密码是不区分大小写的，从11G开始默认密码区分大小写</li><li>使用10G的ODP.NET时，会自动把密码转换成大写</li></ol><h2 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h2><ol><li>给连接字符串中密码使用加上引号，这样密码就不会转成大写了</li><li>换成11G客户端</li><li>修改数据库，禁用大小写敏感模式：ALTER SYSTEM SET SEC_CASE_SENSITIVE_LOGON &#x3D; FALSE</li></ol><p>因连接字符串是写在XML文件里，在XML文件里“引号”是需要转义的，现提供XML中常用的转义字符：</p><table><thead><tr><th>转义符</th><th>符号</th><th>说明</th></tr></thead><tbody><tr><td>&amp;lt;</td><td>&lt;</td><td>小于号</td></tr><tr><td>&amp;gt;</td><td>&gt;</td><td>大于号</td></tr><tr><td>&amp;amp;</td><td>&amp;</td><td>和</td></tr><tr><td>&amp;apos;</td><td>‘</td><td>单引号</td></tr><tr><td>&amp;quot;</td><td>“</td><td>双引号</td></tr></tbody></table><p>转载 <a href="https://www.cnblogs.com/tommyli/archive/2013/10/15/3370569.html">https://www.cnblogs.com/tommyli/archive/2013/10/15/3370569.html</a></p>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>转载 Oracle字符的拼接和拆解</title>
      <link href="/mysql-sql-oracle/zhuan-zai-oracle-zi-fu-de-pin-jie-he-chai-jie/"/>
      <url>/mysql-sql-oracle/zhuan-zai-oracle-zi-fu-de-pin-jie-he-chai-jie/</url>
      
        <content type="html"><![CDATA[<h3 id="字符串拼接方法-LISTAGG"><a href="#字符串拼接方法-LISTAGG" class="headerlink" title="字符串拼接方法 LISTAGG"></a>字符串拼接方法 LISTAGG</h3><ol><li>基本语法：listagg(‘p1’, ‘p2’) within group(order by ‘p3’) over (partition by ‘p4’)<ol><li>p1: 需要进行拼接的字段，一般是分组条件查询后存在多个值的字段</li><li>p2: 指定什么符号作为连接分隔符，例如：’,’</li><li>p3: 这个参数是被按照用来对 p1 指定的字段进行排序的</li><li>p4: 这个参数类似于 group by 条件语句。group by 语句需要将查询的参数都置于其后这样会显得累赘，而 partition 则不会存在这个问题，相对要灵活一点。</li></ol></li><li>完整用例</li></ol><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">&#x2F;&#x2F; 简单的用法，将查询出的所有ID字段进行拼接，这也是我最常用的SELECT LISTAGG(A.ACPE_ID, &#39;,&#39;) WITHIN GROUP(ORDER BY A.ACPE_ID)  FROM BD_CRM_ACPE A;&#x2F;&#x2F; 加上 GROUP BY 语句后的使用方式SELECT A.ACPE_TYPE,       LISTAGG(A.ACPE_ID, &#39;,&#39;) WITHIN GROUP(ORDER BY A.ACPE_ID)  FROM BD_CRM_ACPE A GROUP BY A.ACPE_TYPE;&#x2F;&#x2F; 这种查询会得到与上一种相同的结果SELECT A.ACPE_TYPE,       LISTAGG(A.ACPE_ID, &#39;,&#39;) WITHIN GROUP(ORDER BY A.ACPE_ID) OVER(PARTITION BY A.ACPE_TYPE)  FROM BD_CRM_ACPE A;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="字符串的拆解方法"><a href="#字符串的拆解方法" class="headerlink" title="字符串的拆解方法"></a>字符串的拆解方法</h3><p>要完成字符串按照特定符号拆解成多行的效果，需要了解 oracle 内置的三种方法的用法。当然如果觉得麻烦也可以自己创建一个函数来处理。</p><ol><li>正则匹配截取字符串函数 REGEXP_SUBSTR<br>语法：regexp_substr( str, regexp, start-pos, choice)<br>str：要被处理的字符串<br>regexp：正则表达式匹配模式<br>start-pos：从第几个字符开始匹配，默认为1<br>choice：返回第几个匹配到的数据</li></ol><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">SELECT REGEXP_SUBSTR(&#39;1,2,3&#39;, &#39;[^,]+&#39;, 1, 1) FROM DUAL;--返回：1--正则：&#39;[^,]+&#39; 表示匹配一个或多个不包含 &#39;,&#39; 的字符<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ol start="2"><li>条件语句 CONNECT BY<br>该语句一般是用于递归查询数据库中存在上下级关系的数据，但这里只是用它来获取一个连续的值，用于REGEXP_SUBSTR函数的choice参数</li></ol><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">&#x2F;&#x2F; 这样会返回三个值：1、2、3SELECT ROWNUM FROM DUAL CONNECT BY ROWNUM &lt;&#x3D; 3;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ol start="3"><li>正则匹配字符替换函数 REGEXP_REPLACE<br>因为这里的需求是分割字符串，现在需要知道分割后到底有几个值，这个值需要赋值给 CONNECT BY 语句后。<br>所以现在的解决思路是先得到原来字符串的长度，然后将符号替换掉，再求出长度，然后之前的长度减去现在去掉符号后的长度然后加一就是我们需要的值了。</li></ol><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">length(&#39;1,2,3&#39;) &#x3D; 5length(&#39;123&#39;) &#x3D; 3length(&#39;1,2,3&#39;) - length(&#39;123&#39;) + 1 &#x3D; 3<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>语法：REGEXP_REPLACE(source_char, pattern , replace_string)<br>source_char：需要替换字符的原始字符串<br>pattern：正则匹配需要被替换的字符<br>replace_string：替换后的字符</p><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">SELECT REGEXP_REPLACE(&#39;1,2,3&#39;, &#39;,&#39; ,&#39;&#39;) FROM DUAL;--最终得到：&#39;123&#39;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="方法整合"><a href="#方法整合" class="headerlink" title="方法整合"></a>方法整合</h3><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL"> &#x2F;&#x2F; 最终的完整语句，你只需要将 &#39;1,2,3&#39; 替换成需要拆分的表字段 SELECT REGEXP_SUBSTR(&#39;1,2,3&#39;, &#39;[^,]+&#39;, 1, ROWNUM) FROM DUALCONNECT BY ROWNUM &lt;&#x3D; LENGTH(&#39;1,2,3&#39;) - LENGTH(REGEXP_REPLACE(&#39;1,2,3&#39;, &#39;,&#39; ,&#39;&#39;)) + 1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>转载 <a href="https://www.jianshu.com/p/3ccc45ea3953">https://www.jianshu.com/p/3ccc45ea3953</a></p>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>WinForm控件置顶或置底</title>
      <link href="/c-winform/winform-kong-jian-zhi-ding-huo-zhi-di/"/>
      <url>/c-winform/winform-kong-jian-zhi-ding-huo-zhi-di/</url>
      
        <content type="html"><![CDATA[<p>BringToFront 方法将控件置于所有控件的顶层</p><p>SendToBack 方法将控件置于所有控件的底层</p>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windows批处理FTP上传文件</title>
      <link href="/other/windows-pi-chu-li-ftp-shang-chuan-wen-jian/"/>
      <url>/other/windows-pi-chu-li-ftp-shang-chuan-wen-jian/</url>
      
        <content type="html"><![CDATA[<h2 id="ftp上传文件批处理文件"><a href="#ftp上传文件批处理文件" class="headerlink" title="ftp上传文件批处理文件"></a>ftp上传文件批处理文件</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">@echo off<span class="token builtin class-name">echo</span> <span class="token function">open</span> ip地址 端口（默认端口21） <span class="token operator">>></span> temp.txt<span class="token builtin class-name">echo</span> user 用户名 密码<span class="token operator">>></span> temp.txt<span class="token builtin class-name">echo</span> put 文件（例如 D:<span class="token punctuation">\</span>test<span class="token punctuation">\</span>test.txt） <span class="token operator">>></span> temp.txt<span class="token builtin class-name">echo</span> bye <span class="token operator">>></span> temp.txt<span class="token function">ftp</span> <span class="token parameter variable">-n</span> -s:<span class="token string">"temp.txt"</span>del /q 文件（例如 D:<span class="token punctuation">\</span>test<span class="token punctuation">\</span>test.txt）del /q temp.txtpause<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ftp-批量上传文件批处理文件"><a href="#ftp-批量上传文件批处理文件" class="headerlink" title="ftp 批量上传文件批处理文件"></a>ftp 批量上传文件批处理文件</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">@echo off<span class="token builtin class-name">echo</span> <span class="token function">open</span> ip地址 端口（默认端口21） <span class="token operator">>></span> temp.txt<span class="token builtin class-name">echo</span> user 用户名 密码<span class="token operator">>></span> temp.txt::lcd切换本地路径<span class="token builtin class-name">echo</span> lcd %~dp0<span class="token punctuation">\</span>Data <span class="token operator">>></span> temp.txt<span class="token builtin class-name">echo</span> prompt<span class="token operator">>></span>temp.txt<span class="token builtin class-name">echo</span> bin <span class="token operator">>></span> temp.txt<span class="token builtin class-name">echo</span> mput *.* <span class="token operator">>></span> temp.txt<span class="token builtin class-name">echo</span> bye <span class="token operator">>></span> temp.txt<span class="token function">ftp</span> <span class="token parameter variable">-n</span> -s:<span class="token string">"temp.txt"</span>del /q temp.txtpause<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ftp命令行参考"><a href="#ftp命令行参考" class="headerlink" title="ftp命令行参考"></a>ftp命令行参考</h2><p>FTP命令是Internet用户使用最频繁的命令之一，不论是在DOS还是UNIX操作系统下使用FTP，都会遇到大量的FTP内部命令。熟悉并灵活应用FTP的内部命令，可以大大方便使用者，并收到事半功倍之效。　　<br>FTP的命令行格式为：ftp-v-d-i-n-g[主机名]，其中　<br>-v显示远程服务器的所有响应信息；<br>-i限制ftp的自动登录，即不使用；<br>-netrc文件；　　<br>-d使用调试方式；<br>-g取消全局文件名。<br>ftp使用的内部命令如下(中括号表示可选项): </p><ol><li>![cmd[args]]：在本地机中执行交互shell，exit回到ftp环境，如：!ls*.zip。 </li><li>$macro-ame[args]：执行宏定义macro-name。 </li><li>account[password]：提供登录远程系统成功后访问系统资源所需的补充口令。 </li><li>appendlocal-file[remote-file]：将本地文件追加到远程系统主机，若未指定远程系统文件名，则使用本地文件名。 </li><li>ascii：使用ascii类型传输方式。 </li><li>bell：每个命令执行完毕后计算机响铃一次。 </li><li>bin：使用二进制文件传输方式。 </li><li>bye：退出ftp会话过程。　　 </li><li>case：在使用mget时，将远程主机文件名中的大写转为小写字母。 </li><li>cdremote-dir：进入远程主机目录。　　 </li><li>cdup：进入远程主机目录的父目录。 </li><li>chmodmodefile-name：将远程主机文件file-name的存取方式设置为mode，如：chmod777a.out。 </li><li>close：中断与远程服务器的ftp会话(与open对应)。 </li><li>cr：使用asscii方式传输文件时，将回车换行转换为回行。　</li><li>deleteremote-file：删除远程主机文件。 </li><li>debug[debug-value]：设置调试方式，显示发送至远程主机的每条命令，如：debup3，若设为0，表示取消debug。 </li><li>dir[remote-dir][local-file]：显示远程主机目录，并将结果存入本地文件local-file。　 </li><li>disconnection：同close。 </li><li>formformat：将文件传输方式设置为format，缺省为file方式。 </li><li>getremote-file[local-file]：将远程主机的文件remote-file传至本地硬盘的local-file。 </li><li>glob：设置mdelete，mget，mput的文件名扩展，缺省时不扩展文件名，同命令行的-g参数。 </li><li>hash：每传输1024字节，显示一个hash符号(#)。 </li><li>help[cmd]：显示ftp内部命令cmd的帮助信息，如：helpget。 </li><li>idle[seconds]：将远程服务器的休眠计时器设为[seconds]秒。 </li><li>image：设置二进制传输方式(同binary)。 </li><li>lcd[dir]：将本地工作目录切换至dir。 </li><li>ls[remote-dir][local-file]：显示远程目录remote-dir，并存入本地文件local-file。 </li><li>macdefmacro-name：定义一个宏，遇到macdef下的空行时，宏定义结束。 </li><li>mdelete[remote-file]：删除远程主机文件。 </li><li>mdirremote-fileslocal-file：与dir类似，但可指定多个远程文件，如：mdir*.o.*.zipoutfile。 </li><li>mgetremote-files：传输多个远程文件。 </li><li>mkdirdir-name：在远程主机中建一目录。 </li><li>mlsremote-filelocal-file：同nlist，但可指定多个文件名。 </li><li>mode[modename]：将文件传输方式设置为modename，缺省为stream方式。 </li><li>modtimefile-name：显示远程主机文件的最后修改时间。 </li><li>mputlocal-file：将多个文件传输至远程主机。　　</li><li>newerfile-name：如果远程机中file-name的修改时间比本地硬盘同名文件的时间更近，则重传该文件。 </li><li>nlist[remote-dir][local-file]：显示远程主机目录的文件清单，并存入本地硬盘的local-file。 </li><li>nmap[inpatternoutpattern]：设置文件名映射机制，使得文件传输时，文件中的某些字符相互转换，如：nmap$1.$2.$3[$1，$2].[$2，$3]，则传输文件a1.a2.a3时，文件名变为a1，a2。该命令特别适用于远程主机为非UNIX机的情况。 </li><li>ntrans[inchars[outchars]]：设置文件名字符的翻译机制，如ntrans1R，则文件名LLL将变为RRR。 </li><li>openhost[port]：建立指定ftp服务器连接，可指定连接端口。 </li><li>passive：进入被动传输方式。 </li><li>prompt：设置多个文件传输时的交互提示。　　 </li><li>proxyftp-cmd：在次要控制连接中，执行一条ftp命令，该命令允许连接两个ftp服务器，以在两个服务器间传输文件。第一条ftp命令必须为open，以首先建立两个服务器间的连接。　　 </li><li>putlocal-file[remote-file]：将本地文件local-file传送至远程主机。 </li><li>pwd：显示远程主机的当前工作目录。 </li><li>quit：同bye，退出ftp会话。 </li><li>quotearg1，arg2…：将参数逐字发至远程ftp服务器，如：quotesyst。 </li><li>recvremote-file[local-file]：同get。　　 </li><li>regetremote-file[local-file]：类似于get，但若local-file存在，则从上次传输中断处续传。 </li><li>rhelp[cmd-name]：请求获得远程主机的帮助。 </li><li>rstatus[file-name]：若未指定文件名，则显示远程主机的状态，否则显示文件状态。 </li><li>rename[from][to]：更改远程主机文件名。 </li><li>reset：清除回答队列。 </li><li>restartmarker：从指定的标志marker处，重新开始get或put，如：restart130。 </li><li>rmdirdir-name：删除远程主机目录。 </li><li>runique：设置文件名唯一性存储。　　 </li><li>sendlocal-file[remote-file]：同put。　　 </li><li>sendport：设置PORT命令的使用。　　 </li><li>sitearg1，arg2…：将参数作为SITE命令逐字发送至远程ftp主机。 </li><li>sizefile-name：显示远程主机文件大小，如：siteidle7200。 </li><li>status：显示当前ftp状态。 </li><li>struct[struct-name]：将文件传输结构设置为struct-name，缺省时使用stream结构。 </li><li>sunique：将远程主机文件名存储设置为唯一(与runique对应)。 </li><li>system：显示远程主机的操作系统类型。　　 </li><li>tenex：将文件传输类型设置为TENEX机的所需的类型。 </li><li>tick：设置传输时的字节计数器。 </li><li>trace：设置包跟踪。　　 </li><li>type[type-name]：设置文件传输类型为type-name，缺省为ascii，如：typebinary，设置二进制传输方式。 </li><li>umask[newmask]：将远程服务器的缺省umask设置为newmask，如：umask3。 　 </li><li>useruser-name[password][account]：向远程主机表明自己的身份，需要口令时，必须输入口令，如：anyone@email。　　 </li><li>verbose：同命令行的-v参数，即设置详尽报告方式，ftp服务器的所有响应都将显示给用户，缺省为on。　　 </li><li>?[cmd]：同help。</li></ol><p>参考：<a href="https://www.jb51.net/article/85324.htm">https://www.jb51.net/article/85324.htm</a><br><a href="https://www.cnblogs.com/dotnetsong/archive/2008/08/05/1261543.html">https://www.cnblogs.com/dotnetsong/archive/2008/08/05/1261543.html</a></p>]]></content>
      
      
      <categories>
          
          <category> Other </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Other </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>在右键菜单中添加Git Bash Here</title>
      <link href="/tools/zai-you-jian-cai-dan-zhong-tian-jia-git-bash-here/"/>
      <url>/tools/zai-you-jian-cai-dan-zhong-tian-jia-git-bash-here/</url>
      
        <content type="html"><![CDATA[<p>安装Git后一般右键菜单都会有“Git Bash Here”选项，如果没有可以按下面方法添加</p><ol><li>进入注册表找到HKEY_CLASSES_ROOT\Directory\Background\shell，没有shell就新建一个<br><img src="/images/2020052713501001.png" alt="2020052713501001.png"></li><li>在shell下面右键新建项名称为Git，在其默认值中输入“Git Bash Here”<br><img src="/images/2020052713501002.png" alt="2020052713501002.png"></li><li>在Git下新建项，名称为command，在其默认值中输入“ Git安装目录\git-bash.exe”<br><img src="/images/2020052713501003.png" alt="2020052713501003.png"></li><li>在Git Bash Here 设置一个icon图标，在Git下右键新建字符串Icon输入值 “Git安装目录\mingw64\share\git\git-for-windows.ico”<br><img src="/images/2020052713501004.png" alt="2020052713501004.png"></li></ol><p>参考 <a href="https://blog.csdn.net/johnnymartin/article/details/80802425">https://blog.csdn.net/johnnymartin/article/details/80802425</a></p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>转载 sqludr2导出数据</title>
      <link href="/mysql-sql-oracle/zhuan-zai-sqludr2-dao-chu-shu-ju/"/>
      <url>/mysql-sql-oracle/zhuan-zai-sqludr2-dao-chu-shu-ju/</url>
      
        <content type="html"><![CDATA[<h2 id="sqluldr2下载与安装"><a href="#sqluldr2下载与安装" class="headerlink" title="sqluldr2下载与安装"></a>sqluldr2下载与安装</h2><ol><li>软件下载地址：</li></ol><p>百度云链接：<a href="https://pan.baidu.com/s/1V8eqyyYsbJqQSD-Sn-RQGg">https://pan.baidu.com/s/1V8eqyyYsbJqQSD-Sn-RQGg</a><br>提取码：6mdn</p><p>下载完后并解压会生成4个文件</p><p><strong>sqluldr2.exe</strong>                用于32位windows平台；<br><strong>sqluldr2_linux32_10204.bin</strong>  适用于linux32位操作系统；<br><strong>sqluldr2_linux64_10204.bin</strong>  适用于linux64位操作系统；<br><strong>sqluldr264.exe</strong>              用于64位windows平台。</p><ol start="2"><li>直接在cmd上运行（我的sqluldr文件放在F盘里，我电脑是64位，所以使用sqluldr264）</li></ol><h2 id="sqluldr2-导出"><a href="#sqluldr2-导出" class="headerlink" title="sqluldr2 导出"></a>sqluldr2 导出</h2><ol><li>导出命令的主要参数</li></ol><p>user&#x3D;用户名&#x2F;密码@ip地址:1521&#x2F;服务   ,如果是本地库，可以只写 用户名和密码：eg：user&#x3D;用户名&#x2F;密码</p><p>query&#x3D;”sql查询语句”</p><p>head&#x3D;yes|no  是否导出表头</p><p>file&#x3D;文件存放路径（该文件可以写很多后缀: .txt  .csv   .dmp 等等，我发现，导出.dmp文件速度快）</p><p>table&#x3D;查询的表名 有这句话，sqluldr2会自动生成一个.ctl文件，导入的时候会用到（）;</p><p>Field：分隔符，指定字段分隔符，默认为逗号； 比如：field&#x3D;#  在选择分隔符时，一定不能选择会在字段值中出现的字符组合，如常见的单词等，很多次导入时报错，回过头来找原因时，都发现是因为分隔符出现在字段值中了。</p><p>record：分隔符，指定记录分隔符，默认为回车换行，Windows下的换行；</p><p>quote：引号符，指定非数字字段前后的引号符；</p><p>charset：字符集，执行导出时的字符集，一般有UTF8、GBK等；<br>2. 常规的命令</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">sqluldr264 <span class="token assign-left variable">user</span><span class="token operator">=</span>zxx/zxx123@127.0.0.1:1521/orcl <span class="token assign-left variable">query</span><span class="token operator">=</span><span class="token string">"select * from mv_xlsymx1 where ysyddm='00001H'"</span>  <span class="token assign-left variable">head</span><span class="token operator">=</span>yes <span class="token assign-left variable">file</span><span class="token operator">=</span>h:<span class="token punctuation">\</span>mx.csv  <span class="token assign-left variable">log</span><span class="token operator">=</span>+F:<span class="token punctuation">\</span>tem.log<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="3"><li>可以使用sql参数</li></ol><p>可以使用sql参数代替query</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">sqluldr264 <span class="token assign-left variable">user</span><span class="token operator">=</span>zxx/zxx  <span class="token assign-left variable">sql</span><span class="token operator">=</span>h:<span class="token punctuation">\</span>test.sql <span class="token assign-left variable">head</span><span class="token operator">=</span>yes <span class="token assign-left variable">file</span><span class="token operator">=</span>h:<span class="token punctuation">\</span>mx.csv <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>test.sql是提前维护好的一个文件，文件的内容为sql语句。</p><ol><li>带有table参数的导出</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">sqluldr264 <span class="token assign-left variable">user</span><span class="token operator">=</span>zxx/zxx <span class="token assign-left variable">query</span><span class="token operator">=</span><span class="token string">"select * from mv_xlsymx1 where ysyddm='00001H'"</span> <span class="token assign-left variable">table</span><span class="token operator">=</span>mv_xlsymx1  <span class="token assign-left variable">head</span><span class="token operator">=</span>yes <span class="token assign-left variable">file</span><span class="token operator">=</span>F:<span class="token punctuation">\</span>mx.csv<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>它会生成一个.ctl文件(mv_xlsymx1_sqlldr.ctl,默认生成在sqluldr文件下，我的就生成在F:\sqluldr\ mv_xlsymx1_sqlldr.ctl)<br>5. 指定.ctl文件生成的位置</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">sqluldr264 <span class="token assign-left variable">user</span><span class="token operator">=</span>zxx/zxx  <span class="token assign-left variable">query</span><span class="token operator">=</span><span class="token string">"select * from mv_xlsymx1 where ysyddm='00001H'"</span> <span class="token assign-left variable">table</span><span class="token operator">=</span>mv_xlsymx1  <span class="token assign-left variable">control</span><span class="token operator">=</span>F:<span class="token punctuation">\</span>mx.ctl <span class="token assign-left variable">head</span><span class="token operator">=</span>yes <span class="token assign-left variable">file</span><span class="token operator">=</span>F:<span class="token punctuation">\</span>mx.csv<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="6"><li>带有日志log参数</li></ol><p>当集成sqluldr2在脚本中时，就希望屏蔽上不输出这些信息，但又希望这些信息能保留，这时可以用“LOG”选项来指定日志文件名。</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">sqluldr264 <span class="token assign-left variable">user</span><span class="token operator">=</span>zxx/zxx <span class="token assign-left variable">query</span><span class="token operator">=</span><span class="token string">"select * from mv_xlsymx1 where ysyddm='00001H'"</span>  <span class="token assign-left variable">head</span><span class="token operator">=</span>yes <span class="token assign-left variable">file</span><span class="token operator">=</span>F:<span class="token punctuation">\</span>mx.csv  <span class="token assign-left variable">log</span><span class="token operator">=</span>+F:<span class="token punctuation">\</span>tmp.log<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>注意：这里的log路径要写上“+”</p><p>转载：<a href="https://www.cnblogs.com/your-Name/p/10315286.html">https://www.cnblogs.com/your-Name/p/10315286.html</a></p>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>批处理文件 中文乱码</title>
      <link href="/computer/pi-chu-li-wen-jian-zhong-wen-luan-ma/"/>
      <url>/computer/pi-chu-li-wen-jian-zhong-wen-luan-ma/</url>
      
        <content type="html"><![CDATA[<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">@echo off REM 后续命令使用的是：GBK编码chcp <span class="token number">936</span><span class="token builtin class-name">cd</span> %~dp0 <span class="token builtin class-name">set</span> <span class="token assign-left variable">fileName</span><span class="token operator">=</span>%~dp0<span class="token punctuation">\</span>testfile.csv<span class="token builtin class-name">set</span> <span class="token assign-left variable">rarName</span><span class="token operator">=</span>%~dp0<span class="token punctuation">\</span>testfile.rarsqluldr264.exe <span class="token assign-left variable"><span class="token environment constant">USER</span></span><span class="token operator">=</span>test/test@oracl <span class="token assign-left variable">sql</span><span class="token operator">=</span>%~dp0<span class="token punctuation">\</span>exportsql.sql <span class="token assign-left variable">head</span><span class="token operator">=</span>yes <span class="token assign-left variable">FILE</span><span class="token operator">=</span>%fileName%D:cd/<span class="token builtin class-name">cd</span> D:<span class="token punctuation">\</span>Program Files<span class="token punctuation">\</span>WinRARwinrar a <span class="token parameter variable">-ep1</span> -o+ <span class="token parameter variable">-inul</span> <span class="token parameter variable">-r</span> <span class="token parameter variable">-ibck</span> %rarName% %fileName%del %fileName%pause<span class="token builtin class-name">exit</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>注意：批处理文件中定义变量最好不要有空格，有空个变量名也要带上空格</p><p>chcp 65001 UTF-8<br>chcp 936 GBK<br>chcp 437 美国英语</p><p>参考 <a href="http://www.360doc.com/content/19/0121/16/17585043_810413905.shtml">http://www.360doc.com/content/19/0121/16/17585043_810413905.shtml</a></p><p><a href="https://www.jianshu.com/p/6d0c5cda5d8e">https://www.jianshu.com/p/6d0c5cda5d8e</a></p>]]></content>
      
      
      <categories>
          
          <category> Computer </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Computer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>谷歌浏览器software_reporter_tool</title>
      <link href="/computer/gu-ge-liu-lan-qi-software-reporter-tool/"/>
      <url>/computer/gu-ge-liu-lan-qi-software-reporter-tool/</url>
      
        <content type="html"><![CDATA[<p>早上打开电脑cpu使用率很高，排序看了下什么程序占用cpu了，一看是software_reporter_tool，直接定位到目录</p><p><img src="/images/2020050717151501.png" alt="2020050717151501.png"></p><p>直接用记事本工具打开manifest.json，修改allow-reporter-logs值为false</p><p><img src="/images/2020050717151502.png" alt="2020050717151502.png"></p><p>在software_reporter_tool右键属性</p><p><img src="/images/2020050717151503.png" alt="2020050717151503.png"></p><p>在弹出的框中选择删除，然后点击应用，确定即可。</p>]]></content>
      
      
      <categories>
          
          <category> Computer </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Computer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Win10 家庭版输入gpedit.msc命令提示找不到</title>
      <link href="/computer/win10-jia-ting-ban-shu-ru-gpedit.msc-ming-ling-ti-shi-zhao-bu-dao/"/>
      <url>/computer/win10-jia-ting-ban-shu-ru-gpedit.msc-ming-ling-ti-shi-zhao-bu-dao/</url>
      
        <content type="html"><![CDATA[<p>新建一个bat文件，然后编辑输入</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">@echo off<span class="token function">pushd</span> <span class="token string">"%~dp0"</span><span class="token function">dir</span> /b C:<span class="token punctuation">\</span>Windows<span class="token punctuation">\</span>servicing<span class="token punctuation">\</span>Packages<span class="token punctuation">\</span>Microsoft-Windows-GroupPolicy-ClientExtensions-Package~3*.mum <span class="token operator">></span>List.txt<span class="token function">dir</span> /b C:<span class="token punctuation">\</span>Windows<span class="token punctuation">\</span>servicing<span class="token punctuation">\</span>Packages<span class="token punctuation">\</span>Microsoft-Windows-GroupPolicy-ClientTools-Package~3*.mum <span class="token operator">>></span>List.txt<span class="token keyword">for</span> /f %%i <span class="token keyword">in</span> <span class="token punctuation">(</span><span class="token string">'findstr /i . List.txt 2^>nul'</span><span class="token punctuation">)</span> <span class="token keyword">do</span> dism /online /norestart /add-package:<span class="token string">"C:\Windows\servicing\Packages\%%i"</span>pause<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>在该文件上右键，以管理员身份运行<br>然后在数据gpedit.msc命令运行就可以了</p><p>转载 <a href="https://blog.csdn.net/u013642500/article/details/80138799">https://blog.csdn.net/u013642500/article/details/80138799</a></p>]]></content>
      
      
      <categories>
          
          <category> Computer </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Computer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PLSQL查询显示乱码或者问号</title>
      <link href="/mysql-sql-oracle/plsql-cha-xun-xian-shi-luan-ma-huo-zhe-wen-hao/"/>
      <url>/mysql-sql-oracle/plsql-cha-xun-xian-shi-luan-ma-huo-zhe-wen-hao/</url>
      
        <content type="html"><![CDATA[<p>在plsql中查询数据，查询出的结果中包含中文就显示乱码</p><h2 id="使用-select-from-V-NLS-PARAMETERS查看字符集"><a href="#使用-select-from-V-NLS-PARAMETERS查看字符集" class="headerlink" title="使用 select * from V$NLS_PARAMETERS查看字符集"></a>使用 select * from V$NLS_PARAMETERS查看字符集</h2><p><img src="/images/2020011616311301.png" alt="2020011616311301.png"></p><h2 id="如果没有看注册表中的oracle是否包含-NLS-LANG并且值为-SIMPLIFIED-CHINESE-CHINA-ZHS16GBK，没有则新建配置上"><a href="#如果没有看注册表中的oracle是否包含-NLS-LANG并且值为-SIMPLIFIED-CHINESE-CHINA-ZHS16GBK，没有则新建配置上" class="headerlink" title="如果没有看注册表中的oracle是否包含 NLS_LANG并且值为 SIMPLIFIED CHINESE_CHINA.ZHS16GBK，没有则新建配置上"></a>如果没有看注册表中的oracle是否包含 NLS_LANG并且值为 SIMPLIFIED CHINESE_CHINA.ZHS16GBK，没有则新建配置上</h2><p><img src="/images/2020011616311302.png" alt="2020011616311302.png"></p><h2 id="以上配置都没有问题，就看电脑环境变量中是否存在NLS-LANG，没有则新建，然后重新打开plsql。"><a href="#以上配置都没有问题，就看电脑环境变量中是否存在NLS-LANG，没有则新建，然后重新打开plsql。" class="headerlink" title="以上配置都没有问题，就看电脑环境变量中是否存在NLS_LANG，没有则新建，然后重新打开plsql。"></a>以上配置都没有问题，就看电脑环境变量中是否存在NLS_LANG，没有则新建，然后重新打开plsql。</h2><p><img src="/images/2020011616311303.png" alt="2020011616311303.png"></p><p>转载： <a href="https://jingyan.baidu.com/article/a3aad71aa9bfefb1fa00964d.html">https://jingyan.baidu.com/article/a3aad71aa9bfefb1fa00964d.html</a></p>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Sonar 扫描C#代码 排除文件</title>
      <link href="/c-winform/sonar-sao-miao-csharp-dai-ma-pai-chu-wen-jian/"/>
      <url>/c-winform/sonar-sao-miao-csharp-dai-ma-pai-chu-wen-jian/</url>
      
        <content type="html"><![CDATA[<h3 id="用管理员账户登录sonaqube配置排除选项"><a href="#用管理员账户登录sonaqube配置排除选项" class="headerlink" title="用管理员账户登录sonaqube配置排除选项"></a>用管理员账户登录sonaqube配置排除选项</h3><p>参考 <a href="https://www.jianshu.com/p/ffeb73eeccd6">https://www.jianshu.com/p/ffeb73eeccd6</a></p><h3 id="在本地的sonar-project-properties文件中配置"><a href="#在本地的sonar-project-properties文件中配置" class="headerlink" title="在本地的sonar-project.properties文件中配置"></a>在本地的sonar-project.properties文件中配置</h3><p>　　sonar.exclusions 表示不包含的项目</p><p>　　? 匹配单个字符<br>　　** 匹配0个或多个文件夹<br>　　* 匹配0个或多个字符</p><pre><code>例如排除所有的Test结尾的cs文件，多个以逗号分隔</code></pre><p>　　sonar.exclusions&#x3D; **&#x2F;*Test.cs,**&#x2F;*Dao.cs</p><pre><code>排除文件夹下所有的文件</code></pre><p>　　sonar.exclusions&#x3D;test&#x2F;entity&#x2F;*</p><pre><code>参考 &lt;https://docs.sonarqube.org/7.1/NarrowingtheFocus.html&gt;</code></pre>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C# 短日期转换为DateTime</title>
      <link href="/c-winform/csharp-duan-ri-qi-zhuan-huan-wei-datetime/"/>
      <url>/c-winform/csharp-duan-ri-qi-zhuan-huan-wei-datetime/</url>
      
        <content type="html"><![CDATA[<p>将字符串“201804”转换为DateTime</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">DateTime dTime &#x3D; DateTime.ParseExact(&quot;201804&quot;, &quot;yyyyMM&quot;, CultureInfo.CurrentCulture);<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p> 常见的日期转换</p><ol><li>Convert.ToDateTime(string date)<ol><li>date格式为 yyyy-mm-dd hh:mm:ss</li></ol></li><li>Convert.ToDateTime(string date, IFormatProvider formatter)<ol><li>formatter 指日期格式</li></ol></li><li>DateTime.Parse(dateInput)</li></ol><p>参考 <a href="http://www.bubuko.com/infodetail-3293058.html">http://www.bubuko.com/infodetail-3293058.html</a><br><a href="https://docs.microsoft.com/en-us/dotnet/standard/base-types/parsing-datetime?redirectedfrom=MSDN">https://docs.microsoft.com/en-us/dotnet/standard/base-types/parsing-datetime?redirectedfrom=MSDN</a></p>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>电脑远程连接不上或者ip的地址一直是169.254</title>
      <link href="/computer/dian-nao-yuan-cheng-lian-jie-bu-shang-huo-zhe-ip-de-di-zhi-yi-zhi-shi-169.254/"/>
      <url>/computer/dian-nao-yuan-cheng-lian-jie-bu-shang-huo-zhe-ip-de-di-zhi-yi-zhi-shi-169.254/</url>
      
        <content type="html"><![CDATA[<p>如果出现如标题的情况后按常规的方法解决不了，可以试试重置网络</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">dos命令netsh winsock reset<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Computer </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Computer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C#导出CSV或者EXCEL文件转换文本</title>
      <link href="/c-winform/csharp-dao-chu-csv-huo-zhe-excel-wen-jian-zhuan-huan-wen-ben/"/>
      <url>/c-winform/csharp-dao-chu-csv-huo-zhe-excel-wen-jian-zhuan-huan-wen-ben/</url>
      
        <content type="html"><![CDATA[<p>C#写入CSV文件是日期格式会自动转换，不需要转换在内容前加一个制表符TAB（表示缩进），C#的\t对应tab键</p><p>写入EXCEL不需要转换需要在内容前加一个’(英文的单引号)</p>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Oracle 计算两个日期相差天时分秒</title>
      <link href="/mysql-sql-oracle/oracle-ji-suan-liang-ge-ri-qi-xiang-chai-tian-shi-fen-miao/"/>
      <url>/mysql-sql-oracle/oracle-ji-suan-liang-ge-ri-qi-xiang-chai-tian-shi-fen-miao/</url>
      
        <content type="html"><![CDATA[<h3 id="用到oracle相关函数"><a href="#用到oracle相关函数" class="headerlink" title="用到oracle相关函数"></a>用到oracle相关函数</h3><p> round、trunc、to_number、to_date</p><ol><li>round(number[,decimals]) 四舍五入<ol><li>number：指需要处理的数值，是必须填写的值。</li><li>decimals：指在进行四舍五入运算时 , 小数的应取的位数，该参数可以不填，不填的时候，系统默认小数位数取0。</li></ol></li><li>trunc(number[,num_digits])<ol><li>number：指需要处理的数值，是必须填写的值。</li><li>num_digits：用于指定取整精度的数字，截取时不进行四舍五入。该参数可以不填，不填的时候num_digits 的默认值为 0。</li></ol></li><li>[to_number(expr [, fmt [, ‘nlsparam’ ] ])](<a href="https://docs.oracle.com/cd/E11882_01/server.112/e41084/functions211.htm#SQLRF06140">https://docs.oracle.com/cd/E11882_01/server.112/e41084/functions211.htm#SQLRF06140</a>) 转换数据类型<ol><li>expr：如果expr为char、nchar、varchar2,nvarchar2则可以指定格式fmt，如果是binary_float、binary_double则不能指定格式</li><li>nlsparam： 用于数字转换的TO_CHAR函数中的nlsparam参数具有相同的目的。有关更多信息，请参阅TO_CHAR（nuber）。此功能不直接支持CLOB数据。然而，CLOB可以通过隐式数据转换作为参数传入</li></ol></li><li>[to_date(char [, fmt [, ‘nlsparam’ ] ])](<a href="https://docs.oracle.com/cd/E11882_01/server.112/e41084/functions203.htm#SQLRF06132">https://docs.oracle.com/cd/E11882_01/server.112/e41084/functions203.htm#SQLRF06132</a>) 将字符转换为日期格式<ol><li>char：需要转换的字符</li><li>fmt：是一种指定char格式的日期时间模型格式。如果省略FMT，则char必须是默认日期格式。默认日期格式由NLS_Area初始化参数隐式确定，也可以由NLS_DATE_FORCT参数显式设置。如果fmt是J，对于Julian，char必须是一个整数。</li><li>nlsparam： 指定正在转换为日期的文本字符串的语言。该参数可以具有以下形式</li></ol></li><li><a href="https://docs.oracle.com/cd/E11882_01/server.112/e41084/functions101.htm#SQLRF00668">mod(n1,n2)</a> 取余（n1&#x2F;n2的小数部分）<ol><li>n1,n2 都为数字类型</li></ol></li></ol><h3 id="相差时分秒"><a href="#相差时分秒" class="headerlink" title="相差时分秒"></a>相差时分秒</h3><p>第一种</p><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">--4天2小时10分 &#x3D;353405秒select trunc(353405&#x2F;(24*60*60)) 天,trunc( mod(353405,24*60*60)&#x2F;(60*60) ) 时, trunc(mod(353405,60*60)&#x2F;60) 分,trunc(mod(353405,60)) 秒 from dual;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><img src="/images/2019121611290901.png" alt="2019121611290901.png"></p><p>第二种<br>两个日期相减得出一个数字类型</p><p><strong>1天2小时5分10秒&#x3D;1.0869212962963</strong></p><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">select to_date(&#39;2020-01-06 14:35:35&#39;,&#39;yyyy-mm-dd hh24:mi:ss&#39;)-to_date(&#39;2020-01-05 12:30:25&#39;,&#39;yyyy-mm-dd hh24:mi:ss&#39;) from dual;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">select trunc(1.0869212962963) 天 ,             trunc(mod(1.0869212962963, 1) * 24) 时,             trunc(mod(mod(1.0869212962963, 1) * 24, 1) * 60) 分,             trunc(mod(mod(mod(1.0869212962963, 1) * 24, 1) * 60,1)*60) 秒        from dual;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="/images/2019121611290902.png" alt="2019121611290902.png"></p><p>第三种</p><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">select startTime, endTime, tday, thour, tminute, round((tt_minute-tminute)*60) as tseconds  from (  select startTime, endTime, tday, thour, trunc((tt_hour-thour)*60) as tminute, (tt_hour-thour)*60 as tt_minute   from   (select startTime, endTime, tday, trunc((tt_day-tday)*24) as thour, (tt_day-tday)*24 as tt_hour from     (select to_number(endTime - startTime) as tt_day,          trunc(to_number(endTime - startTime)) as tday, startTime, endTime from      (select to_date(&#39;2012-11-01 00:20:31&#39;,&#39;yyyy-mm-dd hh24:mi:ss&#39;) as startTime,sysdate as endTime from dual)     )  ))<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="/images/2019121611290903.png" alt="2019121611290903.png"></p>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>T4模板生成自定义的实体类</title>
      <link href="/c-winform/t4-mo-ban-sheng-cheng-zi-ding-yi-de-shi-ti-lei/"/>
      <url>/c-winform/t4-mo-ban-sheng-cheng-zi-ding-yi-de-shi-ti-lei/</url>
      
        <content type="html"><![CDATA[<h2 id="开发工具"><a href="#开发工具" class="headerlink" title="开发工具"></a>开发工具</h2><p>VS2017、Oracle、PL&#x2F;SQL、<a href="https://www.cnblogs.com/ZJ199012/p/T4Toolbox">T4Toolbox</a><br>T4模板编辑工具 <a href="https://t4-editor.tangible-engineering.com/Download_T4Editor_Plus_ModelingTools.html">T4 Editor</a></p><h2 id="数据库查询语句"><a href="#数据库查询语句" class="headerlink" title="数据库查询语句"></a>数据库查询语句</h2><ol><li>oracle</li></ol><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">--查询当前用户的所有表SELECT TABLE_NAME FROM USER_TABLES;--根据表名查询表结构数据SELECT A.column_name    字段名,                                                                                      A.data_type      数据类型,A.data_length    长度,A.data_precision 整数位,A.Data_Scale     小数位,A.nullable       允许空值,A.Data_default   缺省值,B.comments       备注,A.TABLE_NAME     表名FROM user_tab_columns A, user_col_comments BWHERE a.column_name &#x3D; b.column_nameAND A.Table_Name &#x3D; B.Table_NameAND A.Table_Name &#x3D; &#39;test&#39;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="2"><li>mysql</li></ol><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">--查询数据库表    string connectionString &#x3D; &quot;Data Source&#x3D;.;Initial Catalog&#x3D;NFineBase;User ID&#x3D;sa;Password&#x3D;hjf19870810;&quot;;     SqlConnection conn &#x3D; new SqlConnection(connectionString);     conn.Open();     System.Data.DataTable schema &#x3D; conn.GetSchema(&quot;TABLES&quot;); --通过数据库表查询表结构SELECT 表名&#x3D;sobj.name,字段名&#x3D;scol.name,字段说明&#x3D;sprop.[value] FROM syscolumns as scol inner join sys.sysobjects as sobj on scol.id&#x3D;sobj.id and sobj.xtype&#x3D;&#39;U&#39; and sobj.name&lt;&gt;&#39;dtproperties&#39; left join sys.extended_properties as sprop on scol.id&#x3D;sprop.major_id and scol.colid&#x3D;sprop.minor_id where sobj.name&#x3D;&#39;@tableName&#39; and scol.name&#x3D;&#39;@columnName&#39;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="3"><li>sqlserver</li></ol><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">--SQL 查询所有表名SELECT NAME FROM SYSOBJECTS WHERE TYPE&#x3D;&#39;U&#39;SELECT * FROM INFORMATION_SCHEMA.TABLES--查询表的所有字段名SELECT NAME FROM SYSCOLUMNS WHERE ID&#x3D;OBJECT_ID(&#39; 表名&#39; )<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="生成类文件公用类-ModelAuto-ttinclude"><a href="#生成类文件公用类-ModelAuto-ttinclude" class="headerlink" title="生成类文件公用类 ModelAuto.ttinclude"></a>生成类文件公用类 ModelAuto.ttinclude</h2><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">&lt;#@ assembly name&#x3D;&quot;System.Core&quot;#&gt;&lt;#@ assembly name&#x3D;&quot;EnvDTE&quot;#&gt;&lt;#@ import namespace&#x3D;&quot;System.Collections.Generic&quot;#&gt;&lt;#@ import namespace&#x3D;&quot;System.IO&quot;#&gt;&lt;#@ import namespace&#x3D;&quot;System.Text&quot;#&gt;&lt;#@ import namespace&#x3D;&quot;Microsoft.VisualStudio.TextTemplating&quot;#&gt;&lt;#+class Manager&#123;    public struct Block &#123;        public String Name;        public int Start, Length;    &#125;    public List&lt;Block&gt; blocks &#x3D; new List&lt;Block&gt;();    public Block currentBlock;    public Block footerBlock &#x3D; new Block();    public Block headerBlock &#x3D; new Block();    public ITextTemplatingEngineHost host;    public ManagementStrategy strategy;    public StringBuilder template;    public String OutputPath &#123; get; set; &#125;    public Manager(ITextTemplatingEngineHost host, StringBuilder template, bool commonHeader) &#123;        this.host &#x3D; host;        this.template &#x3D; template;        OutputPath &#x3D; String.Empty;        strategy &#x3D; ManagementStrategy.Create(host);    &#125;    public void StartBlock(String name) &#123;        currentBlock &#x3D; new Block &#123; Name &#x3D; name, Start &#x3D; template.Length &#125;;    &#125;    public void StartFooter() &#123;        footerBlock.Start &#x3D; template.Length;    &#125;    public void EndFooter() &#123;        footerBlock.Length &#x3D; template.Length - footerBlock.Start;    &#125;    public void StartHeader() &#123;        headerBlock.Start &#x3D; template.Length;    &#125;    public void EndHeader() &#123;        headerBlock.Length &#x3D; template.Length - headerBlock.Start;    &#125;        public void EndBlock() &#123;        currentBlock.Length &#x3D; template.Length - currentBlock.Start;        blocks.Add(currentBlock);    &#125;    public void Process(bool split) &#123;        String header &#x3D; template.ToString(headerBlock.Start, headerBlock.Length);        String footer &#x3D; template.ToString(footerBlock.Start, footerBlock.Length);        blocks.Reverse();        foreach(Block block in blocks) &#123;            String fileName &#x3D; Path.Combine(OutputPath, block.Name);            if (!Directory.Exists(OutputPath))            &#123;                Directory.CreateDirectory(OutputPath);            &#125;            if (split) &#123;                String content &#x3D; header + template.ToString(block.Start, block.Length) + footer;                strategy.CreateFile(fileName, content);                template.Remove(block.Start, block.Length);            &#125; else &#123;                strategy.DeleteFile(fileName);            &#125;        &#125;    &#125;&#125;class ManagementStrategy&#123;    internal static ManagementStrategy Create(ITextTemplatingEngineHost host) &#123;        return (host is IServiceProvider) ? new VSManagementStrategy(host) : new ManagementStrategy(host);    &#125;    internal ManagementStrategy(ITextTemplatingEngineHost host) &#123; &#125;    internal virtual void CreateFile(String fileName, String content) &#123;        File.WriteAllText(fileName, content);    &#125;    internal virtual void DeleteFile(String fileName) &#123;        if (File.Exists(fileName))            File.Delete(fileName);    &#125;&#125;class VSManagementStrategy : ManagementStrategy&#123;    private EnvDTE.ProjectItem templateProjectItem;    internal VSManagementStrategy(ITextTemplatingEngineHost host) : base(host) &#123;        IServiceProvider hostServiceProvider &#x3D; (IServiceProvider)host;        if (hostServiceProvider &#x3D;&#x3D; null)            throw new ArgumentNullException(&quot;Could not obtain hostServiceProvider&quot;);        EnvDTE.DTE dte &#x3D; (EnvDTE.DTE)hostServiceProvider.GetService(typeof(EnvDTE.DTE));        if (dte &#x3D;&#x3D; null)            throw new ArgumentNullException(&quot;Could not obtain DTE from host&quot;);        templateProjectItem &#x3D; dte.Solution.FindProjectItem(host.TemplateFile);    &#125;    internal override void CreateFile(String fileName, String content) &#123;        base.CreateFile(fileName, content);        ((EventHandler)delegate &#123; templateProjectItem.ProjectItems.AddFromFile(fileName); &#125;).BeginInvoke(null, null, null, null);    &#125;    internal override void DeleteFile(String fileName) &#123;        ((EventHandler)delegate &#123; FindAndDeleteFile(fileName); &#125;).BeginInvoke(null, null, null, null);    &#125;    private void FindAndDeleteFile(String fileName) &#123;        foreach(EnvDTE.ProjectItem projectItem in templateProjectItem.ProjectItems) &#123;            if (projectItem.get_FileNames(0) &#x3D;&#x3D; fileName) &#123;                projectItem.Delete();                return;            &#125;        &#125;    &#125;&#125;#&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="T4模板文件"><a href="#T4模板文件" class="headerlink" title="T4模板文件"></a>T4模板文件</h2><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">&lt;#@ template debug&#x3D;&quot;true&quot; hostspecific&#x3D;&quot;true&quot; language&#x3D;&quot;C#&quot; #&gt;&lt;#@ output extension&#x3D;&quot;.cs&quot; #&gt;&lt;#@ assembly name&#x3D;&quot;System.Data&quot; #&gt;&lt;#@ assembly name&#x3D;&quot;System.Xml&quot; #&gt;&lt;#@ assembly name&#x3D;&quot;System.Linq&quot; #&gt;&lt;#@ assembly name&#x3D;&quot;System.IO&quot; #&gt;&lt;#@ assembly name&#x3D;&quot;$(ProjectDir)\Lib\Oracle.ManagedDataAccess.dll&quot; #&gt;&lt;#@ import namespace&#x3D;&quot;System&quot; #&gt;&lt;#@ import namespace&#x3D;&quot;System.Xml&quot; #&gt;&lt;#@ import namespace&#x3D;&quot;System.Data&quot; #&gt;&lt;#@ import namespace&#x3D;&quot;System.IO&quot; #&gt;&lt;#@ import namespace&#x3D;&quot;System.Collections.Generic&quot;#&gt;&lt;#@ import namespace&#x3D;&quot;System.Linq&quot;#&gt;&lt;#@ import namespace&#x3D;&quot;Oracle.ManagedDataAccess.Client&quot; #&gt;&lt;#@ include file&#x3D;&quot;ModelAuto.ttinclude&quot;#&gt;&lt;# var manager2 &#x3D; new Manager(Host, GenerationEnvironment, true) &#123; OutputPath &#x3D; Path.GetDirectoryName(Host.TemplateFile)+&quot;\\DefaultModel&quot;&#125;; #&gt;&lt;# ModelManager manager &#x3D; new ModelManager();List&lt;string&gt; list&#x3D;manager.GetTableList();#&gt;&lt;#     foreach (var item in list)    &#123;        string tableName&#x3D;item;        DataTable table&#x3D; manager.GetTableSchema(tableName); #&gt; &lt;#         string tempTableName&#x3D;manager.FirstCharToUpper(tableName);        manager2.StartBlock(tempTableName+&quot;Entity.cs&quot;); #&gt;&#x2F;********************************************************** Copyright (c) 2019* All rights reserved.* * 文件名称：&lt;#&#x3D;tempTableName #&gt;.cs* 摘    要：业务实体&lt;#&#x3D;tableName#&gt;的对象** 当前版本：1.0.0** 作    者：test* 完成日期：&lt;#&#x3D;System.DateTime.Now.ToString(&quot;yyyy年MM月dd日&quot;) #&gt;**********************************************************&#x2F;using System;namespace Common.Entity&#123;    &#x2F;&#x2F;&#x2F; &lt;summary&gt;    &#x2F;&#x2F;&#x2F; 业务实体&lt;#&#x3D; tableName #&gt;的对象    &#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;    [Serializable]    public class &lt;#&#x3D; tempTableName  #&gt;Entity: BaseEntity, ITableInfo    &#123;        #region Parameter List&lt;#foreach(DataRow row in table.Rows)&#123;#&gt;        private &lt;#&#x3D; manager.TransFromSqlType(row[&quot;数据类型&quot;].ToString(),row[&quot;整数位&quot;].ToString(),row[&quot;小数位&quot;].ToString())#&gt; &lt;#&#x3D; row[&quot;字段名&quot;].ToString().ToLower()#&gt; &#x3D; &lt;#&#x3D; manager.MapValue(row[&quot;数据类型&quot;].ToString(),row[&quot;整数位&quot;].ToString(),row[&quot;小数位&quot;].ToString()) #&gt;;    &#x2F;&#x2F;&lt;#&#x3D; row[&quot;备注&quot;]#&gt;&lt;#&#125;#&gt;        private string tableName &#x3D; &quot;&lt;#&#x3D; tableName #&gt;&quot;;        private string tableSchema &#x3D; &quot;&quot;;        #endregion        #region Property List&lt;#foreach(DataRow row in table.Rows)&#123;#&gt;        &#x2F;&#x2F;&#x2F; &lt;summary&gt;        &#x2F;&#x2F;&#x2F; &lt;#&#x3D;row[&quot;备注&quot;]#&gt;        &#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;           public &lt;#&#x3D; manager.TransFromSqlType(row[&quot;数据类型&quot;].ToString(),row[&quot;整数位&quot;].ToString(),row[&quot;小数位&quot;].ToString())#&gt; &lt;#&#x3D; manager.FirstCharToUpper(row[&quot;字段名&quot;].ToString())#&gt;        &#123;            get            &#123;                return &lt;#&#x3D; row[&quot;字段名&quot;].ToString().ToLower() #&gt;;            &#125;            set            &#123;                &lt;#&#x3D; row[&quot;字段名&quot;].ToString().ToLower() #&gt; &#x3D; value;            &#125;        &#125;       &lt;#&#125;#&gt;        #endregion        #region ITableInfo Members        &#x2F;&#x2F;&#x2F; &lt;summary&gt;        &#x2F;&#x2F;&#x2F; Database Table Name        &#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;        public string TableName        &#123;            get            &#123;                return tableName;            &#125;            set            &#123;                tableName &#x3D; value;            &#125;        &#125;        &#x2F;&#x2F;&#x2F; &lt;summary&gt;        &#x2F;&#x2F;&#x2F; Database Table Schema        &#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;        public string TableSchema        &#123;            get            &#123;                return tableSchema;            &#125;            set            &#123;                tableSchema &#x3D; value;            &#125;        &#125;        #endregion    &#125;&#125;&lt;# manager2.EndBlock(); #&gt;&lt;#    &#125;   #&gt;        &lt;# manager2.Process(true); #&gt;&lt;#+    public class ModelManager    &#123;        &#x2F;&#x2F;&#x2F; &lt;summary&gt;        &#x2F;&#x2F;&#x2F; 数据库连接字符串        &#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;       private const string CONNECTION_STRING &#x3D; &quot;DATA SOURCE&#x3D;testPRO;USER ID&#x3D;APP;PASSWORD&#x3D;APP;&quot;;        &#x2F;&#x2F;&#x2F; &lt;summary&gt;        &#x2F;&#x2F;&#x2F; 用户信息表名        &#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;        private const string PERSONINFO_TABLE_NAME &#x3D; &quot;USERINFO&quot;;        &#x2F;&#x2F;&#x2F; &lt;summary&gt;        &#x2F;&#x2F;&#x2F; 根据表名查询表结构信息        &#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;        private const string SELECT_SCHEMA_BY_TABLE_NAME &#x3D; @&quot;SELECT         A.column_name  字段名                                        A.data_type      数据类型,        A.data_length    长度,        A.data_precision 整数位,        A.Data_Scale     小数位,        A.nullable       允许空值,        A.Data_default   缺省值,        B.comments       备注,        A.TABLE_NAME     表名        FROM user_tab_columns A, user_col_comments B         WHERE a.COLUMN_NAME &#x3D; b.column_name         AND A.Table_Name &#x3D; B.Table_Name         AND A.Table_Name &#x3D; &#39;&#123;0&#125;&#39;&quot;;        &#x2F;&#x2F;&#x2F; &lt;summary&gt;        &#x2F;&#x2F;&#x2F; 获得数据连接        &#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;        &#x2F;&#x2F;&#x2F; &lt;returns&gt;&lt;&#x2F;returns&gt;        private OracleConnection GetConnection()        &#123;            return new OracleConnection(CONNECTION_STRING);        &#125;        &#x2F;&#x2F;&#x2F; &lt;summary&gt;        &#x2F;&#x2F;&#x2F; 得到当前用户的所有表名        &#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;        &#x2F;&#x2F;&#x2F; &lt;returns&gt;&lt;&#x2F;returns&gt;        public List&lt;string&gt; GetTableList()        &#123;            string sql &#x3D; &quot;SELECT * FROM USER_TABLES&quot;;            DataTable dt &#x3D; OracleHelper.ExecuteDataTable(sql);            List&lt;string&gt; list &#x3D; new List&lt;string&gt;();            if (dt!&#x3D;null&amp;&amp;dt.Rows.Count&gt;0)            &#123;                for (int i &#x3D; 0; i &lt; dt.Rows.Count; i++)                &#123;                    list.Add(dt.Rows[i][&quot;TABLE_NAME&quot;].ToString());                &#125;             &#125;            return list;         &#125;        &#x2F;&#x2F;&#x2F; &lt;summary&gt;        &#x2F;&#x2F;&#x2F; 释放连接        &#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;        &#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;con&quot;&gt;&lt;&#x2F;param&gt;        private void ReleaseConnection(OracleConnection con)        &#123;            if (con !&#x3D; null)            &#123;                if (con.State &#x3D;&#x3D; ConnectionState.Open)                &#123;                    con.Close();                &#125;            &#125;        &#125;        public DataTable GetTableSchema(string tableName)        &#123;            DataTable dt;            using (OracleConnection con &#x3D; GetConnection())            &#123;                con.Open();                OracleCommand cmd &#x3D; con.CreateCommand();                cmd.CommandText &#x3D; string.Format(SELECT_SCHEMA_BY_TABLE_NAME,tableName);                cmd.CommandType &#x3D; CommandType.Text;                OracleDataAdapter adapter &#x3D; new OracleDataAdapter(cmd);                DataSet ds &#x3D; new DataSet();                 adapter.Fill(ds);                dt &#x3D; ds.Tables[0];            &#125;            return dt;        &#125;        public string FirstCharToUpper(string input)        &#123;            if (String.IsNullOrEmpty(input))                throw new ArgumentException(&quot;ARGH!&quot;);            return input.First().ToString().ToUpper() + input.Substring(1).ToLower();        &#125;        public string MapValue(string type, string number, string small)        &#123;            string dataType &#x3D; TransFromSqlType(type, number, small);            if (string.Equals(dataType, &quot;string&quot;, StringComparison.OrdinalIgnoreCase))            &#123;                return &quot;null&quot;;            &#125;            else            &#123;                return dataType + &quot;.MinValue&quot;;            &#125;        &#125;        &#x2F;&#x2F;&#x2F; &lt;summary&gt;        &#x2F;&#x2F;&#x2F; SQL[不完善,需要的自己改造]        &#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;        &#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;type&quot;&gt;&lt;&#x2F;param&gt;        &#x2F;&#x2F;&#x2F; &lt;returns&gt;&lt;&#x2F;returns&gt;        public string TransFromSqlType(string type, string number, string small)        &#123;            if (string.IsNullOrEmpty(type))            &#123;                return string.Empty;            &#125;            if (string.Equals(type, &quot;number&quot;, StringComparison.OrdinalIgnoreCase))            &#123;                if (!string.IsNullOrEmpty(number))                &#123;                    if (!string.IsNullOrEmpty(small) &amp;&amp; int.Parse(small) &gt; 0)                    &#123;                        return &quot;decimal&quot;;                    &#125;                    if (int.Parse(number) &gt;&#x3D; 10 &amp;&amp; (string.IsNullOrEmpty(small) || (!string.IsNullOrEmpty(small)&amp;&amp;int.Parse(small)&#x3D;&#x3D;0)))                    &#123;                        return &quot;Int64&quot;;                    &#125;                    else if (int.Parse(number) &lt; 10 &amp;&amp; (string.IsNullOrEmpty(small) || (!string.IsNullOrEmpty(small) &amp;&amp; int.Parse(small) &#x3D;&#x3D; 0)))                    &#123;                        return &quot;Int32&quot;;                    &#125;                                   &#125;                else                &#123;                    return &quot;Int32&quot;;                &#125;            &#125;            if (string.Equals(type, &quot;date&quot;, StringComparison.OrdinalIgnoreCase))            &#123;                return &quot;DateTime&quot;;            &#125;            else if (string.Equals(type, &quot;nvarchar2&quot;, StringComparison.OrdinalIgnoreCase) || string.Equals(type, &quot;char&quot;, StringComparison.OrdinalIgnoreCase))            &#123;                return &quot;string&quot;;            &#125;            return &quot;string&quot;;        &#125;    &#125;#&gt;&lt;#+ public class OracleHelper    &#123;        private static string oracleConnectionStr &#x3D; &quot;DATA SOURCE&#x3D;testPRO;USER ID&#x3D;APP;PASSWORD&#x3D;APP;&quot;;        public static DataTable ExecuteDataTable(string sql, params OracleParameter[] paramList)        &#123;            using (OracleConnection conn &#x3D; new OracleConnection(oracleConnectionStr))            &#123;                conn.Open();                using (OracleCommand command &#x3D; conn.CreateCommand())                &#123;                    command.CommandText &#x3D; sql;                    command.Parameters.AddRange(paramList);                    DataTable dt &#x3D; new DataTable();                    OracleDataAdapter adapter &#x3D; new OracleDataAdapter(command);                    adapter.Fill(dt);                    return dt;                &#125;            &#125;        &#125;        public static int ExecuteNonQuery(string sql, params OracleParameter[] paramList)        &#123;            using (OracleConnection conn &#x3D; new OracleConnection(oracleConnectionStr))            &#123;                conn.Open();                using (OracleCommand command &#x3D; conn.CreateCommand())                &#123;                    command.CommandText &#x3D; sql;                    command.Parameters.AddRange(paramList);                    return command.ExecuteNonQuery();                &#125;            &#125;        &#125;        public static object ExecuteScalar(string sql, params OracleParameter[] paramList)        &#123;            using (OracleConnection conn &#x3D; new OracleConnection(oracleConnectionStr))            &#123;                conn.Open();                using (OracleCommand command &#x3D; conn.CreateCommand())                &#123;                    command.CommandText &#x3D; sql;                    command.Parameters.AddRange(paramList);                    return command.ExecuteScalar();                &#125;            &#125;        &#125;    &#125; #&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>生成文件如下图<br><img src="/images/2019120910561601.png" alt="2019120910561601.png"></p><h2 id="T4模板语法"><a href="#T4模板语法" class="headerlink" title="T4模板语法"></a>T4模板语法</h2><p>　主要分为 1指令 2文本块 3指令块</p><p>  &lt;# 标准控制块 #&gt; 可以包含语句。<br>  &lt;#&#x3D; 表达式控制块 #&gt; 可以包含表达式。<br>  &lt;#+ 类功能控制块 #&gt; 可以包含方法、字段和属性，就像一个类的内部</p><p>　　1 指令</p><p>　　主要包括template, output, assembly, import, include等类型</p><p>　　$(SolutionDir):当前项目所在解决方案目录<br>　　$(ProjectDir):当前项目所在目录<br>　　$(TargetPath):当前项目编译输出文件绝对路径<br>　　$(TargetDir):当前项目编译输出目录，即web项目的Bin目录，控制台、类库项目bin目录下的debug或release目录(取决于当前的编译模式)</p><p>　　2 文本块</p><p>　　文本块直接向输出文件插入文本。 文本块没有特殊格式，就像我们刚才初体验中写的类一样。</p><p>　　3 指令块</p><p>　　标准控制块：</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">&lt;#    for(int i &#x3D; 0; i &lt; 4; i++)    &#123;#&gt;Hello World!&lt;#    &#125; #&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>表达式控制块：</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">&lt;#    XmlDocument xDoc &#x3D; new XmlDocument();    xDoc.Load(@&quot;E:\CSharp\Overview.xml&quot;);    XmlAttributeCollection attributes &#x3D; xDoc.Attributes;    if (attributes !&#x3D; null)    &#123;       foreach (XmlAttribute attr in attributes)       &#123;#&gt;&lt;#&#x3D; attr.Name #&gt;&lt;#       &#125;    &#125;#&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>类功能控制块：</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">&lt;#+ public class OracleHelper    &#123;        private static string oracleConnectionStr &#x3D; &quot;DATA SOURCE&#x3D;testPRO;USER ID&#x3D;APP;PASSWORD&#x3D;APP;&quot;;        public static DataTable ExecuteDataTable(string sql, params OracleParameter[] paramList)        &#123;            using (OracleConnection conn &#x3D; new OracleConnection(oracleConnectionStr))            &#123;                conn.Open();                using (OracleCommand command &#x3D; conn.CreateCommand())                &#123;                    command.CommandText &#x3D; sql;                    command.Parameters.AddRange(paramList);                    DataTable dt &#x3D; new DataTable();                    OracleDataAdapter adapter &#x3D; new OracleDataAdapter(command);                    adapter.Fill(dt);                    return dt;                &#125;            &#125;        &#125;        public static int ExecuteNonQuery(string sql, params OracleParameter[] paramList)        &#123;            using (OracleConnection conn &#x3D; new OracleConnection(oracleConnectionStr))            &#123;                conn.Open();                using (OracleCommand command &#x3D; conn.CreateCommand())                &#123;                    command.CommandText &#x3D; sql;                    command.Parameters.AddRange(paramList);                    return command.ExecuteNonQuery();                &#125;            &#125;        &#125;        public static object ExecuteScalar(string sql, params OracleParameter[] paramList)        &#123;            using (OracleConnection conn &#x3D; new OracleConnection(oracleConnectionStr))            &#123;                conn.Open();                using (OracleCommand command &#x3D; conn.CreateCommand())                &#123;                    command.CommandText &#x3D; sql;                    command.Parameters.AddRange(paramList);                    return command.ExecuteScalar();                &#125;            &#125;        &#125;    &#125; #&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>更多的T4模板语法参考 <a href="https://docs.microsoft.com/zh-cn/visualstudio/modeling/code-generation-and-t4-text-templates?view=vs-2015">https://docs.microsoft.com/zh-cn/visualstudio/modeling/code-generation-and-t4-text-templates?view=vs-2015</a></p><p>参考：<a href="https://www.cnblogs.com/fenglingyi/p/5927082.html">https://www.cnblogs.com/fenglingyi/p/5927082.html</a></p><p>　　　<a href="https://www.cnblogs.com/maiaimei/p/8994552.html">https://www.cnblogs.com/maiaimei/p/8994552.html</a></p>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C# UrlEncode 编码</title>
      <link href="/mysql-sql-oracle/urlencode-bian-ma/"/>
      <url>/mysql-sql-oracle/urlencode-bian-ma/</url>
      
        <content type="html"><![CDATA[<p>在开发中遇见一个将文件流转换为Base64码，这个码中有特殊字符需要处理，然后选择用</p><p>HttpUtility.UrlEncode进行编码</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">HttpUtility.UrlEncode(text);  &#x2F;&#x2F;utf-8 编码HttpUtility.UrlDecode(text);  &#x2F;&#x2F;utf-8 解码HttpUtility.UrlEncode(text, System.Text.Encoding.GetEncoding(936));  &#x2F;&#x2F;gb2312编码HttpUtility.UrlDecode(text, System.Text.Encoding.GetEncoding(936));  &#x2F;&#x2F;gb2312解码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>后来查找文章发现这个方法会将空格转换为+</p><p>这是就需要将+替换为空格对应的ASCII码（%20）</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">fileStream &#x3D; HttpUtility.UrlEncode(fileStream); fileStream &#x3D; fileStream (&quot;+&quot;, &quot;%20&quot;); <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p> js的转码可以查看文章 <a href="https://www.cnblogs.com/ZJ199012/p/7356753.html">https://www.cnblogs.com/ZJ199012/p/7356753.html</a></p><p>参考 <a href="https://www.cnblogs.com/luckyuns/p/6396792.html">https://www.cnblogs.com/luckyuns/p/6396792.html</a></p>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PLSQL快速生成增删改查语句</title>
      <link href="/mysql-sql-oracle/plsql-kuai-su-sheng-cheng-zeng-shan-gai-cha-yu-ju/"/>
      <url>/mysql-sql-oracle/plsql-kuai-su-sheng-cheng-zeng-shan-gai-cha-yu-ju/</url>
      
        <content type="html"><![CDATA[<ol><li>在PLSQL中新建一个SQL Windows<br><img src="/images/2019112614270701.png" alt="2019112614270701.png"></li><li>鼠标左键选中表名往SQL Windows中拖，会出现一个菜单<br><img src="/images/2019112614270702.png" alt="2019112614270702.png"></li></ol>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Oracle 检查星期只能是1-7的数字不能重复</title>
      <link href="/mysql-sql-oracle/oracle-jian-cha-xing-qi-zhi-neng-shi-1-7-de-shu-zi-bu-neng-chong-fu/"/>
      <url>/mysql-sql-oracle/oracle-jian-cha-xing-qi-zhi-neng-shi-1-7-de-shu-zi-bu-neng-chong-fu/</url>
      
        <content type="html"><![CDATA[<ol><li>利用Oracle的REGEXP_INSTR匹配数字</li></ol><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">select REGEXP_INSTR (&#39;1357&#39;, &#39;^[1-7]&#123;1,7&#125;$&#39;) into n_Count from dual;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="2"><li>循环查找是否存在重复的数字</li></ol><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">for i in 1..length(i_vc_Week) loop   v_findStr:&#x3D;substr(i_vc_Week,i,1);   if nvl(instr(i_vc_Week,v_findStr,(i+1)),0)&gt;0 then     return 2;   end if;end loop;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">FUNCTION P_SR_CheckWeekLegal(i_vc_Week varchar2)  return integer  IS     n_Count integer;     v_findStr varchar2(1);  BEGIN   n_Count:&#x3D;0;   select REGEXP_INSTR (i_vc_Week, &#39;^[1-7]&#123;1,7&#125;$&#39;) into n_Count from dual;   if n_Count&#x3D;0 then     return 2;   end if;   for i in 1..length(i_vc_Week) loop      v_findStr:&#x3D;substr(i_vc_Week,i,1);      if nvl(instr(i_vc_Week,v_findStr,(i+1)),0)&gt;0 then        return 2;      end if;   end loop;       return n_Count;  END;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>参考 <a href="https://docs.oracle.com/database/121/SQLRF/functions162.">https://docs.oracle.com/database/121/SQLRF/functions162.</a>htm#SQLRF06300</p>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PLSQL 插入数据无响应</title>
      <link href="/mysql-sql-oracle/plsql-cha-ru-shu-ju-wu-xiang-ying/"/>
      <url>/mysql-sql-oracle/plsql-cha-ru-shu-ju-wu-xiang-ying/</url>
      
        <content type="html"><![CDATA[<p>插入数据一直没有成功，可能是该条记录被锁住了</p><ol><li>查询锁定记录</li></ol><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">SELECT s.sid, s.serial# FROM v$locked_object lo, dba_objects ao, v$session s WHERE ao.object_id &#x3D; lo.object_id AND lo.session_id &#x3D; s.sid;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ol start="2"><li>删除</li></ol><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">ALTER system KILL session &#39;SID,serial&#39;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>参考 <a href="https://blog.csdn.net/xujiangdong1992/article/details/70766419">https://blog.csdn.net/xujiangdong1992/article/details/70766419</a></p>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C# DataTable 排序</title>
      <link href="/c-winform/csharp-datatable-pai-xu/"/>
      <url>/c-winform/csharp-datatable-pai-xu/</url>
      
        <content type="html"><![CDATA[<p>使用DataTable的DefaultView中Sort方法排序，如果遇见数字类型就会有问题<br><img src="/images/2019112513381801.png" alt="2019112513381801.png"></p><ol><li>补齐年龄位数（不建议）</li></ol><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">#region 补齐年龄位数，然后排序foreach (DataRow item in dt.Rows)&#123;    item[&quot;Age&quot;] &#x3D; item[&quot;Age&quot;].ToString().PadLeft(2, &#39;0&#39;);&#125;dt.DefaultView.Sort &#x3D; &quot;Age ASC&quot;;dt &#x3D; dt.DefaultView.ToTable();#endregion<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="2"><li>增加一列，判断年龄长度然后排序</li></ol><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">#region 增加一列，判断年龄长度然后排序dt.Columns.Add(&quot;AgeLength&quot;, typeof(int), &quot;len(Age)&quot;);dt.DefaultView.Sort &#x3D; &quot;AgeLength,Age ASC&quot;;dt &#x3D; dt.DefaultView.ToTable();#endregion <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="3"><li>克隆表结构，将年龄列数据类型修改为数字类型</li></ol><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">#region 克隆表结构，将年龄列数据类型修改为数字类型DataTable dtNew &#x3D; dt.Clone();dtNew.Columns[1].DataType &#x3D; typeof(int);foreach (DataRow item in dt.Rows)&#123;    dtNew.ImportRow(item);&#125;dtNew.DefaultView.Sort &#x3D; &quot;Age ASC&quot;;dtNew &#x3D; dtNew.DefaultView.ToTable();#endregion<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="4"><li>利用linq将dataTable转换为集合，然后排序</li></ol><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">#region 利用linq将dataTable转换为集合，然后排序dt &#x3D; dt.Rows.Cast&lt;DataRow&gt;().OrderBy(r &#x3D;&gt; int.Parse(r[&quot;Age&quot;].ToString())).CopyToDataTable();#endregion<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>参考 <a href="https://www.jb51.net/article/43343.htm">https://www.jb51.net/article/43343.htm</a></p>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C# 获取程序集信息</title>
      <link href="/c-winform/csharp-huo-qu-cheng-xu-ji-xin-xi/"/>
      <url>/c-winform/csharp-huo-qu-cheng-xu-ji-xin-xi/</url>
      
        <content type="html"><![CDATA[<p>在C#的程序中都会有AssemblyInfo.cs文件，该文件中包含着程序的一些信息</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">using System.Reflection;using System.Runtime.CompilerServices;using System.Runtime.InteropServices;&#x2F;&#x2F; 有关程序集的常规信息通过以下&#x2F;&#x2F; 特性集控制。更改这些特性值可修改&#x2F;&#x2F; 与程序集关联的信息。[assembly: AssemblyTitle(&quot;ConsoleApplication1&quot;)][assembly: AssemblyDescription(&quot;测试&quot;)][assembly: AssemblyConfiguration(&quot;&quot;)][assembly: AssemblyCompany(&quot;Microsoft&quot;)][assembly: AssemblyProduct(&quot;ConsoleApplication1&quot;)][assembly: AssemblyCopyright(&quot;Copyright © Microsoft 2019&quot;)][assembly: AssemblyTrademark(&quot;&quot;)][assembly: AssemblyCulture(&quot;&quot;)]&#x2F;&#x2F; 将 ComVisible 设置为 false 使此程序集中的类型&#x2F;&#x2F; 对 COM 组件不可见。如果需要从 COM 访问此程序集中的类型，&#x2F;&#x2F; 则将该类型上的 ComVisible 特性设置为 true。[assembly: ComVisible(false)]&#x2F;&#x2F; 如果此项目向 COM 公开，则下列 GUID 用于类型库的 ID[assembly: Guid(&quot;8b945092-ddb6-4163-943b-1b36e99475d3&quot;)]&#x2F;&#x2F; 程序集的版本信息由下面四个值组成:&#x2F;&#x2F;&#x2F;&#x2F;      主版本&#x2F;&#x2F;      次版本 &#x2F;&#x2F;      内部版本号&#x2F;&#x2F;      修订号&#x2F;&#x2F;&#x2F;&#x2F; 可以指定所有这些值，也可以使用“内部版本号”和“修订号”的默认值，&#x2F;&#x2F; 方法是按如下所示使用“*”:&#x2F;&#x2F; [assembly: AssemblyVersion(&quot;1.0.*&quot;)][assembly: AssemblyVersion(&quot;1.2.5.0&quot;)][assembly: AssemblyFileVersion(&quot;1.0.5.0&quot;)]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>如何获取程序集中的一些信息呢</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">public class AssemblyInfos&#123;    &#x2F;&#x2F;&#x2F; &lt;summary&gt;    &#x2F;&#x2F;&#x2F; 获取程序集标题    &#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;    &#x2F;&#x2F;&#x2F; &lt;returns&gt;&lt;&#x2F;returns&gt;    public string GetAssemblyTitle()    &#123;        object[] attributes &#x3D; Assembly.GetExecutingAssembly().GetCustomAttributes(typeof(AssemblyTitleAttribute), false);        if (attributes.Length &gt; 0)        &#123;             AssemblyTitleAttribute title &#x3D; (AssemblyTitleAttribute)attributes[0];            if (!string.IsNullOrEmpty(title.Title))                return title.Title;        &#125;        return Path.GetFileNameWithoutExtension(Assembly.GetExecutingAssembly().CodeBase);    &#125;    &#x2F;&#x2F;&#x2F; &lt;summary&gt;    &#x2F;&#x2F;&#x2F; 获取程序集版本    &#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;    &#x2F;&#x2F;&#x2F; &lt;returns&gt;&lt;&#x2F;returns&gt;    public string GetAssemblyVersion()    &#123;        return Assembly.GetExecutingAssembly().GetName().Version.ToString();    &#125;    &#x2F;&#x2F;&#x2F; &lt;summary&gt;    &#x2F;&#x2F;&#x2F; 获取程序集描述说明    &#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;    &#x2F;&#x2F;&#x2F; &lt;returns&gt;&lt;&#x2F;returns&gt;    public string GetAssemblyDescription()    &#123;        object[] attributes &#x3D; Assembly.GetExecutingAssembly().GetCustomAttributes(typeof(AssemblyDescriptionAttribute), false);        if (attributes.Length &#x3D;&#x3D; 0)        &#123;            return &quot;&quot;;        &#125;        return ((AssemblyDescriptionAttribute)attributes[0]).Description;    &#125;   &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>还有许多的自定义消息，都和获取程序集描述说明类似<br><img src="/images/2019112509341401.png" alt="2019112509341401.png"></p><p>获取AssemblyFileVersion可以直接通过Application.ProductVersion获取版本<br>还可以通过Application.ProductName获取AssemblyProduct信息</p><p>参考：,<a href="https://blog.csdn.net/zhaoyuqings/article/details/77480727%3E">https://blog.csdn.net/zhaoyuqings/article/details/77480727&gt;</a></p>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C# 调用WinRAR解压缩文件</title>
      <link href="/c-winform/csharp-diao-yong-winrar-jie-ya-suo-wen-jian/"/>
      <url>/c-winform/csharp-diao-yong-winrar-jie-ya-suo-wen-jian/</url>
      
        <content type="html"><![CDATA[<p>在项目中有可能会用到解压缩，代码如下</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">public class CompressHelper&#123;        &#x2F;&#x2F;&#x2F; &lt;summary&gt;    &#x2F;&#x2F;&#x2F; 压缩    &#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;    &#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;sourceFilePath&quot;&gt;源文件路径&lt;&#x2F;param&gt;    &#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;sourceName&quot;&gt;源文件名称&lt;&#x2F;param&gt;    &#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;compressName&quot;&gt;压缩文件名&lt;&#x2F;param&gt;    &#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;compressPath&quot;&gt;压缩文件路径&lt;&#x2F;param&gt;    &#x2F;&#x2F;&#x2F; &lt;returns&gt;&lt;&#x2F;returns&gt;    public static bool CompressFile(string sourceFilePath, string sourceName, string compressName, string compressPath)    &#123;        string winrarPath &#x3D; string.Empty;        if (!ExistsCompressApp(out winrarPath))        &#123;            return false;        &#125;        if (string.IsNullOrEmpty(compressPath))        &#123;            compressPath &#x3D; sourceFilePath;        &#125;        string type &#x3D; compressName.Substring(compressName.IndexOf(&#39;.&#39;) + 1);        string compressType &#x3D; string.Empty;        if (type.ToUpper() &#x3D;&#x3D; CompressType.RAR.ToString())        &#123;            compressType &#x3D; &quot;-af&quot; + CompressType.RAR.ToString().ToLower();        &#125;        else if (type.ToUpper() &#x3D;&#x3D; CompressType.ZIP.ToString())        &#123;            compressType &#x3D; &quot;-af&quot; + CompressType.ZIP.ToString().ToLower();        &#125;        else        &#123;            compressType &#x3D; &quot;-af&quot; + CompressType.RAR.ToString().ToLower();            compressName &#x3D; compressName + &quot;.&quot; + CompressType.RAR.ToString().ToLower();        &#125;        CreateFolder(compressPath);        &#x2F;**         * &lt;命令&gt; -&lt;开关1&gt; -&lt;开关N&gt; &lt;压缩文件 &gt; &lt;文件...&gt; &lt;@列表文件...&gt; &lt;解压路径\&gt;          * 压缩 a      a -ep -o+ -df d:\test.rar d:\test.jpg         * 压缩 -ep（排除文件名的路径） -o+（覆盖全部文件 (更新压缩文件时的默认值)）         *      -df（压缩后删除源文件）-afrar（-AF&lt;类型&gt; - 指定压缩文件格式）         * *&#x2F;        string cmd &#x3D; string.Format(@&quot; a -ep -o+ &#123;2&#125; -df &#123;0&#125; &#123;1&#125;&quot;, Path.Combine(compressPath, compressName), Path.Combine(sourceFilePath, sourceName), compressType);        return StartProcess(winrarPath, cmd);    &#125;    &#x2F;&#x2F;&#x2F; &lt;summary&gt;    &#x2F;&#x2F;&#x2F; 解压    &#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;    &#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;unCompressPath&quot;&gt;解压文件路径&lt;&#x2F;param&gt;    &#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;unCompressName&quot;&gt;解压文件名&lt;&#x2F;param&gt;    &#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;filePath&quot;&gt;解压后文件路径&lt;&#x2F;param&gt;    &#x2F;&#x2F;&#x2F; &lt;returns&gt;&lt;&#x2F;returns&gt;    public static bool UnCompressFile(string unCompressPath, string unCompressName, string filePath)    &#123;        string winrarPath &#x3D; string.Empty;        if (!ExistsCompressApp(out winrarPath))        &#123;            return false;        &#125;        if (string.IsNullOrEmpty(filePath))        &#123;            filePath &#x3D; unCompressPath;        &#125;        CreateFolder(filePath);        &#x2F;**         * &lt;命令&gt; -&lt;开关1&gt; -&lt;开关N&gt; &lt;压缩文件 &gt; &lt;文件...&gt; &lt;@列表文件...&gt; &lt;解压路径\&gt;          * 解压 x      x -ibck -inul -y -mt5 d:\test.rar d:\test         * 解压 -ibck(在后台执行 WinRAR) -inul(禁用错误信息)  -y(所有问题的默认值为“是”)         *      -mt5(设置线程数量)         * *&#x2F;        string cmd &#x3D; string.Format(@&quot; x -ibck -inul -y -mt5 &#123;0&#125; &#123;1&#125;&quot;, Path.Combine(unCompressPath, unCompressName), filePath);        return StartProcess(winrarPath, cmd);    &#125;    &#x2F;&#x2F;&#x2F; &lt;summary&gt;    &#x2F;&#x2F;&#x2F; 判断是否安装了压缩软件    &#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;    &#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;winrarPath&quot;&gt;软件安装路径&lt;&#x2F;param&gt;    &#x2F;&#x2F;&#x2F; &lt;returns&gt;&lt;&#x2F;returns&gt;    private static bool ExistsCompressApp(out string winrarPath)    &#123;        winrarPath &#x3D; string.Empty;        &#x2F;&#x2F;通过注册表找到WinRAR软件        RegistryKey key &#x3D; Registry.LocalMachine.OpenSubKey(@&quot;SOFTWARE\Microsoft\Windows\CurrentVersion\App Paths\WinRAR.exe&quot;);        if (key &#x3D;&#x3D; null)            return false;        winrarPath &#x3D; key.GetValue(&quot;&quot;).ToString();&#x2F;&#x2F;获取winrar软件安装路径        key.Close(); &#x2F;&#x2F;关闭注册表        return !string.IsNullOrEmpty(winrarPath);    &#125;    &#x2F;&#x2F;&#x2F; &lt;summary&gt;    &#x2F;&#x2F;&#x2F; 执行压缩操作    &#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;    &#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;exePath&quot;&gt;WinRAR路径&lt;&#x2F;param&gt;    &#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;exeArg&quot;&gt;WinRAR参数&lt;&#x2F;param&gt;    &#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;isHide&quot;&gt;是否显示窗体&lt;&#x2F;param&gt;    &#x2F;&#x2F;&#x2F; &lt;returns&gt;&lt;&#x2F;returns&gt;    private static bool StartProcess(string exePath, string exeArg, bool isHide &#x3D; false)    &#123;        Process p &#x3D; new Process();        p.StartInfo.FileName &#x3D; exePath;        p.StartInfo.Arguments &#x3D; exeArg;        if (isHide)        &#123;            p.StartInfo.WindowStyle &#x3D; ProcessWindowStyle.Hidden;            p.StartInfo.CreateNoWindow &#x3D; true;        &#125;        else        &#123;            p.StartInfo.WindowStyle &#x3D; ProcessWindowStyle.Normal;            p.StartInfo.CreateNoWindow &#x3D; false;        &#125;        p.Start();        int idx &#x3D; 1;        while (!p.HasExited)        &#123;            idx++;            p.WaitForExit(1000);            if (idx &#x3D;&#x3D; 50)            &#123;                p.Kill();                return false;            &#125;        &#125;        p.Close();        p.Dispose();        return true;    &#125;    &#x2F;&#x2F;&#x2F; &lt;summary&gt;    &#x2F;&#x2F;&#x2F; 判断文件夹是否存在    &#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;    &#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;path&quot;&gt;路径&lt;&#x2F;param&gt;    private static void CreateFolder(string path)    &#123;        if (!File.Exists(path))        &#123;            Directory.CreateDirectory(path);        &#125;    &#125;&#125;&#x2F;&#x2F;&#x2F; &lt;summary&gt;&#x2F;&#x2F;&#x2F; 压缩类型&#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;public enum CompressType&#123;     RAR,    ZIP&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>具体的命令可以参考winrar的帮助文档</p><p><img src="/images/2019112109411101.png" alt="2019112109411101.png"></p><p>参考 <a href="https://www.cnblogs.com/zhoub/p/3841276.html">https://www.cnblogs.com/zhoub/p/3841276.html</a></p>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>DataTable 获取一列最大值并修改</title>
      <link href="/c-winform/datatable-huo-qu-yi-lie-zui-da-zhi-bing-xiu-gai/"/>
      <url>/c-winform/datatable-huo-qu-yi-lie-zui-da-zhi-bing-xiu-gai/</url>
      
        <content type="html"><![CDATA[<p>DataTable中获取分数的最大值</p><ol><li>创建DataTable并赋值</li></ol><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">DataTable dt &#x3D; new DataTable();dt.Columns.Add(&quot;ID&quot;, typeof(int));dt.Columns.Add(&quot;Name&quot;, typeof(string));dt.Columns.Add(&quot;Score&quot;, typeof(double));&#x2F;&#x2F;设置datable主键列dt.PrimaryKey &#x3D; new DataColumn[] &#123; dt.Columns[&quot;ID&quot;] &#125;;#region 添加数据DataRow dr &#x3D; null;for (int i &#x3D; 0; i &lt; 10; i++)&#123;    dr &#x3D; dt.NewRow();    dr[&quot;ID&quot;] &#x3D; 100 + i.ToString();    dr[&quot;Name&quot;] &#x3D; &quot;Name&quot; + i.ToString();    dr[&quot;Score&quot;] &#x3D; (i + 1) * 30;    dt.Rows.Add(dr);&#125;#endregion<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="2"><li>找出DataTable中分数的最大值</li></ol><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">double maxScore &#x3D; 0;double.TryParse(dt.Compute(&quot;Max(Score)&quot;, &quot;&quot;).ToString(), out maxScore);&#x2F;&#x2F; 取得datable中Score的最大值DataRow row &#x3D; dt.Select(&quot;Score&#x3D;&quot; + maxScore)[0];    <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ol start="3"><li>修改最大分数值</li></ol><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">row[&quot;Score&quot;] &#x3D; 100000000.12;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VS2019 离线安装</title>
      <link href="/tools/vs2019-chi-xian-an-zhuang/"/>
      <url>/tools/vs2019-chi-xian-an-zhuang/</url>
      
        <content type="html"><![CDATA[<ol><li>在微软官网下载需要的版本<br>例如 <a href="https://visualstudio.microsoft.com/zh-hans/downloads/">VS2019 Enterprise</a></li><li>下载组件到指定目录<br>例如（D:\VS2019_Enterprise）</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">vs_enterprise.exe <span class="token parameter variable">--layout</span> D:<span class="token punctuation">\</span>VS2019_Enterprise <span class="token parameter variable">--all</span> <span class="token parameter variable">--includeRecommended</span> <span class="token parameter variable">--includeOptional</span> <span class="token parameter variable">--lang</span> zh-CN<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>下载 .NET 桌面和 .NET Web 工作负载，以及所有推荐组件和 GitHub 扩展。 仅包括中文语言包：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">vs_enterprise.exe <span class="token parameter variable">--layout</span> D:<span class="token punctuation">\</span>VS2019_Enterprise ^ <span class="token parameter variable">--lang</span> zh-CN ^ <span class="token parameter variable">--add</span> Microsoft.VisualStudio.Workload.NetWeb ^ <span class="token parameter variable">--add</span> Microsoft.VisualStudio.Workload.ManagedDesktop ^ <span class="token parameter variable">--add</span> Component.GitHub.VisualStudio ^ <span class="token parameter variable">--includeRecommended</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>具体参数详解请参考 <a href="https://docs.microsoft.com/zh-cn/visualstudio/install/use-command-line-parameters-to-install-visual-studio?view=vs-2019">https://docs.microsoft.com/zh-cn/visualstudio/install/use-command-line-parameters-to-install-visual-studio?view=vs-2019</a></p><p>参考 <a href="https://docs.microsoft.com/zh-cn/visualstudio/install/create-an-offline-installation-of-visual-studio?view=vs-2019">https://docs.microsoft.com/zh-cn/visualstudio/install/create-an-offline-installation-of-visual-studio?view=vs-2019</a></p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>oracle11g安装客户端检查先决条件失败</title>
      <link href="/mysql-sql-oracle/oracle11g-an-zhuang-ke-hu-duan-jian-cha-xian-jue-tiao-jian-shi-bai/"/>
      <url>/mysql-sql-oracle/oracle11g-an-zhuang-ke-hu-duan-jian-cha-xian-jue-tiao-jian-shi-bai/</url>
      
        <content type="html"><![CDATA[<p>在64bit的WIN7上安装64bit的oracle11gR2客户端，执行检查先决条件失败</p><h2 id="错误信息"><a href="#错误信息" class="headerlink" title="错误信息"></a>错误信息</h2><ol><li>物理内存信息<br>预期值:?N&#x2F;A</li></ol><p>　　　　实际值:?N&#x2F;A<br>2. 可用物理内存信息（实际的物理内存是够用的）<br>       预期值:?N&#x2F;A<br>　　　　实际值:?N&#x2F;A<br>3. 环境变量PATH信息<br>       预期值:?N&#x2F;A<br>　　　　实际值:?N&#x2F;A</p><h2 id="错误原因"><a href="#错误原因" class="headerlink" title="错误原因"></a>错误原因</h2><p>可能是操作系统未开启默认共享，导致oracle无法检查环境的可用性</p><h2 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h2><p>打开系统注册表HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\services\LanmanServer\Parameters选中Parameters，修改右边的AutoShareWks值，将0改为1，然后重启电脑，安装完成后再将值改为0<br><img src="/images/2019102315480801.png" alt="2019102315480801.png"><br>查找到一些文章说只要将C盘的默认共享设置为共享就可以了，但是实际安装还是出现一样的问题。</p><h2 id="Dos设置默认共享"><a href="#Dos设置默认共享" class="headerlink" title="Dos设置默认共享"></a>Dos设置默认共享</h2><ol><li>打开C盘默认共享</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">net share c$<span class="token operator">=</span>c:<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="2"><li>删除C盘默认共享</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">net share c$ /del<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>参考：<a href="https://jingyan.baidu.com/article/b0b63dbf058bdb4a483070f7.html">https://jingyan.baidu.com/article/b0b63dbf058bdb4a483070f7.html</a></p>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>WinForm textbox 只允许输入数字</title>
      <link href="/c-winform/winform-textbox-zhi-yun-xu-shu-ru-shu-zi/"/>
      <url>/c-winform/winform-textbox-zhi-yun-xu-shu-ru-shu-zi/</url>
      
        <content type="html"><![CDATA[<p>textbox只允许输入指定数字（1-7），并且不能重复</p><p>在KeyPress事件中实现</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">private void txtWeek_KeyPress(object sender, KeyPressEventArgs e)&#123;    if ((e.KeyChar &lt; &#39;1&#39; || e.KeyChar &gt; &#39;7&#39;) &amp;&amp; e.KeyChar !&#x3D; (char)8) &#x2F;&#x2F;允许输入退格键    &#123;        e.Handled &#x3D; true;    &#125;    if (((TextBox)sender).Text.Trim().IndexOf(e.KeyChar)&gt;&#x3D;0)    &#123;        e.Handled &#x3D; true;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Oracle存储过程</title>
      <link href="/mysql-sql-oracle/oracle-cun-chu-guo-cheng/"/>
      <url>/mysql-sql-oracle/oracle-cun-chu-guo-cheng/</url>
      
        <content type="html"><![CDATA[<ol><li>作用<ol><li>在开发中，为了一个特定的业务功能，会向数据库进行多次连接关闭(连接和关闭是很耗资源)，需要对数据库进行多次I&#x2F;O读写，性能比较低。如果把这些业务放入存储过程中，就可以做到连接关闭一次数据库就可以实现业务，可以大大的提高效率。</li><li>Oracle官方建议，能够让数据库操作的不要放在程序中，在数据库中实现基本上不会出现错误，在程序中操作可能会存在错误。（如果在数据库中操作，可以有一定的日志恢复功能。）</li></ol></li><li>语法</li></ol><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">CREATE OR REPLACE PROCEDURE 存储过程名称[(参数列表)] ISBEGINEND 存储过程名称;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>根据参数的类型，可以分为3类</p><ol><li><p>不带参数</p></li><li><p>带输入参数</p></li><li><p>带输入输出参数（返回值）</p></li><li><p>无参存储</p></li></ol><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">create or replace procedure p_hello as--声明变量begin    dbms_output.put_line(&#39;Hello World!&#39;);end p_hello ;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>调用 在plsql中可以直接在begin end中直接写存储过程名，或者在命令窗口中执行 exec 存储过程名;。</p><p>注意：</p><ol><li><p>is和as是可以相互用的</p></li><li><p>过程中没有declare关键字，declare用在语句块中</p></li><li><p>带输入参数存储</p></li></ol><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">create or replace procedure p_queryName(i_empno in emp.empno%type) as--声明变量v_name emp.ename%type;v_sal emp.sal%type;begin    --查询emp表中对应员工的信息    select ename,sal into v_name,v_sal from emp where empno&#x3D;i_empno;    dbms_output.put_line(&#39;名称：&#39;||v_name||&#39;薪水：&#39;||v_sal);end p_queryName;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="5"><li>带输入输出参数存储</li></ol><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">create or replace procedure p_querySalOut(i_empno in emp.empno%type,o_sal out emp.sal%type) as--声明变量begin    --查询emp表中对应员工的信息    select sal into o_sal from emp where empno&#x3D;i_empno;    dbms_output.put_line(&#39;名称：&#39;||v_name||&#39;薪水：&#39;||v_sal);end p_querySalOut;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>调用</p><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">declare--声明变量接受存储过程中的输出参数    v_sal emp.sal%type;begin    p_querySalOut(7839,v_sal);    dbms_output.put_line(v_sal);end;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Oracle游标</title>
      <link href="/mysql-sql-oracle/oracle-you-biao/"/>
      <url>/mysql-sql-oracle/oracle-you-biao/</url>
      
        <content type="html"><![CDATA[<p>游标是用于临时存储一个查询返回的多行数据（结果集），通过遍历游标，可以逐行访问处理改结果集的数据。</p><h2 id="使用方式"><a href="#使用方式" class="headerlink" title="使用方式"></a>使用方式</h2><p>声明——&gt;打开——&gt;读取——&gt;关闭</p><h2 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h2><p><strong>游标声明：</strong><br>CURSOR 游标名[（参数列表）] IS 查询语句;<br><strong>游标打开：</strong><br>OPEN 游标名;<br><strong>游标读取：</strong><br>FETCH 游标名 INTO 变量列表;<br><strong>游标关闭：</strong><br>CLOSE 游标名;</p><h2 id="游标属性"><a href="#游标属性" class="headerlink" title="游标属性"></a>游标属性</h2><table><thead><tr><th>游标的属性</th><th>返回值类型</th><th>说明</th></tr></thead><tbody><tr><td>%ROWCOUNT</td><td>整型</td><td>获得FETCH语句返回的数据行数</td></tr><tr><td>%FOUND</td><td>布尔型</td><td>最近的FETCH语句返回的一行数据则为证，否则为假</td></tr><tr><td>%NOTFOUND</td><td>布尔型</td><td>与%FOUND属性返回值相反</td></tr><tr><td>%ISOPEN</td><td>布尔型</td><td>游标已经打开时值为真，否则为假</td></tr></tbody></table><p>无参数游标</p><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">declare    --声明游标    cursor c_emp is select ename,sal from emp;    --声明变量    v_ename emp.ename%type;    v_sal emp.sal%type;begin    --打开游标    open c_emp;    --遍历循环    loop        --获取游标中的数据        fetch c_emp into v_ename,v_sal;                exit when c_emp%notfound;        dbms_output.put_line(&#39;姓名：&#39;||v_name||&#39;工资：&#39;||v_sal);    end loop；    --关闭游标    close c_emp;    end;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>有参数游标</p><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">declare    --声明游标    cursor c_emp(v_deptno emp.deptno%type) is select ename,sal from emp where deptno&#x3D;v_deptno;    --声明变量    v_ename emp.ename%type;    v_sal emp.sal%type;begin    --打开游标    open c_emp(10);    --遍历循环    loop        --获取游标中的数据        fetch c_emp into v_ename,v_sal;                exit when c_emp%notfound;        dbms_output.put_line(&#39;姓名：&#39;||v_name||&#39;工资：&#39;||v_sal);    end loop；    --关闭游标    close c_emp;    end;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Oracle之PL/SQL流程控制</title>
      <link href="/mysql-sql-oracle/oracle-zhi-plsql-liu-cheng-kong-zhi/"/>
      <url>/mysql-sql-oracle/oracle-zhi-plsql-liu-cheng-kong-zhi/</url>
      
        <content type="html"><![CDATA[<h2 id="条件分支"><a href="#条件分支" class="headerlink" title="条件分支"></a>条件分支</h2><ol><li>IF语法</li></ol><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">begin　　if 条件1 then 执行1　　elsif 条件2 then 执行2　　else 执行3　　end if；end；<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">declare    --emp表中记录数    v_count number;begin    select count(1) into v_count from emp;    if v_count&gt;20 then        dbms_output.put_line(&#39;表中记录数超过20条，为：&#39;||v_count);     elsif v_count&gt;&#x3D;10 then        dbms_output.put_line(&#39;表中记录数在10到20之间，为：&#39;||v_count)    else        dbms_output.put_line(&#39;表中记录数小于10条，为：&#39;||v_count)    end if；end;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>注意：关键字elsif不是elseif</strong><br>2. Case 语法</p><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">case 条件表达式　　WHEN 条件表达式结果1 THEN    　　　　语句1　　 WHEN 条件表达式结果2 THEN    　　　　语句2　　　　　　......　　WHEN 条件表达式结果n THEN    　　　　语句n　 [else 条件表达式结果]end case;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">declare    v_name varchar2(20);begin    v_name:&#x3D;&#39;zhangsan&#39;;    case v_name      when &#39;zhangsan&#39; then dbms_output.put_line(&#39;张三&#39;);        when &#39;lisi&#39; then dbms_output.put_line(&#39;李四&#39;);            else dbms_output.put_line(&#39;无法找到改名称&#39;); end;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">case　　　WHEN 条件表达式1 THEN 　　　　语句1　　　WHEN 条件表达式2 THEN 　　　　语句2　　　......　　　WHEN 条件表达式n THEN　　　　语句n　　　[else 语句]end case;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">declare    v_name varchar2(20);begin    v_name:&#x3D;&#39;zhangsan&#39;;    case       when v_name&#x3D;&#39;zhangsan&#39; then dbms_output.put_line(&#39;张三&#39;);        when v_name&#x3D;&#39;lisi&#39; then dbms_output.put_line(&#39;李四&#39;);            else dbms_output.put_line(&#39;无法找到改名称&#39;); end;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="循环"><a href="#循环" class="headerlink" title="循环"></a>循环</h2><ol><li>Loop</li></ol><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">begin 　　　loop　　　    exit when 执行2 　退出循环条件　end loop；<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">declare    num number:&#x3D;1;begin    loop      exit when num&gt;10      dbms_output.put_line(num);      num :&#x3D; num+1;      end loop;end;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="2"><li>While</li></ol><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">while &lt;布尔表达式&gt; loop　　循环体语句;end loop;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">declare    flag boolean:&#x3D;TRUE;begin    while flag loop      dbms_output.put_line (&#39;Hello World!&#39;);      flag:&#x3D;FALSE;    end loop;end;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="3"><li>For</li></ol><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">[&lt;&lt;标签&gt;&gt;] for 循环计数器 in [ REVERSE ] 下限 .. 上限 loop　　　　　　循环体语句;end loop [&lt;&lt;标签&gt;&gt;];<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">begin    for i in 1..3 loop        dbms_output.put_line(i);    end loop;        end;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Oracle 变量</title>
      <link href="/mysql-sql-oracle/oracle-bian-liang/"/>
      <url>/mysql-sql-oracle/oracle-bian-liang/</url>
      
        <content type="html"><![CDATA[<h2 id="变量分类"><a href="#变量分类" class="headerlink" title="变量分类"></a>变量分类</h2><ol><li>普通数据类型（char，varchar2,date,number,boolean,long）</li><li>特殊变量类型 （引用型变量，记录型变量）</li></ol><h2 id="声明方式"><a href="#声明方式" class="headerlink" title="声明方式"></a>声明方式</h2><p>变量名 变量类型（变量长度）  例如： address varchar2(200);</p><ol><li><p>普通变量<br>变量赋值</p><ol><li>直接赋值 :&#x3D; 例如   age:&#x3D;20;</li><li>语句赋值,select … into 赋值；（语法 select 值 into 变量）</li></ol><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">DECLARE--姓名v_name varchar2(20):&#x3D;&#39;zhangsan&#39;;--薪水v_sal number;--地址v_addr varchar2(200);begin    --直接赋值    v_sal:&#x3D;20000;    select &#39;北京市&#39; into v_addr from dual;    --打印变量    dbms_output.put_line(&#39;姓名：&#39;||v_name||&#39;,薪水：&#39;||v_sal||&#39;,地址：&#39;||v_addr);end;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>引用型变量（变量的类型长度取决于表中字段类型和长度）<br>通过表名.列名%TYPE指定变量的类型和长度，例如： v_name emp.ename%TYPE;</p></li></ol><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">DECLARE    --姓名    v_name emp.ename%TYPE:&#x3D;&#39;zhangsan&#39;;    --薪水    v_sal emp.sal%TYPE;begin    --查询表中姓名和薪水并赋值给变量    select ename，sal into v_name,v_sal from emp where empno&#x3D;7839;    --打印变量    dbms_output.put_line(&#39;姓名：&#39;||v_name||&#39;,薪水：&#39;||v_sal);end;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="3"><li>记录型变量（接受表中的一行记录）<br>语法：变量名 表名%ROWTYPE，例如： v_emp emp%ROWTYPE;</li></ol><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">DECLARE    --记录型变量   v_emp emp%ROWTYPE;begin    --直接赋值        select * into v_emp from emp where empno&#x3D;7839;    --打印变量    dbms_output.put_line(&#39;姓名：&#39;||v_emp.ename||&#39;,薪水：&#39;||v_emp.sal);end;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>log4net 使用</title>
      <link href="/c-winform/log4net-shi-yong/"/>
      <url>/c-winform/log4net-shi-yong/</url>
      
        <content type="html"><![CDATA[<h3 id="在nuget中搜索log4net-然后直接安装"><a href="#在nuget中搜索log4net-然后直接安装" class="headerlink" title="在nuget中搜索log4net,然后直接安装"></a>在nuget中搜索log4net,然后直接安装</h3><h3 id="无论是CS还是BS都可以在AssemblyInfo-cs文件里添加以下的语句："><a href="#无论是CS还是BS都可以在AssemblyInfo-cs文件里添加以下的语句：" class="headerlink" title="无论是CS还是BS都可以在AssemblyInfo.cs文件里添加以下的语句："></a>无论是CS还是BS都可以在AssemblyInfo.cs文件里添加以下的语句：</h3><p>[assembly: log4net.Config .XmlConfigurator(ConfigFile &#x3D;”log4net.config”)]<br>还有ConfigFileExtension（配置文件的扩展名） 和 Watch（表示是否监视该配置文件）<br>或者建一个类，CS端在Main方法中调用，BS在Global.asax.cs的Application_Start方法中调用</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">public class LogHelper&#123;    static LogHelper()    &#123;        var logCfg &#x3D; new FileInfo(AppDomain.CurrentDomain.BaseDirectory + &quot;log4net.config&quot;);        XmlConfigurator.Configure(logCfg);    &#125;    private static LogHelper _instance &#x3D; null;    private static ILog ILog;    public static ILog Log(Type t)    &#123;        if (_instance &#x3D;&#x3D; null)            _instance &#x3D; new LogHelper();        ILog &#x3D; LogManager.GetLogger(t);        return ILog;    &#125;    public static ILog Log(string type)    &#123;        if (_instance &#x3D;&#x3D; null)            _instance &#x3D; new LogHelper();        ILog &#x3D; LogManager.GetLogger(type);        return ILog;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>注意配置文件必须要放到bin下面的目录里</p><h3 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h3><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token prolog">&lt;?xml version="1.0" encoding="utf-8" ?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configSections</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>log4net<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>log4net.Config.Log4NetConfigurationSectionHandler, log4net<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configSections</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>log4net</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>FileAppender<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>log4net.Appender.RollingFileAppender<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>file</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>log\<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appendToFile</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rollingStyle</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Date<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>datePattern</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>yyyyMMdd'.log'<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>staticLogFileName</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>layout</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>log4net.Layout.PatternLayout<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>conversionPattern</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>%date [%thread] %-5level %logger [%property&#123;NDC&#125;] - %message%newline<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>layout</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>appender</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>root</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>level</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ALL<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender-ref</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>FileAppender<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>root</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>log4net</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>也可以使用代码配置</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">&#x2F;&#x2F;&#x2F; &lt;summary&gt;&#x2F;&#x2F;&#x2F; 日志&#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;public static class LogHelper&#123;    public static void Setup(Level level)    &#123;        Hierarchy hierarchy &#x3D; (Hierarchy)LogManager.GetRepository();        &#x2F;&#x2F; 文件Appender        PatternLayout filePatternLayout &#x3D; new PatternLayout        &#123;            ConversionPattern &#x3D; &quot;%date&#123;yyyy-MM-dd HH:mm:ss&#125; [%thread] %-5level %-75.75logger - %message%newline&quot;        &#125;;        filePatternLayout.ActivateOptions();        RollingFileAppender fileAppender &#x3D; new RollingFileAppender        &#123;            Encoding &#x3D; Encoding.UTF8,            AppendToFile &#x3D; true,            File &#x3D; @&quot;.\log\&quot;,            RollingStyle &#x3D; RollingFileAppender.RollingMode.Date,            StaticLogFileName &#x3D; false,            PreserveLogFileNameExtension &#x3D; true,            Layout &#x3D; filePatternLayout,            DatePattern &#x3D; &quot;yyyyMMdd&#39;.log&#39;&quot;        &#125;;        fileAppender.ActivateOptions();        &#x2F;&#x2F; 控制台Appender        PatternLayout consolePatternLayout &#x3D; new PatternLayout        &#123;            ConversionPattern &#x3D; &quot;%date&#123;yyyy-MM-dd HH:mm:ss&#125; [%thread] - %message%newline&quot;        &#125;;        consolePatternLayout.ActivateOptions();        ConsoleAppender consoleAppender &#x3D; new ConsoleAppender();        consoleAppender.Layout &#x3D; consolePatternLayout;        consoleAppender.ActivateOptions();        &#x2F;&#x2F; 添加Appenders        hierarchy.Root.AddAppender(fileAppender);        hierarchy.Root.AddAppender(consoleAppender);        hierarchy.Root.Level &#x3D; level;        hierarchy.Configured &#x3D; true;    &#125;    private static Dictionary&lt;Type, ILog&gt; Loggers &#x3D; new Dictionary&lt;Type, ILog&gt;();    private static object locker &#x3D; new object();    public static ILog Write    &#123;        get        &#123;            Type triggerType &#x3D; new StackTrace().GetFrames().Skip(1).First().GetMethod().DeclaringType;            if (triggerType &#x3D;&#x3D; null)                triggerType &#x3D; typeof(LogHelper);                        if (!Loggers.ContainsKey(triggerType))            &#123;                lock (locker)                &#123;                    if (!Loggers.ContainsKey(triggerType))                    &#123;                        Loggers.Add(triggerType, LogManager.GetLogger(triggerType));                    &#125;                &#125;            &#125;            return Loggers[triggerType];        &#125;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>还有很多配置可以参考<br><a href="http://logging.apache.org/log4net/release/config-examples.html">http://logging.apache.org/log4net/release/config-examples.html</a></p><h3 id="调用"><a href="#调用" class="headerlink" title="调用"></a>调用</h3><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">class Program&#123;    static void Main(string[] args)    &#123;        Console.WriteLine(&quot;dfasdfas&quot;);        ILog log &#x3D; LogHelper.Log(typeof(Program));        log.Info(&quot;dadafds&quot;);        log.Debug(&quot;debug&quot;);    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python Matplotlib 画图显示中文问题</title>
      <link href="/python/python-matplotlib-hua-tu-xian-shi-zhong-wen-wen-ti/"/>
      <url>/python/python-matplotlib-hua-tu-xian-shi-zhong-wen-wen-ti/</url>
      
        <content type="html"><![CDATA[<p>画图显示中文出现问题<br><img src="/images/2019070416010101.png" alt="2019070416010101.png"></p><p><strong>解决办法</strong></p><ol><li>安装字体（黑体 SimHei），系统中有改字体就不用安装了</li><li>找到matplotlib包的安装目录（Lib\site-packages\matplotlib\mpl-data）</li><li>修改matplotlib的配置（matplotlibrc）<br> font.family         : sans-serif<br>　　font.sans-serif     : SimHei<br>　　axes.unicode_minus  : False<br>　　去掉这些配置前面的#<br><img src="/images/2019070416010102.png" alt="2019070416010102.png"><br>或者在代码里修改配置也可以</li></ol><pre class="line-numbers language-Python" data-language="Python"><code class="language-Python">import matplotlib.pyplot as pltplt.rcParams[&#39;font.sans-serif&#39;] &#x3D; [&#39;SimHei&#39;]plt.rcParams[&#39;axes.unicode_minus&#39;] &#x3D; False<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SQL 将科学计算字符串转换为数值</title>
      <link href="/mysql-sql-oracle/sql-jiang-ke-xue-ji-suan-zi-fu-chuan-zhuan-huan-wei-shu-zhi/"/>
      <url>/mysql-sql-oracle/sql-jiang-ke-xue-ji-suan-zi-fu-chuan-zhuan-huan-wei-shu-zhi/</url>
      
        <content type="html"><![CDATA[<pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">select convert(decimal(19,2),convert(float,&#39;1.635359e+006&#39;))或select cast(cast(&#39;1.635359e+006&#39; as float) as decimal(19,2))<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Oracle 数据迁移到 SQL Server</title>
      <link href="/mysql-sql-oracle/oracle-shu-ju-qian-yi-dao-sql-server/"/>
      <url>/mysql-sql-oracle/oracle-shu-ju-qian-yi-dao-sql-server/</url>
      
        <content type="html"><![CDATA[<p>现在需要将Oracle数据迁移到SQL Server ，在网上找资料，发现微软官方提供了一个工具 <a href="https://www.microsoft.com/en-us/download/details.aspx?id=54258">Microsoft SQL Server Migration Assistant 8.1 for Oracle</a></p><ol><li>安装工具后新建一个项目，选择对应版本的数据库<br><img src="/images/2019050915321201.png" alt="2019050915321201.png"></li><li>连接数据库<br>连接oracle<br><img src="/images/2019050915321202.png" alt="2019050915321202.png"><br>连接sqlserver<br><img src="/images/2019050915321203.png" alt="2019050915321203.png"></li><li>转换Schema<br>在oracle中勾选需要转换的表Convert Schema<br><img src="/images/2019050915321204.png" alt="2019050915321204.png"><br>在sqlserver中Synchronize with Database<br><img src="/images/2019050915321205.png" alt="2019050915321205.png"></li><li>在Oracle Metadata Explorer窗口中执行Migrate Data，开始迁移数据。<br><img src="/images/2019050915321206.png" alt="2019050915321206.png"><br><img src="/images/2019050915321207.png" alt="2019050915321207.png"><br>还有将mysql、Access、DB2 数据导入到SQL数据库中的工具</li></ol><p>问题：提示如图警告<br><img src="/images/2019050915321208.png" alt="2019050915321208.png"><br>在开始菜单中找到“数据库配置工具”，启动sqlserver 代理服务<br><img src="/images/2019050915321209.png" alt="2019050915321209.png"></p><p>参考 <a href="https://blogs.msdn.microsoft.com/ssma/2017/02/21/released-sql-server-migration-assistant-ssma-v7-3/">https://blogs.msdn.microsoft.com/ssma/2017/02/21/released-sql-server-migration-assistant-ssma-v7-3/</a></p>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Oracle 导入导出dmp文件</title>
      <link href="/mysql-sql-oracle/oracle-dao-ru-dao-chu-dmp-wen-jian/"/>
      <url>/mysql-sql-oracle/oracle-dao-ru-dao-chu-dmp-wen-jian/</url>
      
        <content type="html"><![CDATA[<p><strong>EXP和IMP</strong>是客户端工具程序，它们既可以在客户端使用，也可以在服务端使用。<br><strong>EXPDP和IMPDP</strong>是服务端的工具程序，他们只能在ORACLE服务端使用，不能在客户端使用。<br>IMP只适用于EXP导出的文件，不适用于EXPDP导出文件；IMPDP只适用于EXPDP导出的文件，而不适用于EXP导出文件。</p><p><strong>–exp导出数据</strong></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">exp test/test@orcl <span class="token assign-left variable">file</span><span class="token operator">=</span>D:<span class="token punctuation">\</span>test<span class="token punctuation">\</span>orcl.dmp <span class="token assign-left variable">log</span><span class="token operator">=</span>D:<span class="token punctuation">\</span>test<span class="token punctuation">\</span>log<span class="token punctuation">\</span>orcl.log <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><strong>–imp导入数据</strong></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">imp test/test@orcl <span class="token assign-left variable">file</span><span class="token operator">=</span>D:<span class="token punctuation">\</span>test<span class="token punctuation">\</span>orcl.dmp <span class="token assign-left variable">log</span><span class="token operator">=</span>D:<span class="token punctuation">\</span>test<span class="token punctuation">\</span>log<span class="token punctuation">\</span>orcl.log <span class="token assign-left variable">full</span><span class="token operator">=</span>y <span class="token assign-left variable">ignore</span><span class="token operator">=</span>y<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>说明：test&#x2F;test@orcl —&gt;用户名&#x2F;密码@数据库实例<br>      file&#x3D;”本地路径+需要导入&#x2F;导出的dmp文件全称”<br>      log&#x3D;”日志文件”<br>      full&#x3D;y;<br>　　   ignore&#x3D;y: 如果没有的表，创建并倒入数据，如果已经有的表，忽略创建的，但不忽略倒入。</p><p>使用ignore&#x3D;y,Oracle不检查要导入的数据结构和现存在数据库中表的结构是否相同</p><p>在后面也可以加入其它参数</p><p>如：tables&#x3D;(table1,table2)：表示值导入&#x2F;导出table1、table2这两张表；compress&#x3D;y:表示压缩文件，还有fromuser、touser等</p><p>注意：上面的命令只需打开dos窗口输入直接执行即可；如果使用sqlplus登陆进入使用上面的命令会报“<strong>sp2-0734:未知的命令开头</strong>‘imp 忽略了剩余行”错误。</p><p>–expdp导出数据</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">expdp test/test@orcl directory <span class="token operator">=</span> <span class="token string">"testdata"</span> dumpfile <span class="token operator">=</span><span class="token string">"orcl.dmp"</span> logfile <span class="token operator">=</span> orcl.log<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>–impdp导入数据</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">impdp test/test@orcl <span class="token assign-left variable">directory</span><span class="token operator">=</span><span class="token string">"testdata"</span> <span class="token assign-left variable">dumpfile</span><span class="token operator">=</span><span class="token string">"orcl.dmp"</span> logfile <span class="token operator">=</span> orcl.log <span class="token assign-left variable">full</span><span class="token operator">=</span>y<span class="token punctuation">;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Oracle 创建用户并授权</title>
      <link href="/mysql-sql-oracle/oracle-chuang-jian-yong-hu-bing-shou-quan/"/>
      <url>/mysql-sql-oracle/oracle-chuang-jian-yong-hu-bing-shou-quan/</url>
      
        <content type="html"><![CDATA[<h2 id="创建表空间"><a href="#创建表空间" class="headerlink" title="创建表空间"></a>创建表空间</h2><p>进入dos界面，输入 sqlplus &#x2F; as sysdba;以dba的权限登陆oracle (sqlplus test&#x2F;test as sysdba);test指用户名，&#x2F;后的test是密码。</p><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">create tablespace testSpace datafile &#39;D:\test.dbf&#39; size 100M autoextend on next 50M;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>说明：</p><p>testSpace：表空间名<br>datafile 数据库文件及路径</p><h2 id="创建用户，并设置默认表空间"><a href="#创建用户，并设置默认表空间" class="headerlink" title="创建用户，并设置默认表空间"></a>创建用户，并设置默认表空间</h2><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">create user test identified by test default tablespace testSpace<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>说明：</p><p>user后的test是用户名<br>by后的test 是 密码<br>从11g后 创建公用用户需要以 <strong>C##或c##开头</strong></p><h2 id="授权"><a href="#授权" class="headerlink" title="授权"></a>授权</h2><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">grant connect,dba to test;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>将连接、dba的权限给test用户</p><h2 id="常用查询"><a href="#常用查询" class="headerlink" title="常用查询"></a>常用查询</h2><ol><li><p>查询表空间</p><ol><li>查所有表空间</li></ol><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">select * from dba_tablespacer t;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="2"><li>只查表空间名称：</li></ol><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">select tablespace_name from dba_tablespaces;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>也可以进Oracle点击TABLESPACE里面看。</p></li><li><p>查询目录</p></li></ol><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">select * from dba_directories;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>也可以进Oracle点击DIRECTORY里面看.点击右键properties可以看到目录路径</p><ol start="3"><li>查看当前数据库版本号</li></ol><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">select * from v$version;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>参考 <a href="http://www.cnblogs.com/xqzt/p/5034261.html">http://www.cnblogs.com/xqzt/p/5034261.html</a></p>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mysql incorrect string value 错误</title>
      <link href="/mysql-sql-oracle/mysql-incorrect-string-value-cuo-wu/"/>
      <url>/mysql-sql-oracle/mysql-incorrect-string-value-cuo-wu/</url>
      
        <content type="html"><![CDATA[<p>Mysql中添加数据时,报错(incorrect string value ) 字符转换不正确</p><p>这个问题，原因是UTF-8编码有可能是两个、三个、四个字节。而Mysql的utf8编码最多3个字节，遇到超过3个字节的的数据就插不进去。</p><p>在网上找到了解决办法</p><ol><li>在Mysql的安装目录下有一个文件叫做my.ini。（如没有可以自己新建一个）<br>在其中添加两句：</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>mysqld<span class="token punctuation">]</span>character-set-server<span class="token operator">=</span>utf8mb4<span class="token punctuation">[</span>mysql<span class="token punctuation">]</span>default-character-set<span class="token operator">=</span>utf8mb4<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>然后进行重启Mysql服务。<br>也可以用命令将数据库转换格式<br><img src="/images/2019050510310101.png" alt="2019050510310101.png"><br>将红色框中的名称替换为自己的数据库名</p><ol start="2"><li>将已经建好的表也转换为utf8mb4格式</li></ol><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">alter table banner convert to character set utf8mb4 collate utf8mb4_bin;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="/images/2019050510310102.png" alt="2019050510310102.png"><br>将红色框中的表名替换为自己要修改的表名</p><p>参考 <a href="https://www.jianshu.com/p/4aa27b7b0ab0">https://www.jianshu.com/p/4aa27b7b0ab0</a></p>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>根据坐标经纬度计算两点之间的距离</title>
      <link href="/c-winform/gen-ju-zuo-biao-jing-wei-du-ji-suan-liang-dian-zhi-jian-de-ju-chi/"/>
      <url>/c-winform/gen-ju-zuo-biao-jing-wei-du-ji-suan-liang-dian-zhi-jian-de-ju-chi/</url>
      
        <content type="html"><![CDATA[<p>地球是一个近乎标准的椭球体，它的赤道半径为6378.140千米，极半径为 6356.755千米，平均半径6371.004千米。</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">&#x2F;&#x2F;&#x2F; &lt;summary&gt;&#x2F;&#x2F;&#x2F; 给定的经度1，纬度1；经度2，纬度2. 计算2个经纬度之间的距离。&#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;lat1&quot;&gt;纬度1&lt;&#x2F;param&gt;&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;lon1&quot;&gt;经度1&lt;&#x2F;param&gt;&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;lat2&quot;&gt;纬度2&lt;&#x2F;param&gt;&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;lon2&quot;&gt;经度2&lt;&#x2F;param&gt;&#x2F;&#x2F;&#x2F; &lt;returns&gt;距离（公里、千米）&lt;&#x2F;returns&gt;private double Distance(double lat1, double lon1, double lat2, double lon2)&#123;    double EARTH_RADIUS &#x3D; 6371.0;    &#x2F;&#x2F;用haversine公式计算球面两点间的距离。    &#x2F;&#x2F;经纬度转换成弧度    lat1 &#x3D; ConvertDegreesToRadians(lat1);    lon1 &#x3D; ConvertDegreesToRadians(lon1);    lat2 &#x3D; ConvertDegreesToRadians(lat2);    lon2 &#x3D; ConvertDegreesToRadians(lon2);    &#x2F;&#x2F;差值    var vLon &#x3D; Math.Abs(lon1 - lon2);    var vLat &#x3D; Math.Abs(lat1 - lat2);    &#x2F;&#x2F; h is the great circle distance in radians, great circle    &#x2F;&#x2F; 就是一个球体上的切面，它的圆心即是球心的一个周长最大的圆。    var h &#x3D; HaverSin(vLat) + Math.Cos(lat1) * Math.Cos(lat2) * HaverSin(vLon);    var distance &#x3D; 2 * EARTH_RADIUS * Math.Asin(Math.Sqrt(h));    return distance;&#125;&#x2F;&#x2F;&#x2F; &lt;summary&gt;&#x2F;&#x2F;&#x2F; 将角度换算为弧度。&#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;degrees&quot;&gt;角度&lt;&#x2F;param&gt;&#x2F;&#x2F;&#x2F; &lt;returns&gt;弧度&lt;&#x2F;returns&gt;private double ConvertDegreesToRadians(double degrees)&#123;    return degrees * Math.PI &#x2F; 180;&#125;&#x2F;&#x2F;&#x2F; &lt;summary&gt;&#x2F;&#x2F;&#x2F; 将弧度换算为角度。&#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;radian&quot;&gt;&lt;&#x2F;param&gt;&#x2F;&#x2F;&#x2F; &lt;returns&gt;&lt;&#x2F;returns&gt;private double ConvertRadiansToDegrees(double radian)&#123;    return radian * 180.0 &#x2F; Math.PI;&#125;&#x2F;&#x2F;&#x2F; &lt;summary&gt;&#x2F;&#x2F;&#x2F; HaverSin&#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;theta&quot;&gt;&lt;&#x2F;param&gt;&#x2F;&#x2F;&#x2F; &lt;returns&gt;&lt;&#x2F;returns&gt;private double HaverSin(double theta)&#123;    var v &#x3D; Math.Sin(theta &#x2F; 2);    return v * v;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>在线计算经纬度距离工具 <a href="http://www.gpsspg.com/distance.htm">http://www.gpsspg.com/distance.htm</a></p><p>参考 <a href="https://blog.csdn.net/xiejm2333/article/details/73297004">https://blog.csdn.net/xiejm2333/article/details/73297004</a></p><p><a href="https://www.cnblogs.com/zhoug2020/p/3950933.html">https://www.cnblogs.com/zhoug2020/p/3950933.html</a></p>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C# 获取类名</title>
      <link href="/c-winform/csharp-huo-qu-lei-ming/"/>
      <url>/c-winform/csharp-huo-qu-lei-ming/</url>
      
        <content type="html"><![CDATA[<ol><li>获取C#类中类名</li></ol><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">System.Reflection.MethodBase.GetCurrentMethod().DeclaringType.Name;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="2"><li>获取C#类中类名（包含命名空间）</li></ol><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">System.Reflection.MethodBase.GetCurrentMethod().DeclaringType.FullName;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="3"><li>获取C# 类中方法名</li></ol><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">System.Reflection.MethodBase.GetCurrentMethod().Name;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Post、Get请求</title>
      <link href="/c-winform/post-get-qing-qiu/"/>
      <url>/c-winform/post-get-qing-qiu/</url>
      
        <content type="html"><![CDATA[<p>post、get请求方法</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">&#x2F;&#x2F;&#x2F; &lt;summary&gt;&#x2F;&#x2F;&#x2F; Post、Get请求&#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;url&quot;&gt;请求地址（http:localshost：8080）&lt;&#x2F;param&gt;&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;method&quot;&gt;请求方式（post、get）&lt;&#x2F;param&gt;&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;bodys&quot;&gt;post请求参数&lt;&#x2F;param&gt;&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;querys&quot;&gt;get请求蚕食&lt;&#x2F;param&gt;&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;headers&quot;&gt;请求头&lt;&#x2F;param&gt;&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;contentType&quot;&gt;编码方式（application&#x2F;x-www-form-urlencoded）&lt;&#x2F;param&gt;&#x2F;&#x2F;&#x2F; &lt;returns&gt;&lt;&#x2F;returns&gt;public static string HttpInvoker(string url, string method, string bodys, string querys, Dictionary&lt;string, string&gt; headers, string contentType)&#123;    HttpWebRequest httpRequest &#x3D; null;    HttpWebResponse httpResponse &#x3D; null;    if (querys.Length &lt; 0)    &#123;        url &#x3D; url + &quot;?&quot; + querys;    &#125;    if (url.Contains(&quot;https:&#x2F;&#x2F;&quot;))    &#123;        ServicePointManager.ServerCertificateValidationCallback &#x3D; new RemoteCertificateValidationCallback(CheckValidationResult);        httpRequest &#x3D; (HttpWebRequest)WebRequest.CreateDefault(new Uri(url));    &#125;    else    &#123;        httpRequest &#x3D; (HttpWebRequest)WebRequest.Create(url);    &#125;    httpRequest.Method &#x3D; method.ToUpper();    foreach (var header in headers)    &#123;        httpRequest.Headers.Add(header.Key, header.Value);    &#125;    &#x2F;&#x2F;根据API的要求，定义相对应的Content-Type    httpRequest.ContentType &#x3D; contentType;    if (bodys.Length &lt; 0)    &#123;        &#x2F;&#x2F;添加post参数        byte[] data &#x3D; Encoding.UTF8.GetBytes(bodys);        using (Stream stream &#x3D; httpRequest.GetRequestStream())        &#123;            stream.Write(data, 0, data.Length);        &#125;    &#125;    try    &#123;        httpResponse &#x3D; (HttpWebResponse)httpRequest.GetResponse();    &#125;    catch (WebException ex)    &#123;        httpResponse &#x3D; (HttpWebResponse)ex.Response;    &#125;    Stream s &#x3D; httpResponse.GetResponseStream();    string result &#x3D; string.Empty;    using (StreamReader reader &#x3D; new StreamReader(s, Encoding.UTF8))    &#123;        result &#x3D; reader.ReadToEnd();    &#125;    return result;&#125;private static bool CheckValidationResult(object sender, X509Certificate certificate, X509Chain chain, SslPolicyErrors errors)&#123;    return true;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Image和Base64相互转换</title>
      <link href="/c-winform/image-he-base64-xiang-hu-zhuan-huan/"/>
      <url>/c-winform/image-he-base64-xiang-hu-zhuan-huan/</url>
      
        <content type="html"><![CDATA[<ol><li>图片转换为Base64</li></ol><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">&#x2F;&#x2F;&#x2F; &lt;summary&gt;&#x2F;&#x2F;&#x2F; 图片转换为base64&#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;imagefile&quot;&gt;图片路径&lt;&#x2F;param&gt;&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;picFomatter&quot;&gt;图片格式(.jpg、.png等)&lt;&#x2F;param&gt;&#x2F;&#x2F;&#x2F; &lt;returns&gt;&lt;&#x2F;returns&gt;public string GetBase64FromImage(string imagefile,string icFomatter)&#123;    string strbaser64 &#x3D; &quot;&quot;;    try    &#123;        Bitmap bmp &#x3D; new Bitmap(imagefile);        MemoryStream ms &#x3D; new MemoryStream();        ImageFormat format &#x3D; ImageFormat.Jpeg;        switch (picFomatter)        &#123;            case &quot;png&quot;:                format &#x3D; ImageFormat.Png;                break;            case &quot;bmp&quot;:                format &#x3D; ImageFormat.Bmp;                break;        &#125;        bmp.Save(ms, format);        byte[] arr &#x3D; new byte[ms.Length];        ms.Position &#x3D; 0;        ms.Read(arr, 0, (int)ms.Length);        ms.Close();        ms.Dispose();        strbaser64 &#x3D; Convert.ToBase64String(arr);        switch (picFomatter)        &#123;            case &quot;jpg&quot;:                strbaser64 &#x3D; &quot;data:image&#x2F;&quot; + picFomatter + &quot;;base64,&quot; + strbaser64;                break;            case &quot;jpeg&quot;:                strbaser64 &#x3D; &quot;data:image&#x2F;&quot; + picFomatter + &quot;;base64,&quot; + strbaser64;                break;            case &quot;bmp&quot;:                strbaser64 &#x3D; &quot;data:image&#x2F;&quot; + picFomatter + &quot;;base64,&quot; + strbaser64;                break;            default:                strbaser64 &#x3D; &quot;data:image&#x2F;png&quot; + &quot;;base64,&quot; + strbaser64;                break;        &#125;    &#125;    catch (Exception)    &#123;        throw new Exception(&quot;Something wrong during convert!&quot;);    &#125;    return strbaser64;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="2"><li>Base64转换图片</li></ol><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">&#x2F;&#x2F;&#x2F; &lt;summary&gt;&#x2F;&#x2F;&#x2F; Base64转换图片&#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;strbase64&quot;&gt;base64字符串&lt;&#x2F;param&gt;&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;picFomatter&quot;&gt;图片格式&lt;&#x2F;param&gt;&#x2F;&#x2F;&#x2F; &lt;returns&gt;&lt;&#x2F;returns&gt;public string Base64StringToImage(string strbase64, string icFomatter)&#123;    try    &#123;        byte[] arr &#x3D; Convert.FromBase64String(strbase64);        MemoryStream ms &#x3D; new MemoryStream(arr);        Bitmap bmp &#x3D; new Bitmap(ms);        string filePath &#x3D; System.AppDomain.CurrentDomain.BaseDirectory;        ImageFormat format &#x3D; ImageFormat.Jpeg;        switch (picFomatter)        &#123;            case &quot;png&quot;:                format &#x3D; ImageFormat.Png;                break;            case &quot;bmp&quot;:                format &#x3D; ImageFormat.Bmp;                break;        &#125;        string filename &#x3D; filePath + DateTime.Now.ToFileTime().ToString() + &quot;.&quot; + picFomatter;        bmp.Save(filename, format);        ms.Close();        return filename;    &#125;    catch (Exception ex)    &#123;        return null;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">&#x2F;&#x2F;&#x2F; &lt;summary&gt;&#x2F;&#x2F;&#x2F; 判断是否Base64编码&#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;s&quot;&gt;编码字符串&lt;&#x2F;param&gt;&#x2F;&#x2F;&#x2F; &lt;returns&gt;&lt;&#x2F;returns&gt;public bool IsBase64(string s)&#123;    try    &#123;        Convert.FromBase64String(s);        return true;    &#125;    catch (FormatException)    &#123;        return false;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Html checkbox全选</title>
      <link href="/js/html-checkbox-quan-xuan/"/>
      <url>/js/html-checkbox-quan-xuan/</url>
      
        <content type="html"><![CDATA[<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">&lt;table class&#x3D;&quot;data-table td-center&quot;&gt;     &lt;tr&gt;        &lt;td&gt;&lt;input type&#x3D;&quot;checkbox&quot; id&#x3D;&quot;ckAll&quot; name&#x3D;&quot;checkAll&quot;  &#x2F;&gt;全选&lt;&#x2F;td&gt;        &lt;td&gt;编号&lt;&#x2F;td&gt;        &lt;td&gt;姓名&lt;&#x2F;td&gt;        &lt;td&gt;班级&lt;&#x2F;td&gt;        &lt;td&gt;年龄&lt;&#x2F;td&gt;        &lt;td&gt;邮箱&lt;&#x2F;td&gt;        &lt;td&gt;操作&lt;&#x2F;td&gt;     &lt;&#x2F;tr&gt;     &lt;tr&gt;        &lt;td&gt;&lt;input type&#x3D;&quot;checkbox&quot; name&#x3D;&quot;checkItem&quot; onclick&#x3D;&quot;checkOne(this)&quot;&#x2F;&gt;&lt;&#x2F;td&gt;        &lt;td&gt;1&lt;&#x2F;td&gt;        &lt;td&gt;张三&lt;&#x2F;td&gt;        &lt;td&gt;2班&lt;&#x2F;td&gt;        &lt;td&gt;12&lt;&#x2F;td&gt;        &lt;td&gt;zs@qq.com&lt;&#x2F;td&gt;        &lt;td&gt;&lt;a href&#x3D;&#39;javascript:void(0);&#39;&gt;删除&lt;&#x2F;a&gt;&lt;&#x2F;td&gt;    &lt;&#x2F;tr&gt;    &lt;tr&gt;        &lt;td&gt;&lt;input type&#x3D;&quot;checkbox&quot; name&#x3D;&quot;checkItem&quot; onclick&#x3D;&quot;checkOne(this)&quot; &#x2F;&gt;&lt;&#x2F;td&gt;        &lt;td&gt;2&lt;&#x2F;td&gt;        &lt;td&gt;李四&lt;&#x2F;td&gt;        &lt;td&gt;1班&lt;&#x2F;td&gt;        &lt;td&gt;11&lt;&#x2F;td&gt;        &lt;td&gt;ls@qq.com&lt;&#x2F;td&gt;        &lt;td&gt;&lt;a href&#x3D;&#39;javascript:void(0);&#39;&gt;删除&lt;&#x2F;a&gt;&lt;&#x2F;td&gt;    &lt;&#x2F;tr&gt;&lt;&#x2F;table&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C# DataTable 用法</title>
      <link href="/c-winform/csharp-datatable-yong-fa/"/>
      <url>/c-winform/csharp-datatable-yong-fa/</url>
      
        <content type="html"><![CDATA[<ol><li>创建DataTable</li></ol><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">DataTable dataTable &#x3D; new DataTable(); &#x2F;&#x2F;创建一个空表<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="2"><li>创建DataRow</li></ol><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">DataRow row &#x3D;  dataTable.NewRow(); &#x2F;&#x2F;创建空行dataTable.Rows.Add(row); &#x2F;&#x2F;添加行DataRow row &#x3D; dataTable.Rows.Add(); &#x2F;&#x2F;创建空行<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ol start="3"><li>创建DataColumn</li></ol><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">&#x2F;&#x2F;1.创建空列DataColumn dc &#x3D; new DataColumn();dataTable.Columns.Add(dc);&#x2F;&#x2F;2.创建带列名和类型名的列(两种方式任选其一)dataTable.Columns.Add(&quot;column0&quot;,System.Type.GetType(&quot;System.String&quot;));dataTable.Columns.Add(&quot;column0&quot;, typeof(String));<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="4"><li>筛选</li></ol><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">dataTable.Select(&quot;column0 like &#39;li%&#39;&quot;); &#x2F;&#x2F;类似写sql语句dataTable.Select(&quot;column0 like &#39;li%&#39;&quot;,&quot;column0 DESC&quot;); &#x2F;&#x2F;可以排序object obj &#x3D; dataTable.Compute(&quot;max(列名)&quot;, &quot;&quot;);  &#x2F;&#x2F;还可以使用其它sql的函数<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ol start="5"><li>删除</li></ol><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">dataTable.Rows.Remove(dataTable.Rows[0]);dataTable.Rows.RemoveAt(0);&#x2F;&#x2F;通过索引删除<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ol start="6"><li>复制表</li></ol><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">DataTable newdt &#x3D; dataTable.Clone(); &#x2F;&#x2F;复制DataTable的表结构DataTable dtNew &#x3D; dataTable.Copy();&#x2F;&#x2F;复制DataTable的表结构及数据dataTable.ImportRow(dataRow); &#x2F;&#x2F;将dataRow中的数据复制到dataTable的dataRow中<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ol start="7"><li>排序</li></ol><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">DataView dv &#x3D; dataTable.DefaultView;dv.Sort &#x3D; &quot; 列名 DESC&quot;;DataTable dtNew &#x3D; dv.ToTable();<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>参考： <a href="https://docs.microsoft.com/zh-cn/dotnet/api/system.data.datatable?view=netframework-4.7.2">https://docs.microsoft.com/zh-cn/dotnet/api/system.data.datatable?view=netframework-4.7.2</a></p>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Math.round、Math.floor、Math.ceil 区别</title>
      <link href="/js/math.round-math.floor-math.ceil-qu-bie/"/>
      <url>/js/math.round-math.floor-math.ceil-qu-bie/</url>
      
        <content type="html"><![CDATA[<ol><li><p>Math.round（） 按照四舍五入的方式返回值</p><p> 例如：Math.round（9.5）&#x3D;10</p></li></ol><p>　　      Math.round（9.4）&#x3D;9</p><ol start="2"><li><p>Math.floor（）返回最小整数</p><p> 例如：Math.floor（9.5）&#x3D;9</p></li></ol><p>　　　    Math.floor（9.2）&#x3D;9</p><ol start="3"><li><p>Math.ceil（）返回最大整数</p><p> 例如： Math.ceil（9.1）&#x3D;10</p></li></ol><p>　　       Math.ceil（9.5）&#x3D;10</p>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSS中margin属性</title>
      <link href="/html-css/css-zhong-margin-shu-xing/"/>
      <url>/html-css/css-zhong-margin-shu-xing/</url>
      
        <content type="html"><![CDATA[<p>css中margin块级元素的垂直相邻外边距会合并，比如<br><img src="/images/2018121813270701.png" alt="2018121813270701.png"></p><p>方框的上下外边距并不是2px，而是合并为1px了。</p><p>设置float属性就可以避免这种同级元素边距合并</p>]]></content>
      
      
      <categories>
          
          <category> HTML/CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTML/CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SQL Server 常用函数</title>
      <link href="/mysql-sql-oracle/sql-server-chang-yong-han-shu/"/>
      <url>/mysql-sql-oracle/sql-server-chang-yong-han-shu/</url>
      
        <content type="html"><![CDATA[<h2 id="SUBSTRING-expression-start-length"><a href="#SUBSTRING-expression-start-length" class="headerlink" title="SUBSTRING ( expression ,start , length )"></a>SUBSTRING ( expression ,start , length )</h2><p>参数</p><p>. expression<br>字符串、二进制字符串、文本、图像、列或包含列的表达式。不要使用包含聚合函数的表达式。</p><p>.start<br>指定子字符串从何处开始的整数。start可以是bigint类型；索引从1开始</p><p>.length<br>长度是一个正整数，它指定返回表达式的字符或字节数。如果长度为负值，则返回错误。长度可以是bigint型</p><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">SELECT SUBSTRING(&#39;LGAG4DY30B353&#39;,1,10)  --截取前10位返回结果 LGAG4DY30B<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="STUFF-character-expression-start-length-replaceWith-expression"><a href="#STUFF-character-expression-start-length-replaceWith-expression" class="headerlink" title="STUFF ( character_expression , start , length , replaceWith_expression )"></a>STUFF ( character_expression , start , length , replaceWith_expression )</h2><p>参数</p><p>.character_expression<br>字符数据的表达式可以是常量、变量，也可以是字符列或二进制数据列。</p><p>.start<br>一个整数值，指定删除和插入的开始位置。 如果 start 为负或为零，则返回空字符串。 如果 start 的长度大于第一个 character_expression，则返回空字符串。 start 的类型可以是 bigint。索引从1开始。</p><p>.length<br>一个整数，指定要删除的字符数。 如果 length 为负，则返回空字符串。 如果 length 的长度大于第一个 character_expression，则最多可以删除到最后一个 character_expression 中的最后一个字符。 如果 length 为零，则在字符串中第一个字符之前插入内容。 length 的类型可以是 bigint。</p><p>.replaceWith_expression<br>字符数据的表达式。 character_expression 可以是常量、变量，也可以是字符列或二进制数据列。 此表达式从 start 开始替换 length 个字符的 character_expression。 如果 replaceWith_expression 为 NULL，则在不插入任何内容的情况下删除字符。</p><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">SELECT STUFF(&#39;LGAG4DY30B&#39;,9,1,&#39;-&#39;) --返回结果 LGAG4DY3-B<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><strong>SELECT 字段 FROM 表名 FOR JSON AUTO</strong><br><strong>SELECT 字段 FROM 表名 FOR JSON PATH</strong></p><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">select top 1 Id,Name,CreateTime from Log for json path  --返回结果 [&#123;&quot;Id&quot;:1,&quot;Name&quot;:&quot;车辆信息查询&quot;,&quot;CreateTime&quot;:&quot;2018-09-06T09:00:28.090&quot;&#125;]<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><strong>SELECT 字段 FROM 表名 FOR JSON PATH，ROOT(‘ ‘)</strong></p><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">select top 1 Id,Name,CreateTime from Log for json path,root(&#39;Log&#39;)  --返回结果 &#123;&quot;Log&quot;:[&#123;&quot;Id&quot;:1,&quot;Name&quot;:&quot;车辆信息查询&quot;,&quot;CreateTime&quot;:&quot;2018-09-06T09:00:28.090&quot;&#125;]&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><strong>FOR XML PATH 用法类似</strong><br><strong>FOR XML PATH和STUFF结合使用，将字段用逗号连接起来</strong></p><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">select STUFF((select &#39;,&#39;+CONVERT(varchar(200),ID) from  SMP_Case for xml path(&#39;&#39;)),1,1,&#39;&#39;) as IDs<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="CHARINDEX-expressionToFind-expressionToSearch-start-location"><a href="#CHARINDEX-expressionToFind-expressionToSearch-start-location" class="headerlink" title="CHARINDEX ( expressionToFind , expressionToSearch [ , start_location ] )"></a>CHARINDEX ( expressionToFind , expressionToSearch [ , start_location ] )</h2><p>参数</p><p>.expressionToFind<br>一个字符表达式，其中包含要查找的序列。 expressionToFind 限制为 8000 个字符 。</p><p>.expressionToSearch<br>要搜索的字符表达式。</p><p>.start_location<br>表示搜索开始位置的 integer 或 bigint 表达式 。 如果 start_location 未指定、具有负数值或 0，搜索将从 expressionToSearch 的开头开始 。</p><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">select CHARINDEX(&#39;-&#39;,&#39;LGWE13243-ABC&#39;)  --返回结果10<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="PATINDEX-‘-pattern-’-expression"><a href="#PATINDEX-‘-pattern-’-expression" class="headerlink" title="PATINDEX ( ‘%pattern%’ , expression )"></a>PATINDEX ( ‘%pattern%’ , expression )</h2><p>参数</p><p>.pattern<br>包含要查找的序列的字符表达式。 可以使用通配符；但 pattern 之前和之后必须有 % 字符（搜索第一个或最后一个字符时除外） 。 pattern 是字符串数据类型类别的表达式 。 pattern最多包含 8000 个字符 。</p><p>.expression<br>是一个expression，通常是针对指定模式搜索的列。 expression 是字符串数据类型类别的表达式 。</p><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">select PATINDEX(&#39;%-%&#39;,&#39;243532B-ACFDF3333&#39;) --返回结果8<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>参考：  <a href="https://docs.microsoft.com/zh-cn/sql/t-sql/functions/len-transact-sql?view=sql-server-2017">https://docs.microsoft.com/zh-cn/sql/t-sql/functions/len-transact-sql?view=sql-server-2017</a></p><p>　　　<a href="https://docs.microsoft.com/en-us/sql/relational-databases/json/format-query-results-as-json-with-for-json-sql-server?view=sql-server-2017">https://docs.microsoft.com/en-us/sql/relational-databases/json/format-query-results-as-json-with-for-json-sql-server?view=sql-server-2017</a></p>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>API 接口收集</title>
      <link href="/other/api-jie-kou-shou-ji/"/>
      <url>/other/api-jie-kou-shou-ji/</url>
      
        <content type="html"><![CDATA[<p>节假日</p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup">http://api.goseek.cn/http://timor.tech/api/holidayhttp://www.easybots.cn/api/holiday.php?d=20130101https://tool.bitefu.net/jiari/?d=20181001&amp;info=1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>发票验证</p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup">https://market.aliyun.com/products/56928005/cmapi025075.html?spm=5176.10695662.1996646101.searchclickresult.112d7d3dtnP9jR#sku=yuncode1907500000https://market.aliyun.com/products/57124001/cmapi027758.html#sku=yuncode2175800000<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Other </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Other </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Json 序列化为Dictionary</title>
      <link href="/c-winform/json-xu-lie-hua-wei-dictionary/"/>
      <url>/c-winform/json-xu-lie-hua-wei-dictionary/</url>
      
        <content type="html"><![CDATA[<p>如下所示的json字符串中包含中文属性转换成英文属性</p><pre class="line-numbers language-Json" data-language="Json"><code class="language-Json">[&quot;sid&quot;:&quot;dd1312&quot;,&quot;success&quot;:true,&quot;data&quot;:&#123;  &quot;发票代码&quot;: &quot;032001500XXX&quot;,  &quot;发票号码&quot;: &quot;25272XXX&quot;,  &quot;开票日期&quot;: &quot;2017年XX月XX日&quot;,  &quot;校验码&quot;: &quot;15922733756000XXXXXX&quot;,  &quot;发票金额&quot;: &quot;XXX.00&quot;,  &quot;发票税额&quot;: &quot;XXX.43&quot;,  &quot;不含税金额&quot;: &quot;XXX.57&quot;,  &quot;受票方名称&quot;: &quot;XXX&quot;,  &quot;受票方税号&quot;: &quot;XXXX&quot;,  &quot;受票方地址、电话&quot;: &quot;XXX&quot;,  &quot;受票方开户行、账号&quot;: &quot;XXX&quot;,  &quot;销售方名称&quot;: &quot;XXX&quot;,  &quot;销售方税号&quot;: &quot;913201043023368XXX&quot;,  &quot;销售方地址、电话&quot;: &quot;XXX&quot;,  &quot;销售方开户行、账号&quot;: &quot;XXX&quot;&#125;]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>现将json字符串转换成Dictionary类型</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">&#x2F;&#x2F;&#x2F; &lt;summary&gt;&#x2F;&#x2F;&#x2F; 将Json数据反序列化为Dictionary&#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;jsonData&quot;&gt;json数据&lt;&#x2F;param&gt;&#x2F;&#x2F;&#x2F; &lt;returns&gt;&lt;&#x2F;returns&gt;public Dictionary&lt;string, object&gt; JsonToDictionary(string sonData)&#123;    &#x2F;&#x2F;实例化JavaScriptSerializer类的新实例    JavaScriptSerializer javaScriptSerializer &#x3D; new JavaScriptSerializer();    try    &#123;        &#x2F;&#x2F;将指定的 JSON 字符串转换为 Dictionary&lt;string, object&gt; 类型的对象        return javaScriptSerializer.Deserialize&lt;Dictionary&lt;string, object&gt;&gt;(jsonData);    &#125;    catch (Exception ex)    &#123;        throw new Exception(ex.Message);    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>然后将中文属性转换成对应的英文属性</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">Dictionary&lt;string,object&gt; dic &#x3D; JsonToDictionary(ress);InvoiceAliOcr res &#x3D; new InvoiceAliOcr();res.data &#x3D; new Ocr();if (dic !&#x3D; null &amp;&amp;dic.ContainsKey(&quot;data&quot;))&#123;    Dictionary&lt;string, object&gt; dataSet &#x3D; (Dictionary&lt;string, object&gt;)dic[&quot;data&quot;];    foreach (KeyValuePair&lt;string, object&gt; item in dataSet)    &#123;        switch (item.Key)        &#123;            case &quot;发票代码&quot;:                res.data.fpdm &#x3D; item.Value.ToString();                break;            case &quot;发票号码&quot;:                res.data.fphm &#x3D; item.Value.ToString();                break;            case &quot;开票日期&quot;:                res.data.kprq &#x3D; string.IsNullOrEmpty(item.Value.ToString()) ? &quot;&quot; : Convert.ToDateTime(item.Value.ToString()).ToString(&quot;yyyyMMdd&quot;);                break;            case &quot;校验码&quot;:                res.data.code &#x3D; item.Value.ToString();                break;            case &quot;发票金额&quot;:                res.data.sumamount &#x3D; item.Value.ToString();                break;            case &quot;发票税额&quot;:                res.data.taxamount &#x3D; item.Value.ToString();                break;            case &quot;不含税金额&quot;:                res.data.notaxamount &#x3D; item.Value.ToString();                break;            case &quot;受票方名称&quot;:                res.data.gfMc &#x3D; item.Value.ToString();                break;            case &quot;受票方税号&quot;:                res.data.gfCode &#x3D; item.Value.ToString();                break;            case &quot;销售方名称&quot;:                res.data.sfMc &#x3D; item.Value.ToString();                break;            case &quot;销售方税号&quot;:                res.data.sfCode &#x3D; item.Value.ToString();                break;            default:                break;        &#125;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>RedisClient 连接redis 提示 ERR Client sent AUTH, but no password is set</title>
      <link href="/mvc/redisclient-lian-jie-redis-ti-shi-err-client-sent-auth-but-no-password-is-set/"/>
      <url>/mvc/redisclient-lian-jie-redis-ti-shi-err-client-sent-auth-but-no-password-is-set/</url>
      
        <content type="html"><![CDATA[<p><img src="/images/2018111610561601.png" alt="2018111610561601.png"><br>使用redisclient连接redis出现上图的错误</p><p>在配置中已经找到requirepass修改了密码，但是还是出现上图错误。在网上找了资料在dos设置<br><img src="/images/2018111610561602.png" alt="2018111610561602.png"></p><p>出现上图红框中的错误，研究了半天也没有解决。后来将配置中的requirepass重新注释掉，在重新配置就可以了。<br><img src="/images/2018111610561603.png" alt="2018111610561603.png"></p><p>参考文章 <a href="http://www.cnblogs.com/robinli/p/9265186.html">http://www.cnblogs.com/robinli/p/9265186.html</a></p>]]></content>
      
      
      <categories>
          
          <category> MVC </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MVC </tag>
            
            <tag> Redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MVC JSON JavaScriptSerializer 进行序列化或反序列化时出错</title>
      <link href="/mvc/mvc-json-javascriptserializer-jin-xing-xu-lie-hua-huo-fan-xu-lie-hua-shi-chu-cuo/"/>
      <url>/mvc/mvc-json-javascriptserializer-jin-xing-xu-lie-hua-huo-fan-xu-lie-hua-shi-chu-cuo/</url>
      
        <content type="html"><![CDATA[<p>MVC control中返回json格式数据一般都是如下格式</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">[HttpPost]public ActionResult CaseAudit(string name)&#123;    var data &#x3D;&quot;dasda&quot;；        return Json(data);&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>但是这样如果字符串长度太大会报错</p><p><strong>JSON JavaScriptSerializer 进行序列化或反序列化时出错。字符串的长度超过了为 maxJsonLength 属性设置的值</strong></p><p>按下面方法可以解决</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">[HttpPost]public ActionResult CaseAudit(string name)&#123;    var data &#x3D;&quot;dasda&quot;；        return new JsonResult() &#123; Data &#x3D; data, MaxJsonLength &#x3D; int.MaxValue, ContentType &#x3D; &quot;application&#x2F;json&quot; &#125;；&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>或者在Web.config中配置</p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>system.web.extensions</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scripting</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>webServices</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>jsonSerialization</span> <span class="token attr-name">maxJsonLength</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1024000000<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>webServices</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scripting</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>system.web.extensions</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> MVC </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MVC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MVC Control 接收post请求的json数据</title>
      <link href="/mvc/mvc-control-jie-shou-post-qing-qiu-de-json-shu-ju/"/>
      <url>/mvc/mvc-control-jie-shou-post-qing-qiu-de-json-shu-ju/</url>
      
        <content type="html"><![CDATA[<pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">[HttpPost]public string QueryInvoice()&#123;    string stream;    using (var sr &#x3D; new StreamReader(Request.InputStream))    &#123;        stream &#x3D; sr.ReadToEnd();    &#125;    JavaScriptSerializer js &#x3D; new JavaScriptSerializer();    QueryInfo info &#x3D; js.Deserialize&lt;QueryInfo&gt;(stream);    if (info &#x3D;&#x3D; null)    &#123;        return “请输入正确参数”;    &#125;&#125;public class QueryInfo&#123;    public string caseNumber &#123; get; set; &#125;    public string picture &#123; get; set; &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> MVC </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MVC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python 数据类型</title>
      <link href="/python/python-shu-ju-lei-xing/"/>
      <url>/python/python-shu-ju-lei-xing/</url>
      
        <content type="html"><![CDATA[<h2 id="Python数据类型"><a href="#Python数据类型" class="headerlink" title="Python数据类型"></a>Python数据类型</h2><p>查看数据类型的方法：例如看int类型的方法，在pycharm里 输入int，然后按住ctrl鼠标点击int即可查看int类型的方法</p><h3 id="数字"><a href="#数字" class="headerlink" title="数字"></a>数字</h3><p>int （整型）</p><p>在python2中<br>在32位机器上，整数的位数为32位，范围是 -231<del>231-1<br>在64位机器上，整数的位数为64位，范围是 -263</del>263-1</p><p>在python3中<br>整型长度无限制<br><img src="/images/2018091411011101.png" alt="2018091411011101.png"></p><h3 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h3><p><img src="/images/2018091411011102.png" alt="2018091411011102.png"><br>特性：</p><ol><li>字符串按照从左到右的字符集存放，可以使用索引的方式访问（从0开始），是有序的</li><li>只能存放一个值，不可变</li></ol><h3 id="布尔"><a href="#布尔" class="headerlink" title="布尔"></a>布尔</h3><p>真或假<br>假包括 False、0、空字符串（‘ ’）、[]列表、（）元组、{}字典、None</p><h3 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h3><p>创建列表<br>lst &#x3D; [1, 3, ‘jack’]  或者<br>lst &#x3D; list([1, 3, ‘jack’])</p><p>特性:</p><ol><li>可以存放多个值</li><li>可以使用索引的方式访问（从0开始），是<strong>有序</strong>的</li><li><strong>可以</strong>修改指定索引对应的值</li></ol><h3 id="元组"><a href="#元组" class="headerlink" title="元组"></a>元组</h3><p>创建元组<br>tu &#x3D; (1, 2, [‘jack’], ‘abc’,)   或者<br>tu &#x3D; list((1, 2, [‘jack’], ‘abc’,))</p><p>特性</p><ol><li>可以存放多个值</li><li>可以使用索引的方式访问（从0开始），是<strong>有序</strong>的</li><li><strong>不可以</strong>修改指定索引对应的值</li></ol><h3 id="字典"><a href="#字典" class="headerlink" title="字典"></a>字典</h3><p>创建字典<br>dic &#x3D; {‘name’: ‘jack’, ‘age’: 18}  或者<br>dic &#x3D; dict({‘name’: ‘jack’, ‘age’: 18})</p><p>特性</p><ol><li>可以存放多个值</li><li><strong>可以</strong>使用键值对的方式访问，是<strong>无序</strong>的</li></ol><h3 id="集合"><a href="#集合" class="headerlink" title="集合"></a>集合</h3><p>创建集合<br>s &#x3D; {1, 3, (1, 5, 9), [‘jack’, 2]} 或者<br>s &#x3D; set({1, 3, (1, 5, 9), [‘jack’, 2]})</p><p>特性</p><ol><li><strong>无序且不重复</strong>元素的集合</li></ol><h2 id="Python运算符"><a href="#Python运算符" class="headerlink" title="Python运算符"></a>Python运算符</h2><h3 id="算术运算符"><a href="#算术运算符" class="headerlink" title="算术运算符"></a>算术运算符</h3><p><img src="/images/2018091411011103.png" alt="2018091411011103.png"></p><h3 id="比较运算符"><a href="#比较运算符" class="headerlink" title="比较运算符"></a>比较运算符</h3><p><img src="/images/2018091411011104.png" alt="2018091411011104.png"></p><h3 id="赋值运算符"><a href="#赋值运算符" class="headerlink" title="赋值运算符"></a>赋值运算符</h3><p><img src="/images/2018091411011105.png" alt="2018091411011105.png"></p><h3 id="位运算符"><a href="#位运算符" class="headerlink" title="位运算符"></a>位运算符</h3><p><img src="/images/2018091411011106.png" alt="2018091411011106.png"></p><h3 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h3><p><img src="/images/2018091411011107.png" alt="2018091411011107.png"></p><h3 id="成员运算符"><a href="#成员运算符" class="headerlink" title="成员运算符"></a>成员运算符</h3><p><img src="/images/2018091411011108.png" alt="2018091411011108.png"></p><h3 id="身份运算符"><a href="#身份运算符" class="headerlink" title="身份运算符"></a>身份运算符</h3><p><img src="/images/2018091411011109.png" alt="2018091411011109.png"></p><h3 id="运算符优先级"><a href="#运算符优先级" class="headerlink" title="运算符优先级"></a>运算符优先级</h3><p><img src="/images/2018091411011110.png" alt="2018091411011110.png"></p><h2 id="数据类型转换"><a href="#数据类型转换" class="headerlink" title="数据类型转换"></a>数据类型转换</h2><p><img src="/images/2018091411011111.png" alt="2018091411011111.png"></p><h2 id="数据类型分类"><a href="#数据类型分类" class="headerlink" title="数据类型分类"></a>数据类型分类</h2><p>按存值个数区分</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>标量／原子类型</td><td>数字，字符串</td></tr><tr><td>容器类型</td><td>列表，元组，字典</td></tr></tbody></table><p>按可变不可变区分</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>可变</td><td>列表，字典</td></tr><tr><td>不可变</td><td>数字，字符串，元组</td></tr></tbody></table><p>按访问顺序区分</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>直接访问</td><td>数字</td></tr><tr><td>顺序访问（序列类型）</td><td>字符串，列表，元组</td></tr><tr><td>key值访问（映射类型）</td><td>字典</td></tr></tbody></table><p>参考：<a href="http://www.runoob.com/python/python-operators.html">http://www.runoob.com/python/python-operators.html</a></p><p>　　　<a href="https://docs.python.org/3/library/stdtypes.html">https://docs.python.org/3/library/stdtypes.html</a></p><p><a href="http://www.cnblogs.com/linhaifeng/articles/5935801.html">http://www.cnblogs.com/linhaifeng/articles/5935801.html</a></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Quartz和TopShelf Windows服务作业调度</title>
      <link href="/c-winform/quartz-he-topshelf-windows-fu-wu-zuo-ye-diao-du/"/>
      <url>/c-winform/quartz-he-topshelf-windows-fu-wu-zuo-ye-diao-du/</url>
      
        <content type="html"><![CDATA[<p>上一次写了一遍关于Quartz作业调度的文章</p><p>现在使用TopShelf和Quartz实现windows服务作业调度</p><p>TopShelf版本4.0<br>Quartz版本3.0.6</p><p>任务文件和上次文章的一样将日期写入txt文件中，TimeJob代码如下</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">public class TimeJob : IJob&#123;    public Task Execute(IJobExecutionContext context)    &#123;        string filePath &#x3D; @&quot;D:\\log.txt&quot;;        File.AppendAllText(filePath, DateTime.Now.ToString(&quot;yyyy年MM月dd日 HH:mm:ss&quot;) + Environment.NewLine);        Console.WriteLine(DateTime.Now.ToString(&quot;yyyy年MM月dd日 HH:mm:ss&quot;) + Environment.NewLine);        return Task.FromResult(true);    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol><li>.创建调度器工厂  ISchedulerFactory factory &#x3D; new StdSchedulerFactory();</li><li>创建任务调度器 IScheduler scheduler &#x3D; null;</li><li>创建任务和触发器</li></ol><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">scheduler &#x3D; await factory.GetScheduler();&#x2F;&#x2F;创建一个任务IJobDetail job &#x3D; JobBuilder.Create&lt;TimeJob&gt;().WithIdentity&quot;myJob1&quot;, &quot;group1&quot;).Build();&#x2F;&#x2F;创建一个触发器ITrigger trigger &#x3D; TriggerBuilder.Create().WithIdentity&quot;myTrigger1&quot;, &quot;group1&quot;).StartNow().    WithSimpleSchedule(a &#x3D;&gt; a.WithIntervalInSeconds(10).RepeatForever()).Build();&#x2F;&#x2F;将任务和触发器添加到调度器里await scheduler.ScheduleJob(job, trigger);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="4"><li>开始执行 scheduler.Start()<br>Manager代码如下</li></ol><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">public class Manager&#123;    &#x2F;&#x2F;创建调度器工厂    ISchedulerFactory factory &#x3D; new StdSchedulerFactory();    &#x2F;&#x2F;创建调度器    IScheduler scheduler &#x3D; null;    public Manager() &#123;        Init();    &#125;     private async void Init()    &#123;        scheduler &#x3D; await factory.GetScheduler();        &#x2F;&#x2F;创建一个任务        IJobDetail job &#x3D; JobBuilder.Create&lt;TimeJob&gt;().WithIdentity(&quot;myJob1&quot;, &quot;group1&quot;).Build();        &#x2F;&#x2F;创建一个触发器        ITrigger trigger &#x3D; TriggerBuilder.Create().WithIdentity(&quot;myTrigger1&quot;, &quot;group1&quot;).StartNow().            WithSimpleSchedule(a &#x3D;&gt; a.WithIntervalInSeconds(10).RepeatForever()).Build();        &#x2F;&#x2F;将任务和触发器添加到调度器里        await scheduler.ScheduleJob(job, trigger);    &#125;     public async void Start()    &#123;        &#x2F;&#x2F;开始执行        await scheduler.Start();    &#125;     public async void Stop()    &#123;        &#x2F;&#x2F;停止        await scheduler.Shutdown(false);    &#125;     public async void Pause()    &#123;        &#x2F;&#x2F;暂停        await scheduler.PauseAll();    &#125;     public async void Continue()    &#123;        &#x2F;&#x2F;继续        await scheduler.ResumeAll();    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="5"><li>调用</li></ol><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">static void Main(string[] args)&#123;    var fac &#x3D; HostFactory.New(x &#x3D;&gt;    &#123;        x.Service&lt;Manager&gt;(s &#x3D;&gt;        &#123;            s.ConstructUsing(name &#x3D;&gt; new Manager());            s.WhenStarted(m &#x3D;&gt; m.Start());            s.WhenStopped(m &#x3D;&gt; m.Stop());            s.WhenPaused(m &#x3D;&gt; m.Pause());            s.WhenContinued(m &#x3D;&gt; m.Continue());        &#125;);        x.RunAsLocalSystem();        x.SetDescription(&quot;QuartzTopShelfDemo Windows服务&quot;);        x.SetDisplayName(&quot;QuartzTopShelfDemo 服务&quot;);        x.SetServiceName(&quot;QuartzTopShelfDemoService&quot;);    &#125;);    fac.Run();       Console.ReadKey();&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="6"><li>配置安装服务</li></ol><p>安装：TopshelfDemo.exe install<br>启动：TopshelfDemo.exe start<br>卸载：TopshelfDemo.exe uninstall</p><p><img src="/images/2018071811491901.png" alt="2018071811491901.png"><br><img src="/images/2018071811491902.png" alt="2018071811491902.png"></p><p>参考：<a href="https://topshelf.readthedocs.io/en/latest/configuration/config_api.html#service-name">https://topshelf.readthedocs.io/en/latest/configuration/config_api.html#service-name</a></p>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Quartz.NET 作业调度使用</title>
      <link href="/c-winform/quartz.net-zuo-ye-diao-du-shi-yong/"/>
      <url>/c-winform/quartz.net-zuo-ye-diao-du-shi-yong/</url>
      
        <content type="html"><![CDATA[<p>Quartz.NET的使用方法有很多，今天使用Quartz.NET3.0.6的时候发现和2.0版本的语法不太一样，百度上找了一圈也没有找到解决办法</p><p>后来在<a href="https://github.com/quartznet/quartznet">GitHub</a>上下载源代码解决了<br><img src="/images/2018071617291901.png" alt="2018071617291901.png"><br>实现每隔10s将时间写入txt文件</p><ol><li>新建一个类，实现IJob接口的Execute方法<strong>Task Execute(IJobExecutionContext context)</strong></li></ol><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">public class TimeJob : IJob&#123;    public Task Execute(IJobExecutionContext context)    &#123;        string filePath &#x3D; @&quot;D:\\log.txt&quot;;        File.AppendAllText(filePath, DateTime.Now + Environment.NewLine);        Console.WriteLine(DateTime.Now + Environment.NewLine);        return Task.FromResult(true);    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="2"><li>实现任务调度</li></ol><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">static void Main(string[] args)&#123;    TestJob();    Console.ReadKey();&#125;static async Task TestJob()&#123;    &#x2F;&#x2F;创建调度器工厂    ISchedulerFactory factory &#x3D; new StdSchedulerFactory();    &#x2F;&#x2F;创建调度器    IScheduler scheduler &#x3D; await factory.GetScheduler();         &#x2F;&#x2F;创建一个任务    IJobDetail job &#x3D; JobBuilder.Create&lt;TimeJob&gt;().WithIdentity(&quot;myJob1&quot;, &quot;group1&quot;).Build();    &#x2F;&#x2F;创建一个触发器    ITrigger trigger &#x3D; TriggerBuilder.Create().WithIdentity(&quot;myTrigger1&quot;, &quot;group1&quot;).StartNow().        WithSimpleSchedule(a &#x3D;&gt; a.WithIntervalInSeconds(10).RepeatForever()).Build();    &#x2F;&#x2F;将任务和触发器添加到调度器里    await scheduler.ScheduleJob(job, trigger);    &#x2F;&#x2F;开始执行    await scheduler.Start();&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> 参考 <a href="https://github.com/quartznet/quartznet">https://github.com/quartznet/quartznet</a><br><a href="https://quartznet.sourceforge.io/apidoc/3.0/html/">https://quartznet.sourceforge.io/apidoc/3.0/html/</a></p>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Epplus导出Excel(DataTable)</title>
      <link href="/c-winform/epplus-dao-chu-excel-datatable/"/>
      <url>/c-winform/epplus-dao-chu-excel-datatable/</url>
      
        <content type="html"><![CDATA[<ol><li>先将dataTable转换成流</li></ol><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">public Stream DataTableToExcel(DataTable dataTable, string[] columns, string sheetName)&#123;    try    &#123;        using (ExcelPackage pck &#x3D; new ExcelPackage())        &#123;            ExcelWorksheet ws &#x3D; pck.Workbook.Worksheets.Add(sheetName);            ws.Cells[&quot;A1&quot;].LoadFromDataTable(dataTable, true);            for (int i &#x3D; 1; i &lt;&#x3D; columns.Length; i++) &#x2F;&#x2F;设置excel列名            &#123;                using (ExcelRange rng &#x3D; ws.Cells[1, i])                &#123;                    rng.Style.Font.Bold &#x3D; true;                    rng.Value &#x3D; columns[i - 1];                &#125;            &#125;            MemoryStream ms &#x3D; new MemoryStream();            pck.SaveAs(ms);            ms.Flush();            ms.Position &#x3D; 0;&#x2F;&#x2F;指定当前流的位置从0开始            return ms;        &#125;    &#125;    catch (Exception ex)    &#123;        throw ex;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>设置Excel单元格格式  <strong>ws.Column(1).Style.Numberformat.Format &#x3D; “YYYY-MM-DD HH:mm:ss”</strong></p><p>保存excel文件</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">public void ExportExcel(DataTable dt, string[] columns, string sheetName, DownResult result)&#123;       Stream stream &#x3D; DataTableToExcel(dt, columns, sheetName);    ExcelPackage package &#x3D; new ExcelPackage(stream);    fileName &#x3D; sheetName + DateTime.Now.ToString(&quot;yyyyMMddHHmmss&quot;) + &quot;.xlsx&quot;;    filePath &#x3D; HttpContext.Current.Server.MapPath(&quot;~&#x2F;UploadFile&#x2F;&quot;);&#x2F;&#x2F;文件保存地址      if (!Directory.Exists(filePath))&#x2F;&#x2F;如果不存在就创建file文件夹    &#123;        Directory.CreateDirectory(filePath);    &#125;    package.SaveAs(new FileInfo(filePath + fileName));&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="2"><li>直接将dataTable 保存为Excel文件</li></ol><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">public void DataTableToExcel(DataTable dtResult,string sheetName)&#123;    string path &#x3D; AppDomain.CurrentDomain.BaseDirectory + DateTime.Now.ToString(&quot;yyyyMMdd&quot;) + &quot;.xlsx&quot;;    FileInfo file &#x3D; new FileInfo(path);    using (ExcelPackage pck &#x3D; new ExcelPackage(file))    &#123;        ExcelWorksheet w &#x3D; pack.Workbook.Worksheets[sheetName];         if (w !&#x3D; null &amp;&amp; w.Name.Equals(sheetName)) &#x2F;&#x2F;判断是否存在该sheet表，存在则删除            pack.Workbook.Worksheets.Delete(w);        ExcelWorksheet ws &#x3D; pack.Workbook.Worksheets.Add(sheetName);        ws.Cells[&quot;A1&quot;].LoadFromDataTable(dtResult, true); &#x2F;&#x2F;第二个参数设置为true则显示datable表头        pck.Save();    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Echart 动态生成series数据</title>
      <link href="/js/echart-dong-tai-sheng-cheng-series-shu-ju/"/>
      <url>/js/echart-dong-tai-sheng-cheng-series-shu-ju/</url>
      
        <content type="html"><![CDATA[<p>要做成页面只传入数据，js生成图表，如下图<br><img src="/images/2018052914271701.png" alt="2018052914271701.png"><br>下面是js代码</p><pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var LineChart &#x3D; function (ID, title, axisData,seriesData) &#123;    var myChart &#x3D; echarts.init(document.getElementById(ID));    var newData &#x3D; [];    var legendData &#x3D; [];    for (var i &#x3D; 0; i &lt; seriesData.length; i++) &#123;        var lineItem &#x3D; new serLineItem();        lineItem.name &#x3D; seriesData[i].name;        legendData.push(seriesData[i].name);        lineItem.data &#x3D; seriesData[i].data;        newData.push(lineItem);    &#125;    var option &#x3D; &#123;        title: &#123;            text: title,            subtext: &#39;&#39;,            x: &#39;center&#39;        &#125;,        tooltip: &#123;            trigger: &#39;axis&#39;        &#125;,        legend: &#123;            data: legendData,            bottom:0        &#125;,        toolbox: &#123;            show: true,            feature: &#123;                dataZoom: &#123;                   yAxisIndex: &#39;none&#39;                &#125;,                magicType: &#123; type: [&#39;line&#39;, &#39;bar&#39;] &#125;,                restore: &#123;&#125;,                saveAsImage: &#123;&#125;            &#125;        &#125;,        xAxis: &#123;            type: &#39;category&#39;,            boundaryGap: false,            data: axisData        &#125;,        yAxis: &#123;            type: &#39;value&#39;        &#125;,        series: newData    &#125;;    myChart.setOption(option);&#125;var serLineItem &#x3D; function () &#123;    return &#123;        name: &#39;&#39;,        type: &#39;line&#39;,        data: []    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>前台页面调用</p><p>引入相关的js文件</p><pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">$(document).ready(function () &#123;　　var axisData&#x3D; [&#39;周一&#39;, &#39;周二&#39;, &#39;周三&#39;, &#39;周四&#39;, &#39;周五&#39;, &#39;周六&#39;, &#39;周日&#39;];var seriesData &#x3D; [&#123; name: &#39;直接访问&#39;, data: [320, 302, 301, 334, 390, 330, 320] &#125;,&#123;name: &#39;邮件营销&#39;, data: [120, 132, 101, 134, 120, 230, 210]&#125;,&#123;name: &#39;联盟广告&#39;, data: [220, 182, 191, 234, 290, 330, 310]&#125;,&#123;name: &#39;视频广告&#39;, data: [150, 212, 201, 154, 190, 330, 410]&#125;,&#123; name: &#39;搜索引擎&#39;, data: [820, 832, 901, 934, 1290, 1330, 1320] &#125;]; LineChart(&#39;main&#39;, &#39;访问&#39;, axisData, seriesData);&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>转换Excel格式</title>
      <link href="/c-winform/zhuan-huan-excel-ge-shi/"/>
      <url>/c-winform/zhuan-huan-excel-ge-shi/</url>
      
        <content type="html"><![CDATA[<p>做一个功能需要将excel2003格式转成2007的格式，代码如下</p><p>需要引用office的microsoft.office.interop.excel.dll</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">var app &#x3D; new Microsoft.Office.Interop.Excel.Application();var wb &#x3D; app.Workbooks.Open(fileInfos[n].ullName); &#x2F;&#x2F;文件的路径名称wb.SaveAs(fileInfos[n].FullName + &quot;x&quot;, icrosoft.Office.Interop.Excel.lFileFormat.xlOpenXMLWorkbook);wb.Close();app.Quit();<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>百度Echart 地图</title>
      <link href="/js/bai-du-echart-di-tu/"/>
      <url>/js/bai-du-echart-di-tu/</url>
      
        <content type="html"><![CDATA[<p>使用百度地图做一个全国地图数据分析的功能，如下图<br><img src="/images/2017081411180801.png" alt="2017081411180801.png"></p><p>代码</p><pre class="line-numbers language-HTML" data-language="HTML"><code class="language-HTML">&lt;%@ Page Language&#x3D;&quot;C#&quot; AutoEventWireup&#x3D;&quot;true&quot; CodeBehind&#x3D;&quot;EchartMap.aspx.cs&quot; Inherits&#x3D;&quot;Demo.EchartMap&quot; %&gt;&lt;!DOCTYPE html PUBLIC &quot;-&#x2F;&#x2F;W3C&#x2F;&#x2F;DTD XHTML 1.0 Transitional&#x2F;&#x2F;EN&quot; &quot;http:&#x2F;&#x2F;www.w3.org&#x2F;TR&#x2F;xhtml1&#x2F;DTD&#x2F;xhtml1-transitional.dtd&quot;&gt;&lt;html xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;1999&#x2F;xhtml&quot;&gt;&lt;head runat&#x3D;&quot;server&quot;&gt;    &lt;title&gt;&lt;&#x2F;title&gt;    &lt;script src&#x3D;&quot;Script&#x2F;jquery&#x2F;jquery-1.10.1.min.js&quot; type&#x3D;&quot;text&#x2F;javascript&quot;&gt;&lt;&#x2F;script&gt;&lt;&#x2F;head&gt;&lt;body&gt;    &lt;form id&#x3D;&quot;frmEchartMap&quot; runat&#x3D;&quot;server&quot;&gt;    &lt;div id&#x3D;&quot;mainChart&quot; style&#x3D;&quot;width: 100%; height: 500px; margin-top: 20px;&quot;&gt;    &lt;&#x2F;div&gt;    &lt;&#x2F;form&gt;    &lt;script src&#x3D;&quot;Script&#x2F;echarts&#x2F;echarts.min.js&quot; type&#x3D;&quot;text&#x2F;javascript&quot;&gt;&lt;&#x2F;script&gt;    &lt;script src&#x3D;&quot;Script&#x2F;echarts&#x2F;china.js&quot; type&#x3D;&quot;text&#x2F;javascript&quot;&gt;&lt;&#x2F;script&gt;    &lt;script src&#x3D;&quot;Script&#x2F;1.9.3&#x2F;layer.js&quot; type&#x3D;&quot;text&#x2F;javascript&quot;&gt;&lt;&#x2F;script&gt;    &lt;script type&#x3D;&quot;text&#x2F;javascript&quot;&gt;        var myChart &#x3D; echarts.init(document.getElementById(&#39;mainChart&#39;));        option &#x3D; &#123;            title: &#123;                text: &#39;订单量&#39;,                subtext: &#39;纯属虚构&#39;,                x: &#39;center&#39;            &#125;,            tooltip: &#123;                trigger: &#39;item&#39;            &#125;,            legend: &#123;                orient: &#39;vertical&#39;,                x: &#39;left&#39;,                data: [&#39;订单量&#39;]            &#125;,            dataRange:            &#123;                x: &#39;left&#39;,                y: &#39;bottom&#39;,                splitList:                [                    &#123; start: 900, end: 1500 &#125;,                    &#123; start: 310, end: 1000 &#125;,                    &#123; start: 200, end: 300 &#125;,                    &#123; end: 10 &#125;,                    &#123; start: 10, end: 200, label: &#39;10 到 200（自定义label）&#39; &#125;,                    &#123; start: 5, end: 5, label: &#39;5（自定义特殊颜色）&#39;, color: &#39;black&#39; &#125;,                    &#123; start: 1500 &#125;                ],                color: [&#39;#E0022B&#39;, &#39;#E09107&#39;, &#39;#A3E00B&#39;]            &#125;,            toolbox: &#123;                show: true,                orient: &#39;vertical&#39;,                x: &#39;right&#39;,                y: &#39;center&#39;,                feature: &#123;                    mark: &#123; show: true &#125;,                    dataView: &#123; show: true, readOnly: false &#125;,                    restore: &#123; show: true &#125;,                    saveAsImage: &#123; show: true &#125;                &#125;            &#125;,            roamController: &#123;                show: true,                x: &#39;right&#39;,                mapTypeControl: &#123;                    &#39;china&#39;: true                &#125;            &#125;,            series:            [                &#123;                    name: &#39;订单量&#39;,                    type: &#39;map&#39;,                    mapType: &#39;china&#39;,                    roam: false,                    itemStyle: &#123;                        normal: &#123;                            label: &#123;                                show: true,                                textStyle: &#123;                                    color: &quot;#080808&quot;                                &#125;                            &#125;,                            areaColor: &quot;#EDEDED&quot;                        &#125;,                        emphasis:                                &#123;                                    label: &#123; show: true &#125;                                &#125;                            &#125;,                    showLegendSymbol: false, &#x2F;&#x2F;去掉地图的上标志点                    data: [                        &#123; name: &#39;北京&#39;, value: Math.round(Math.random() * 2000) &#125;,                        &#123; name: &#39;天津&#39;, value: Math.round(Math.random() * 2000) &#125;,                        &#123; name: &#39;上海&#39;, value: Math.round(Math.random() * 2000) &#125;,                        &#123; name: &#39;重庆&#39;, value: Math.round(Math.random() * 2000) &#125;,                        &#123; name: &#39;河北&#39;, value: 0 &#125;,                        &#123; name: &#39;河南&#39;, value: Math.round(Math.random() * 2000) &#125;,                        &#123; name: &#39;云南&#39;, value: 5 &#125;,                        &#123; name: &#39;辽宁&#39;, value: 305 &#125;,                        &#123; name: &#39;黑龙江&#39;, value: Math.round(Math.random() * 2000) &#125;,                        &#123; name: &#39;湖南&#39;, value: 200 &#125;,                        &#123; name: &#39;安徽&#39;, value: Math.round(Math.random() * 2000) &#125;,                        &#123; name: &#39;山东&#39;, value: Math.round(Math.random() * 2000) &#125;,                        &#123; name: &#39;新疆&#39;, value: Math.round(Math.random() * 2000) &#125;,                        &#123; name: &#39;江苏&#39;, value: Math.round(Math.random() * 2000) &#125;,                        &#123; name: &#39;浙江&#39;, value: Math.round(Math.random() * 2000) &#125;,                        &#123; name: &#39;江西&#39;, value: Math.round(Math.random() * 2000) &#125;,                        &#123; name: &#39;湖北&#39;, value: Math.round(Math.random() * 2000) &#125;,                        &#123; name: &#39;广西&#39;, value: Math.round(Math.random() * 2000) &#125;,                        &#123; name: &#39;甘肃&#39;, value: Math.round(Math.random() * 2000) &#125;,                        &#123; name: &#39;山西&#39;, value: Math.round(Math.random() * 2000) &#125;,                        &#123; name: &#39;内蒙古&#39;, value: Math.round(Math.random() * 2000) &#125;,                        &#123; name: &#39;陕西&#39;, value: Math.round(Math.random() * 2000) &#125;,                        &#123; name: &#39;吉林&#39;, value: Math.round(Math.random() * 2000) &#125;,                        &#123; name: &#39;福建&#39;, value: Math.round(Math.random() * 2000) &#125;,                        &#123; name: &#39;贵州&#39;, value: Math.round(Math.random() * 2000) &#125;,                        &#123; name: &#39;广东&#39;, value: Math.round(Math.random() * 2000) &#125;,                        &#123; name: &#39;青海&#39;, value: Math.round(Math.random() * 2000) &#125;,                        &#123; name: &#39;西藏&#39;, value: Math.round(Math.random() * 2000) &#125;,                        &#123; name: &#39;四川&#39;, value: Math.round(Math.random() * 2000) &#125;,                        &#123; name: &#39;宁夏&#39;, value: Math.round(Math.random() * 2000) &#125;,                        &#123; name: &#39;海南&#39;, value: Math.round(Math.random() * 2000) &#125;,                        &#123; name: &#39;台湾&#39;, value: Math.round(Math.random() * 2000) &#125;,                        &#123; name: &#39;香港&#39;, value: Math.round(Math.random() * 2000) &#125;,                        &#123; name: &#39;澳门&#39;, value: Math.round(Math.random() * 2000) &#125;                    ]                &#125;            ]        &#125;;        myChart.on(&quot;click&quot;, function (param) &#123;            var selected &#x3D; param.data;            &#x2F;&#x2F;如果出现乱码可以使用escape、encodeURI、encodeURIComponent() 等方法转码，解码使用对应的unescape、decodeURI、decodeURIComponent            layer_show_wh(&quot;订单查看&quot;, &quot;ParMap.aspx?pName&#x3D;&quot; + selected[&#39;name&#39;], &quot;800px&quot;, &quot;900px&quot;);            myChart.setOption(option);            &#x2F;&#x2F;window.location.href &#x3D; encodeURI(&quot;ParMap.aspx?pName&#x3D;&quot; + escape(selected[&#39;name&#39;]));        &#125;)        &#x2F;&#x2F; 使用刚指定的配置项和数据显示图表。        myChart.setOption(option);        function layer_show_wh(title, url, w, h) &#123;            if (title &#x3D;&#x3D; null || title &#x3D;&#x3D; &#39;&#39;) &#123;                title &#x3D; false;            &#125;;            if (url &#x3D;&#x3D; null || url &#x3D;&#x3D; &#39;&#39;) &#123;                url &#x3D; &quot;&#x2F;manage&#x2F;404.html&quot;;            &#125;;            if (w &#x3D;&#x3D; null || w &#x3D;&#x3D; &#39;&#39;) &#123;                w &#x3D; 800;            &#125;;            if (h &#x3D;&#x3D; null || h &#x3D;&#x3D; &#39;&#39;) &#123;                h &#x3D; ($(window).height() - 50);            &#125;;            layer.open(&#123;                type: 2,                area: [w, h],                fix: false, &#x2F;&#x2F;不固定                maxmin: true,                shade: 0.4,                title: title,                content: url            &#125;);        &#125;    &lt;&#x2F;script&gt;&lt;&#x2F;body&gt;&lt;&#x2F;html&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-HTML" data-language="HTML"><code class="language-HTML">&lt;%@ Page Language&#x3D;&quot;C#&quot; AutoEventWireup&#x3D;&quot;true&quot; CodeBehind&#x3D;&quot;ParMap.aspx.cs&quot; Inherits&#x3D;&quot;Demo.ParMap&quot; %&gt;&lt;!DOCTYPE html PUBLIC &quot;-&#x2F;&#x2F;W3C&#x2F;&#x2F;DTD XHTML 1.0 Transitional&#x2F;&#x2F;EN&quot; &quot;http:&#x2F;&#x2F;www.w3.org&#x2F;TR&#x2F;xhtml1&#x2F;DTD&#x2F;xhtml1-transitional.dtd&quot;&gt;&lt;html xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;1999&#x2F;xhtml&quot;&gt;&lt;head runat&#x3D;&quot;server&quot;&gt;    &lt;title&gt;&lt;&#x2F;title&gt;&lt;&#x2F;head&gt;&lt;body&gt;    &lt;form id&#x3D;&quot;form1&quot; runat&#x3D;&quot;server&quot;&gt;    &lt;div id&#x3D;&quot;mainChart&quot; style&#x3D;&quot;width: 100%; height: 500px; margin-top: 20px;&quot;&gt;    &lt;&#x2F;div&gt;    &lt;&#x2F;form&gt;    &lt;script src&#x3D;&quot;Script&#x2F;jquery&#x2F;jquery-1.10.1.min.js&quot; type&#x3D;&quot;text&#x2F;javascript&quot;&gt;&lt;&#x2F;script&gt;    &lt;script src&#x3D;&quot;Script&#x2F;echarts&#x2F;echarts.min.js&quot; type&#x3D;&quot;text&#x2F;javascript&quot;&gt;&lt;&#x2F;script&gt;    &lt;script type&#x3D;&quot;text&#x2F;javascript&quot;&gt;        var myChart &#x3D; echarts.init(document.getElementById(&#39;mainChart&#39;));        window.onload &#x3D; function () &#123;            var mapHash &#x3D; &#123; &quot;河北&quot;: &quot;hebei&quot;, &quot;山西&quot;: &quot;shanxi&quot;, &quot;内蒙古&quot;: &quot;neimenggu&quot;, &quot;辽宁&quot;: &quot;liaoning&quot;, &quot;吉林&quot;: &quot;jilin&quot;, &quot;黑龙江&quot;: &quot;heilongjiang&quot;, &quot;江苏&quot;: &quot;jiangsu&quot;, &quot;浙江&quot;: &quot;zhejiang&quot;, &quot;安徽&quot;: &quot;anhui&quot;, &quot;福建&quot;: &quot;fujian&quot;, &quot;江西&quot;: &quot;jiangxi&quot;, &quot;山东&quot;: &quot;shandong&quot;, &quot;河南&quot;: &quot;henan&quot;, &quot;湖北&quot;: &quot;hubei&quot;, &quot;湖南&quot;: &quot;hunan&quot;, &quot;广东&quot;: &quot;guangdong&quot;, &quot;广西&quot;: &quot;guangxi&quot;, &quot;海南&quot;: &quot;hainan&quot;, &quot;四川&quot;: &quot;sichuan&quot;, &quot;贵州&quot;: &quot;guizhou&quot;, &quot;云南&quot;: &quot;yunnan&quot;, &quot;西藏&quot;: &quot;xizang&quot;, &quot;陕西&quot;: &quot;shanxi1&quot;, &quot;甘肃&quot;: &quot;gansu&quot;, &quot;青海&quot;: &quot;qinghai&quot;, &quot;宁夏&quot;: &quot;ningxia&quot;, &quot;新疆&quot;: &quot;xinjiang&quot;, &quot;北京&quot;: &quot;beijing&quot;, &quot;天津&quot;: &quot;tianjin&quot;, &quot;上海&quot;: &quot;shanghai&quot;, &quot;重庆&quot;: &quot;chongqing&quot;, &quot;香港&quot;: &quot;xianggang&quot;, &quot;澳门&quot;: &quot;aomen&quot;, &quot;台湾&quot;: &quot;taiwan&quot; &#125;;            var pName &#x3D; GetQueryString(&quot;pName&quot;);            showProvince(mapHash[pName]);        &#125;;        function GetQueryString(name) &#123;            var reg &#x3D; new RegExp(&quot;(^|&amp;)&quot; + name + &quot;&#x3D;([^&amp;]*)(&amp;|$)&quot;);            var url &#x3D; decodeURI(window.location.search);            var r &#x3D; url.substr(1).match(reg);            if (r !&#x3D; null) return unescape(r[2]); return null;        &#125;        function showProvince(name) &#123;            $.get(&#39;&#x2F;Script&#x2F;echarts&#x2F;mapdata&#x2F;&#39; + name + &#39;.json&#39;, function (geoJson) &#123;                echarts.registerMap(name, geoJson);                myChart.setOption(option &#x3D; &#123;                    &#x2F;&#x2F;backgroundColor: &#39;#404a59&#39;,                    tooltip: &#123;                        trigger: &#39;item&#39;                    &#125;,                    title: &#123;                        left: &#39;center&#39;,                        textStyle: &#123;                            color: &#39;#fff&#39;                        &#125;                    &#125;,                    legend: &#123;                        x: &#39;right&#39;,                        data: [&#39;订单数据&#39;]                    &#125;,                    dataRange:                    &#123;                        orient: &#39;horizontal&#39;,                        x: &#39;right&#39;,                        min: 0,                        max: 1000,                        color: [&#39;orange&#39;, &#39;yellow&#39;],                        text: [&#39;高&#39;, &#39;低&#39;],           &#x2F;&#x2F; 文本，默认为数值文本                        splitNumber: 0                    &#125;,                    series: [                        &#123;                            name: &#39;订单数据&#39;,                            type: &#39;map&#39;,                            mapType: name,                            label: &#123;                                emphasis: &#123;                                    textStyle: &#123;                                        color: &#39;#fff&#39;                                    &#125;                                &#125;                            &#125;,                            itemStyle: &#123;                                normal: &#123;                                    borderColor: &#39;#389BB7&#39;,                                    areaColor: &#39;#fff&#39;,                                    label: &#123; show: true &#125;                                &#125;,                                emphasis: &#123;                                    areaColor: &#39;#389BB7&#39;,                                    borderWidth: 0,                                    label: &#123; show: true &#125;                                &#125;                            &#125;,                            showLegendSymbol: false, &#x2F;&#x2F;去掉地图的上标志点                            animation: false,                            roam: true,                            data:                            [                                &#123; name: &#39;重庆市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;北京市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;天津市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;上海市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;香港&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;澳门&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;巴音郭楞蒙古自治州&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;和田地区&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;哈密地区&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;阿克苏地区&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;阿勒泰地区&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;喀什地区&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;塔城地区&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;昌吉回族自治州&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;克孜勒苏柯尔克孜自治州&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;吐鲁番地区&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;伊犁哈萨克自治州&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;博尔塔拉蒙古自治州&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;乌鲁木齐市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;克拉玛依市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;阿拉尔市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;图木舒克市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;五家渠市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;石河子市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;那曲地区&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;阿里地区&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;日喀则地区&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;林芝地区&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;昌都地区&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;山南地区&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;拉萨市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;呼伦贝尔市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;阿拉善盟&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;锡林郭勒盟&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;鄂尔多斯市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;赤峰市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;巴彦淖尔市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;通辽市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;乌兰察布市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;兴安盟&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;包头市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;呼和浩特市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;乌海市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;海西蒙古族藏族自治州&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;玉树藏族自治州&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;果洛藏族自治州&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;海南藏族自治州&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;海北藏族自治州&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;黄南藏族自治州&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;海东地区&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;西宁市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;甘孜藏族自治州&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;阿坝藏族羌族自治州&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;凉山彝族自治州&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;绵阳市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;达州市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;广元市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;雅安市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;宜宾市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;乐山市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;南充市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;巴中市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;泸州市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;成都市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;资阳市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;攀枝花市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;眉山市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;广安市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;德阳市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;内江市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;遂宁市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;自贡市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;黑河市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;大兴安岭地区&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;哈尔滨市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;齐齐哈尔市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;牡丹江市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;绥化市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;伊春市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;佳木斯市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;鸡西市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;双鸭山市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;大庆市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;鹤岗市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;七台河市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;酒泉市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;张掖市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;甘南藏族自治州&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;武威市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;陇南市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;庆阳市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;白银市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;定西市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;天水市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;兰州市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;平凉市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;临夏回族自治州&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;金昌市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;嘉峪关市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;普洱市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;红河哈尼族彝族自治州&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;文山壮族苗族自治州&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;曲靖市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;楚雄彝族自治州&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;大理白族自治州&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;临沧市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;迪庆藏族自治州&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;昭通市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;昆明市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;丽江市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;西双版纳傣族自治州&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;保山市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;玉溪市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;怒江傈僳族自治州&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;德宏傣族景颇族自治州&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;百色市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;河池市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;桂林市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;南宁市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;柳州市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;崇左市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;来宾市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;玉林市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;梧州市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;贺州市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;钦州市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;贵港市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;防城港市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;北海市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;怀化市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;永州市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;邵阳市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;郴州市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;常德市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;湘西土家族苗族自治州&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;衡阳市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;岳阳市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;益阳市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;长沙市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;株洲市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;张家界市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;娄底市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;湘潭市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;榆林市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;延安市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;汉中市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;安康市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;商洛市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;宝鸡市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;渭南市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;咸阳市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;西安市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;铜川市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;清远市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;韶关市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;湛江市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;梅州市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;河源市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;肇庆市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;惠州市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;茂名市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;江门市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;阳江市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;云浮市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;广州市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;汕尾市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;揭阳市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;珠海市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;佛山市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;潮州市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;汕头市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;深圳市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;东莞市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;中山市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;延边朝鲜族自治州&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;吉林市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;白城市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;松原市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;长春市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;白山市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;通化市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;四平市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;辽源市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;承德市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;张家口市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;保定市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;唐山市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;沧州市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;石家庄市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;邢台市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;邯郸市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;秦皇岛市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;衡水市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;廊坊市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;恩施土家族苗族自治州&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;十堰市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;宜昌市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;襄樊市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;黄冈市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;荆州市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;荆门市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;咸宁市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;随州市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;孝感市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;武汉市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;黄石市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;神农架林区&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;天门市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;仙桃市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;潜江市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;鄂州市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;遵义市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;黔东南苗族侗族自治州&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;毕节地区&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;黔南布依族苗族自治州&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;铜仁地区&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;黔西南布依族苗族自治州&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;六盘水市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;安顺市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;贵阳市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;烟台市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;临沂市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;潍坊市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;青岛市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;菏泽市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;济宁市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;德州市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;滨州市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;聊城市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;东营市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;济南市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;泰安市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;威海市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;日照市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;淄博市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;枣庄市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;莱芜市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;赣州市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;吉安市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;上饶市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;九江市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;抚州市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;宜春市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;南昌市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;景德镇市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;萍乡市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;鹰潭市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;新余市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;南阳市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;信阳市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;洛阳市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;驻马店市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;周口市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;商丘市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;三门峡市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;新乡市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;平顶山市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;郑州市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;安阳市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;开封市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;焦作市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;许昌市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;濮阳市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;漯河市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;鹤壁市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;大连市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;朝阳市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;丹东市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;铁岭市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;沈阳市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;抚顺市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;葫芦岛市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;阜新市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;锦州市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;鞍山市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;本溪市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;营口市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;辽阳市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;盘锦市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;忻州市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;吕梁市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;临汾市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;晋中市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;运城市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;大同市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;长治市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;朔州市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;晋城市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;太原市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;阳泉市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;六安市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;安庆市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;滁州市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;宣城市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;阜阳市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;宿州市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;黄山市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;巢湖市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;亳州市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;池州市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;合肥市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;蚌埠市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;芜湖市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;淮北市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;淮南市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;马鞍山市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;铜陵市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;南平市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;三明市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;龙岩市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;宁德市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;福州市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;漳州市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;泉州市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;莆田市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;厦门市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;丽水市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;杭州市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;温州市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;宁波市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;舟山市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;台州市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;金华市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;衢州市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;绍兴市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;嘉兴市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;湖州市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;盐城市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;徐州市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;南通市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;淮安市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;苏州市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;宿迁市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;连云港市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;扬州市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;南京市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;泰州市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;无锡市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;常州市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;镇江市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;吴忠市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;中卫市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;固原市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;银川市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;石嘴山市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;儋州市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;文昌市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;乐东黎族自治县&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;三亚市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;琼中黎族苗族自治县&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;东方市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;海口市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;万宁市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;澄迈县&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;白沙黎族自治县&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;琼海市&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;昌江黎族自治县&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;临高县&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;陵水黎族自治县&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;屯昌县&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;定安县&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;保亭黎族苗族自治县&#39;, value: Math.round(Math.random() * 1000) &#125;,                                &#123; name: &#39;五指山市&#39;, value: Math.round(Math.random() * 1000) &#125;                            ]                        &#125;                    ]                &#125;);            &#125;);        &#125;           &lt;&#x2F;script&gt;&lt;&#x2F;body&gt;&lt;&#x2F;html&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>注：全国省份的数据不要带<strong>市、省、自治区</strong>等<br>如果弹出框出现乱码可以使用<strong>escape、encodeURI、encodeURIComponent()</strong> 等方法转码</p><p>js对文字进行编码涉及3个函数：escape,encodeURI,encodeURIComponent，相应3个解码函数：unescape,decodeURI,decodeURIComponent</p><ol><li>传递参数时需要使用encodeURIComponent，这样组合的url才不会被#等特殊字符截断。<br>例如：</li></ol><pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">&lt;script language&#x3D;&quot;javascript&quot;&gt;document.write(&#39;&lt;a href&#x3D;&quot;http:&#x2F;&#x2F;passport.baidu.com&#x2F;?logout&amp;aid&#x3D;7&amp;u&#x3D; +encodeURIComponent(&quot;http:&#x2F;&#x2F;cang.baidu.com&#x2F;bruce42&quot;)+&quot;&gt;退出&lt;&#x2F;a&gt;&#39;);&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="2"><li>进行url跳转时可以整体使用encodeURI<br>例如：</li></ol><pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">Location.href&#x3D;encodeURI(&quot;http:&#x2F;&#x2F;cang.baidu.com&#x2F;do&#x2F;s?word&#x3D;百度&amp;ct&#x3D;21&quot;);<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="3"><li>js使用数据时可以使用escape<br>例如：收藏中history记录。</li><li>escape对0-255以外的unicode值进行编码时输出%u****格式，其它情况下escape，encodeURI，encodeURIComponent编码结果相同。<br>最多使用的应为encodeURIComponent，它是将中文、韩文等特殊字符转换成utf-8格式的url编码，所以如果给后台传递参数需要使用encodeURIComponent时需要后台解码对utf-8支持（form中的编码方式和当前页面编码方式相同）</li></ol><pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">escape不编码字符有69个：*，+，-，.，&#x2F;，@，_，0-9，a-z，A-ZencodeURI不编码字符有82个：!，#，$，&amp;，&#39;，(，)，*，+，,，-，.，&#x2F;，:，;，&#x3D;，?，@，_，~，0-9，a-z，A-ZencodeURIComponent不编码字符有71个：!， &#39;，(，)，*，-，.，_，~，0-9，a-z，A-Z <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mobiscroll 日期问题</title>
      <link href="/js/mobiscroll-ri-qi-wen-ti/"/>
      <url>/js/mobiscroll-ri-qi-wen-ti/</url>
      
        <content type="html"><![CDATA[<p>做的一个项目中用到了mobiscroll日期控件，设置距离当前日期往前推一个月的时间出现如下图问题<br><img src="/images/2017081410471701.png" alt="2017081410471701.png"><br>弹出窗默认的年份不对，后来查找原因是初始化属性配置有问题，应该将设置为**dateFormat:’yy-mm-dd’**就可以了<br><img src="/images/2017081410471702.png" alt="2017081410471702.png"></p><pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">&lt;script type&#x3D;&quot;text&#x2F;javascript&quot;&gt;    $(function () &#123;        initCurrentDate();        var currYear &#x3D; (new Date()).getFullYear();        var d &#x3D; new Date();        var month &#x3D; d.getMonth().toString().length &#x3D;&#x3D; 1 ? &quot;0&quot; + (d.getMonth() + 1) : (d.getMonth() + 1);        var day &#x3D; d.getDate().toString().length &#x3D;&#x3D; 1 ? &quot;0&quot; + d.getDate() : d.getDate();        var date &#x3D; d.getFullYear() + &#39;-&#39; + month + &#39;-&#39; + day;        d.setMonth(d.getMonth() - 1);        var sMonth &#x3D; d.getMonth().toString().length &#x3D;&#x3D; 1 ? &quot;0&quot; + (d.getMonth() + 1) : (d.getMonth() + 1);        var sDay &#x3D; d.getDate().toString().length &#x3D;&#x3D; 1 ? &quot;0&quot; + d.getDate() : d.getDate();        var sDate &#x3D; d.getFullYear() + &#39;-&#39; + sMonth + &#39;-&#39; + sDay;        $(&quot;#startDate&quot;).val(sDate)        $(&quot;#endDate&quot;).val(date);    &#125;);    function initCurrentDate() &#123;      var currYear &#x3D; (new Date()).getFullYear();        var opt &#x3D; &#123;            preset: &#39;date&#39;, &#x2F;&#x2F;日期            theme: &#39;android-ics light&#39;, &#x2F;&#x2F;皮肤样式            display: &#39;modal&#39;, &#x2F;&#x2F;显示方式            mode: &#39;scroller&#39;, &#x2F;&#x2F;日期选择模式            dateFormat: &#39;yy-mm-dd&#39;, &#x2F;&#x2F; 日期格式            lang: &#39;zh&#39;,            setText: &#39;确定&#39;, &#x2F;&#x2F;确认按钮名称            cancelText: &#39;取消&#39;,&#x2F;&#x2F;取消按钮名籍我            startYear: currYear - 50, &#x2F;&#x2F;开始年份            endYear: currYear + 10 &#x2F;&#x2F;结束年份        &#125;;        $(&quot;#startDate&quot;).mobiscroll(opt);        $(&quot;#endDate&quot;).mobiscroll(opt);&#125;&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jQuery自动完成插件flexselect</title>
      <link href="/js/jquery-zi-dong-wan-cheng-cha-jian-flexselect/"/>
      <url>/js/jquery-zi-dong-wan-cheng-cha-jian-flexselect/</url>
      
        <content type="html"><![CDATA[<p>项目中使用flexselect自动完成插件时遇到一个问题<br><img src="/images/2017073115241301.png" alt="2017073115241301.png"><br>刚开始以为是js的引用顺序有问题，但是查看后发现不是js引用顺序问题</p><p>js引用顺序如下<br><img src="/images/2017073115241301.png" alt="2017073115241302.png"><br>最后查找资料也没有解决问题，一直提示这个错误</p><p>后来在function中加入$就好了<br><img src="/images/2017073115241303.png" alt="2017073115241303.png"></p><p>参考 <a href="http://www.jq22.com/jquery-info455">http://www.jq22.com/jquery-info455</a></p>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTML5 video 连续播放视频</title>
      <link href="/html-css/html5-video-lian-xu-bo-fang-shi-pin/"/>
      <url>/html-css/html5-video-lian-xu-bo-fang-shi-pin/</url>
      
        <content type="html"><![CDATA[<p>HTML Video标签属性<br><img src="/images/2017072409491901.png" alt="2017072409491901.png"><br>html页面代码</p><pre class="line-numbers language-HTML" data-language="HTML"><code class="language-HTML">&lt;video height&#x3D;&quot;2160&quot; id&#x3D;&quot;playVideo&quot; width&#x3D;&quot;3840&quot; poster&#x3D;&quot;img&#x2F;blank.png&quot; autoplay&#x3D;&quot;autoplay&quot; preload&#x3D;&quot;auto&quot; &gt;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>获取video对象</p><pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var media &#x3D; document.getElementById(&quot;playVideo&quot;);<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><strong>不要使用jquery获取，这样会有问题</strong></p><p>监听video对象的ended属性实现连续播放</p><pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var curr &#x3D; 0;var media &#x3D; document.getElementById&quot;playVideo&quot;);media.addEventListener(&quot;ended&quot;, function ) &#123;    media.src &#x3D; videoArr[curr];    media.play();    curr++;    if (curr &gt;&#x3D; videoArr.length)        curr &#x3D; 0;&#125;, false);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>更多的属性请参考<br><a href="http://www.w3school.com.cn/jsref/dom_obj_event.asp">http://www.w3school.com.cn/jsref/dom_obj_event.asp</a><br><a href="http://www.jianshu.com/p/404d01b8e713/">http://www.jianshu.com/p/404d01b8e713/</a></p>]]></content>
      
      
      <categories>
          
          <category> HTML/CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTML/CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>team foundation server 工具的使用</title>
      <link href="/tools/team-foundation-server-gong-ju-de-shi-yong/"/>
      <url>/tools/team-foundation-server-gong-ju-de-shi-yong/</url>
      
        <content type="html"><![CDATA[<ol><li>打开TFS工具点击创建集合，填写集合名称，下一步，按照步骤一步一步的往下操作。<br><img src="/images/2017062915270701.jpg" alt="2017062915270701.jpg"></li><li>创建完集合以后，打开VS工具，如下图，在主页上左键选择新建团队项目。<br><img src="/images/2017062915270702.jpg" alt="2017062915270702.jpg"></li><li>选择团队项目，然后选择新建的项目集合和团队项目<br><img src="/images/2017062915270703.jpg" alt="2017062915270703.jpg"></li><li>选择好以后，点击添加文件，选择要添加的项目所在的文件夹。直接点击完成即可。然后就分配人员权限等等。<br><img src="/images/2017062915270704.jpg" alt="2017062915270704.jpg"></li></ol>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Dotfuscator 的使用方法</title>
      <link href="/c-winform/dotfuscator-de-shi-yong-fang-fa/"/>
      <url>/c-winform/dotfuscator-de-shi-yong-fang-fa/</url>
      
        <content type="html"><![CDATA[<p>打开Dotfuscator工具，选择“Create New Project”<br><img src="/images/2017061417170701.jpg" alt="2017061417170701.jpg"><br>在Input选项中选择需要混淆的文件<br><img src="/images/2017061417170702.jpg" alt="2017061417170702.jpg"><br>把 <strong>Disable String Encryption</strong> 设为 <strong>NO</strong>，即启用字符串加密；检查 <strong>Disable Control flow</strong>、<strong>Dsiable Renaming</strong> 也为 <strong>NO</strong>，即保证控制流和混淆功能打开，其他默认。如下图：<br><img src="/images/2017061417170703.jpg" alt="2017061417170703.jpg"><br>Rename 选项勾选“<strong>Use Enhanced Overload Induction</strong>”（使用增强模式），注意：不要勾选下方的“ <strong>Do not suppress on serializable types</strong>”，即序列化类型的变量不加密，否则编译后可能异常； “<strong>Renaming Scheme</strong>” 选择“<strong>Unprintable</strong>”（不可打印字符，即乱码），也可以选择其他如小写字母、大写字符、数字的方式，其他保持默认如下图<br><img src="/images/2017061417170704.jpg" alt="2017061417170704.jpg"><br><strong>String Encryption</strong> 选项 include里勾选需要字符串加密的工程文件EXE、DLL等然后点击绿色小三角生成项目，如下图<br><img src="/images/2017061417170705.jpg" alt="2017061417170705.jpg"><br>完成后使用.Net Reflector查看生成的文件，如下图<br><img src="/images/2017061417170706.jpg" alt="2017061417170706.jpg"><br>参考<a href="http://www.cnblogs.com/icyJ/p/dotfuscator.html">http://www.cnblogs.com/icyJ/p/dotfuscator.html</a></p>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>DTCMS 网站管理系统</title>
      <link href="/web/dtcms-wang-zhan-guan-li-xi-tong/"/>
      <url>/web/dtcms-wang-zhan-guan-li-xi-tong/</url>
      
        <content type="html"><![CDATA[<p>dtcms适合开发一些简单小型网站</p><p>开发的过程中遇见了各种问题，下面总结下我遇见的问题</p><ol><li>遇见提示未开启生成静态功能<br><img src="/images/2017053110491901.jpg" alt="2017053110491901.jpg"><br><strong>在系统设置里面将“伪URL重写”为“生成静态”可以解决</strong><br><img src="/images/2017053110491902.jpg" alt="2017053110491902.jpg"></li><li>在生成静态页面的时候提示生成页面完成，但是右下角却显示失败<br><img src="/images/2017053110491903.jpg" alt="2017053110491903.jpg"><br><strong>这个可能是在新建站点的时候，填写的“绑定域名”不能和主域名一样</strong><br><img src="/images/2017053110491904.jpg" alt="2017053110491904.jpg"></li><li>dtcms开发网站部署到IIS生成静态页后，iis的应用程序池的<strong>托管管道模式要选择集成</strong>，不然点击跳转链接的时候会出错。</li></ol><p>插件开发入门可以看看这个文章 <a href="http://www.cnblogs.com/JangoJing/p/4662022.html">http://www.cnblogs.com/JangoJing/p/4662022.html</a></p>]]></content>
      
      
      <categories>
          
          <category> WEB </category>
          
      </categories>
      
      
        <tags>
            
            <tag> WEB </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Google Zxing 生成二维码</title>
      <link href="/c-winform/google-zxing-sheng-cheng-er-wei-ma/"/>
      <url>/c-winform/google-zxing-sheng-cheng-er-wei-ma/</url>
      
        <content type="html"><![CDATA[<p>Net Zxing 源码地址 <a href="http://zxingnet.codeplex.com/">http://zxingnet.codeplex.com/</a></p><p>github 地址 <a href="https://github.com/zxing/zxing">https://github.com/zxing/zxing</a></p><p>新建一个Winform 项目，引用zxing.dll就可了，下图是生成的二维码<br><img src="/images/2017011715251501.png" alt="2017011715251501.png"></p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">&#x2F;&#x2F;生成中间带二维码的图片private void btnImageCode_Click(object sender, EventArgs e)&#123;    lblShow.Text &#x3D; &quot;&quot;;    try    &#123;        &#x2F;&#x2F;构造二维码写码器        MultiFormatWriter mutiWriter &#x3D; new MultiFormatWriter();        Hashtable hint &#x3D; new Hashtable();        hint.Add(EncodeHintType.CHARACTER_SET, &quot;UTF-8&quot;);        hint.Add(EncodeHintType.ERROR_CORRECTION, ErrorCorrectionLevel.H);        &#x2F;&#x2F;生成二维码        ByteMatrix bm &#x3D; mutiWriter.encode(txtContent.Text, BarcodeFormat.QR_CODE, 300, 300, hint);        Bitmap img &#x3D; bm.ToBitmap();        &#x2F;&#x2F;要插入到二维码中的图片        Image middlImg &#x3D; picLittle.Image;        &#x2F;&#x2F;获取二维码实际尺寸（去掉二维码两边空白后的实际尺寸）        Size realSize &#x3D; mutiWriter.GetEncodeSize(txtContent.Text, BarcodeFormat.QR_CODE, 300, 300);        &#x2F;&#x2F;计算插入图片的大小和位置        int middleImgW &#x3D; Math.Min((int)(realSize.Width &#x2F; 3.5), middlImg.Width);        int middleImgH &#x3D; Math.Min((int)(realSize.Height &#x2F; 3.5), middlImg.Height);        int middleImgL &#x3D; (img.Width - middleImgW) &#x2F; 2;        int middleImgT &#x3D; (img.Height - middleImgH) &#x2F; 2;        &#x2F;&#x2F;将img转换成bmp格式，否则后面无法创建 Graphics对象        Bitmap bmpimg &#x3D; new Bitmap(img.Width, img.Height, PixelFormat.Format32bppArgb);        using (Graphics g &#x3D; Graphics.FromImage(bmpimg))        &#123;            g.InterpolationMode &#x3D; InterpolationMode.HighQualityBicubic;            g.SmoothingMode &#x3D; SmoothingMode.HighQuality;            g.CompositingQuality &#x3D; CompositingQuality.HighQuality;            g.DrawImage(img, 0, 0);        &#125;        &#x2F;&#x2F;在二维码中插入图片        Graphics MyGraphic &#x3D; Graphics.FromImage(bmpimg);        &#x2F;&#x2F;白底        MyGraphic.FillRectangle(Brushes.White, middleImgL, middleImgT, middleImgW, middleImgH);        MyGraphic.DrawImage(middlImg, middleImgL, middleImgT, middleImgW, middleImgH);        picCode.Image &#x3D; bmpimg;        &#x2F;&#x2F;自动保存图片到当前目录        string filename &#x3D; Environment.CurrentDirectory + &quot;\\QR&quot; + DateTime.Now.Ticks.ToString() + &quot;.jpg&quot;;        bmpimg.Save(filename, ImageFormat.Jpeg);        lblShow.Text &#x3D; &quot;图片已保存到：&quot; + filename;    &#125;    catch (Exception ee)    &#123;         MessageBox.Show(ee.Message);     &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>生成条形码、二维码和图片解码代码</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">&#x2F;&#x2F;生成条形码private void btnBarCode_Click(object sender, EventArgs e)&#123;    lblShow.Text &#x3D; &quot;&quot;;    Regex rg &#x3D; new Regex(&quot;^[0-9]&#123;13&#125;$&quot;);    if (!rg.IsMatch(txtContent.Text.Trim()))    &#123;        MessageBox.Show(&quot;本例子采用EAN_13编码，需要输入13位数字&quot;);        return;    &#125;    try    &#123;        MultiFormatWriter mutiWriter &#x3D; new MultiFormatWriter();        ByteMatrix bm &#x3D; mutiWriter.encode(txtContent.Text, BarcodeFormat.EAN_13, 363, 150);        Bitmap img&#x3D; bm.ToBitmap();        picCode.Image &#x3D; img;        &#x2F;&#x2F;自动保存图片到当前目录        string filename &#x3D; Environment.CurrentDirectory + &quot;\\EAN_13&quot; + DateTime.Now.Ticks.ToString() + &quot;.jpg&quot;;        img.Save(filename, ImageFormat.Jpeg);        lblShow.Text &#x3D; &quot;图片已保存到：&quot; + filename;    &#125;    catch (Exception ex)    &#123;        MessageBox.Show(ex.Message);    &#125;&#125;&#x2F;&#x2F;生成二维码private void btnDimensionCode_Click(object sender, EventArgs )&#123;    lblShow.Text &#x3D; &quot;&quot;;    try    &#123;        &#x2F;&#x2F;构造二维码写码器        MultiFormatWriter mutiWriter &#x3D; new MultiFormatWriter();        ByteMatrix bm &#x3D; mutiWriter.encode(txtContent.Text, BarcodeFormat.QR_CODE, 300, 300);        Bitmap img &#x3D; bm.ToBitmap();        picCode.Image &#x3D; img;        &#x2F;&#x2F;自动保存图片到当前目录        string filename &#x3D; Environment.CurrentDirectory + &quot;\\QR&quot; + DateTime.Now.Ticks.ToString() + &quot;.jpg&quot;;        img.Save(filename, ImageFormat.Jpeg);        lblShow.Text &#x3D; &quot;图片已保存到：&quot; + filename;    &#125;    catch (Exception ex)    &#123;         MessageBox.Show(ex.Message);    &#125;&#125;&#x2F;&#x2F;打开二维码图片路径string opFilePath &#x3D; string.Empty;&#x2F;&#x2F;插入二维码中的小图片private void picLittle_Click(object sender, EventArgs e)&#123;    OpenFileDialog ofd &#x3D; new OpenFileDialog();    ofd.Filter &#x3D; &quot;图片文件|*.bmp;*.jpg;*.png;*.ico&quot;;    if (ofd.ShowDialog() &#x3D;&#x3D; DialogResult.OK)    &#123;        opFilePath &#x3D; ofd.FileName;        picLittle.Image &#x3D; Image.FromFile(opFilePath);    &#125;&#125;&#x2F;&#x2F;生成中间带二维码的图片private void btnImageCode_Click(object sender, EventArgs e)&#123;    lblShow.Text &#x3D; &quot;&quot;;    try    &#123;        &#x2F;&#x2F;构造二维码写码器        MultiFormatWriter mutiWriter &#x3D; new MultiFormatWriter();        Hashtable hint &#x3D; new Hashtable();        hint.Add(EncodeHintType.CHARACTER_SET, &quot;UTF-8&quot;);        hint.Add(EncodeHintType.ERROR_CORRECTION, ErrorCorrectionLevel.H);        &#x2F;&#x2F;生成二维码        ByteMatrix bm &#x3D; mutiWriter.encode(txtContent.Text, BarcodeFormat.QR_CODE, 300, 300, hint);        Bitmap img &#x3D; bm.ToBitmap();        &#x2F;&#x2F;要插入到二维码中的图片        Image middlImg &#x3D; picLittle.Image;        &#x2F;&#x2F;获取二维码实际尺寸（去掉二维码两边空白后的实际尺寸）        Size realSize &#x3D; mutiWriter.GetEncodeSize(txtContent.Text, BarcodeFormat.QR_CODE, 300, 300);        &#x2F;&#x2F;计算插入图片的大小和位置        int middleImgW &#x3D; Math.Min((int)(realSize.Width &#x2F; 3.5), middlImg.Width);        int middleImgH &#x3D; Math.Min((int)(realSize.Height &#x2F; 3.5), middlImg.Height);        int middleImgL &#x3D; (img.Width - middleImgW) &#x2F; 2;        int middleImgT &#x3D; (img.Height - middleImgH) &#x2F; 2;        &#x2F;&#x2F;将img转换成bmp格式，否则后面无法创建 Graphics对象        Bitmap bmpimg &#x3D; new Bitmap(img.Width, img.Height, PixelFormat.Format32bppArgb);        using (Graphics g &#x3D; Graphics.FromImage(bmpimg))        &#123;            g.InterpolationMode &#x3D; InterpolationMode.HighQualityBicubic;            g.SmoothingMode &#x3D; SmoothingMode.HighQuality;            g.CompositingQuality &#x3D; CompositingQuality.HighQuality;            g.DrawImage(img, 0, 0);        &#125;        &#x2F;&#x2F;在二维码中插入图片        Graphics MyGraphic &#x3D; Graphics.FromImage(bmpimg);        &#x2F;&#x2F;白底        MyGraphic.FillRectangle(Brushes.White, middleImgL, middleImgT, middleImgW, middleImgH);        MyGraphic.DrawImage(middlImg, middleImgL, middleImgT, middleImgW, middleImgH);        picCode.Image &#x3D; bmpimg;        &#x2F;&#x2F;自动保存图片到当前目录        string filename &#x3D; Environment.CurrentDirectory + &quot;\\QR&quot; + DateTime.Now.Ticks.ToString() + &quot;.jpg&quot;;        bmpimg.Save(filename, ImageFormat.Jpeg);        lblShow.Text &#x3D; &quot;图片已保存到：&quot; + filename;    &#125;    catch (Exception ee)    &#123;         MessageBox.Show(ee.Message);     &#125;&#125;private void btnSelect_Click(object sender, EventArgs e)&#123;    OpenFileDialog ofd &#x3D; new OpenFileDialog();    ofd.Filter &#x3D; &quot;图片文件|*.bmp;*.jpg;*.png;*.ico&quot;;    if (ofd.ShowDialog() &#x3D;&#x3D; DialogResult.OK)    &#123;        opFilePath &#x3D; ofd.FileName;        picDeCode.ImageLocation &#x3D; opFilePath;    &#125;&#125;&#x2F;&#x2F;图片解码private void btnDecode_Click(object sender, EventArgs e)&#123;    MultiFormatReader multiReader &#x3D; new MultiFormatReader();    Bitmap img &#x3D; (Bitmap)Bitmap.FromFile(opFilePath);    if (img &#x3D;&#x3D; null)        return;    LuminanceSource ls &#x3D; new RGBLuminanceSource(img, img.Width, img.Height);    BinaryBitmap bb &#x3D; new BinaryBitmap(new HybridBinarizer(ls));    &#x2F;&#x2F;注意  必须是Utf-8编码    Hashtable hints &#x3D; new Hashtable();    hints.Add(EncodeHintType.CHARACTER_SET, &quot;UTF-8&quot;);    Result r &#x3D; multiReader.decode(bb, hints);    txtDeCodeMsg.Text &#x3D; r.Text;    lblShow.Text &#x3D; &quot;解码成功！&quot;;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><a href="http://pan.baidu.com/s/1nuOpiLb">测试例子代码</a></p><p>生成二维码还有ThoughtWorks.QRCode.dll</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">public void MarkQrCode(string str)&#123;    &#x2F;&#x2F;初始化二维码生成工具    QRCodeEncoder qrCodeEncoder &#x3D; new QRCodeEncoder();    qrCodeEncoder.QRCodeEncodeMode &#x3D; QRCodeEncoder.ENCODE_MODE.BYTE;    qrCodeEncoder.QRCodeErrorCorrect &#x3D; QRCodeEncoder.ERROR_CORRECTION.M;    qrCodeEncoder.QRCodeVersion &#x3D; 0;  &#x2F;&#x2F;版本    qrCodeEncoder.QRCodeScale &#x3D; 4; &#x2F;&#x2F;大小    &#x2F;&#x2F;将字符串生成二维码图片    Bitmap image &#x3D; qrCodeEncoder.Encode(str, Encoding.Default);    &#x2F;&#x2F;保存为PNG到内存流      MemoryStream ms &#x3D; new MemoryStream();    image.Save(ms, ImageFormat.Png);    &#x2F;&#x2F;输出二维码图片    Response.BinaryWrite(ms.GetBuffer());    Response.End();   &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>asp.net 下载文件</title>
      <link href="/web/asp.net-xia-zai-wen-jian/"/>
      <url>/web/asp.net-xia-zai-wen-jian/</url>
      
        <content type="html"><![CDATA[<p>第一种下载方法</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">private void DownExcel(string filePath)&#123;    &#x2F;&#x2F;string path &#x3D; HttpContext.Current.Server.MapPath(&quot;&#x2F;UploadFiles&#x2F;KGData&#x2F;test.xls&quot;);    string path &#x3D; HttpContext.Current.Server.MapPath(filePath);    FileInfo fileInfo &#x3D; new FileInfo(filePath);    Response.Clear();    Response.ClearContent();    Response.ClearHeaders();    Response.AddHeader(&quot;Content-Disposition&quot;, &quot;attachment;filename&#x3D;&quot; + fileInfo.Name);    Response.AddHeader(&quot;Content-Length&quot;, fileInfo.Length.ToString());    Response.AddHeader(&quot;Content-Transfer-Encoding&quot;, &quot;binary&quot;);    Response.ContentType &#x3D; &quot;application&#x2F;octet-stream&quot;;    Response.ContentEncoding &#x3D; Encoding.GetEncoding(&quot;gb2312&quot;);    Response.WriteFile(fileInfo.FullName);    Response.Flush();    Response.End();             &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>第二种下载方法<br>windows.location.href &#x3D; “&#x2F;test&#x2F;ExcelDownLoad.aspx?file&#x3D;test.xls” ;</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">protected void ResponseFile()&#123;   string fileName &#x3D; Request.QueryString[&quot;file&quot;];   ext(fileName);    System.IO.Stream iStream &#x3D; null;    &#x2F;&#x2F; 缓冲区为10k    byte[] buffer &#x3D; new Byte[10240];    &#x2F;&#x2F; 文件长度    int length;    &#x2F;&#x2F; 需要读的数据长度    long dataToRead;    try    &#123;        string fileName &#x3D; path;        string filepath &#x3D; HttpContext.Current.Server.MapPath(&quot;&#x2F;ExcelTemp&#x2F;&quot;) + fileName; &#x2F;&#x2F;待下载的文件路径        iStream &#x3D; new System.IO.FileStream(filepath, System.IO.FileMode.Open,            System.IO.FileAccess.Read, System.IO.FileShare.Read);        Response.Clear();        dataToRead &#x3D; iStream.Length;        &#x2F;&#x2F;iStream.Position &#x3D; 0;        long p &#x3D; 0;        if (Request.Headers[&quot;Range&quot;] !&#x3D; null)        &#123;            Response.StatusCode &#x3D; 206;            p &#x3D; long.Parse(Request.Headers[&quot;Range&quot;].Replace(&quot;bytes&#x3D;&quot;, &quot;&quot;).Replace(&quot;-&quot;, &quot;&quot;));        &#125;        if (p !&#x3D; 0)        &#123;            Response.AddHeader(&quot;Content-Range&quot;, &quot;bytes &quot; + p.ToString() + &quot;-&quot; + ((long)(dataToRead - 1)).ToString() + &quot;&#x2F;&quot; + dataToRead.ToString());        &#125;        Response.AddHeader(&quot;Content-Length&quot;, ((long)(dataToRead - p)).ToString());        Response.ContentType &#x3D; &quot;application&#x2F;octet-stream&quot;;        Response.AddHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename&#x3D;&quot; +HttpUtility.UrlEncode(Path.GetFileName(filepath)));        Response.AppendHeader(&quot;Location&quot;, Request.Url.AbsoluteUri);         iStream.Position &#x3D; p;        dataToRead &#x3D; dataToRead - p;        while (dataToRead &gt; 0)        &#123;    &#x2F;&#x2F; 检查客户端是否还处于连接状态            if (Response.IsClientConnected)            &#123;                length &#x3D; iStream.Read(buffer, 0, 10240);                Response.OutputStream.Write(buffer, 0, length);                             Response.Flush();                                buffer &#x3D; new Byte[10240];                dataToRead &#x3D; dataToRead - length;            &#125;            else            &#123;    &#x2F;&#x2F; 如果不再连接则跳出死循环                dataToRead &#x3D; -1;            &#125;        &#125;    &#125;    catch (Exception ex)    &#123;        Response.Write(&quot;Error : 文件不存在！！！&quot;);       &#x2F;&#x2F; Response.Redirect(&quot;..&#x2F;Supplier_Idex.aspx&quot;);    &#125;    finally    &#123;        if (iStream !&#x3D; null)        &#123;            iStream.Close();        &#125;        Response.End();    &#125;&#125;protected string ext(string file)&#123;    string str &#x3D; string.Empty;    if(!string.IsNullOrEmpty(file))    &#123;        var invalidPattern &#x3D; new Regex(@&quot;[\\\&#x2F;\:\*\?&lt;\&gt;\|]&quot;);        string strExt &#x3D; invalidPattern.Replace(file, &quot;&quot;);        strExt &#x3D;  Path.GetExtension(file);        switch(strExt)        &#123;            case &quot;.config&quot;:                str &#x3D; &quot;文件不存在&quot;;                break;            default:                str &#x3D; file; break;        &#125;    &#125;    return str;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>使用jquery下载方法</p><p>js方法</p><pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">jQuery.download &#x3D; function (downloadurl, method, filepath, filename) &#123;    jQuery(&#39;&lt;form action&#x3D;&quot;&#39; + downloadurl + &#39;&quot; method&#x3D;&quot;&#39; + (method || &#39;post&#39;) + &#39;&quot;&gt;&#39; +  &#x2F;&#x2F; action请求路径及推送方法         &#39;&lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;filepath&quot; value&#x3D;&quot;&#39; + filepath + &#39;&quot;&#x2F;&gt;&#39; + &#x2F;&#x2F; 文件路径         &#39;&lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;filename&quot; value&#x3D;&quot;&#39; + filename + &#39;&quot;&#x2F;&gt;&#39; + &#x2F;&#x2F; 文件名称         &#39;&lt;&#x2F;form&gt;&#39;)        .appendTo(&#39;body&#39;).submit().remove();&#125;;    function ExportToExcel() &#123;    if (confirm(&quot;确定要导出Excel吗？&quot;)) &#123;        var start &#x3D; getQueryString(&#39;fromDate&#39;);        var end &#x3D; getQueryString(&#39;toDate&#39;);        var brand &#x3D; getQueryString(&#39;brandCompany&#39;);        var staff &#x3D; getQueryString(&#39;staff&#39;);        var groupName &#x3D; getQueryString(&#39;groupName&#39;);        $.ajax(&#123;            type: &quot;POST&quot;,            dataType: &quot;json&quot;,            url: &quot;Test.aspx&#x2F;ExportToExcel&quot;,            data: &quot;&#123;fromDate:&#39;&quot; + start + &quot;&#39;,toDate:&#39;&quot; + end + &quot;&#39;,brandName:&#39;&quot; + brand + &quot;&#39;&#125;&quot;,            contentType: &quot;application&#x2F;json; charset&#x3D;utf-8&quot;,            success: function (data) &#123;                var result &#x3D; eval(&#39;(&#39; + data.d + &#39;)&#39;);                if (result.Body &#x3D;&#x3D; &#39;没有需要导出的信息&#39;) &#123;                    alert(result.Body);                &#125;                else &#123;                    $.download(result.DownLoadUrl, &#39;post&#39;, result.FilePath, result.FileName);                &#125;            &#125;,            error: function (msg) &#123;               alert(&#39;系统繁忙，请稍后重试！&#39;);            &#125;        &#125;);    &#125;      &#125; function getQueryString(name)&#123;    var reg &#x3D; new RegExp(&quot;(^|&amp;)&quot; + name + &quot;&#x3D;([^&amp;]*)(&amp;|$)&quot;, &quot;i&quot;);    var result &#x3D; window.location.search.substr(1).match(reg);    if (result !&#x3D; null) &#123;        return unescape(result[2]);    &#125; else &#123;        return null;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>后台方法</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">[WebMethod]public static string ExportToRiskExcel(DateTime fromDate,ateTime toDate,string brandName)&#123;    DataSet ds &#x3D; new wcfInternalService.InternalServiceClient().GetList(fromDate, toDate, brandName);    DownResult result &#x3D; new DownResult()    &#123;        Success &#x3D; false,        Body &#x3D; &quot;导出失败，请稍后再试！&quot;    &#125;;    if (ds.Tables[0] !&#x3D; null &amp;&amp; ds.Tables[0].Rows.Count &gt; 0)    &#123;        string[] columns &#x3D; &#123; &quot;序号&quot;, &quot;案件&quot;, &quot;车牌&quot;, &quot;分类&quot;, &quot;处理时间&quot;, &quot;人员&quot;, &quot;金额&quot; &#125;;        result &#x3D; ExportExcel(ds.Tables[0], columns, &quot;分布详情&quot;, result);    &#125;    else    &#123;        result &#x3D; new DownResult()        &#123;            Success &#x3D; true,            Body &#x3D; &quot;没有需要导出的信息&quot;        &#125;;    &#125;    return JsonConvert.SerializeObject(result);&#125;  public static DownResult ExportExcel(DataTable dt, string[] columns, string sheetName, DownResult result)&#123;    string filePath &#x3D; string.Empty;&#x2F;&#x2F;文件路径    string fileName &#x3D; string.Empty;&#x2F;&#x2F;文件名称    Stream stream &#x3D; DataTableToExcel(dt, columns, sheetName);    ExcelPackage package &#x3D; new ExcelPackage(stream);    fileName &#x3D; sheetName + DateTime.Now.ToString(&quot;yyyyMMddHHmmss&quot;) + &quot;.xlsx&quot;;    filePath &#x3D; HttpContext.Current.Server.MapPath(&quot;~&#x2F;UploadFile&#x2F;&quot;);&#x2F;&#x2F;文件保存地址     if (!Directory.Exists(filePath))&#x2F;&#x2F;如果不存在就创建file文件夹    &#123;        Directory.CreateDirectory(filePath);    &#125;    package.SaveAs(new FileInfo(filePath + fileName));    result &#x3D; new DownResult()    &#123;        Success &#x3D; true,        Body &#x3D; &quot;导出成功！&quot;,        DownLoadUrl &#x3D; &quot;DownExcel.aspx&quot;,        FilePath &#x3D; filePath,        FileName &#x3D; fileName,    &#125;;    return result;&#125;     public static Stream DataTableToExcel(DataTable dataTable, string[] columns, string sheetName)&#123;    try    &#123;        using (ExcelPackage pck &#x3D; new ExcelPackage())        &#123;            ExcelWorksheet ws &#x3D; pck.Workbook.Worksheets.Add(sheetName);            ws.Cells[&quot;A1&quot;].LoadFromDataTable(dataTable, true);            for (int i &#x3D; 1; i &lt;&#x3D; columns.Length; i++)            &#123;                using (ExcelRange rng &#x3D; ws.Cells[1, i])                &#123;                    rng.Style.Font.Bold &#x3D; true;                    rng.Value &#x3D; columns[i - 1];                &#125;            &#125;            MemoryStream ms &#x3D; new MemoryStream();            pck.SaveAs(ms);            ms.Flush();            ms.Position &#x3D; 0;&#x2F;&#x2F;指定当前流的位置从0开始            return ms;        &#125;    &#125;    catch (Exception ex)    &#123;        throw ex;    &#125;&#125;  public class DownResult&#123;    public bool Success &#123; get; set; &#125;    public string Body &#123; get; set; &#125;    public string DownLoadUrl &#123; get; set; &#125;    public string FilePath &#123; get; set; &#125;    public string FileName &#123; get; set; &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> 方法必须为静态，参数需要一致</p><p>下载页面方法</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">protected void Page_Load(object sender, EventArgs e)&#123;    string fileName &#x3D; Request[&quot;filename&quot;];&#x2F;&#x2F;下载文档名      string filePath &#x3D; Request[&quot;filepath&quot;];    FileInfo fileInfo &#x3D; new FileInfo(filePath + fileName);    Response.Clear();    Response.ClearContent();    Response.ClearHeaders();    String userAgent &#x3D; HttpContext.Current.Request.UserAgent;    &#x2F;&#x2F;判断是否为ie10以下及ie11浏览器      if (userAgent.Contains(&quot;MSIE&quot;) || userAgent.Contains(&quot;rv:11&quot;))    &#123;        fileName &#x3D; HttpUtility.UrlEncode(fileName);    &#125;    Response.AddHeader(&quot;Content-Disposition&quot;, string.Format(&quot;attachment;filename&#x3D;\&quot;&#123;0&#125;\&quot;&quot;, fileName));    Response.AddHeader(&quot;Content-Length&quot;, fileInfo.Length.ToString());    Response.AddHeader(&quot;Content-Transfer-Encoding&quot;, &quot;binary&quot;);    Response.ContentType &#x3D; &quot;application&#x2F;octet-stream&quot;;    Response.ContentEncoding &#x3D; System.Text.Encoding.GetEncoding(&quot;gb2312&quot;);    Response.WriteFile(fileInfo.FullName);    Response.Flush();    if (File.Exists(Path.GetFullPath(fileInfo.ToString())))    &#123;        File.Delete(Path.GetFullPath(fileInfo.ToString()));&#x2F;&#x2F;用户下载后删除服务器文件    &#125;    Response.End();&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> WEB </category>
          
      </categories>
      
      
        <tags>
            
            <tag> WEB </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VS 开发中觉得不错的几款插件</title>
      <link href="/tools/vs-kai-fa-zhong-jue-de-bu-cuo-de-ji-kuan-cha-jian/"/>
      <url>/tools/vs-kai-fa-zhong-jue-de-bu-cuo-de-ji-kuan-cha-jian/</url>
      
        <content type="html"><![CDATA[<ol><li><strong>C# Outline 2013</strong>  {}折叠<br><img src="/images/2017010316451501.png" alt="2017010316451501.png"></li><li><strong>Indent Guides</strong>：为缩进添加竖直线<br><img src="/images/2017010316451502.png" alt="2017010316451502.png"></li><li><strong>ResXManager</strong>：多语言资源文件编辑</li><li><strong>C# Formatter</strong>：代码清理<br><img src="/images/2017010316451503.png" alt="2017010316451503.png"></li><li><strong>Highlight all occurrences of selected word</strong>：双击高亮全部选择的词<br><img src="/images/2017010316451504.png" alt="2017010316451504.png"></li><li><strong>Hide Main Menu</strong>：可以隐藏菜单以节省屏幕空间，支持菜单鼠标悬停显示，并且带有动画效果。<br><img src="/images/2017010316451505.png" alt="2017010316451505.png"></li><li><strong>VSCommands for Visual Studio</strong>：代码显示增强：它可以在尾部显示方法或过程名字，仅因这个就非常喜欢了</li></ol>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MVC 中Simditor上传本地图片</title>
      <link href="/mvc/mvc-zhong-simditor-shang-chuan-ben-di-tu-pian/"/>
      <url>/mvc/mvc-zhong-simditor-shang-chuan-ben-di-tu-pian/</url>
      
        <content type="html"><![CDATA[<ol><li>引用样式和js文件</li></ol><pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">&lt;link href&#x3D;&quot;~&#x2F;Content&#x2F;scripts&#x2F;plugins&#x2F;simditor&#x2F;css&#x2F;simditor.css&quot; rel&#x3D;&quot;stylesheet&quot; &#x2F;&gt;&lt;script src&#x3D;&quot;~&#x2F;Content&#x2F;scripts&#x2F;plugins&#x2F;simditor&#x2F;js&#x2F;simditor.js&quot;&gt;&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ol start="2"><li>初始化Simditor</li></ol><pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var editor &#x3D; null;    $(function () &#123;        &#x2F;&#x2F;可以参考 http:&#x2F;&#x2F;www.jcodecraeer.com&#x2F;a&#x2F;javascript&#x2F;2015&#x2F;0201&#x2F;2393.html        editor &#x3D; new Simditor(&#123;            textarea: $(&#39;#NewsContent&#39;),            placeholder: &#39;这里输入公告内容...&#39;,            toolbar: [&#39;title&#39;, &#39;bold&#39;, &#39;italic&#39;, &#39;underline&#39;, &#39;strikethrough&#39;, &#39;color&#39;, &#39;|&#39;, &#39;ol&#39;, &#39;ul&#39;, &#39;blockquote&#39;, &#39;code&#39;, &#39;table&#39;, &#39;|&#39;, &#39;link&#39;, &#39;image&#39;, &#39;hr&#39;, &#39;|&#39;, &#39;indent&#39;, &#39;outdent&#39;],            upload: &#123;                url: &#39;&#x2F;PublicInfoManage&#x2F;Notice&#x2F;SavePic&#39;, &#x2F;&#x2F;文件上传的接口地址                params: null, &#x2F;&#x2F;键值对,指定文件上传接口的额外参数,上传的时候随文件一起提交                fileKey: &#39;fileDataFileName&#39;, &#x2F;&#x2F;服务器端获取文件数据的参数名                connectionCount: 3,                leaveConfirm: &#39;正在上传文件&#39;            &#125;        &#125;);    &#125;)var editor &#x3D; null;    $(function () &#123;        &#x2F;&#x2F;可以参考 http:&#x2F;&#x2F;www.jcodecraeer.com&#x2F;a&#x2F;javascript&#x2F;2015&#x2F;0201&#x2F;2393.html        editor &#x3D; new Simditor(&#123;            textarea: $(&#39;#NewsContent&#39;),            placeholder: &#39;这里输入公告内容...&#39;,            toolbar: [&#39;title&#39;, &#39;bold&#39;, &#39;italic&#39;, &#39;underline&#39;, &#39;strikethrough&#39;, &#39;color&#39;, &#39;|&#39;, &#39;ol&#39;, &#39;ul&#39;, &#39;blockquote&#39;, &#39;code&#39;, &#39;table&#39;, &#39;|&#39;, &#39;link&#39;, &#39;image&#39;, &#39;hr&#39;, &#39;|&#39;, &#39;indent&#39;, &#39;outdent&#39;],            upload: &#123;                url: &#39;&#x2F;PublicInfoManage&#x2F;Notice&#x2F;SavePic&#39;, &#x2F;&#x2F;文件上传的接口地址                params: null, &#x2F;&#x2F;键值对,指定文件上传接口的额外参数,上传的时候随文件一起提交                fileKey: &#39;fileDataFileName&#39;, &#x2F;&#x2F;服务器端获取文件数据的参数名                connectionCount: 3,                leaveConfirm: &#39;正在上传文件&#39;            &#125;        &#125;);    &#125;)var editor &#x3D; null;    $(function () &#123;        &#x2F;&#x2F;可以参考 http:&#x2F;&#x2F;www.jcodecraeer.com&#x2F;a&#x2F;javascript&#x2F;2015&#x2F;0201&#x2F;2393.html        editor &#x3D; new Simditor(&#123;            textarea: $(&#39;#NewsContent&#39;),            placeholder: &#39;这里输入公告内容...&#39;,            toolbar: [&#39;title&#39;, &#39;bold&#39;, &#39;italic&#39;, &#39;underline&#39;, &#39;strikethrough&#39;, &#39;color&#39;, &#39;|&#39;, &#39;ol&#39;, &#39;ul&#39;, &#39;blockquote&#39;, &#39;code&#39;, &#39;table&#39;, &#39;|&#39;, &#39;link&#39;, &#39;image&#39;, &#39;hr&#39;, &#39;|&#39;, &#39;indent&#39;, &#39;outdent&#39;],            upload: &#123;                url: &#39;&#x2F;PublicInfoManage&#x2F;Notice&#x2F;SavePic&#39;, &#x2F;&#x2F;文件上传的接口地址                params: null, &#x2F;&#x2F;键值对,指定文件上传接口的额外参数,上传的时候随文件一起提交                fileKey: &#39;fileDataFileName&#39;, &#x2F;&#x2F;服务器端获取文件数据的参数名                connectionCount: 3,                leaveConfirm: &#39;正在上传文件&#39;            &#125;        &#125;);    &#125;)var editor &#x3D; null;    $(function () &#123;        &#x2F;&#x2F;可以参考 http:&#x2F;&#x2F;www.jcodecraeer.com&#x2F;a&#x2F;javascript&#x2F;2015&#x2F;0201&#x2F;2393.html        editor &#x3D; new Simditor(&#123;            textarea: $(&#39;#NewsContent&#39;),            placeholder: &#39;这里输入公告内容...&#39;,            toolbar: [&#39;title&#39;, &#39;bold&#39;, &#39;italic&#39;, &#39;underline&#39;, &#39;strikethrough&#39;, &#39;color&#39;, &#39;|&#39;, &#39;ol&#39;, &#39;ul&#39;, &#39;blockquote&#39;, &#39;code&#39;, &#39;table&#39;, &#39;|&#39;, &#39;link&#39;, &#39;image&#39;, &#39;hr&#39;, &#39;|&#39;, &#39;indent&#39;, &#39;outdent&#39;],            upload: &#123;                url: &#39;&#x2F;PublicInfoManage&#x2F;Notice&#x2F;SavePic&#39;, &#x2F;&#x2F;文件上传的接口地址                params: null, &#x2F;&#x2F;键值对,指定文件上传接口的额外参数,上传的时候随文件一起提交                fileKey: &#39;fileDataFileName&#39;, &#x2F;&#x2F;服务器端获取文件数据的参数名                connectionCount: 3,                leaveConfirm: &#39;正在上传文件&#39;            &#125;        &#125;);    &#125;)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>upload设置好就会出现下图中的选项<br><img src="/images/2016120517321201.png" alt="2016120517321201.png"><br>实现功能之前需要修改一下引用的js文件，使用查看浏览器的审核元素功能查看，发现input按钮没有name属性<br><img src="/images/2016120517321202.png" alt="2016120517321202.png"><br>3. 打开Simditor.js文件搜索accept属性，然后添加“name&#x3D;“fileData”属性，共有两处需要添加，如下图<br><img src="/images/2016120517321203.png" alt="2016120517321203.png"><br>4. 编写后台处理图片代码</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">&#x2F;&#x2F;&#x2F; &lt;summary&gt;&#x2F;&#x2F;&#x2F; 上传图片&#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;&#x2F;&#x2F;&#x2F; &lt;returns&gt;&lt;&#x2F;returns&gt;public ActionResult SavePic()&#123;    HttpPostedFileBase file &#x3D; Request.Files[&quot;fileDataFileName&quot;];    if (file !&#x3D; null)    &#123;        string strPath &#x3D; HttpContext.Server.MapPath(&quot;&#x2F;Content&#x2F;Upload&#x2F;&quot;);        if (!Directory.Exists(strPath))        &#123;            Directory.CreateDirectory(strPath);        &#125;        string filePath &#x3D; Path.Combine(strPath, Path.GetFileName(file.FileName));        file.SaveAs(filePath);        return Success(&quot;上传成功！&quot;);    &#125;    else    &#123;        return Success(&quot;上传失败！&quot;);    &#125;     &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>参考文章 <a href="http://www.jcodecraeer.com/a/javascript/2015/0201/2393.html">http://www.jcodecraeer.com/a/javascript/2015/0201/2393.html</a></p>]]></content>
      
      
      <categories>
          
          <category> MVC </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MVC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>基于MVC模式开发的后台框架</title>
      <link href="/mvc/ji-yu-mvc-mo-shi-kai-fa-de-hou-tai-kuang-jia/"/>
      <url>/mvc/ji-yu-mvc-mo-shi-kai-fa-de-hou-tai-kuang-jia/</url>
      
        <content type="html"><![CDATA[<ol><li><a href="http://demo.thinkcmf.com/admin/index/index.html">ThinkCMF</a><br><img src="/images/2016112514230301.png" alt="2016112514230301.png"></li><li><a href="http://www.nfine.cn:8099/Home/Index">NFine快速开发平台</a><br><img src="/images/2016112514230303.png" alt="2016112514230303.png"></li><li><a href="http://121.40.148.178:8080/">力软快速开发框架</a><br><img src="/images/2016112514230302.png" alt="2016112514230302.png"></li></ol>]]></content>
      
      
      <categories>
          
          <category> MVC </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MVC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSS3 中 图标编码 icon——Font-Awesome</title>
      <link href="/html-css/css3-zhong-tu-biao-bian-ma-icon-font-awesome/"/>
      <url>/html-css/css3-zhong-tu-biao-bian-ma-icon-font-awesome/</url>
      
        <content type="html"><![CDATA[<p>在做网页开发中经常会用到图标，原来经常会到一些icon网站上找导入到项目中，现在<a href="http://fontawesome.io/">Font-Awesome</a>中的有很多的图标，并且还在不断更新<br><img src="/images/2016112514031301.png" alt="2016112514031301.png"></p><p>现在Font-Awesome最新版本是4.7，下载出来的Font-Awesome有下面这些文件，只保留css和fonts文件夹中的内容就可以了<br><img src="/images/2016112514031302.png" alt="2016112514031302.png"></p><p>新建一个html页面，在html用引用css样式</p><pre class="line-numbers language-HTML" data-language="HTML"><code class="language-HTML">&lt;link href&#x3D;&quot;css&#x2F;font-awesome.min.css&quot; rel&#x3D;&quot;stylesheet&quot;&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>在官网中选择好要引用的图标点击该图标进去<br><img src="/images/2016112514031303.png" alt="2016112514031303.png"></p><pre class="line-numbers language-HTML" data-language="HTML"><code class="language-HTML">&lt;ul class&#x3D;&quot;fa&quot;&gt;    &lt;li class&#x3D;&quot;fa fa-list-ul&quot;&gt;百度&lt;&#x2F;li&gt;&lt;br&#x2F;&gt;    &lt;li  class&#x3D;&quot;fa fa-list-ul&quot;&gt;谷歌&lt;&#x2F;li&gt;&lt;&#x2F;ul&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>页面显示<br><img src="/images/2016112514031304.png" alt="2016112514031304.png"><br><strong>注意引用样式的时候要在样式（fa-list-ul）前面加上fa</strong></p><p>如果想改变图标和文字颜色呢？</p><pre class="line-numbers language-HTML" data-language="HTML"><code class="language-HTML">&lt;ul class&#x3D;&quot;fa&quot;&gt;    &lt;li class&#x3D;&quot;fa fa-list-ul&quot;&gt;百度&lt;&#x2F;li&gt;&lt;br&#x2F;&gt;    &lt;span style&#x3D;&quot;color:red;&quot;&gt;&lt;li  class&#x3D;&quot;fa fa-list-ul&quot;&gt;谷歌&lt;&#x2F;li&gt;&lt;span&gt;&lt;&#x2F;ul&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>页面显示<br><img src="/images/2016112514031305.png" alt="2016112514031305.png"></p><p>只需要在li标签前面加上<span>标签设置color颜色就可以了。</p><p>这里只是做一个简单的介绍，还想了解更多可以看看<a href="http://fontawesome.io/examples/">官网的例子</a></p><p>还有一个<a href="http://www.fontawesome.com.cn/">Font-Awesome</a>中文网站，不过版本没有英文版本的新，可以参考下</p><p>IE9之前还只支持eot格式，需要将ttf格式转换成eot格式</p><p>在线转换工具 <a href="https://www.fontsquirrel.com/tools/webfont-generator">Webfont Generator</a></p><p>还可以参考一些文章 <a href="http://www.jb51.net/css/70033.html">http://www.jb51.net/css/70033.html</a></p>]]></content>
      
      
      <categories>
          
          <category> HTML/CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTML/CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>elasticsearch 插件 大全</title>
      <link href="/search/elasticsearch-cha-jian-da-quan/"/>
      <url>/search/elasticsearch-cha-jian-da-quan/</url>
      
        <content type="html"><![CDATA[<p>本文使用的elasticsearch版本：1.7.3</p><p>推荐几款比较常用的elasticsearch插件</p><ol><li>集群监控插件 <a href="https://github.com/lukas-vlcek/bigdesk">bigdesk</a><br>node<br><img src="/images/2016112316141301.png" alt="2016112316141301.png"><br>cluster<br><img src="/images/2016112316141302.png" alt="2016112316141302.png"></li><li>集群资源查看和查询插件 <a href="https://github.com/lmenezes/elasticsearch-kopf">kopf</a><br><img src="/images/2016112316141303.png" alt="2016112316141303.png"><br><img src="/images/2016112316141304.png" alt="2016112316141304.png"></li><li>调试查询  <a href="https://github.com/polyfractal/elasticsearch-inquisitor">inquisitor</a><br><img src="/images/2016112316141305.png" alt="2016112316141305.png"></li><li>类似sql语法的查询插件 <a href="https://github.com/NLPchina/elasticsearch-sql">elasticsearch-sql</a> （1.x elasticseach版本安装命令 plugin -u <a href="https://github.com/NLPchina/elasticsearch-sql/releases/download/1.4.9/elasticsearch-sql-1.4.9.zip">https://github.com/NLPchina/elasticsearch-sql/releases/download/1.4.9/elasticsearch-sql-1.4.9.zip</a> –install sql），具体的请看说明<a href="https://github.com/NLPchina/elasticsearch-sql">https://github.com/NLPchina/elasticsearch-sql</a><br><img src="/images/2016112316141306.png" alt="2016112316141306.png"></li><li>查询插件 marvel  安装命令（plugin -i elasticsearch&#x2F;marvel&#x2F;latest）输入localhost:9200&#x2F;_plugin&#x2F;marvel&#x2F;sense&#x2F;就可以浏览界面了；输入plugin -i elasticsearch&#x2F;marvel&#x2F;latest也可以卸载改插件<br><img src="/images/2016112316141307.png" alt="2016112316141307.png"></li></ol><p>如果用命令方式安装不上，到<a href="http://download.elasticsearch.org/elasticsearch/marvel/marvel-latest.zip">marvel-latest</a>下载下来，然后在ElasticSearch的plugin目录下新建marvel文件夹，将下载的文件解压到marvel文件夹中就可以了；</p><p>想具体了解可以查看<a href="https://www.elastic.co/downloads/marvel">ElasticSearch</a>官网</p><p>以下内容转载 <a href="http://www.searchtech.pro/elasticsearch-plugins">http://www.searchtech.pro/elasticsearch-plugins</a></p><p>Elasticsearch扩展性非常好，有很多官方和第三方开发的插件，下面以分词、同步、数据传输、脚本支持、站点、其它这几个类别进行划分。</p><p><strong>分词插件</strong><br><a href="https://github.com/yakaz/elasticsearch-analysis-combo/">Combo Analysis Plugin</a> (作者 Olivier Favre, Yakaz)<br>简介：组合分词器，可以把多个分词器的结果组合在一起。<br><a href="https://github.com/elasticsearch/elasticsearch-analysis-smartcn">Smart Chinese Analysis Plugin</a> (作者 elasticsearch 团队)<br>简介：lucene默认的中文分词器<br><a href="https://github.com/elasticsearch/elasticsearch-analysis-icu">ICU Analysis plugin</a> (作者 elasticsearch 团队)<br>简介：lucene自带的ICU分词，ICU是一套稳定、成熟、功能强大、轻便易用和跨平台支持Unicode 的开发包。<br><a href="https://github.com/elasticsearch/elasticsearch-analysis-stempel">Stempel (Polish) Analysis plugin</a> (作者 elasticsearch 团队)<br>简介：法文分词器<br><a href="https://github.com/medcl/elasticsearch-analysis-ik">IK Analysis Plugin</a> (作者 Medcl)<br>简介：大名鼎鼎的ik分词，都懂的！<br><a href="https://github.com/medcl/elasticsearch-analysis-mmseg">Mmseg Analysis Plugin</a> (作者 Medcl)<br>简介：mmseg中文分词<br><a href="https://github.com/jprante/elasticsearch-analysis-hunspell">Hunspell Analysis Plugin</a> (作者 Jörg Prante)<br>简介：lucene自带的Hunspell模块<br><a href="https://github.com/elasticsearch/elasticsearch-analysis-kuromoji">Japanese (Kuromoji) Analysis plugin</a> (作者 elasticsearch 团队).<br>简介：日文分词器<br><a href="https://github.com/suguru/elasticsearch-analysis-japanese">Japanese Analysis plugin</a> (作者 suguru).<br>简介：日文分词器<br><a href="https://github.com/imotov/elasticsearch-analysis-morphology">Russian and English Morphological Analysis Plugin</a> (作者 Igor Motov)<br>简介：俄文英文分词器<br>Pinyin Analysis Plugin (作者 Medcl)<br>简介：拼音分词器<br><a href="https://github.com/medcl/elasticsearch-analysis-string2int">String2Integer Analysis Plugin</a> (作者 Medcl)<br>简介：字符串转整型工具。主要用在facet这个功能上，如果facet的field的值是字符串的话，计算起来比较耗资源。可以把字符串映射成整型，对整型进行facet操作要比对字符串的快很多。</p><p><strong>同步插件</strong><br><a href="https://github.com/elasticsearch/elasticsearch-river-couchdb">CouchDB River Plugin</a> (作者 elasticsearch 团队)<br>简介：CouchDB和elasticsearch的同步插件<br><a href="https://github.com/elasticsearch/elasticsearch-river-wikipedia">Wikipedia River Plugin</a> (作者 elasticsearch 团队)<br>简介：wikipedia文件读取插件。wikipedia是维基百科的一个离线库，不定期发布最新数据，是以xml形式发布的。这个river读取这个文件来建索引。<br><a href="https://github.com/elasticsearch/elasticsearch-river-twitter">Twitter River Plugin</a> (作者 elasticsearch 团队)<br>简介：twitter的同步插件，可以同步你twitter上的微博。<br><a href="https://github.com/elasticsearch/elasticsearch-river-rabbitmq">RabbitMQ River Plugin</a> (作者 elasticsearch 团队)<br>简介：rabbitmq同步插件，读取rabbitmq上的队列信息并索引。<br><a href="http://dadoonet.github.com/rssriver/">RSS River Plugin</a> (作者 David Pilato)<br>简介：定期索引指定一个或多个RSS源的数据。<br><a href="https://github.com/richardwilly98/elasticsearch-river-mongodb/">MongoDB River Plugin</a> (作者 Richard Louapre)<br>简介：mongodb同步插件，mongodb必须搭成副本集的模式，因为这个插件的原理是通过定期读取mongodb中的oplog来同步数据。<br><a href="https://github.com/jprante/elasticsearch-river-oai/">Open Archives Initiative (OAI) River Plugin</a> (作者 Jörg Prante)<br>简介：可以索引oai数据提供者提供的数据。<br><a href="https://github.com/sunnygleason/elasticsearch-river-st9">St9 River Plugin</a> (作者 Sunny Gleason)<br>简介：可以索引索引st9数据（st9是神马？囧！！！）<br><a href="https://github.com/adamlofts/elasticsearch-river-sofa">Sofa River Plugin</a> (作者 adamlofts)<br>简介：这个插件可以把多个CouchDB的数据库同步到同一个es索引中。<br><a href="https://github.com/jprante/elasticsearch-river-jdbc">JDBC River Plugin</a> (作者 Jörg Prante)<br>简介：关系型数据库的同步插件<br><a href="http://www.pilato.fr/fsriver/">FileSystem River Plugin</a> (作者 David Pilato)<br>简介：本地文件系统文件同步插件，使用方法是指定一个本地目录路径，es会定期扫描索引该目录下的文件。<br><a href="https://github.com/tlrx/elasticsearch-river-ldap">LDAP River Plugin</a> (作者 Tanguy Leroux)<br>简介：索引LDAP目录下的文件数据。<br><a href="http://www.pilato.fr/dropbox/">Dropbox River Plugin</a> (作者 David Pilato)<br>简介：索引dropbox网盘上的文件。通过oauth协议来调用dropbox上的api建索引。<br><a href="https://github.com/domdorn/elasticsearch-river-activemq/">ActiveMQ River Plugin</a> (作者 Dominik Dorn)<br>简介：activemq队列的同步插件，和之前rabbitmq的类似<br><a href="https://github.com/javanna/elasticsearch-river-solr/">Solr River Plugin</a> (作者 Luca Cavanna)<br>简介：solr同步插件，可以把solr里面的索引同步到es<br><a href="https://github.com/xxBedy/elasticsearch-river-csv">CSV River Plugin</a> (作者 Martin Bednar)<br>简介：通过指定目录地址来索引csv文件。</p><p><strong>数据传输插件</strong><br><a href="https://github.com/elasticsearch/elasticsearch-transport-wares">Servlet transport</a> (作者 elasticsearch 团队)<br>简介：Servlet rest插件，通过servlet来封装rest接口。<br><a href="https://github.com/elasticsearch/elasticsearch-transport-memcached">Memcached transport plugin</a> (作者 elasticsearch 团队)<br>简介：本插件可以通过memcached协议进行rest接口的调用。注意：这里不是使用memcache作为es的缓存。<br><a href="https://github.com/elasticsearch/elasticsearch-transport-thrift">Thrift Transport</a> (作者 elasticsearch 团队)<br>简介：使用thrift进行数据传输。<br><a href="https://github.com/tlrx/transport-zeromq">ZeroMQ transport layer plugin</a> (作者 Tanguy Leroux)<br>简介：使用zeromq进rest接口的调用。<br><a href="https://github.com/sonian/elasticsearch-jetty">Jetty HTTP transport plugin</a> (作者 Sonian Inc.)<br>简介：使用jetty来提供http rest接口。默认是使用netty。这个插件的好处是可以对http接口进行一些权限的设置。</p><p><strong>脚本插件</strong><br><a href="https://github.com/elasticsearch/elasticsearch-lang-python">Python language Plugin</a> (作者 elasticsearch 团队)<br>简介：python脚本支持<br><a href="https://github.com/elasticsearch/elasticsearch-lang-javascript">JavaScript language Plugin</a> (作者 elasticsearch 团队)<br>简介：javascript脚本支持<br><a href="https://github.com/elasticsearch/elasticsearch-lang-groovy">Groovy lang Plugin</a> (作者 elasticsearch 团队)<br>简介：groovy脚本支持<br><a href="https://github.com/hiredman/elasticsearch-lang-clojure">Clojure Language Plugin</a> (作者 Kevin Downey)<br>简介：clojure脚本支持</p><p><strong>站点插件（以网页形式展现）</strong><br><a href="https://github.com/lukas-vlcek/bigdesk">BigDesk Plugin</a> (作者 Lukáš Vlček)<br>简介：监控es状态的插件，推荐！<br><a href="https://github.com/mobz/elasticsearch-head">Elasticsearch Head Plugin</a> (作者 Ben Birch)<br>简介：很方便对es进行各种操作的客户端。<br><a href="https://github.com/karmi/elasticsearch-paramedic">Paramedic Plugin</a> (作者 Karel Minařík)<br>简介：es监控插件<br><a href="https://github.com/polyfractal/elasticsearch-segmentspy">SegmentSpy Plugin</a> (作者 Zachary Tong)<br>简介：查看es索引segment状态的插件<br><a href="https://github.com/polyfractal/elasticsearch-inquisitor">Inquisitor Plugin</a> (作者 Zachary Tong)<br>简介：这个插件主要用来调试你的查询。</p><p><strong>其它插件</strong><br><a href="https://github.com/elasticsearch/elasticsearch-mapper-attachments">Mapper Attachments Type plugin</a> (作者 elasticsearch 团队)<br>简介：附件类型插件，通过tika库把各种类型的文件格式解析成字符串。<br><a href="https://github.com/elasticsearch/elasticsearch-hadoop">Hadoop Plugin</a> (作者 elasticsearch team)<br>简介：hadoop和elasticsearch的集成插件，可以通过hadoop的mapreduce算法来并行建立索引，同时支持cascading，hive和pig等框架。<br><a href="https://github.com/elasticsearch/elasticsearch-cloud-aws">AWS Cloud Plugin</a> (作者 elasticsearch 团队)<br>简介：elasticsearch与amazon web services的集成。<br><a href="https://github.com/mattweber/elasticsearch-mocksolrplugin">ElasticSearch Mock Solr Plugin</a> (作者 Matt Weber)<br>简介：elasticsearch的solr api接口。用了这个插件可以使用solr的api来调用es，直接用solrj就可以调用es。比较适用于从solr转es时暂时过度。<br><a href="https://github.com/spinscale/elasticsearch-suggest-plugin">Suggester Plugin</a> (作者 Alexander Reelsen)<br>简介：es 搜索提示功能插件，不过es0.9版本后自带了这个功能，<br><a href="https://github.com/medcl/elasticsearch-partialupdate">ElasticSearch PartialUpdate Plugin</a> (作者 Medcl)<br>简介：elasticsearch的部分更新插件。<br><a href="https://github.com/sonian/elasticsearch-zookeeper">ZooKeeper Discovery Plugin</a> (作者 Sonian Inc.)<br>简介：通过zookeeper管理集群的插件。通过这个插件，es的分布式架构和solrcloud相似。<br><a href="https://github.com/derryx/elasticsearch-changes-plugin">ElasticSearch Changes Plugin</a> (作者 Thomas Peuss)<br>简介：elasticsearch索引操作记录插件。通过这个插件可以查看用户对索引的增删改操作。<br><a href="http://tlrx.github.com/elasticsearch-view-plugin">ElasticSearch View Plugin</a> (作者 Tanguy Leroux)<br>简介：这个插件可以把es的文档以html，xml或text的方式显示出来，它也可以通过查询生成web页面。<br><a href="https://github.com/viniciusccarvalho/elasticsearch-newrelic">ElasticSearch New Relic Plugin</a> (作者 Vinicius Carvalho)<br>简介：elasticsearch和newrelic的集成插件。newrelica是一个性能监控工具。这个插件会把节点的状态数据传到newrelic的账号上。</p>]]></content>
      
      
      <categories>
          
          <category> Search </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Search </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ElasticSearch 服务搭建</title>
      <link href="/search/elasticsearch-fu-wu-da-jian/"/>
      <url>/search/elasticsearch-fu-wu-da-jian/</url>
      
        <content type="html"><![CDATA[<h2 id="一、搭建环境"><a href="#一、搭建环境" class="headerlink" title="一、搭建环境"></a>一、搭建环境</h2><pre><code>操作系统：Win7ElasticSearch:1.73Java JDK:1.7</code></pre><h2 id="二、搭建操作"><a href="#二、搭建操作" class="headerlink" title="二、搭建操作"></a>二、搭建操作</h2><ol><li>安装Java JDK,然后配置系统环境变量，新建CLASS_PATH（jre所在目录 【.;D:\Program Files\Java\jre7\lib】）和JAVA_HOME(D:\Program Files\Java\jdk1.7.0_80)<br><img src="/images/2016112311321301.png" alt="2016112311321301.png"><br>在系统变量Path最后位置输入;%JAVA_HOME%\bin<br><img src="/images/2016112311321302.png" alt="2016112311321302.png"></li><li>在系统变量Path中输入elasticseach的路径（D:\elasticsearch\elasticsearch-1.7.3\bin），根据文件所在位置更改；这样可以直接执行elasticsearch安装命令（service intsall）、启动服务（service start）、停止服务（service stop）、卸载服务（service remove）</li><li>打开dos命令窗口，输入service install，看到下图表示安装服务成功，然后输入service start 启动服务<br><img src="/images/2016112311321303.png" alt="2016112311321303.png"></li><li>在浏览器中输入localhost:9200如下图所示表示Elasticsearch启动成功<br><img src="/images/2016112311321304.png" alt="2016112311321304.png"></li><li>上图中的name和cluster_name可以通过修改config文件夹下的elasticsearch.yml的配置文件来修改<br><img src="/images/2016112311321305.png" alt="2016112311321305.png"></li><li>安装head插件输入plugin -install mobz&#x2F;elasticsearch-head即可安装head插件，具体的操作步骤也可以参考<a href="https://github.com/mobz/elasticsearch-head">github</a><br><img src="/images/2016112311321306.png" alt="2016112311321306.png"></li><li>安装google浏览器的插件sense，其他的版本安装方法可以查看文章 <a href="http://www.cnblogs.com/ZJ199012/p/6094083.html">elasticsearch 插件 大全</a> 中的marvel插件<br><img src="/images/2016112311321307.png" alt="2016112311321307.png"></li></ol><p>还有其他的插件安装方法都类似</p><p>elasticsearch集群监控插件<a href="https://github.com/lukas-vlcek/bigdesk">bigdesk</a>   (安装命令 plugin -install lukas-vlcek&#x2F;bigdesk)</p><p>集群资源查看和查询插件 <a href="https://github.com/lmenezes/elasticsearch-kopf">kopf</a> （安装命令 plugin -install lmenezes&#x2F;elasticsearch-kopf）</p><p>调试查询  <a href="https://github.com/polyfractal/elasticsearch-inquisitor">inquisitor</a> （安装命令 plugin -install polyfractal&#x2F;elasticsearch-inquisitor）</p><p>类似sql语法的查询插件 <a href="https://github.com/NLPchina/elasticsearch-sql">elasticsearch-sql</a> （安装命令 plugin -install NLPchina&#x2F;elasticsearch-sql）</p><p>更多插件可以参考 <a href="http://www.searchtech.pro/elasticsearch-plugins">http://www.searchtech.pro/elasticsearch-plugins</a></p><p>github有一个可以定制msi安装elasticsearch工具感兴趣可以看看<a href="https://github.com/salyh/elasticsearch-msi-installer">https://github.com/salyh/elasticsearch-msi-installer</a></p>]]></content>
      
      
      <categories>
          
          <category> Search </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Search </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MongoDB系列—— Window 搭建Mongodb 集群</title>
      <link href="/mongodb/mongodb-xi-lie-window-da-jian-mongodb-ji-qun/"/>
      <url>/mongodb/mongodb-xi-lie-window-da-jian-mongodb-ji-qun/</url>
      
        <content type="html"><![CDATA[<p>Mongodb的集群方式的搭建有三种：Replica Set &#x2F; Sharding &#x2F; Master-Slaver。这里只说明最简单的集群搭建方式（Replica Set）</p><p>Replica Set</p><pre><code>  Mongodb(M)表示主节点，Mongodb(S)表示备节点，Mongodb(A)表示仲裁节点。主备节点存储数据，仲裁节点不存储数据。客户端同时连接主节点与备节点，不连接仲裁节点。    默认设置下，主节点提供所有增删查改服务，备节点不提供任何服务。但是可以通过设置使备节点提供查询服务，这样就可以减少主节点的压力，当客户端进行数据查询时，请求自动转到备节点上。  仲裁节点是一种特殊的节点，它本身并不存储数据，主要的作用是决定哪一个备节点在主节点挂掉之后提升为主节点，所以客户端不需要连接此节点。这里虽然只有 一个备节点，但是仍然需要一个仲裁节点来提升备节点级别。我开始也不相信必须要有仲裁节点，但是自己也试过没仲裁节点的话，主节点挂了备节点还是备节点， 所以咱们还是需要它的。  介绍完了集群方案，那么现在就开始搭建了。</code></pre><p>mongodb版本3.0.4</p><p>mongodb参数说明</p><p>–quiet     # 安静输出<br>–port arg  # 指定服务端口号，默认端口27017<br>–bind_ip arg   # 绑定服务IP，若绑定127.0.0.1，则只能本机访问，不指定默认本地所有IP<br>–logpath arg   # 指定MongoDB日志文件，注意是指定文件不是目录<br>–logappend     # 使用追加的方式写日志<br>–pidfilepath arg   # PID File 的完整路径，如果没有设置，则没有PID文件<br>–keyFile arg   # 集群的私钥的完整路径，只对于Replica Set 架构有效<br>–unixSocketPrefix arg  # UNIX域套接字替代目录,(默认为 &#x2F;tmp)<br>–fork  # 以守护进程的方式运行MongoDB，创建服务器进程<br>–auth  # 启用验证<br>–cpu   # 定期显示CPU的CPU利用率和iowait<br>–dbpath arg    # 指定数据库路径<br>–diaglog arg   # diaglog选项 0&#x3D;off 1&#x3D;W 2&#x3D;R 3&#x3D;both 7&#x3D;W+some reads<br>–directoryperdb    # 设置每个数据库将被保存在一个单独的目录<br>–journal   # 启用日志选项，MongoDB的数据操作将会写入到journal文件夹的文件里<br>–journalOptions arg    # 启用日志诊断选项<br>–ipv6  # 启用IPv6选项<br>–jsonp     # 允许JSONP形式通过HTTP访问（有安全影响）<br>–maxConns arg  # 最大同时连接数 默认2000<br>–noauth    # 不启用验证<br>–nohttpinterface   # 关闭http接口，默认关闭27018端口访问<br>–noprealloc    # 禁用数据文件预分配(往往影响性能)<br>–noscripting   # 禁用脚本引擎<br>–notablescan   # 不允许表扫描<br>–nounixsocket  # 禁用Unix套接字监听<br>–nssize arg (&#x3D;16)  # 设置信数据库.ns文件大小(MB)<br>–objcheck  # 在收到客户数据,检查的有效性，<br>–profile arg   # 档案参数 0&#x3D;off 1&#x3D;slow, 2&#x3D;all<br>–quota     # 限制每个数据库的文件数，设置默认为8<br>–quotaFiles arg    # number of files allower per db, requires –quota<br>–rest  # 开启简单的rest API<br>–repair    # 修复所有数据库run repair on all dbs<br>–repairpath arg    # 修复库生成的文件的目录,默认为目录名称dbpath<br>–slowms arg (&#x3D;100)     # value of slow for profile and console log<br>–smallfiles    # 使用较小的默认文件<br>–syncdelay arg (&#x3D;60)   # 数据写入磁盘的时间秒数(0&#x3D;never,不推荐)<br>–sysinfo   # 打印一些诊断系统信息<br>–upgrade   # 如果需要升级数据库</p><p>Replicaton 参数<br>–fastsync  # 从一个dbpath里启用从库复制服务，该dbpath的数据库是主库的快照，可用于快速启用同步<br>–autoresync    # 如果从库与主库同步数据差得多，自动重新同步，<br>–oplogSize arg     # 设置oplog的大小(MB)</p><p>主&#x2F;从参数<br>–master    # 主库模式<br>–slave     # 从库模式<br>–source arg    # 从库 端口号<br>–only arg  # 指定单一的数据库复制<br>–slavedelay arg    # 设置从库同步主库的延迟时间</p><p>Replica set(副本集)选项<br>–replSet arg   # 设置副本集名称</p><p>Sharding(分片)选项<br>–configsvr     # 声明这是一个集群的config服务,默认端口27019，默认目录&#x2F;data&#x2F;configdb<br>–shardsvr  # 声明这是一个集群的分片,默认端口27018<br>–noMoveParanoia    # 关闭偏执为moveChunk数据保存</p><ol><li><p>建立mongodb文件加，在里面新建3个文件夹（master、slave、arbiter）</p></li><li><p>将下载的mongodb安装解压后，在上面三个文件夹里每个放一份</p></li><li><p>在三个文件夹里分别依次建立master.config、slave.config、arbiter.config文件</p></li></ol><p>master.config</p><pre class="line-numbers language-config" data-language="config"><code class="language-config">dbpath&#x3D;D:\mongodb\master\data\dblogpath&#x3D;D:\mongodb\master\data\log\mongodb.logport &#x3D; 2222logappend &#x3D; truereplSet &#x3D; zjslave.configdbpath&#x3D;D:\mongodb\slave\data\dblogpath&#x3D;D:\mongodb\slave\data\log\mongodb.logport &#x3D; 3333logappend &#x3D; truereplSet &#x3D; zj<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>arbiter.config</p><pre class="line-numbers language-config" data-language="config"><code class="language-config">dbpath&#x3D;D:\mongodb\arbiter\data\dblogpath&#x3D;D:\mongodb\arbiter\data\log\mongodb.logport &#x3D; 4444logappend &#x3D; truereplSet &#x3D; zj<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="4"><li>新建一个bat文件安装mongodb服务，分别放到三个文件夹中，将标红的地方的名称修改一下</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">@echo off  @echo ---------------------welcome to use mongod auto run tools--------------  @echo. <span class="token operator">&amp;</span> pause  @echo ---------------------正在关闭冗余进程，骚等----------------------------   taskkill /im mongod.exe /f   @echo --------------------冗余进程执行完毕，安装服务器正在启动，骚等-------------  start D:<span class="token punctuation">\</span>mongodb<span class="token punctuation">\</span>master<span class="token punctuation">\</span>bin<span class="token punctuation">\</span>mongod.exe <span class="token parameter variable">--install</span> <span class="token parameter variable">--logpath</span><span class="token operator">=</span>D:<span class="token punctuation">\</span>mongodb<span class="token punctuation">\</span>master<span class="token punctuation">\</span>data<span class="token punctuation">\</span>log<span class="token punctuation">\</span>mongodb.log <span class="token parameter variable">--logappend</span>  <span class="token parameter variable">--dbpath</span><span class="token operator">=</span>D:<span class="token punctuation">\</span>mongodb<span class="token punctuation">\</span>master<span class="token punctuation">\</span>data<span class="token punctuation">\</span>db  <span class="token parameter variable">--serviceName</span> <span class="token string">"MongoDB2222"</span> <span class="token parameter variable">--serviceDisplayName</span> <span class="token string">"MongoDB2222"</span> <span class="token parameter variable">--port</span> <span class="token number">2222</span> <span class="token parameter variable">--replSet</span> zj@echo. <span class="token operator">&amp;</span> pause<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="5"><li><p>启动服务安装这三个服务</p></li><li><p>打开dos命令窗口，运行命令 cd D:\mongodb\master\bin，然后运行mongo 192.168.2.129:2222</p></li><li><p>运行命令use zjdb，这是切换到数据库zjdb了</p></li><li><p>输入</p></li></ol><p>config&#x3D;{_id:”zj”,members:[<br>{_id:0,host:”192.168.2.129:2222”},<br>{_id:1,host:”192.168.2.129:3333”},<br>{_id:2,host:”192.168.2.129:4444”,arbiterOnly:true}<br>]}，接着输入rs.initiate(config)回车；<br><img src="/images/2016111015391901.png" alt="2016111015391901.png"><br>最外层的_id表示replica set的名字，members里包含的是所有节点的地址以及优先级。优先级最高的即成为主节点，即这里的192.168.2.129:2222。</p><p>特别注 意的是，对于仲裁节点，需要有个特别的配置——arbiterOnly:true。这个千万不能少了，不然主备模式就不能生效。</p><pre><code>  配置的生效时间根据不同的机器配置会有长有短，配置不错的话基本上十几秒内就能生效，有的配置需要一两分钟。如果生效了，执行rs.status()命令会看到如下信息：</code></pre><p><img src="/images/2016111015391902.png" alt="2016111015391902.png"><br>结果说明</p><p>“health” : 1, #代表机器正常<br>“stteStr” : “PRIMARY”, #代表是主节点，可读写，</p><p>其中有以下几下状态:</p><p>STARTUP：刚加入到复制集中，配置还未加载<br>STARTUP2：配置已加载完，初始化状态<br>RECOVERING：正在恢复，不适用读<br>ARBITER: 仲裁者<br>DOWN：节点不可到达<br>UNKNOWN：未获取其他节点状态而不知是什么状态，一般发生在只有两个成员的架构，脑裂<br>REMOVED：移除复制集<br>ROLLBACK：数据回滚，在回滚结束时，转移到RECOVERING或SECONDARY状态<br>FATAL：出错。查看日志grep “replSet FATAL”找出错原因，重新做同步<br>PRIMARY：主节点<br>SECONDARY：备份节点</p><ol start="9"><li>设置备份节点可读，使用命令 db.getMongo().setSlaveOk()<br><img src="/images/2016111015391903.png" alt="2016111015391903.png"></li></ol>]]></content>
      
      
      <categories>
          
          <category> MongoDB </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MongoDB </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS判断所有IE浏览器所有版本</title>
      <link href="/js/js-pan-duan-suo-you-ie-liu-lan-qi-suo-you-ban-ben/"/>
      <url>/js/js-pan-duan-suo-you-ie-liu-lan-qi-suo-you-ban-ben/</url>
      
        <content type="html"><![CDATA[<p>原来判断IE浏览器版本很简单，但是随着版本的升级，navigator.userAgent显示的信息也不一样；下图是IE11显示的信息<br><img src="/images/2016101714521201.png" alt="2016101714521201.png"></p><p>原来的浏览器中有msie,但是IE11中没有，IE11中新增了trident</p><p>判断浏览器代码如下</p><pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">function Match() &#123;    var userAgent &#x3D; navigator.userAgent,        rMsie &#x3D; &#x2F;(msie\s|trident.*rv:)([\w.]+)&#x2F;,        rFirefox &#x3D; &#x2F;(firefox)\&#x2F;([\w.]+)&#x2F;,        rOpera &#x3D; &#x2F;(opera).+version\&#x2F;([\w.]+)&#x2F;,        rChrome &#x3D; &#x2F;(chrome)\&#x2F;([\w.]+)&#x2F;,        rSafari &#x3D; &#x2F;version\&#x2F;([\w.]+).*(safari)&#x2F;;    var browser;    var version;    var ua &#x3D; userAgent.toLowerCase();    var match &#x3D; rMsie.exec(ua);    if (match !&#x3D; null) &#123;        return &#123; browser: &quot;IE&quot;, version: match[2] || &quot;0&quot; &#125;;    &#125;    var match &#x3D; rFirefox.exec(ua);    if (match !&#x3D; null) &#123;        return &#123; browser: match[1] || &quot;&quot;, version: match[2] || &quot;0&quot; &#125;;    &#125;    var match &#x3D; rOpera.exec(ua);    if (match !&#x3D; null) &#123;        return &#123; browser: match[1] || &quot;&quot;, version: match[2] || &quot;0&quot; &#125;;    &#125;    var match &#x3D; rChrome.exec(ua);    if (match !&#x3D; null) &#123;        return &#123; browser: match[1] || &quot;&quot;, version: match[2] || &quot;0&quot; &#125;;    &#125;    var match &#x3D; rSafari.exec(ua);    if (match !&#x3D; null) &#123;        return &#123; browser: match[2] || &quot;&quot;, version: match[1] || &quot;0&quot; &#125;;    &#125;    if (match !&#x3D; null) &#123;        return &#123; browser: &quot;&quot;, version: &quot;0&quot; &#125;;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>引用上面的代码判断浏览器版本</p><pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">function initBrowserVersion()&#123;    var browserMatch &#x3D; Match();    alert(browserMatch.browser + &#39;--&#39; + browserMatch.version);    if (browserMatch.browser) &#123;        if (browserMatch.browser &#x3D;&#x3D; &quot;IE&quot;&amp;&amp;browserMatch.version&lt;8)        &#123;            alert(&quot;浏览器版本太低，请升级，以免影响使用体验！&quot;);            return false;        &#125;        else if (browserMatch.browser &#x3D;&#x3D; &quot;chrome&quot; &amp;&amp;  30&gt;browserMatch.version.substring(0,browserMatch.version.indexOf(&quot;.&quot;)))        &#123;           alert(&quot;浏览器版本太低，请升级，以免影响使用体验！&quot;);            return false;        &#125;        else if (browserMatch.browser &#x3D;&#x3D; &quot;firefox&quot; &amp;&amp; 40 &gt; browserMatch.version.substring(0, browserMatch.version.indexOf(&quot;.&quot;))) &#123;           alert(&quot;浏览器版本太低，请升级，以免影响使用体验！&quot;);            return false;        &#125;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>网页中引用优酷视频默认自动播放超清</title>
      <link href="/html-css/wang-ye-zhong-yin-yong-you-ku-shi-pin-mo-ren-zi-dong-bo-fang-chao-qing/"/>
      <url>/html-css/wang-ye-zhong-yin-yong-you-ku-shi-pin-mo-ren-zi-dong-bo-fang-chao-qing/</url>
      
        <content type="html"><![CDATA[<p>网页中会进场引用视频播放，怎么设置优酷视频自动播放超清</p><pre class="line-numbers language-HTML" data-language="HTML"><code class="language-HTML">&lt;!doctype html&gt;&lt;html lang&#x3D;&quot;en&quot;&gt; &lt;head&gt;  &lt;title&gt;自动播放超清测试&lt;&#x2F;title&gt; &lt;&#x2F;head&gt; &lt;body&gt;  &lt;embed src&#x3D;&#39;http:&#x2F;&#x2F;static.youku.com&#x2F;v1.0.0149&#x2F;v&#x2F;swf&#x2F;loader.swf?VideoIDS&#x3D;XMTM2NjA5NTUxNg&amp;&amp;quality&#x3D;high&amp;isAutoPlay&#x3D;true&amp;isShowRelatedVideo&#x3D;false&#39;  width&#x3D;&#39;480&#39; height&#x3D;&#39;400&#39; align&#x3D;&#39;middle&#39; flashvars&#x3D;&quot;winType&#x3D;1&quot; allowScriptAccess&#x3D;&#39;always&#39; allowFullScreen&#x3D;&#39;true&#39; mode&#x3D;&#39;transparent&#39; type&#x3D;&#39;application&#x2F;x-shockwave-flash&#39;&gt;&lt;&#x2F;embed&gt; &lt;&#x2F;body&gt;&lt;&#x2F;html&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>要引用优酷中的视频，我们只需要复制优酷中的代码（如下）粘贴到网页中就可以了：</p><pre class="line-numbers language-HTML" data-language="HTML"><code class="language-HTML">&lt;embed src&#x3D;&#39;http:&#x2F;&#x2F;player.youku.com&#x2F;player.php&#x2F;Type&#x2F;Folder&#x2F;Fid&#x2F;&#x2F;Ob&#x2F;&#x2F;sid&#x2F;XMTc2MjE2NTc1Mg&#x3D;&#x3D;&#x2F;v.swf&#39; quality&#x3D;&#39;high&#39; width&#x3D;&#39;480&#39; height&#x3D;&#39;400&#39; align&#x3D;&#39;middle&#39; allowScriptAccess&#x3D;&#39;always&#39; allowFullScreen&#x3D;&#39;true&#39; mode&#x3D;&#39;transparent&#39; type&#x3D;&#39;application&#x2F;x-shockwave-flash&#39;&gt;&lt;&#x2F;embed&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>复制好后，我们将src的播放器的地址修改成“<a href="http://static.youku.com/v1.0.0149/v/swf/loader.swf%E2%80%9D%EF%BC%9B%E5%A4%8D%E5%88%B6%E5%87%BA%E6%9D%A5%E7%9A%84%E4%BB%A3%E7%A0%81sid%E5%90%8E%E9%9D%A2%E7%9A%84%E4%B8%80%E4%B8%B2%E6%98%AF%E4%BC%98%E9%85%B7%E8%A7%86%E9%A2%91%E7%9A%84id%EF%BC%8C%E8%BF%99%E6%97%B6%E6%88%91%E4%BB%AC%E9%9C%80%E8%A6%81%E5%B0%86%E5%9C%B0%E5%9D%80%E4%BF%AE%E6%94%B9%E4%B8%BAhttp://static.youku.com/v1.0.0149/v/swf/loader.swf?VideoIDS=XMTc2MjE2NTc1Mg&quality=high&isAutoPlay=true&winType=adshow">http://static.youku.com/v1.0.0149/v/swf/loader.swf”；复制出来的代码sid后面的一串是优酷视频的id，这时我们需要将地址修改为http://static.youku.com/v1.0.0149/v/swf/loader.swf?VideoIDS=XMTc2MjE2NTc1Mg&amp;quality=high&amp;isAutoPlay=true&amp;winType=adshow</a></p><p>参数：<br><strong>VideoIDS</strong>表示视频url的id</p><p><strong>quality</strong>表示视频的清楚度，超清是high，开始自动播放默认是超清只需在后面添加上&amp;quality&#x3D;high</p><p><strong>isAutoPlay</strong>表示视频是否自动播放，true是自动播放；false是不自动播放</p><p><strong>winType</strong>表示视频是否显示下方状态栏，adshow表示不显示；改参数也可以在别处设置如</p><pre class="line-numbers language-HTML" data-language="HTML"><code class="language-HTML">&lt;embed src&#x3D;&#39;http:&#x2F;&#x2F;static.youku.com&#x2F;v1.0.0149&#x2F;v&#x2F;swf&#x2F;loader.swf?VideoIDS&#x3D;XMTc2MjE2NTc1Mg&#39; quality&#x3D;&#39;high&#39; width&#x3D;&#39;480&#39; height&#x3D;&#39;400&#39; align&#x3D;&#39;middle&#39; allowScriptAccess&#x3D;&#39;always&#39; flashvars&#x3D;&quot;winType&#x3D;1&quot; allowFullScreen&#x3D;&#39;true&#39; mode&#x3D;&#39;transparent&#39; type&#x3D;&#39;application&#x2F;x-shockwave-flash&#39;&gt;&lt;&#x2F;embed&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>设置flashvars中设置winType&#x3D;1则显示下方状态栏；设置为winType&#x3D;adshow则不显示</p><p>如果想将mv视频已mp3格式呈现在空间或者博客中，只需将代码修改成如下格式</p><p><a href="http://static.youku.com/v/swf/qplayer.swf?VideoIDS=XMTc2MjE2NTc1Mg&isAutoPlay=true&isShowRelatedVideo=false&embedid=-&showAd=0#.mp3">http://static.youku.com/v/swf/qplayer.swf?VideoIDS=XMTc2MjE2NTc1Mg&amp;isAutoPlay=true&amp;isShowRelatedVideo=false&amp;embedid=-&amp;showAd=0#.mp3</a></p><p>注意后面的后缀变成MP3格式了，其中isShowRelatedVideo表示不显示相关视频showAd表示不显示广告（不是所有广告都能屏蔽）</p><p>参考文章：<a href="http://lanyes.org/web/164.html">http://lanyes.org/web/164.html</a></p><p><a href="http://www.16css.com/page_code/321.html">http://www.16css.com/page_code/321.html</a></p>]]></content>
      
      
      <categories>
          
          <category> HTML/CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTML/CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SQL 还原或备份失败数据库变成单个用户模式无法访问</title>
      <link href="/mysql-sql-oracle/sql-huan-yuan-huo-bei-fen-shi-bai-shu-ju-ku-bian-cheng-dan-ge-yong-hu-mo-shi-wu-fa-fang-wen/"/>
      <url>/mysql-sql-oracle/sql-huan-yuan-huo-bei-fen-shi-bai-shu-ju-ku-bian-cheng-dan-ge-yong-hu-mo-shi-wu-fa-fang-wen/</url>
      
        <content type="html"><![CDATA[<p>还原数据失败了，数据库变成单个用户模式，无法操作了，执行下面的语句就可以了</p><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">USE master GODECLARE @SQL VARCHAR(MAX);SET @SQL&#x3D;&#39;&#39;SELECT @SQL&#x3D;@SQL+&#39;; KILL &#39;+RTRIM(SPID)FROM master..sysprocessesWHERE dbid&#x3D;DB_ID(&#39;数据库名称&#39;);EXEC(@SQL);ALTER DATABASE 数据库名称 SET MULTI_USER<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>百度webuploader 上传演示例子</title>
      <link href="/web/bai-du-webuploader-shang-chuan-yan-shi-li-zi/"/>
      <url>/web/bai-du-webuploader-shang-chuan-yan-shi-li-zi/</url>
      
        <content type="html"><![CDATA[<p>前端代码</p><pre class="line-numbers language-HTML" data-language="HTML"><code class="language-HTML">&lt;%@ Page Language&#x3D;&quot;C#&quot; AutoEventWireup&#x3D;&quot;true&quot; CodeBehind&#x3D;&quot;baiduWebUpload.aspx.cs&quot; Inherits&#x3D;&quot;School.Web.TestDemo.baiduWebUpload&quot; %&gt; &lt;!DOCTYPE html&gt; &lt;html xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;1999&#x2F;xhtml&quot;&gt;&lt;head runat&#x3D;&quot;server&quot;&gt;&lt;meta http-equiv&#x3D;&quot;Content-Type&quot; content&#x3D;&quot;text&#x2F;html; charset&#x3D;utf-8&quot;&#x2F;&gt;    &lt;title&gt;百度上传控件&lt;&#x2F;title&gt;    &lt;link href&#x3D;&quot;&#x2F;Scripts&#x2F;fileupload&#x2F;webuploader&#x2F;picstyle.css&quot; rel&#x3D;&quot;stylesheet&quot; &#x2F;&gt;    &lt;link href&#x3D;&quot;&#x2F;Scripts&#x2F;fileupload&#x2F;webuploader&#x2F;webuploader.css&quot; rel&#x3D;&quot;stylesheet&quot; &#x2F;&gt;    &lt;link href&#x3D;&quot;&#x2F;Scripts&#x2F;fileupload&#x2F;webuploader&#x2F;demo.css&quot; rel&#x3D;&quot;stylesheet&quot; &#x2F;&gt;    &lt;script src&#x3D;&quot;..&#x2F;..&#x2F;Scripts&#x2F;hadd&#x2F;js&#x2F;bootstrap.min.js&quot;&gt;&lt;&#x2F;script&gt;--%&gt;    &lt;script src&#x3D;&quot;&#x2F;Scripts&#x2F;jquery&#x2F;jquery-1.10.2.min.js&quot;&gt;&lt;&#x2F;script&gt;    &lt;script src&#x3D;&quot;&#x2F;Scripts&#x2F;fileupload&#x2F;webuploader&#x2F;webuploader.js&quot;&gt;&lt;&#x2F;script&gt;    &lt;script type&#x3D;&quot;text&#x2F;javascript&quot;&gt;        jQuery(function () &#123;             &#x2F;&#x2F;定义参数            var $ &#x3D; jQuery,                    $wrap &#x3D; $(&#39;#uploader&#39;),                    $queue &#x3D; $(&#39;&lt;ul class&#x3D;&quot;filelist&quot;&gt;&lt;&#x2F;ul&gt;&#39;)                           .appendTo($wrap.find(&#39;.queueList&#39;)),                    fileCount &#x3D; 0,                    fileSize &#x3D; 0,                    ratio &#x3D; window.devicePixelRatio || 1,                    &#x2F;&#x2F; 缩略图大小                    thumbnailWidth &#x3D; 110 * ratio,                    thumbnailHeight &#x3D; 110 * ratio,                    percentages &#x3D; &#123;&#125;,                    &#x2F;&#x2F;是否支持旋转                    supportTransition &#x3D; (function () &#123;                        var s &#x3D; document.createElement(&#39;p&#39;).style,                            r &#x3D; &#39;transition&#39; in s ||                                &#39;WebkitTransition&#39; in s ||                                &#39;MozTransition&#39; in s ||                                &#39;msTransition&#39; in s ||                                &#39;OTransition&#39; in s;                        s &#x3D; null;                        return r;                    &#125;)(),                    state &#x3D; &#39;pedding&#39;,                    &#x2F;&#x2F;上传按钮                    $upload &#x3D; $wrap.find(&#39;.uploadBtn&#39;),                    errMsg &#x3D; &#39;上传失败，请重试&#39;;            uploader;             &#x2F;&#x2F;实例化            uploader &#x3D; WebUploader.create(&#123;                pick: &#123;                    id: &#39;#filePicker&#39;,                    label: &#39;点击选择文件&#39;                &#125;,                 accept: &#123;                    title: &#39;myself&#39;,                    extensions: &#39;gif,jpg,jpeg,bmp,png,pdf,doc,docx&#39;,                    mimeTypes: &#39;image&#x2F;*,application&#x2F;pdf,application&#x2F;msword,application&#x2F;vnd.openxmlformats-officedocument.wordprocessingml.document&#39;                &#125;,                 &#x2F;&#x2F; swf文件路径                swf: &#39;&#x2F;Scripts&#x2F;fileupload&#x2F;webuploader&#x2F;Uploader.swf&#39;,                 server: &#39;&#x2F;TestDemo&#x2F;ajax&#x2F;baiduUpload.ashx&#39;,                duplicate: true             &#125;);             function setState(val) &#123;                var file, stats;                 if (val &#x3D;&#x3D;&#x3D; state) &#123;                    return;                &#125;                 $upload.removeClass(&#39;state-&#39; + state);                $upload.addClass(&#39;state-&#39; + val);                state &#x3D; val;                 switch (state) &#123;                    case &#39;pedding&#39;:      &#x2F;&#x2F;待定                        $queue.parent().removeClass(&#39;filled&#39;);                        $queue.hide();                        uploader.refresh();                        break;                     case &#39;ready&#39;:                        $(&#39;#filePicker&#39;).removeClass(&#39;element-invisible&#39;);                        $queue.parent().addClass(&#39;filled&#39;);                        $queue.show();                         uploader.refresh();                        break;                     case &#39;uploading&#39;:                        $(&#39;#filePicker&#39;).addClass(&#39;element-invisible&#39;);                         $upload.text(&#39;暂停上传&#39;);                        break;                     case &#39;paused&#39;:                         $upload.text(&#39;继续上传&#39;);                        break;                     case &#39;confirm&#39;:                         $upload.text(&#39;开始上传&#39;).addClass(&#39;disabled&#39;);                         stats &#x3D; uploader.getStats();                        if (stats.successNum &amp;&amp; !stats.uploadFailNum) &#123;                            setState(&#39;finish&#39;);                            return;                        &#125;                        break;                    case &#39;finish&#39;:                        stats &#x3D; uploader.getStats();                        if (stats.successNum) &#123;                            alert(&#39;上传成功&#39;);                        &#125; else &#123;                            &#x2F;&#x2F; 没有成功的图片，重设                            state &#x3D; &#39;done&#39;;                            location.reload();                        &#125;                        break;                &#125;                 if (state !&#x3D; &quot;ready&quot;) &#123;                    $(&#39;#filePicker&#39;).removeClass(&#39;element-invisible&#39;);                     $upload.text(&#39;开始上传&#39;).removeClass(&#39;disabled&#39;);                &#125;            &#125;             function addFile(file) &#123;                var $li &#x3D; $(&#39;&lt;li id&#x3D;&quot;&#39; + file.id + &#39;&quot;&gt;&#39; +                          &#39;&lt;p class&#x3D;&quot;title&quot;&gt;&#39; + file.name + &#39;&lt;&#x2F;p&gt;&#39; +                          &#39;&lt;p class&#x3D;&quot;imgWrap&quot;&gt;&lt;&#x2F;p&gt;&#39; +                          &#39;&lt;p class&#x3D;&quot;progress&quot;&gt;&lt;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;p&gt;&#39; +                          &#39;&lt;&#x2F;li&gt;&#39;),                       $btns &#x3D; $(&#39;&lt;div class&#x3D;&quot;file-panel&quot;&gt;&#39; +                          &#39;&lt;span class&#x3D;&quot;cancel&quot;&gt;删除&lt;&#x2F;span&gt;&#39; +                          &#39;&lt;span class&#x3D;&quot;rotateRight&quot;&gt;向右旋转&lt;&#x2F;span&gt;&#39; +                          &#39;&lt;span class&#x3D;&quot;rotateLeft&quot;&gt;向左旋转&lt;&#x2F;span&gt;&lt;&#x2F;div&gt;&#39;).appendTo($li),                      $prgress &#x3D; $li.find(&#39;p.progress span&#39;),                      $wrap &#x3D; $li.find(&#39;p.imgWrap&#39;),                      $info &#x3D; $(&#39;&lt;p class&#x3D;&quot;error&quot;&gt;&lt;&#x2F;p&gt;&#39;),                         showError &#x3D; function (code) &#123;                            switch (code) &#123;                                case &#39;exceed_size&#39;:                                    text &#x3D; &#39;文件大小超出&#39;;                                    break;                                 case &#39;interrupt&#39;:                                    text &#x3D; &#39;上传暂停&#39;;                                    break;                                 default:                                     text &#x3D; errMsg;;                                    break;                            &#125;                            $info.text(text).appendTo($li);                        &#125;;                   &#x2F;&#x2F;1.生成缩略图                if (file.getStatus() &#x3D;&#x3D;&#x3D; &#39;invalid&#39;) &#123;  &#x2F;&#x2F;不合格                    showError(file.statusText);                &#125; else &#123;                    &#x2F;&#x2F; @todo lazyload                    $wrap.text(&#39;预览中&#39;);                    uploader.makeThumb(file, function (error, src) &#123;                        if (error) &#123;                            $wrap.text(&#39;不能预览&#39;);                            return;                        &#125;                         var img &#x3D; $(&#39;&lt;img src&#x3D;&quot;&#39; + src + &#39;&quot;&gt;&#39;);                        $wrap.empty().append(img);                    &#125;, thumbnailWidth, thumbnailHeight);                     percentages[file.id] &#x3D; [file.size, 0];                    file.rotation &#x3D; 0;                &#125;                &#x2F;&#x2F;2.文件状态变化                file.on(&#39;statuschange&#39;, function (cur, prev) &#123;                    &#x2F;&#x2F;前一个状态                    if (prev &#x3D;&#x3D;&#x3D; &#39;progress&#39;) &#123;             &#x2F;&#x2F;上传中                        $prgress.hide().width(0);                    &#125;                    else if (prev &#x3D;&#x3D;&#x3D; &#39;queued&#39;) &#123;          &#x2F;&#x2F;进入队列,等待上传                        $li.off(&#39;mouseenter mouseleave&#39;);                        $btns.remove();                    &#125;                     &#x2F;&#x2F; 成功                    if (cur &#x3D;&#x3D;&#x3D; &#39;error&#39; || cur &#x3D;&#x3D;&#x3D; &#39;invalid&#39;) &#123;    &#x2F;&#x2F;失败不合格                        showError(file.statusText);                        percentages[file.id][1] &#x3D; 1;                    &#125; else if (cur &#x3D;&#x3D;&#x3D; &#39;interrupt&#39;) &#123;           &#x2F;&#x2F;暂停                        showError(&#39;interrupt&#39;);                    &#125; else if (cur &#x3D;&#x3D;&#x3D; &#39;queued&#39;) &#123;              &#x2F;&#x2F;队列中                        percentages[file.id][1] &#x3D; 0;                    &#125; else if (cur &#x3D;&#x3D;&#x3D; &#39;progress&#39;) &#123;            &#x2F;&#x2F;上传中                        $info.remove();                        $prgress.css(&#39;display&#39;, &#39;block&#39;);                    &#125; else if (cur &#x3D;&#x3D;&#x3D; &#39;complete&#39;) &#123;            &#x2F;&#x2F;上传完成                        $li.append(&#39;&lt;span class&#x3D;&quot;success&quot;&gt;&lt;&#x2F;span&gt;&#39;);                    &#125;                     $li.removeClass(&#39;state-&#39; + prev).addClass(&#39;state-&#39; + cur);                &#125;);                &#x2F;&#x2F;3.缩略图标签 旋转删除                $li.on(&#39;mouseenter&#39;, function () &#123;                    $btns.stop().animate(&#123; height: 30 &#125;);                &#125;);                 $li.on(&#39;mouseleave&#39;, function () &#123;                    $btns.stop().animate(&#123; height: 0 &#125;);                &#125;);                $btns.on(&#39;click&#39;, &#39;span&#39;, function () &#123;                    var index &#x3D; $(this).index(),                        deg;                     switch (index) &#123;                        case 0:                            uploader.removeFile(file);                            return;                         case 1:                            file.rotation +&#x3D; 90;                            break;                         case 2:                            file.rotation -&#x3D; 90;                            break;                    &#125;                     if (supportTransition) &#123;                        deg &#x3D; &#39;rotate(&#39; + file.rotation + &#39;deg)&#39;;                        $wrap.css(&#123;                            &#39;-webkit-transform&#39;: deg,                            &#39;-mos-transform&#39;: deg,                            &#39;-o-transform&#39;: deg,                            &#39;transform&#39;: deg                        &#125;);                    &#125; else &#123;                        $wrap.css(&#39;filter&#39;, &#39;progid:DXImageTransform.Microsoft.BasicImage(rotation&#x3D;&#39; + (~~((file.rotation &#x2F; 90) % 4 + 4) % 4) + &#39;)&#39;);                     &#125;                &#125;);                 $li.appendTo($queue);            &#125;             function removeFile(file) &#123;                var $li &#x3D; $(&#39;#&#39; + file.id);                delete percentages[file.id];                $li.off().find(&#39;.file-panel&#39;).off().end().remove();            &#125;              uploader.onUploadProgress &#x3D; function (file, percentage) &#123;                var $li &#x3D; $(&#39;#&#39; + file.id),                    $percent &#x3D; $li.find(&#39;.progress span&#39;);                 $percent.css(&#39;width&#39;, percentage * 100 + &#39;%&#39;);                percentages[file.id][1] &#x3D; percentage;            &#125;;             uploader.onFileQueued &#x3D; function (file) &#123;                fileCount++;                fileSize +&#x3D; file.size;                 addFile(file);                setState(&#39;ready&#39;);            &#125;;             uploader.onFileDequeued &#x3D; function (file) &#123;                fileCount--;                fileSize -&#x3D; file.size;                 if (!fileCount) &#123;                    setState(&#39;pedding&#39;);                &#125;                 removeFile(file);              &#125;;             uploader.on(&#39;all&#39;, function (type) &#123;                var stats;                switch (type) &#123;                    case &#39;uploadFinished&#39;:                        setState(&#39;confirm&#39;);                        break;                     case &#39;startUpload&#39;:                        setState(&#39;uploading&#39;);                        break;                     case &#39;stopUpload&#39;:                        setState(&#39;paused&#39;);                        break;                 &#125;            &#125;);             uploader.onError &#x3D; function (code) &#123;                alert(&#39;Eroor: &#39; + code);            &#125;;             uploader.on(&#39;uploadAccept&#39;, function (file, response) &#123;                  var hasError &#x3D; (response[&quot;result&quot;] &#x3D;&#x3D;&#x3D; &quot;error&quot;);                 if (hasError) &#123;                    &#x2F;&#x2F; 通过return false来告诉组件，此文件上传有错。                     errMsg &#x3D; response[&#39;error&#39;][&quot;message&quot;];                    return false;                &#125; else &#123;                 &#125;            &#125;);              uploader.on(&#39;uploadBeforeSend&#39;, function (file, data) &#123;                data.opr &#x3D; &#39;newupload&#39;;                data.type &#x3D; $(&quot;#hidtype&quot;).val();                data.pid &#x3D; $(&quot;#hidpid&quot;).val();             &#125;);              &#x2F;&#x2F;上传按钮            $upload.on(&#39;click&#39;, function () &#123;                if ($(this).hasClass(&#39;disabled&#39;)) &#123;                    return false;                &#125;                 if (state &#x3D;&#x3D;&#x3D; &#39;ready&#39;) &#123;                    uploader.upload();                &#125; else if (state &#x3D;&#x3D;&#x3D; &#39;paused&#39;) &#123;                    uploader.upload();                &#125; else if (state &#x3D;&#x3D;&#x3D; &#39;uploading&#39;) &#123;                    uploader.stop();                &#125;            &#125;);             $upload.addClass(&#39;state-&#39; + state);        &#125;)    &lt;&#x2F;script&gt;&lt;&#x2F;head&gt;&lt;body&gt;    &lt;form id&#x3D;&quot;frmUpload&quot; runat&#x3D;&quot;server&quot;&gt;    &lt;div class&#x3D;&quot;page-container&quot;&gt;        &lt;div id&#x3D;&quot;uploader&quot; class&#x3D;&quot;wu-example&quot;&gt;            &lt;div class&#x3D;&quot;queueList&quot;&gt;                         &lt;&#x2F;div&gt;            &lt;div class&#x3D;&quot;statusBar&quot; &gt;                &lt;div class&#x3D;&quot;btns&quot;&gt;                    &lt;div id&#x3D;&quot;filePicker&quot;&gt;&lt;&#x2F;div&gt;                    &lt;div class&#x3D;&quot;uploadBtn&quot;&gt;开始上传&lt;&#x2F;div&gt;                &lt;&#x2F;div&gt;            &lt;&#x2F;div&gt;        &lt;&#x2F;div&gt;                   &lt;&#x2F;div&gt;    &lt;&#x2F;form&gt;    &lt;&#x2F;body&gt;&lt;&#x2F;html&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>一般处理程序代码</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">using School.Infrastructure.Common;using System;using System.Collections.Generic;using System.IO;using System.Linq;using System.Text;using System.Web; namespace School.Web.TestDemo.ajax&#123;    &#x2F;&#x2F;&#x2F; &lt;summary&gt;    &#x2F;&#x2F;&#x2F; baiduUpload 的摘要说明    &#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;    public class baiduUpload : IHttpHandler    &#123;         public void ProcessRequest(HttpContext context)        &#123;            context.Response.ContentType &#x3D; &quot;text&#x2F;plain&quot;;            HttpRequest Request &#x3D; context.Request;            HttpResponse Response &#x3D; context.Response;            string name &#x3D; Request[&quot;name&quot;];            string opr &#x3D; Request[&quot;opr&quot;];            string result &#x3D; string.Empty;            if(opr&#x3D;&#x3D;&quot;newupload&quot;)            &#123;                result &#x3D; NewUploadImg(Request, name);            &#125;            context.Response.Write(result);        &#125;          private string NewUploadImg(HttpRequest Request, string filename)        &#123;            var error &#x3D; new error &#123; code &#x3D; &quot;101&quot;, message &#x3D; &quot;Upload Failed&quot; &#125;;            JsonResultWebUpload jresult &#x3D; new JsonResultWebUpload(&quot;2.0&quot;) &#123; result &#x3D; &quot;error&quot; &#125;;            int filecount &#x3D; Request.Files.Count;            HttpPostedFile img &#x3D; null;             if (filecount &gt; 0 &amp;&amp; !string.IsNullOrEmpty(filename))            &#123;                img &#x3D; Request.Files[0];            &#125;            else            &#123;                jresult.error &#x3D; error;                jresult.id &#x3D; Request[&quot;id&quot;];                return JsonHelper.SerializeObject(jresult);            &#125;            byte[] bytes &#x3D; new byte[img.ContentLength];            using (BinaryReader reader &#x3D; new BinaryReader(img.InputStream, Encoding.UTF8))            &#123;                bytes &#x3D; reader.ReadBytes(img.ContentLength);            &#125;            string filefullpath &#x3D; HttpContext.Current.Server.MapPath(&quot;~&#x2F;UploadFiles&#x2F;&quot;) + filename;            using (FileStream fsWrite &#x3D; new FileStream(filefullpath, FileMode.OpenOrCreate))            &#123;                fsWrite.Write(bytes, 0, bytes.Length);            &#125;             if (true)            &#123;                jresult.result &#x3D; &quot;success&quot;;                jresult.id &#x3D; Request[&quot;id&quot;];            &#125;             return JsonHelper.SerializeObject(jresult);        &#125;         public bool IsReusable        &#123;            get            &#123;                return false;            &#125;        &#125;    &#125;     public class JsonResultWebUpload    &#123;        public JsonResultWebUpload()        &#123;         &#125;        public JsonResultWebUpload(string jsonrpc)        &#123;            this.jsonrpc &#x3D; jsonrpc;         &#125;        public string jsonrpc &#123; get; set; &#125;         public string result &#123; get; set; &#125;         public error error &#123; get; set; &#125;         public string id &#123; get; set; &#125;    &#125;     public class error    &#123;        public string code &#123; get; set; &#125;         public string message &#123; get; set; &#125;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>css样式</p><p>picstyle.css</p><pre class="line-numbers language-CSS" data-language="CSS"><code class="language-CSS">body &#123;    margin-top: 50px;    font-size: 16px;    font-family: &quot;Myriad Pro&quot;, &quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,&quot;å¾®è½¯é›…é»‘&quot;, Calibri, Helvetica, tahoma,arial,simsun,&quot;å®‹ä½“&quot;, sans-serif;    line-height: 1.5;    -webkit-font-smoothing: antialiased;&#125;.jumbotron &#123;    background: transparent url(images&#x2F;banner.jpg) repeat-x 50% 0%;    color: #fff;    text-shadow: 1px 1px 1px #3b3262;    margin-bottom: 0;&#125;.jumbotron .container &#123;   position: relative;&#125;.jumbotron .github-btns &#123;    position: absolute;    bottom: 0;    right: 0;&#125;.fetature &#123;    margin-top: 30px;&#125;.page-body &#123;    min-height: 450px;&#125;.page-container &#123;    margin-top: 10px;&#125;.page-container h1,.page-container h2,.page-container h3 &#123;    padding-top: 70px;    margin-top: -50px;&#125;.logo &#123;    position: relative;    padding-left: 60px;&#125;.logo span &#123;    position: absolute;    left: 15px;    top: 8px;    font-size: 2em;    text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.25);&#125;.logo.active &#123;  color: #fff;&#125;@media (min-width: 768px) &#123;    .fetature .row .col-lg-4 &#123;        min-height: 250px;    &#125;&#125;.footer &#123;    width: 100%;    overflow: hidden;    color: #f2f2f2;    background: #212121;    margin-top: 50px;&#125;.footer-fixed-bottom &#123;    position: fixed;    bottom: 0;&#125;.footer a &#123;    color: #f2f2f2;&#125;.footer .footer-inner &#123;    margin: 15px;&#125;.wu-example &#123;    position: relative;    padding: 45px 15px 15px;    margin: 15px 0;    background-color: #fafafa;    box-shadow: inset 0 3px 6px rgba(0, 0, 0, .05);    border-color: #e5e5e5 #eee #eee;    border-style: solid;    border-width: 1px 0;&#125;.wu-example:after &#123;    content:&quot;请上传证件&quot;;    position: absolute;    top: 15px;    left: 15px;    font-size: 12px;    font-weight: bold;    color: #bbb;    text-transform: uppercase;    letter-spacing: 1px;&#125;@media (min-width: 768px) &#123;    .bs-example &#123;        margin-left: 0;        margin-right: 0;        background-color: #fff;        border-width: 1px;        border-color: #ddd;        border-radius: 4px 4px 0 0;        box-shadow: none;    &#125;&#125;.post-toc &#123;    margin-top: 30px;    margin-bottom: 30px;    padding-top: 10px;    padding-bottom: 10px;    text-shadow: 0 1px 0 #fff;    background-color: #f7f5fa;    border-radius: 5px;&#125;.post-toc .nav &gt; li &gt; a &#123;    display: block;    color: #716b7a;    padding: 5px 20px;&#125;.post-toc .nav .nav &gt; li &gt; a &#123;    padding-top: 3px;    padding-bottom: 3px;    padding-left: 30px;    font-size: 90%;&#125;.post-toc.affix &#123;    position: static;&#125;.post-toc .nav .nav &#123;  display: none;  margin-bottom: 8px;&#125;@media (min-width: 992px) &#123;    .post-toc.affix &#123;        position: fixed;        width: 213px;        top: 50px;    &#125;    .post-toc .nav &gt; .active &gt; ul &#123;      display: block;    &#125;&#125;@media (min-width: 1200px) &#123;    .post-toc.affix &#123;        width: 263px;    &#125;    .post-toc .nav &gt; .active &gt; ul &#123;      display: block;    &#125;&#125;.post-toc .nav &gt; .active &gt; a,.post-toc .nav &gt; .active:hover &gt; a,.post-toc .nav &gt; .active:focus &gt; a &#123;    font-weight: bold;    color: #563d7c;    background-color: transparent;    border-right: 1px solid #563d7c;&#125;.friends-links &#123;    margin: 0;    padding: 0;    list-style: none;&#125;.weixin &#123;  text-align: center;  display: inline-block;&#125;.weixin img &#123;  width: 80px;&#125;&#x2F;**********************************  COMMENTS*********************************&#x2F;.comment &#123;    background-color: transparent;    border-color: #CACACA;    border-style: solid;    border-width: 1px;    color: black;    display: block;    margin-bottom: 10px;    margin-top: 10px;    padding: 0px;    width: 100%;  &#125;.comment .commentheader &#123;  border-bottom-color: #CACACA;  border-bottom-style: solid;  border-bottom-width: 1px;  color: black;  background-image: -webkit-linear-gradient(#F8F8F8,#E1E1E1);  background-image: -moz-linear-gradient(#F8F8F8,#E1E1E1);  color: black;  display: block;  float: left;  font-family: helvetica, arial, freesans, clean, sans-serif;  font-size: 12px;  font-style: normal;  font-variant: normal;  font-weight: normal;  height: 33px;  line-height: 33px;  margin: 0px;  overflow-x: hidden;  overflow-y: hidden;  padding: 0px;  text-overflow: ellipsis;  text-shadow: rgba(255, 255, 255, 0.699219) 1px 1px 0px;  white-space: nowrap;  width: 100%;&#125;.comment .commentheader .commentgravatar &#123;  background-attachment: scroll;  background-clip: border-box;  background-color: white;  background-image: none;  background-origin: padding-box;  border-color: #C8C8C8;  border-style: solid;  border-width: 1px;  color: black;  display: inline-block;  float: none;  font-family: helvetica, arial, freesans, clean, sans-serif;  font-size: 1px;  font-style: normal;  font-variant: normal;  font-weight: normal;  height: 24px;  line-height: 1px;  margin-left: 5px;  margin-right: 3px;  margin-top: -2px;  overflow-x: visible;  overflow-y: visible;  padding: 1px;  text-overflow: clip;  text-shadow: rgba(255, 255, 255, 0.699219) 1px 1px 0px;  vertical-align: middle;  white-space: nowrap;  width: 24px;&#125;.comment .commentheader a:link &#123;  text-decoration: none;&#125;.comment .commentheader a:hover &#123;  border-bottom:1px solid;&#125;.comment .commentheader .commentuser &#123;  background-color: transparent;  color: black;  display: inline;  float: none;  font-family: helvetica, arial, freesans, clean, sans-serif;  font-size: 12px;  font-style: normal;  font-variant: normal;  font-weight: bold;  height: 0px;  line-height: 16px;  margin-left: 5px;  margin-right: 10px;  overflow-x: visible;  overflow-y: visible;  padding: 0px;  text-overflow: clip;  text-shadow: rgba(255, 255, 255, 0.699219) 1px 1px 0px;  white-space: nowrap;  width: 0px;&#125;.comment .commentheader .commentdate &#123;  background-color: transparent;  color: #777;  display: inline;  float: none;  font-family: helvetica, arial, freesans, clean, sans-serif;  font-size: 11px;  font-style: normal;  font-variant: normal;  font-weight: normal;  height: 0px;  line-height: 33px;  margin: 0px;  overflow-x: visible;  overflow-y: visible;  padding: 0px;  text-overflow: clip;  text-shadow: rgba(255, 255, 255, 0.699219) 1px 1px 0px;  white-space: nowrap;  width: 20em;&#125;.comment .commentbody &#123;  background-attachment: scroll;  background-clip: border-box;  background-color: transparent;  background-image: none;  background-origin: padding-box;  color: #333;  display: block;  margin-bottom: 1em;  margin-left: 1em;  margin-right: 1em;  margin-top: 40px;  overflow-x: visible;  overflow-y: visible;  padding: 0em;  position: static;  width: 96%;  word-wrap: break-word;&#125;.comment .commentbody p &#123;  margin-bottom: 0.5em;  margin-top: 0.5em;  margin-left: 0em;  margin-right: 0em;&#125;.comment .commentbody pre &#123;  border: 0px solid #ddd;  background-color: #eef;  padding: 0 .4em;&#125;.comment .commentbody pre code &#123;  border: 0px solid #ddd;&#125;.comment .commentbody code &#123;  border: 1px solid #ddd;  background-color: #eef;  font-size: 85%;  padding: 0 .2em;&#125;&#x2F;*demoæ ·å¼*&#x2F;#picker &#123;    display: inline-block;    line-height: 1.428571429;    vertical-align: middle;    margin: 0 12px 0 0;&#125;#picker .webuploader-pick &#123;    padding: 6px 12px;    display: block;&#125;#uploader-demo .thumbnail &#123;    width: 110px;    height: 110px;&#125;#uploader-demo .thumbnail img &#123;    width: 100%;&#125;.uploader-list &#123;    width: 100%;    overflow: hidden;&#125;.file-item &#123;    float: left;    position: relative;    margin: 0 20px 20px 0;    padding: 4px;&#125;.file-item .error &#123;    position: absolute;    top: 4px;    left: 4px;    right: 4px;    background: red;    color: white;    text-align: center;    height: 20px;    font-size: 14px;    line-height: 23px;&#125;.file-item .info &#123;    position: absolute;    left: 4px;    bottom: 4px;    right: 4px;    height: 20px;    line-height: 20px;    text-indent: 5px;    background: rgba(0, 0, 0, 0.6);    color: white;    overflow: hidden;    white-space: nowrap;    text-overflow : ellipsis;    font-size: 12px;    z-index: 10;&#125;.upload-state-done:after &#123;    content:&quot;\f00c&quot;;    font-family: FontAwesome;    font-style: normal;    font-weight: normal;    line-height: 1;    -webkit-font-smoothing: antialiased;    -moz-osx-font-smoothing: grayscale;    font-size: 32px;    position: absolute;    bottom: 0;    right: 4px;    color: #4cae4c;    z-index: 99;&#125;.file-item .progress &#123;    position: absolute;    right: 4px;    bottom: 4px;    height: 3px;    left: 4px;    height: 4px;    overflow: hidden;    z-index: 15;    margin:0;    padding: 0;    border-radius: 0;    background: transparent;&#125;.file-item .progress span &#123;    display: block;    overflow: hidden;    width: 0;    height: 100%;    background: #d14 url(images&#x2F;progress.png) repeat-x;    -webit-transition: width 200ms linear;    -moz-transition: width 200ms linear;    -o-transition: width 200ms linear;    -ms-transition: width 200ms linear;    transition: width 200ms linear;    -webkit-animation: progressmove 2s linear infinite;    -moz-animation: progressmove 2s linear infinite;    -o-animation: progressmove 2s linear infinite;    -ms-animation: progressmove 2s linear infinite;    animation: progressmove 2s linear infinite;    -webkit-transform: translateZ(0);&#125;@-webkit-keyframes progressmove &#123;    0% &#123;        background-position: 0 0;    &#125;    100% &#123;        background-position: 17px 0;    &#125;&#125;@-moz-keyframes progressmove &#123;    0% &#123;        background-position: 0 0;    &#125;    100% &#123;        background-position: 17px 0;    &#125;&#125;@keyframes progressmove &#123;    0% &#123;        background-position: 0 0;    &#125;    100% &#123;        background-position: 17px 0;    &#125;&#125;a.travis &#123;  position: relative;  top: -4px;  right: 15px;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>demo.css</p><pre class="line-numbers language-CSS" data-language="CSS"><code class="language-CSS">#container &#123;    color: #838383;    font-size: 12px;&#125;#uploader .queueList &#123;    margin: 20px;    &#x2F;*border: 3px dashed #e6e6e6;*&#x2F;&#125;#uploader .queueList.filled &#123;    padding: 17px;    margin: 0;    border: 3px dashed transparent;&#125;#uploader .queueList.webuploader-dnd-over &#123;    border: 3px dashed #999999;&#125;#uploader p &#123;margin: 0;&#125;.element-invisible &#123;    position: absolute !important;    clip: rect(1px 1px 1px 1px); &#x2F;* IE6, IE7 *&#x2F;    clip: rect(1px,1px,1px,1px);&#125;#uploader .placeholder &#123;    min-height: 350px;    padding-top: 178px;    text-align: center;    background: url(images&#x2F;image.png) center 93px no-repeat;    color: #cccccc;    font-size: 18px;    position: relative;&#125;#uploader .placeholder .webuploader-pick &#123;    font-size: 18px;    background: #00b7ee;    border-radius: 3px;    line-height: 44px;    padding: 0 30px;    *width: 120px;    color: #fff;    display: inline-block;    margin: 0 auto 20px auto;    cursor: pointer;    box-shadow: 0 1px 1px rgba(0, 0, 0, 0.1);&#125;#uploader .placeholder .webuploader-pick-hover &#123;    background: #00a2d4;&#125;#uploader .placeholder .flashTip &#123;    color: #666666;    font-size: 12px;    position: absolute;    width: 100%;    text-align: center;    bottom: 20px;&#125;#uploader .placeholder .flashTip a &#123;    color: #0785d1;    text-decoration: none;&#125;#uploader .placeholder .flashTip a:hover &#123;    text-decoration: underline;&#125;#uploader .filelist &#123;    list-style: none;    margin: 0;    padding: 0;&#125;#uploader .filelist:after &#123;    content: &#39;&#39;;    display: block;    width: 0;    height: 0;    overflow: hidden;    clear: both;&#125;#uploader .filelist li &#123;    width: 110px;    height: 110px;    background: url(images&#x2F;bg.png) no-repeat;    text-align: center;    margin: 0 8px 20px 0;    position: relative;    display: inline;    float: left;    overflow: hidden;    font-size: 12px;&#125;#uploader .filelist li p.log &#123;    position: relative;    top: -45px;&#125;#uploader .filelist li p.title &#123;    position: absolute;    top: 0;    left: 0;    width: 100%;    overflow: hidden;    white-space: nowrap;    text-overflow : ellipsis;    top: 5px;    text-indent: 5px;    text-align: left;&#125;#uploader .filelist li p.progress &#123;    position: absolute;    width: 100%;    bottom: 0;    left: 0;    height: 8px;    overflow: hidden;    z-index: 50;    margin: 0;    border-radius: 0;    background: none;    -webkit-box-shadow: 0 0 0;&#125;#uploader .filelist li p.progress span &#123;    display: none;    overflow: hidden;    width: 0;    height: 100%;    background: #1483d8 url(images&#x2F;progress.png) repeat-x;    -webit-transition: width 200ms linear;    -moz-transition: width 200ms linear;    -o-transition: width 200ms linear;    -ms-transition: width 200ms linear;    transition: width 200ms linear;    -webkit-animation: progressmove 2s linear infinite;    -moz-animation: progressmove 2s linear infinite;    -o-animation: progressmove 2s linear infinite;    -ms-animation: progressmove 2s linear infinite;    animation: progressmove 2s linear infinite;    -webkit-transform: translateZ(0);&#125;@-webkit-keyframes progressmove &#123;    0% &#123;       background-position: 0 0;    &#125;    100% &#123;       background-position: 17px 0;    &#125;&#125;@-moz-keyframes progressmove &#123;    0% &#123;       background-position: 0 0;    &#125;    100% &#123;       background-position: 17px 0;    &#125;&#125;@keyframes progressmove &#123;    0% &#123;       background-position: 0 0;    &#125;    100% &#123;       background-position: 17px 0;    &#125;&#125;#uploader .filelist li p.imgWrap &#123;    position: relative;    z-index: 2;    line-height: 110px;    vertical-align: middle;    overflow: hidden;    width: 110px;    height: 110px;    -webkit-transform-origin: 50% 50%;    -moz-transform-origin: 50% 50%;    -o-transform-origin: 50% 50%;    -ms-transform-origin: 50% 50%;    transform-origin: 50% 50%;    -webit-transition: 200ms ease-out;    -moz-transition: 200ms ease-out;    -o-transition: 200ms ease-out;    -ms-transition: 200ms ease-out;    transition: 200ms ease-out;&#125;#uploader .filelist li img &#123;    width: 100%;&#125;#uploader .filelist li p.error &#123;    background: #f43838;    color: #fff;    position: absolute;    bottom: 0;    left: 0;    height: 28px;    line-height: 28px;    width: 100%;    z-index: 100;&#125;#uploader .filelist li .success &#123;    display: block;    position: absolute;    left: 0;    bottom: 0;    height: 40px;    width: 100%;    z-index: 200;    background: url(images&#x2F;success.png) no-repeat right bottom;&#125;#uploader .filelist div.file-panel &#123;    position: absolute;    height: 0;    filter: progid:DXImageTransform.Microsoft.gradient(GradientType&#x3D;0,startColorstr&#x3D;&#39;#80000000&#39;, endColorstr&#x3D;&#39;#80000000&#39;)\0;    background: rgba( 0, 0, 0, 0.5 );    width: 100%;    top: 0;    left: 0;    overflow: hidden;    z-index: 300;&#125;    #uploader .filelist div.file-panel span &#123;        width: 24px;        height: 24px;        display: inline;        float: right;        text-indent: -9999px;        overflow: hidden;        background: url(icons.png) no-repeat;        margin: 5px 1px 1px;        cursor: pointer;    &#125;#uploader .filelist div.file-panel span.rotateLeft &#123;    background-position: 0 -24px;&#125;#uploader .filelist div.file-panel span.rotateLeft:hover &#123;    background-position: 0 0;&#125;#uploader .filelist div.file-panel span.rotateRight &#123;    background-position: -24px -24px;&#125;#uploader .filelist div.file-panel span.rotateRight:hover &#123;    background-position: -24px 0;&#125;#uploader .filelist div.file-panel span.cancel &#123;    background-position: -48px -24px;&#125;#uploader .filelist div.file-panel span.cancel:hover &#123;    background-position: -48px 0;&#125;#uploader .statusBar &#123;    height: 63px;    border-top: 1px solid #dadada;    padding: 0 20px;    line-height: 63px;    vertical-align: middle;    position: relative;&#125;#uploader .statusBar .progress &#123;    border: 1px solid #1483d8;    width: 198px;    background: #fff;    height: 18px;    position: relative;    display: inline-block;    text-align: center;    line-height: 20px;    color: #6dbfff;    position: relative;    margin: 0 10px 0 0;&#125;#uploader .statusBar .progress span.percentage &#123;    width: 0;    height: 100%;    left: 0;    top: 0;    background: #1483d8;    position: absolute;&#125;#uploader .statusBar .progress span.text &#123;    position: relative;    z-index: 10;&#125;#uploader .statusBar .info &#123;    display: inline-block;    font-size: 14px;    color: #666666;&#125;#uploader .statusBar .btns &#123;    position: absolute;    top: 10px;    right: 20px;    line-height: 40px;&#125;#filePicker2 &#123;    display: inline-block;    float: left;&#125;#uploader .statusBar .btns .webuploader-pick,#uploader .statusBar .btns .uploadBtn,#uploader .statusBar .btns .uploadBtn.state-uploading,#uploader .statusBar .btns .uploadBtn.state-paused &#123;    background: #ffffff;    border: 1px solid #cfcfcf;    color: #565656;    padding: 0 18px;    display: inline-block;    border-radius: 3px;    margin-left: 10px;    cursor: pointer;    font-size: 14px;    float: left;&#125;#uploader .statusBar .btns .webuploader-pick-hover,#uploader .statusBar .btns .uploadBtn:hover,#uploader .statusBar .btns .uploadBtn.state-uploading:hover,#uploader .statusBar .btns .uploadBtn.state-paused:hover &#123;    background: #f0f0f0;&#125;#uploader .statusBar .btns .uploadBtn &#123;    background: #00b7ee;    color: #fff;    border-color: transparent;&#125;#uploader .statusBar .btns .uploadBtn:hover &#123;    background: #00a2d4;&#125;#uploader .statusBar .btns .uploadBtn.disabled &#123;    pointer-events: none;    opacity: 0.6;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> WEB </category>
          
      </categories>
      
      
        <tags>
            
            <tag> WEB </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SQL Server 如何更改SQL Server和windows身份方式验证</title>
      <link href="/mysql-sql-oracle/sql-server-ru-he-geng-gai-sql-server-he-windows-shen-fen-fang-shi-yan-zheng/"/>
      <url>/mysql-sql-oracle/sql-server-ru-he-geng-gai-sql-server-he-windows-shen-fen-fang-shi-yan-zheng/</url>
      
        <content type="html"><![CDATA[<ol><li>安装sql后先用windows账户登陆进去，然后在sql上右键，选择“安全性”-“SQL Server和windows身份验证模式”然后确定<br><img src="/images/2016091316421201.png" alt="2016091316421201.png"></li><li>找到安全性——登陆名（sa用户）右键——状态，在登陆选项中选择已启用<br><img src="/images/2016091316421202.png" alt="2016091316421202.png"></li><li>在服务用重新启动sqlserver服务。<br>sqlserver从2008后保存修改的数据库表都会提示阻止修改，只需要在“工具”——设计器——将阻止保存要求重新创建表的更改去掉就可以了<br><img src="/images/2016091316421203.png" alt="2016091316421203.png"></li></ol>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>已经阻止此发布者在你的计算机上运行软件</title>
      <link href="/computer/yi-jing-zu-zhi-ci-fa-bu-zhe-zai-ni-de-ji-suan-ji-shang-yun-xing-ruan-jian/"/>
      <url>/computer/yi-jing-zu-zhi-ci-fa-bu-zhe-zai-ni-de-ji-suan-ji-shang-yun-xing-ruan-jian/</url>
      
        <content type="html"><![CDATA[<ol><li>现在改软件上右键，点击“解除锁定”然后应用<br><img src="/images/2016091316431301.png" alt="2016091316431301.png"><br>这样后会提示“系统管理愿设置了策略，禁止进行此安装”<br><img src="/images/2016091316431302.png" alt="2016091316431302.png"></li><li>点击运行输入“gpedit.msc”命令<br><img src="/images/2016091316431303.png" alt="2016091316431303.png"><br>找到“用户账户控制：已管理员批准模式运行所有管理员”，该项改为禁用。<br><img src="/images/2016091316431304.png" alt="2016091316431304.png"><br>找到“禁用Windows Installer” 然后将该项改为禁用<br><img src="/images/2016091316431305.png" alt="2016091316431305.png"><br>找到软件限制策略，如果显示没有，则右键创建限制策略，然后将“强制”属性中的红框的限制用户改为图中所示选项。</li></ol>]]></content>
      
      
      <categories>
          
          <category> Computer </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Computer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SQL智能提示插件——SQLPrompt</title>
      <link href="/tools/sql-zhi-neng-ti-shi-cha-jian-sqlprompt/"/>
      <url>/tools/sql-zhi-neng-ti-shi-cha-jian-sqlprompt/</url>
      
        <content type="html"><![CDATA[<ol><li>安装SQLPrompt，直接点击下一步即可，然后打开SQL Server 在菜单栏找到SQLPrompt选项注册该软件<br><img src="/images/2016090614510101.png" alt="2016090614510101.png"></li><li>先断开网络，然后运行注册机，将注册吗复制到序列号的地方，将两个勾选的复选不选中，点击“Activate Manually”<br><img src="/images/2016090614510102.png" alt="2016090614510102.png"></li><li>点击红色框框中的按钮，弹出如下界面<br><img src="/images/2016090614510103.png" alt="2016090614510103.png"><br><img src="/images/2016090614510104.png" alt="2016090614510104.png"></li><li>将左边的中全部代码复制到注册机中，注册机的下面会自动生成一段代码，然后将生成的代码复制到右边，然后点击“finish”；到此注册完毕。</li></ol><p>SQLPrompt中有很多内置的代码段，在SQLPrompt——Snippet Manager中可以看见，也可以自己定义</p><p><img src="/images/2016090614510105.png" alt="2016090614510105.png"></p><p>如 输入ssf然后按tab键就会输出 SELECT * FROM ，具体看Snippet Manager中的内容即可</p><p>按Control+K+Y可以格式化SQL语句</p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VS 设置背景色和背景图片</title>
      <link href="/tools/vs-she-zhi-bei-jing-se-he-bei-jing-tu-pian/"/>
      <url>/tools/vs-she-zhi-bei-jing-se-he-bei-jing-tu-pian/</url>
      
        <content type="html"><![CDATA[<p>VS版本：2013</p><p>选择菜单栏上——工具——选项——环境——字体和颜色——自定义(项背景)，选择好自己喜欢的颜色即可<br><img src="/images/2016090510081801.png" alt="2016090510081801.png"><br>设置背景图片</p><p>下载vs插件（ClaudiaIDE）：<a href="https://visualstudiogallery.msdn.microsoft.com/9ba50f8d-f30c-4e33-ab19-bfd9f56eb817">https://visualstudiogallery.msdn.microsoft.com/9ba50f8d-f30c-4e33-ab19-bfd9f56eb817</a></p><p>选择菜单栏上的——工具——ClaudiaIDE——General——单一背景，更改图片的路径就可以自己设置喜欢的图片了<br><img src="/images/2016090510081802.png" alt="2016090510081802.png"></p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>安装Office 2013 时提示找不到 Office.zh-cn&#92;OfficeLR.cab#标题</title>
      <link href="/tools/an-zhuang-office-2013-shi-ti-shi-zhao-bu-dao-officelr.cab/"/>
      <url>/tools/an-zhuang-office-2013-shi-ti-shi-zhao-bu-dao-officelr.cab/</url>
      
        <content type="html"><![CDATA[<p>今天安装office2013的时候总是过会就提示找不到OfficeLR.cab文件<br><img src="/images/2016083014511801.jpg" alt="2016083014511801.jpg"></p><p>在网上找了好多方法不行，后来将注册表里的office选项全部删除就可以了（HKEY_CURRENT_USER\Software\Microsoft\Office）</p><p>安装完成后启动word是总是要配置office</p><p>直接在运行里输入 reg add HKCU\Software\Microsoft\Office\15.0\Word\Options &#x2F;v NoReReg &#x2F;t REG_DWORD &#x2F;d 1<br>然后回车</p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS 获取get请求方式的参数</title>
      <link href="/js/js-huo-qu-get-qing-qiu-fang-shi-de-can-shu/"/>
      <url>/js/js-huo-qu-get-qing-qiu-fang-shi-de-can-shu/</url>
      
        <content type="html"><![CDATA[<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">&#x2F;&#x2F;获取页面中的参数    name值参数名称（例如：http：&#x2F;&#x2F;localhost:8099&#x2F;index.aspx?id&#x3D;10，name则指的是id）function GetQueryString(name) &#123;    var reg &#x3D; new RegExp(&quot;(^|&amp;)&quot; + name + &quot;&#x3D;([^&amp;]*)(&amp;|$)&quot;);    var r &#x3D; window.location.search.substr(1).match(reg);    if (r !&#x3D; null)        return unescape(r[2]);    return &quot;&quot;;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C# 通过 Hessian服务调用java</title>
      <link href="/c-winform/csharp-tong-guo-hessian-fu-wu-diao-yong-java/"/>
      <url>/c-winform/csharp-tong-guo-hessian-fu-wu-diao-yong-java/</url>
      
        <content type="html"><![CDATA[<ol><li>下载<a href="https://sourceforge.net/projects/hessiancsharp/">Hessiancsharp.dll</a></li><li>新建一个c#窗体程序，然后在添加一个类库</li><li>添加一个接口类，接口中的方法名和参数与java中的服务方法名和参数保持一致</li></ol><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">public partial interface HessianManager&#123;    &#x2F;&#x2F;&#x2F; &lt;summary&gt;    &#x2F;&#x2F;&#x2F;     &#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;    &#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;method&quot;&gt;方法名&lt;&#x2F;param&gt;    &#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;operate&quot;&gt;操作（添加、删除、修改）&lt;&#x2F;param&gt;    &#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;json&quot;&gt;json数据&lt;&#x2F;param&gt;    &#x2F;&#x2F;&#x2F; &lt;returns&gt;&lt;&#x2F;returns&gt;    string synchronizeData(string method, string operate, string json);    string sayHello(string msg);&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="4"><li>引用Hessiancsharp.dll</li><li>通过hessian调用java</li></ol><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">public partial class frmHessian : Form    &#123;        string url &#x3D; ConfigurationManager.AppSettings[&quot;url&quot;].ToString();        CHessianProxyFactory factory &#x3D; new CHessianProxyFactory();        HessianManager hessianClient &#x3D; null;        public frmHessian()        &#123;            InitializeComponent();            hessianClient &#x3D; (HessianManager)factory.Create(typeof(HessianManager), url);        &#125;        &#x2F;&#x2F;&#x2F; &lt;summary&gt;        &#x2F;&#x2F;&#x2F; 同步供应商        &#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;        &#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;sender&quot;&gt;&lt;&#x2F;param&gt;        &#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;e&quot;&gt;&lt;&#x2F;param&gt;        private void btnSynSupplier_Click(object sender, EventArgs e)        &#123;            List&lt;Supplier&gt; supplists &#x3D; new List&lt;Supplier&gt;();            DataTable dt &#x3D; DbHelperSQL.Query(&quot;SELECT * FROM dbo.Sys_Supplier WHERE ss_State&#x3D;1&quot;).Tables[0];            foreach (DataRow item in dt.Rows)            &#123;                Supplier sup &#x3D; new Supplier();                sup.bbbpSn &#x3D; item[&quot;ss_SupplierNo&quot;].ToString();                sup.bbbpId &#x3D; item[&quot;ss_SupplierNo&quot;].ToString();                sup.bbbpBbbrId &#x3D; 1;                sup.bbbpName &#x3D; item[&quot;ss_SupplierName&quot;].ToString();                sup.bbbpContact &#x3D; item[&quot;ss_Contact&quot;].ToString();                sup.bbbpContactTel &#x3D; item[&quot;ss_Tel&quot;].ToString();                sup.bbbpContactPhone &#x3D; item[&quot;ss_Phone&quot;].ToString();                sup.bbbpContactAddress &#x3D; item[&quot;ss_Adress&quot;].ToString();                sup.bbbpState &#x3D; Convert.ToInt32(item[&quot;ss_State&quot;]) &#x3D;&#x3D; 1 ? &quot;有效&quot; : &quot;无效&quot;;                sup.bbbpLocationid &#x3D; 5001; &#x2F;&#x2F;item[&quot;sp_PurchaserNo&quot;] &#x3D;&#x3D; DBNull.Value ? 5001 : Convert.ToInt32(item[&quot;sp_PurchaserNo&quot;]);                sup.bbbpYingfu &#x3D; 0;                sup.bbbpIds &#x3D; &quot;,1,&quot;;                sup.bbbpBank &#x3D; item[&quot;ss_Bank&quot;].ToString();                sup.bbbpBankNumber &#x3D; item[&quot;ss_BankAccount&quot;].ToString();                sup.bbbpGongyingjiezhiDate &#x3D; string.Format(&quot;&#123;0:yyyy-MM-dd HH:mm:ss&#125;&quot;, item[&quot;ss_BusiLicexpireTime&quot;]);                sup.bbbpFaxNumber &#x3D; item[&quot;ss_Fax&quot;].ToString();                supplists.Add(sup);            &#125;            string msg &#x3D; hessianClient.synchronizeData(&quot;synBusinessParter&quot;, &quot;add&quot;, JsonHelper.SerializeObject(supplists));            Application.DoEvents();            MessageBox.Show(&quot;同步成功！&quot;);        &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>参考：<a href="http://hessian.caucho.com/">http://hessian.caucho.com/</a></p><p><a href="https://sourceforge.net/projects/hessiancsharp/">https://sourceforge.net/projects/hessiancsharp/</a></p><p><a href="http://www.cnblogs.com/lxsfg/archive/2008/08/27/1277777.html">http://www.cnblogs.com/lxsfg/archive/2008/08/27/1277777.html</a></p>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jQuery UI框架 Juqery 后台框架</title>
      <link href="/js/jquery-ui-kuang-jia-juqery-hou-tai-kuang-jia/"/>
      <url>/js/jquery-ui-kuang-jia-juqery-hou-tai-kuang-jia/</url>
      
        <content type="html"><![CDATA[<ol><li><p><a href="http://jui.org/">J-UI</a>框架<br><img src="/images/2016080114221201.png" alt="2016080114221201.png"></p></li><li><p><a href="http://www.miniui.com/demo/">MiniUI</a>框架<br><img src="/images/2016080114221202.png" alt="2016080114221202.png"></p></li><li><p><a href="http://www.ligerui.com/demo.html">Juquery LigerUI</a>框架<br><img src="/images/2016080114221203.png" alt="2016080114221203.png"></p></li><li><p><a href="http://www.layui.com/demo/auxiliar.html">layerUI</a><br><img src="/images/2016080114221204.png" alt="2016080114221204.png"></p></li></ol>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>可输入的 Combox(DropDownList)</title>
      <link href="/js/ke-shu-ru-de-combox-dropdownlist/"/>
      <url>/js/ke-shu-ru-de-combox-dropdownlist/</url>
      
        <content type="html"><![CDATA[<p>aspx页面中需要可以输入的combox，在网上找了一个js的插件，效果图如下：<br><img src="/images/2016072210571501.png" alt="2016072210571501.png"></p><p>前台代码</p><pre class="line-numbers language-HTML" data-language="HTML"><code class="language-HTML">&lt;%@ Page Language&#x3D;&quot;C#&quot; AutoEventWireup&#x3D;&quot;true&quot; CodeBehind&#x3D;&quot;InputComBox.aspx.cs&quot; Inherits&#x3D;&quot;School.Web.TestDemo.InputComBox&quot; %&gt; &lt;!DOCTYPE html&gt; &lt;html xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;1999&#x2F;xhtml&quot;&gt;&lt;head runat&#x3D;&quot;server&quot;&gt;    &lt;meta http-equiv&#x3D;&quot;Content-Type&quot; content&#x3D;&quot;text&#x2F;html; charset&#x3D;utf-8&quot; &#x2F;&gt;    &lt;title&gt;可输入的combox&lt;&#x2F;title&gt;    &lt;link type&#x3D;&quot;text&#x2F;css&quot; href&#x3D;&quot;&#x2F;Scripts&#x2F;jquery-1.10.4&#x2F;jquery-ui.min.css&quot; rel&#x3D;&quot;stylesheet&quot; &#x2F;&gt;    &lt;script type&#x3D;&quot;text&#x2F;javascript&quot; src&#x3D;&quot;&#x2F;Scripts&#x2F;jquery-1.10.4&#x2F;jquery.min.js&quot;&gt;&lt;&#x2F;script&gt;    &lt;script type&#x3D;&quot;text&#x2F;javascript&quot; src&#x3D;&quot;&#x2F;Scripts&#x2F;jquery-1.10.4&#x2F;jquery-ui.min.js&quot;&gt;&lt;&#x2F;script&gt;    &lt;style type&#x3D;&quot;text&#x2F;css&quot;&gt;        .appcusser li a &#123;            width: 32px;            background: url(&#x2F;Images&#x2F;pro_down.gif);            float: left;            display: block;            height: 33px;            line-height: 30px;            text-align: center;            color: #2b7fbf;            font-weight: bold;            margin-right: 5px;        &#125;         .appcusser li span &#123;            display: block;            float: left;            width: 100px;            text-align: right;            padding-right: 5px;            color: #666;        &#125;        .appcusser li label &#123;            display: block;            float: left;            line-height: 28px;            margin-right: 5px;        &#125;         ul, li &#123;            list-style: none;        &#125;         .custom-combobox &#123;            position: relative;            display: inline-block;        &#125;         .custom-combobox-toggle &#123;            position: absolute;            top: 5px;            bottom: 0;            left: 160px;            top: 0;            padding: 0;            height: 32px;            &#x2F;* 支持： IE7 *&#x2F;            *height: 1.7em;            *top: 0.1em;        &#125;         .custom-combobox-input &#123;            margin: 0;            padding: 0.3em;            background-color: #fff;            background-image: none;            color: #333;            height: 22px;            width: 150px;        &#125;         .hideA &#123;            background: #f3f3f3;        &#125;         .clear &#123;            clear: both;            height: 0;            overflow: hidden;        &#125;    &lt;&#x2F;style&gt;    &lt;script type&#x3D;&quot;text&#x2F;javascript&quot;&gt;        (function ($) &#123;            $.widget(&quot;custom.combobox&quot;, &#123;                _create: function () &#123;                    this.wrapper &#x3D; $(&quot;&lt;span&gt;&quot;)                      .addClass(&quot;custom-combobox&quot;)                      .insertAfter(this.element);                     this.element.hide();                    this._createAutocomplete();                    this._createShowAllButton();                &#125;,                 _createAutocomplete: function () &#123;                    var selected &#x3D; this.element.children(&quot;:selected&quot;),                      value &#x3D; selected.val() ? selected.text() : &quot;&quot;;                     this.input &#x3D; $(&quot;&lt;input&gt;&quot;)                      .appendTo(this.wrapper)                      .val(value)                      .attr(&quot;id&quot;, &quot;btnShowPro&quot;)                      .addClass(&quot;custom-combobox-input ui-widget ui-widget-content ui-state-default ui-corner-left&quot;)                        .addClass(&quot; validate[required,maxSize[200]]&quot;)                      .autocomplete(&#123;                          delay: 0,                          minLength: 0,                          source: $.proxy(this, &quot;_source&quot;)                      &#125;)                      .tooltip(&#123;                          tooltipClass: &quot;ui-state-highlight&quot;                      &#125;);                     this._on(this.input, &#123;                        autocompleteselect: function (event, ui) &#123;                            ui.item.option.selected &#x3D; true;                            this._trigger(&quot;select&quot;, event, &#123;                                item: ui.item.option                            &#125;);                        &#125;,                         autocompletechange: &quot;_removeIfInvalid&quot;                    &#125;);                &#125;,                 _createShowAllButton: function () &#123;                    var input &#x3D; this.input,                      wasOpen &#x3D; false;                     $(&quot;&lt;a&gt;&quot;)                      .attr(&quot;tabIndex&quot;, -1)                      &#x2F;&#x2F;.attr(&quot;title&quot;, &quot;aShow&quot;)                      .attr(&quot;id&quot;, &quot;aShow&quot;)                      &#x2F;&#x2F;.tooltip()                      .appendTo(this.wrapper)                      .button(&#123;                          &#x2F;&#x2F;icons: &#123;                          &#x2F;&#x2F;    primary: &quot;ui-icon-triangle-1-s&quot;                          &#x2F;&#x2F;&#125;,                          text: false                      &#125;)                      .removeClass(&quot;ui-corner-all&quot;)                      .addClass(&quot;custom-combobox-toggle ui-corner-right&quot;)                      .mousedown(function () &#123;                          wasOpen &#x3D; input.autocomplete(&quot;widget&quot;).is(&quot;:visible&quot;);                      &#125;)                      .click(function () &#123;                          input.focus();                           &#x2F;&#x2F; 如果已经可见则关闭                          if (wasOpen) &#123;                              return;                          &#125;                           &#x2F;&#x2F; 传递空字符串作为搜索的值，显示所有的结果                          input.autocomplete(&quot;search&quot;, &quot;&quot;);                      &#125;);                &#125;,                 _source: function (request, response) &#123;                    var matcher &#x3D; new RegExp($.ui.autocomplete.escapeRegex(request.term), &quot;i&quot;);                    response(this.element.children(&quot;option&quot;).map(function () &#123;                        var text &#x3D; $(this).text();                        if (this.value &amp;&amp; (!request.term || matcher.test(text)))                            return &#123;                                label: text,                                value: text,                                option: this                            &#125;;                    &#125;));                &#125;,                  _removeIfInvalid: function (event, ui) &#123;                     &#x2F;&#x2F; 选择一项，不执行其他动作                    if (ui.item) &#123;                        return;                    &#125;                     &#x2F;&#x2F; 搜索一个匹配（不区分大小写）                    var value &#x3D; this.input.val(),                      valueLowerCase &#x3D; value.toLowerCase(),                      valid &#x3D; false;                    this.element.children(&quot;option&quot;).each(function () &#123;                        if ($(this).text().toLowerCase() &#x3D;&#x3D;&#x3D; valueLowerCase) &#123;                            this.selected &#x3D; valid &#x3D; true;                            return false;                        &#125;                    &#125;);                     &#x2F;&#x2F; 找到一个匹配，不执行其他动作                    if (valid) &#123;                        return;                    &#125;                     &#x2F;&#x2F; 移除无效的值                    &#x2F;&#x2F;this.input                    &#x2F;&#x2F;  .val(&quot;&quot;)                    &#x2F;&#x2F;  .attr(&quot;title&quot;, value + &quot; didn&#39;t match any item&quot;)                    &#x2F;&#x2F;  .tooltip(&quot;open&quot;);                    this.element.val(&quot;&quot;);                    this._delay(function () &#123;                        this.input.tooltip(&quot;close&quot;).attr(&quot;title&quot;, &quot;&quot;);                    &#125;, 2500);                    &#x2F;&#x2F;this.input.data(&quot;ui-autocomplete&quot;).term &#x3D; &quot;&quot;;                &#125;,                 _destroy: function () &#123;                    this.wrapper.remove();                    this.element.show();                &#125;            &#125;);        &#125;)(jQuery);         $(function () &#123;            $(&quot;#&lt;%&#x3D;ddlName.ClientID%&gt;&quot;).combobox();            $(&quot;#toggle&quot;).click(function () &#123;                $(&quot;#&lt;%&#x3D;ddlName.ClientID%&gt;&quot;).toggle();            &#125;);        &#125;);    &lt;&#x2F;script&gt;&lt;&#x2F;head&gt;&lt;body&gt;    &lt;form id&#x3D;&quot;form1&quot; runat&#x3D;&quot;server&quot;&gt;        &lt;div&gt;            &lt;ul class&#x3D;&quot;appcusser&quot;&gt;                &lt;li&gt;                    &lt;span&gt;&lt;asp:TextBox ID&#x3D;&quot;txtID&quot; runat&#x3D;&quot;server&quot; Width&#x3D;&quot;80&quot;&gt;&lt;&#x2F;asp:TextBox&gt;&lt;&#x2F;span&gt;                    &lt;label&gt;&lt;asp:DropDownList ID&#x3D;&quot;ddlName&quot; runat&#x3D;&quot;server&quot; CssClass&#x3D;&quot;app_txt2 fl&quot;&gt;&lt;&#x2F;asp:DropDownList&gt;&lt;&#x2F;label&gt;                    &lt;div class&#x3D;&quot;clear&quot;&gt;&lt;&#x2F;div&gt;                &lt;&#x2F;li&gt;                &lt;li&gt;                    &lt;asp:Button ID&#x3D;&quot;btnSeach&quot; Text&#x3D;&quot;查询&quot; runat&#x3D;&quot;server&quot; &#x2F;&gt;                &lt;&#x2F;li&gt;            &lt;&#x2F;ul&gt;        &lt;&#x2F;div&gt;    &lt;&#x2F;form&gt;&lt;&#x2F;body&gt;&lt;&#x2F;html&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>后台代码</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">using System;using System.Collections.Generic;using System.Linq;using System.Web;using System.Web.UI;using System.Web.UI.WebControls; namespace School.Web.TestDemo&#123;    public partial class InputComBox : System.Web.UI.Page    &#123;        protected void Page_Load(object sender, EventArgs e)        &#123;            string tID &#x3D; txtID.Text.Trim();            &#x2F;&#x2F;if (!IsPostBack)            &#x2F;&#x2F;&#123;                if (string.IsNullOrEmpty(tID))                &#123;                    BindDrop();                    ddlName.Items.Insert(0, new ListItem(&quot; &quot;, &quot;&quot;));                &#125;                else                &#123;                    BindDrop();                    int id &#x3D; 0;                    int.TryParse(tID, out id);                    Bind(id);                &#125;            &#x2F;&#x2F;&#125;        &#125;         public void Bind(int id)        &#123;            Student student &#x3D; InitData().SingleOrDefault(s &#x3D;&gt; s.ID &#x3D;&#x3D; id);            if (student !&#x3D; null)            &#123;                if (ddlName.Items.Contains(new ListItem(student.userName))) &#x2F;&#x2F;判断ddlName下拉列表中是否存在该值，存在则赋值，不存在则插入ddlName下拉列表中                &#123;                    ddlName.SelectedValue &#x3D; student.userName;                &#125;                else                &#123;                    ddlName.Items.Insert(0, new ListItem(txtID.Text.Trim()));                &#125;            &#125;            else            &#123;                ddlName.Items.Insert(0, new ListItem(txtID.Text.Trim()));            &#125;        &#125;         public void BindDrop()        &#123;            ddlName.DataSource &#x3D; InitData();            ddlName.DataTextField &#x3D; &quot;userName&quot;; &#x2F;&#x2F;ddlName中DataTextField和DataValueField设置为同一个值，在查询是否存在该值是才可以；或者new ListItem(&quot;text&quot;, &quot;value&quot;)设置text、value值不一样            ddlName.DataValueField &#x3D; &quot;userName&quot;;            ddlName.DataBind();        &#125;          public List&lt;Student&gt; InitData()        &#123;            List&lt;Student&gt; listStudent &#x3D; new List&lt;Student&gt;();            for (int i &#x3D; 1; i &lt; 11; i++)            &#123;                Student student &#x3D; new Student();                 student.ID &#x3D; i;                student.userName &#x3D; &quot;学生&quot; + i;                student.passWord &#x3D; &quot;123456&quot;;                student.Age &#x3D; i + 20;                student.Address &#x3D; &quot;北京市顺义区天竺镇&quot; + i + &quot;区&quot;;                listStudent.Add(student);            &#125;            return listStudent;        &#125;    &#125;      public class Student    &#123;        public int ID &#123; get; set; &#125;        public string userName &#123; get; set; &#125;         public string passWord &#123; get; set; &#125;         public int Age &#123; get; set; &#125;         public string Address &#123; get; set; &#125;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Jquery 用法总结</title>
      <link href="/js/jquery-yong-fa-zong-jie/"/>
      <url>/js/jquery-yong-fa-zong-jie/</url>
      
        <content type="html"><![CDATA[<ol><li>用Jquery给框架内的父页面传值</li></ol><p> parent.$(“#middle”).contents().find(“#hidChecker”).val(“test的大幅度发”);   middle frame框架的id   hidChecker 控件的id</p><ol start="2"><li>Jquery中attr和prop的区别</li></ol><p>对于html中元素自带的属性（如：id、name等）用prop</p><p>对于html中元素没有自己自定义的属性用attr</p><ol start="3"><li>Jquery获取table中td的值</li></ol><p>$(“#t1 tr”).eq(1).find(“td”).eq(2).html().trim() t1是table的id</p>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nvelocity中格式化金钱和日期</title>
      <link href="/c-winform/nvelocity-zhong-ge-shi-hua-jin-qian-he-ri-qi/"/>
      <url>/c-winform/nvelocity-zhong-ge-shi-hua-jin-qian-he-ri-qi/</url>
      
        <content type="html"><![CDATA[<pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">&#x2F;&#x2F;格式化金钱(  9,999.00)function formatCurrency(num) &#123;    num &#x3D; num.toString().replace(&#x2F;\$|\,&#x2F;g, &#39;&#39;);    if (isNaN(num))        num &#x3D; &quot;0&quot;;    sign &#x3D; (num &#x3D;&#x3D; (num &#x3D; Math.abs(num)));    num &#x3D; Math.floor(num * 100 + 0.50000000001);    cents &#x3D; num % 100;    num &#x3D; Math.floor(num &#x2F; 100).toString();    if (cents &lt; 10)        cents &#x3D; &quot;0&quot; + cents;    for (var i &#x3D; 0; i &lt; Math.floor((num.length - (1 + i)) &#x2F; 3) ; i++)        num &#x3D; num.substring(0, num.length - (4 * i + 3)) + &#39;,&#39; +        num.substring(num.length - (4 * i + 3));    return (((sign) ? &#39;&#39; : &#39;-&#39;) + num + &#39;.&#39; + cents);&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>在html页面里面格式化金额</p><p>例如在span标签里</p><pre class="line-numbers language-HTML" data-language="HTML"><code class="language-HTML">&lt;span&gt; &lt;script&gt;var money &#x3D;formatCurrency(999999.0); document.write(money)&lt;&#x2F;script&gt; &lt;&#x2F;span&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>输出内容 999,999.00</p><p>格式化日期</p><pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">&#x2F;&#x2F;格式化日期 fmt是格式化格式Date.prototype.pattern &#x3D; function (fmt) &#123;    var o &#x3D; &#123;        &quot;M+&quot;: this.getMonth() + 1, &#x2F;&#x2F;月份                 &quot;d+&quot;: this.getDate(), &#x2F;&#x2F;日                 &quot;h+&quot;: this.getHours() % 12 &#x3D;&#x3D; 0 ? 12 : this.getHours() % 12, &#x2F;&#x2F;小时                 &quot;H+&quot;: this.getHours(), &#x2F;&#x2F;小时                 &quot;m+&quot;: this.getMinutes(), &#x2F;&#x2F;分                 &quot;s+&quot;: this.getSeconds(), &#x2F;&#x2F;秒                 &quot;q+&quot;: Math.floor((this.getMonth() + 3) &#x2F; 3), &#x2F;&#x2F;季度                 &quot;S&quot;: this.getMilliseconds() &#x2F;&#x2F;毫秒             &#125;;    var week &#x3D; &#123;        &quot;0&quot;: &quot;&#x2F;u65e5&quot;,        &quot;1&quot;: &quot;&#x2F;u4e00&quot;,        &quot;2&quot;: &quot;&#x2F;u4e8c&quot;,        &quot;3&quot;: &quot;&#x2F;u4e09&quot;,        &quot;4&quot;: &quot;&#x2F;u56db&quot;,        &quot;5&quot;: &quot;&#x2F;u4e94&quot;,        &quot;6&quot;: &quot;&#x2F;u516d&quot;    &#125;;    if (&#x2F;(y+)&#x2F;.test(fmt)) &#123;        fmt &#x3D; fmt.replace(RegExp.$1, (this.getFullYear() + &quot;&quot;).substr(4 - RegExp.$1.length));    &#125;    if (&#x2F;(E+)&#x2F;.test(fmt)) &#123;        fmt &#x3D; fmt.replace(RegExp.$1, ((RegExp.$1.length &gt; 1) ? (RegExp.$1.length &gt; 2 ? &quot;&#x2F;u661f&#x2F;u671f&quot; : &quot;&#x2F;u5468&quot;) : &quot;&quot;) + week[this.getDay() + &quot;&quot;]);    &#125;    for (var k in o) &#123;        if (new RegExp(&quot;(&quot; + k + &quot;)&quot;).test(fmt)) &#123;            fmt &#x3D; fmt.replace(RegExp.$1, (RegExp.$1.length &#x3D;&#x3D; 1) ? (o[k]) : ((&quot;00&quot; + o[k]).substr((&quot;&quot; + o[k]).length)));        &#125;    &#125;    return fmt;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-HTML" data-language="HTML"><code class="language-HTML">&lt;span&gt;&lt;script&gt;var date &#x3D; new Date(Date.parse(&#39;$opr.OrderList.ol_OrderTime&#39;.replace(&#x2F;-&#x2F;g, &quot;&#x2F;&quot;))); document.write(date.pattern(&quot;yyyy年MM月dd日&quot;));&lt;&#x2F;span&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>格式化日期</p><pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">&#x2F;&#x2F; 对Date的扩展，将 Date 转化为指定格式的String&#x2F;&#x2F; 月(M)、日(d)、小时(h)、分(m)、秒(s)、季度(q) 可以用 1-2 个占位符， &#x2F;&#x2F; 年(y)可以用 1-4 个占位符，毫秒(S)只能用 1 个占位符(是 1-3 位的数字) &#x2F;&#x2F; 例子： &#x2F;&#x2F; (new Date()).Format(&quot;yyyy-MM-dd hh:mm:ss.S&quot;) &#x3D;&#x3D;&gt; 2006-07-02 08:09:04.423 &#x2F;&#x2F; (new Date()).Format(&quot;yyyy-M-d h:m:s.S&quot;)      &#x3D;&#x3D;&gt; 2006-7-2 8:9:4.18 Date.prototype.Format &#x3D; function (fmt) &#123; &#x2F;&#x2F;author: meizz     var o &#x3D; &#123;        &quot;M+&quot;: this.getMonth() + 1, &#x2F;&#x2F;月份         &quot;d+&quot;: this.getDate(), &#x2F;&#x2F;日         &quot;h+&quot;: this.getHours(), &#x2F;&#x2F;小时         &quot;m+&quot;: this.getMinutes(), &#x2F;&#x2F;分         &quot;s+&quot;: this.getSeconds(), &#x2F;&#x2F;秒         &quot;q+&quot;: Math.floor((this.getMonth() + 3) &#x2F; 3), &#x2F;&#x2F;季度         &quot;S&quot;: this.getMilliseconds() &#x2F;&#x2F;毫秒     &#125;;    if (&#x2F;(y+)&#x2F;.test(fmt)) fmt &#x3D; fmt.replace(RegExp.$1, (this.getFullYear() + &quot;&quot;).substr(4 - RegExp.$1.length));    for (var k in o)    if (new RegExp(&quot;(&quot; + k + &quot;)&quot;).test(fmt)) fmt &#x3D; fmt.replace(RegExp.$1, (RegExp.$1.length &#x3D;&#x3D; 1) ? (o[k]) : ((&quot;00&quot; + o[k]).substr((&quot;&quot; + o[k]).length)));    return fmt;&#125;调用： var time1 &#x3D; new Date().Format(&quot;yyyy-MM-dd&quot;);var time2 &#x3D; new Date().Format(&quot;yyyy-MM-dd HH:mm:ss&quot;);&lt;script language&#x3D;&quot;javascript&quot; type&#x3D;&quot;text&#x2F;javascript&quot;&gt; &lt;!-- &#x2F;** * 对Date的扩展，将 Date 转化为指定格式的String * 月(M)、日(d)、12小时(h)、24小时(H)、分(m)、秒(s)、周(E)、季度(q)    可以用 1-2 个占位符 * 年(y)可以用 1-4 个占位符，毫秒(S)只能用 1 个占位符(是 1-3 位的数字) * eg: * (new    Date()).pattern(&quot;yyyy-MM-dd hh:mm:ss.S&quot;)&#x3D;&#x3D;&gt; 2006-07-02 08:09:04.423       * (new Date()).pattern(&quot;yyyy-MM-dd E HH:mm:ss&quot;) &#x3D;&#x3D;&gt; 2009-03-10 二 20:09:04       * (new Date()).pattern(&quot;yyyy-MM-dd EE hh:mm:ss&quot;) &#x3D;&#x3D;&gt; 2009-03-10 周二 08:09:04       * (new Date()).pattern(&quot;yyyy-MM-dd EEE hh:mm:ss&quot;) &#x3D;&#x3D;&gt; 2009-03-10 星期二 08:09:04       * (new Date()).pattern(&quot;yyyy-M-d h:m:s.S&quot;) &#x3D;&#x3D;&gt; 2006-7-2 8:9:4.18       *&#x2F;        Date.prototype.pattern&#x3D;function(fmt) &#123;             var o &#x3D; &#123;             &quot;M+&quot; : this.getMonth()+1, &#x2F;&#x2F;月份             &quot;d+&quot; : this.getDate(), &#x2F;&#x2F;日             &quot;h+&quot; : this.getHours()%12 &#x3D;&#x3D; 0 ? 12 : this.getHours()%12, &#x2F;&#x2F;小时             &quot;H+&quot; : this.getHours(), &#x2F;&#x2F;小时             &quot;m+&quot; : this.getMinutes(), &#x2F;&#x2F;分             &quot;s+&quot; : this.getSeconds(), &#x2F;&#x2F;秒             &quot;q+&quot; : Math.floor((this.getMonth()+3)&#x2F;3), &#x2F;&#x2F;季度             &quot;S&quot; : this.getMilliseconds() &#x2F;&#x2F;毫秒             &#125;;             var week &#x3D; &#123;             &quot;0&quot; : &quot;&#x2F;u65e5&quot;,             &quot;1&quot; : &quot;&#x2F;u4e00&quot;,             &quot;2&quot; : &quot;&#x2F;u4e8c&quot;,             &quot;3&quot; : &quot;&#x2F;u4e09&quot;,             &quot;4&quot; : &quot;&#x2F;u56db&quot;,             &quot;5&quot; : &quot;&#x2F;u4e94&quot;,             &quot;6&quot; : &quot;&#x2F;u516d&quot;            &#125;;             if(&#x2F;(y+)&#x2F;.test(fmt))&#123;                 fmt&#x3D;fmt.replace(RegExp.$1, (this.getFullYear()+&quot;&quot;).substr(4 - RegExp.$1.length));             &#125;             if(&#x2F;(E+)&#x2F;.test(fmt))&#123;                 fmt&#x3D;fmt.replace(RegExp.$1, ((RegExp.$1.length&gt;1) ? (RegExp.$1.length&gt;2 ? &quot;&#x2F;u661f&#x2F;u671f&quot; : &quot;&#x2F;u5468&quot;) : &quot;&quot;)+week[this.getDay()+&quot;&quot;]);             &#125;             for(var k in o)&#123;                 if(new RegExp(&quot;(&quot;+ k +&quot;)&quot;).test(fmt))&#123;                     fmt &#x3D; fmt.replace(RegExp.$1, (RegExp.$1.length&#x3D;&#x3D;1) ? (o[k]) : ((&quot;00&quot;+ o[k]).substr((&quot;&quot;+ o[k]).length)));                 &#125;             &#125;             return fmt;         &#125;            var date &#x3D; new Date();      window.alert(date.pattern(&quot;yyyy-MM-dd hh:mm:ss&quot;));&#x2F;&#x2F; --&gt;&lt;&#x2F;script&gt;Date.prototype.format &#x3D; function (mask) &#123;     var d &#x3D; this;    var zeroize &#x3D; function (value, length) &#123;            if (!length) length &#x3D; 2;            value &#x3D; String(value);            for (var i &#x3D; 0, zeros &#x3D; &#39;&#39;; i &lt; (length - value.length); i++) &#123;                zeros +&#x3D; &#39;0&#39;;            &#125;            return zeros + value;        &#125;;    return mask.replace(&#x2F;&quot;[^&quot;]*&quot;|&#39;[^&#39;]*&#39;|&#x2F;b ( ? : d &#123;        1, 4    &#125; | m &#123;        1, 4    &#125; | yy( ? : yy) ? | ([hHMstT]) &#x2F; 1 ? | [lLZ]) &#x2F; b &#x2F; g, function ($0) &#123;        switch ($0) &#123;        case &#39;d&#39;:            return d.getDate();        case &#39;dd&#39;:            return zeroize(d.getDate());        case &#39;ddd&#39;:            return [&#39;Sun&#39;, &#39;Mon&#39;, &#39;Tue&#39;, &#39;Wed&#39;, &#39;Thr&#39;, &#39;Fri&#39;, &#39;Sat&#39;][d.getDay()];        case &#39;dddd&#39;:            return [&#39;Sunday&#39;, &#39;Monday&#39;, &#39;Tuesday&#39;, &#39;Wednesday&#39;, &#39;Thursday&#39;, &#39;Friday&#39;, &#39;Saturday&#39;][d.getDay()];        case &#39;M&#39;:            return d.getMonth() + 1;        case &#39;MM&#39;:            return zeroize(d.getMonth() + 1);        case &#39;MMM&#39;:            return [&#39;Jan&#39;, &#39;Feb&#39;, &#39;Mar&#39;, &#39;Apr&#39;, &#39;May&#39;, &#39;Jun&#39;, &#39;Jul&#39;, &#39;Aug&#39;, &#39;Sep&#39;, &#39;Oct&#39;, &#39;Nov&#39;, &#39;Dec&#39;][d.getMonth()];        case &#39;MMMM&#39;:            return [&#39;January&#39;, &#39;February&#39;, &#39;March&#39;, &#39;April&#39;, &#39;May&#39;, &#39;June&#39;, &#39;July&#39;, &#39;August&#39;, &#39;September&#39;, &#39;October&#39;, &#39;November&#39;, &#39;December&#39;][d.getMonth()];        case &#39;yy&#39;:            return String(d.getFullYear()).substr(2);        case &#39;yyyy&#39;:            return d.getFullYear();        case &#39;h&#39;:            return d.getHours() % 12 || 12;        case &#39;hh&#39;:            return zeroize(d.getHours() % 12 || 12);        case &#39;H&#39;:            return d.getHours();        case &#39;HH&#39;:            return zeroize(d.getHours());        case &#39;m&#39;:            return d.getMinutes();        case &#39;mm&#39;:            return zeroize(d.getMinutes());        case &#39;s&#39;:            return d.getSeconds();        case &#39;ss&#39;:            return zeroize(d.getSeconds());        case &#39;l&#39;:            return zeroize(d.getMilliseconds(), 3);        case &#39;L&#39;:            var m &#x3D; d.getMilliseconds();            if (m &gt; 99) m &#x3D; Math.round(m &#x2F; 10);            return zeroize(m);        case &#39;tt&#39;:            return d.getHours() &lt; 12 ? &#39;am&#39; : &#39;pm&#39;;        case &#39;TT&#39;:            return d.getHours() &lt; 12 ? &#39;AM&#39; : &#39;PM&#39;;        case &#39;Z&#39;:            return d.toUTCString().match(&#x2F;[A-Z]+$&#x2F;);            &#x2F;&#x2F; Return quoted strings with the surrounding quotes removed              default:            return $0.substr(1, $0.length - 2);        &#125;    &#125;);&#125;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>格式化日期参考 <a href="http://www.cnblogs.com/zhangpengshou/archive/2012/07/19/2599053.html">http://www.cnblogs.com/zhangpengshou/archive/2012/07/19/2599053.html</a></p>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windows 环境下安装MongoDB</title>
      <link href="/mongodb/windows-huan-jing-xia-an-zhuang-mongodb/"/>
      <url>/mongodb/windows-huan-jing-xia-an-zhuang-mongodb/</url>
      
        <content type="html"><![CDATA[<p>mongoDB下载地址 <a href="https://www.mongodb.org/">https://www.mongodb.org/</a></p><p>在mongoDB官网下载windows版本的mongoDB后解压出来（本文以解压到D盘为例）</p><p>在解压出来的MongoDB文件夹下创建data文件夹，然后在data文件夹下创建log和db两个文件夹</p><p>在log文件夹下创建一个空的mongodb.log文件</p><p><img src="/images/2015110315271501.png" alt="2015110315271501.png"><br>然后在mongodb文件夹下创建mongo.config文件</p><p>在mongo.config文件中加入下面两行内容</p><p>dbpath&#x3D;D:\mongodb\data\db                    mongodb数据文件夹<br>logpath&#x3D;D:\mongodb\data\log\mongodb.log     mongodb的日志记录文件</p><p>然后将mongodb加入window服务中</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">@echo off  @echo ---------------------welcome to use mongod auto run tools--------------  @echo. <span class="token operator">&amp;</span> pause  @echo ---------------------正在关闭冗余进程，骚等----------------------------   taskkill /im mongod.exe /f   @echo --------------------冗余进程执行完毕，服务器正在启动，骚等-------------start D:<span class="token punctuation">\</span>mongodb<span class="token punctuation">\</span>bin<span class="token punctuation">\</span>mongod.exe <span class="token parameter variable">--install</span> <span class="token parameter variable">--logpath</span><span class="token operator">=</span>D:<span class="token punctuation">\</span>mongodb<span class="token punctuation">\</span>data<span class="token punctuation">\</span>log<span class="token punctuation">\</span>mongodb.log <span class="token parameter variable">--dbpath</span><span class="token operator">=</span>D:<span class="token punctuation">\</span>mongodb<span class="token punctuation">\</span>data<span class="token punctuation">\</span>db@echo ---------------------按任意键启动服务-------------@echo. <span class="token operator">&amp;</span> pause@echo ---------------------正在启动服务，骚等----------------------------net start <span class="token string">"MongoDB"</span>@echo. <span class="token operator">&amp;</span> pause <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>将上面的内容复制出来保存到一个bat文件中，然后运行该bat文件就可以将mongodb服务加入windows中</p><p>然后在服务中启动MongoDB服务，安装成功后输入<a href="http://localhost:27017/">http://localhost:27017/</a>  如下图表示安装成功。<br><img src="/images/2015110315271502.png" alt="2015110315271502.png"></p><p>设置服务名称将上面标红的修改成如下代码即可</p><p>start D:\mongodb\bin\mongod.exe –install –logpath&#x3D;D:\mongodb\data\log\mongodb.log –dbpath&#x3D;D:\mongodb\data\db –serviceName “MongoDB” –serviceDisplayName “MongoDB”</p><p>卸载MongoDB服务</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">@echo off  @echo ---------------------welcome to use mongod Remove tools--------------  @echo. <span class="token operator">&amp;</span> pause@echo ---------------------正在关闭冗余进程，骚等----------------------------   taskkill /im mongod.exe /f  @echo --------------------冗余进程执行完毕，服务器正在启动，骚等-------------  start D:<span class="token punctuation">\</span>mongodb<span class="token punctuation">\</span>bin<span class="token punctuation">\</span>mongod.exe <span class="token parameter variable">--remove</span>  <span class="token parameter variable">--serviceName</span> <span class="token string">"MongoDB"</span> <span class="token parameter variable">--logpath</span><span class="token operator">=</span>D:<span class="token punctuation">\</span>mongodb<span class="token punctuation">\</span>data<span class="token punctuation">\</span>log<span class="token punctuation">\</span>mongodb.log <span class="token parameter variable">--dbpath</span><span class="token operator">=</span>D:<span class="token punctuation">\</span>mongodb<span class="token punctuation">\</span>data<span class="token punctuation">\</span>db@echo. <span class="token operator">&amp;</span> pause<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>将上面的内容复制出来保存到一个bat文件中运行文件就可以卸载MongoDB服务</p><p>net start “MongoDB” 启动mongodb服务</p><p>net stop “MongoDB” 停止mongodb服务</p><p>有关于安装参数的说明：</p><p>–dbpath 是数据文件所在目录</p><p>–logpath 是日志文件所在文件路径，此参数必须为文件，不能为文件目录，否则会导致安装失败</p><p>以上两个参数必须设置</p><p>–logappend 日志以追加的方式写入</p><p>–directoryperdb 为每个数据库建立单独的目录</p><p>–bind_ip 绑定服务器IP，此参数为安全起见建议使用127.0.0.1，因为如果不设置的话，远程是可以连接的</p><p>–port  端口号</p><p>–install 以服务形式安装</p><p>如果需要删除 MongoDB 服务请使用 mongod –remove</p><p> –mongo ip:port&#x2F;dbname 连接到远程服务器的mongodb，如果不加后面的参数，则默认连接到本地的test库 </p>]]></content>
      
      
      <categories>
          
          <category> MongoDB </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MongoDB </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C# 发送邮件</title>
      <link href="/c-winform/csharp-fa-song-you-jian/"/>
      <url>/c-winform/csharp-fa-song-you-jian/</url>
      
        <content type="html"><![CDATA[<pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">&#x2F;&#x2F;&#x2F; &lt;summary&gt;&#x2F;&#x2F;&#x2F; 邮件群发&#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;strMyEmail&quot;&gt;发送人邮件名&lt;&#x2F;param&gt;&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;strMyPass&quot;&gt;发送人密码&lt;&#x2F;param&gt;&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;strMySmtp&quot;&gt;发送人邮箱Smtp地址&lt;&#x2F;param&gt;&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;strToEmail&quot;&gt;接收人邮件名&lt;&#x2F;param&gt;&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;strSubject&quot;&gt;发送主题&lt;&#x2F;param&gt;&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;strContent&quot;&gt;发送内容&lt;&#x2F;param&gt;&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;strIsHTML&quot;&gt;是否为html&lt;&#x2F;param&gt;&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;strFileArray&quot;&gt;发送上传的路径&lt;&#x2F;param&gt;public static bool SendEmails(string strMyEmail, string trMyPass, string strMySmtp, List&lt;string&gt; strToEmail, string trSubject, string strContent, bool strIsHTML, string[] trFileArray)&#123;    try    &#123;        MailMessage message &#x3D; new MailMessage();        message.From &#x3D; new MailAddress(strMyEmail);        foreach (string item in strToEmail)        &#123;            message.To.Add(new MailAddress(item));&#x2F;&#x2F;接收人邮箱        &#125;        &#x2F;&#x2F;message.To.Add(new MailAddress(strMyEmail));        message.Subject &#x3D; strSubject;&#x2F;&#x2F;主题        message.Body &#x3D; strContent;&#x2F;&#x2F;发送内容         message.IsBodyHtml &#x3D; strIsHTML;        if (strFileArray !&#x3D; null)        &#123;            for (int i &#x3D; 0; i &lt; strFileArray.Length; i++)            &#123;                                 Attachment data &#x3D; new Attachment(strFileArray[i], MediaTypeNames.Application.Octet);                ContentDisposition disposition &#x3D; data.ContentDisposition;                disposition.CreationDate &#x3D; System.IO.File.GetCreationTime(strFileArray[i]);                disposition.ModificationDate &#x3D; System.IO.File.GetLastWriteTime(strFileArray[i]);                disposition.ReadDate &#x3D; System.IO.File.GetLastAccessTime(strFileArray[i]);                               message.Attachments.Add(data);            &#125;        &#125;        SmtpClient client &#x3D; new SmtpClient(strMySmtp, 25);        client.Credentials &#x3D; new System.Net.NetworkCredential(strMyEmail, strMyPass);        client.Send(message);        return true;    &#125;    catch (Exception)    &#123;        return false;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C# 连接 Exchange 发送邮件</title>
      <link href="/c-winform/csharp-lian-jie-exchange-fa-song-you-jian/"/>
      <url>/c-winform/csharp-lian-jie-exchange-fa-song-you-jian/</url>
      
        <content type="html"><![CDATA[<p>C#连接Exchange 发送邮件代码如下</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">&#x2F;&#x2F;&#x2F; &lt;summary&gt;&#x2F;&#x2F;&#x2F; exchange群发邮件&#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;credentialUserName&quot;&gt;exchange用户名 [example: est]&lt;&#x2F;param&gt;&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;credentialUserPwd&quot;&gt;exchange用户密码&lt;&#x2F;param&gt;&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;fromEmail&quot;&gt;发送人地址 [example: est@allbring.com]&lt;&#x2F;param&gt;&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;recipientEmail&quot;&gt;收件人地址&lt;&#x2F;param&gt;&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;domainName&quot;&gt;邮件域名 [example: mail.allbring.om]&lt;&#x2F;param&gt;&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;subjectName&quot;&gt;邮件主题&lt;&#x2F;param&gt;&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;bodyVal&quot;&gt;邮件内容&lt;&#x2F;param&gt;&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;isHtml&quot;&gt;是否为html&lt;&#x2F;param&gt;&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;fileArray&quot;&gt;发送上传的路径&lt;&#x2F;param&gt;&#x2F;&#x2F;&#x2F; &lt;returns&gt;&lt;&#x2F;returns&gt;&#x2F;&#x2F;&#x2F; 开发人员：ZJpublic static bool SendExchangeEmails(string redentialUserName, string credentialUserPwd, string romEmail, List&lt;string&gt; recipientEmail, string domainName, tring subjectName, string bodyVal, bool isHtml, string[] ileArray)&#123;    try    &#123;        MailMessage message &#x3D; new MailMessage();        MailAddress fromAddress &#x3D; new MailAddress(fromEmail);        foreach (string item in recipientEmail)        &#123;            message.To.Add(item);        &#125;        message.From &#x3D; fromAddress;        message.Subject &#x3D; subjectName;        message.Body &#x3D; bodyVal;        message.IsBodyHtml &#x3D; isHtml;        if (fileArray !&#x3D; null)        &#123;            for (int i &#x3D; 0; i &lt; fileArray.Length; i++)            &#123;                &#x2F;&#x2F;为邮件创建文件附件                Attachment attr &#x3D; new Attachment(fileArray[i], MediaTypeNames.Application.Octet);                &#x2F;&#x2F;添加邮件时间戳信息                ContentDisposition conDispositon &#x3D; attr.ContentDisposition;                conDispositon.CreationDate &#x3D; System.IO.File.GetCreationTime(fileArray[i]);&#x2F;&#x2F;文件的创建日期                conDispositon.ModificationDate &#x3D; System.IO.File.GetLastWriteTime(fileArray[i]);&#x2F;&#x2F;文件的修改日期                conDispositon.ReadDate &#x3D; System.IO.File.GetLastAccessTime(fileArray[i]);&#x2F;&#x2F;文件的读取日期                &#x2F;&#x2F;给邮件添加附件                message.Attachments.Add(attr);            &#125;        &#125;        SmtpClient smtpClient &#x3D; new SmtpClient();        smtpClient.Timeout &#x3D; 50000;        smtpClient.Host &#x3D; domainName;        smtpClient.Port &#x3D; 25;        smtpClient.UseDefaultCredentials &#x3D; false;        smtpClient.Credentials &#x3D; new System.Net.NetworkCredential(credentialUserName, credentialUserPwd);        smtpClient.EnableSsl &#x3D; true;        smtpClient.DeliveryMethod &#x3D; SmtpDeliveryMethod.Network;        smtpClient.Send(message);        smtpClient.Dispose();        return true;    &#125;    catch (Exception)    &#123;        return false;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>如果exchange服务器只做了证书，在发送邮件的机器上也要安装证书邮件才能发送出去。</strong></p><p>参考地址：<a href="https://social.technet.microsoft.com/Forums/en-US/d37c7e8a-6d42-498a-bad4-5eb0ab7e9d40/connecting-to-exchange-server-using-c-to-send-an-email?forum=exchangesvrdevelopment">https://social.technet.microsoft.com/Forums/en-US/d37c7e8a-6d42-498a-bad4-5eb0ab7e9d40/connecting-to-exchange-server-using-c-to-send-an-email?forum=exchangesvrdevelopment</a></p><p><a href="http://www.systemnetmail.com/faq/2.4.aspx">http://www.systemnetmail.com/faq/2.4.aspx</a></p>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ztree 默认展开二级菜单</title>
      <link href="/js/ztree-mo-ren-zhan-kai-er-ji-cai-dan/"/>
      <url>/js/ztree-mo-ren-zhan-kai-er-ji-cai-dan/</url>
      
        <content type="html"><![CDATA[<p>在初始加载树形控件的时候调用zTree的expandNode (node, expandFlag, sonSign, focus, callbackFlag)方法</p><p><strong>node</strong>：树形节点<br><strong>expandFlag</strong>:是否展开节点<br><strong>sonSign</strong>：是否展开其子孙节点<br><strong>focus</strong>：展开或折叠节点后是否设置焦点<br><strong>callbackFlag</strong>：这行该方法是否触发回调函数</p><pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">var zNodes &#x3D; &quot;&quot;; var setting &#x3D; &#123;    check: &#123;        enable: true    &#125;,    data: &#123;&#x2F;&#x2F;数据加载        keep: &#123;            parent: true,            leaf: true        &#125;,        simpleData: &#123;            enable: true,            idKey: &quot;Id&quot;,            pIdKey: &quot;Pid&quot;,        &#125;,        key: &#123;            name: &quot;Name&quot;        &#125;    &#125;&#125;; function Inint() &#123;&#x2F;&#x2F;初始化加载节点    $.ajax(&#123;        global: true,        async: false,        cache: false,        dataType: &quot;json&quot;,        url: &#39;..&#x2F;Ajax&#x2F;test.ashx&#39;,        type: &quot;post&quot;,        &#x2F;&#x2F;data: &#123; &quot;roleId&quot;: GetQueryString(&quot;roleId&quot;) &#125;,        success: function (data) &#123;            zNodes &#x3D; data;        &#125;    &#125;);&#125;; $(function () &#123;    Inint(); &#x2F;&#x2F;加载数据    $.fn.zTree.init($(&quot;#zTree&quot;), setting, zNodes);    var treeObj &#x3D; $.fn.zTree.getZTreeObj(&quot;zTree&quot;);    var nodes &#x3D; treeObj.getNodes();    for (var i &#x3D; 0; i &lt; nodes.length; i++) &#123; &#x2F;&#x2F;设置节点展开        treeObj.expandNode(nodes[i], true, false, true);    &#125;&#125;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-HTML" data-language="HTML"><code class="language-HTML">&lt;div class&#x3D;&quot;control&quot; style&#x3D;&quot;overflow: auto; height:270px;&quot;&gt;            &lt;ul id&#x3D;&quot;zTree&quot;&gt;            &lt;&#x2F;ul&gt;&lt;&#x2F;div&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JqGrid查询数据为空时给表格添加提示信息</title>
      <link href="/js/jqgrid-cha-xun-shu-ju-wei-kong-shi-gei-biao-ge-tian-jia-ti-shi-xin-xi/"/>
      <url>/js/jqgrid-cha-xun-shu-ju-wei-kong-shi-gei-biao-ge-tian-jia-ti-shi-xin-xi/</url>
      
        <content type="html"><![CDATA[<p><img src="/images/2015102214551501.png" alt="2015102214551501.png"><br>在JqGrid的loadComplete事件中添加下面的代码就可以实现上图的效果</p><pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">loadComplete: function () &#123;    var rowNum &#x3D; $(&quot;#purchaserPersonManage&quot;).jqGrid(&#39;getGridParam&#39;, &#39;records&#39;); &#x2F;&#x2F;获取数据总条数    if (rowNum &#x3D;&#x3D; 0)&#x2F;&#x2F;没有数据则添加提示    &#123;        if ($(&quot;#norecords&quot;).html() &#x3D;&#x3D; null) &#123;            $(&quot;#purchaserPersonManage&quot;).parent().append(&quot;&lt;pre&gt;&lt;div id&#x3D;&#39;norecords&#39; style&#x3D;&#39;margin:10px;color:red;font-size:16px;&#39;&gt;未找到此产品！&lt;&#x2F;div&gt;&lt;&#x2F;pre&gt;&quot;);        &#125;        $(&quot;#norecords&quot;).show();&#x2F;&#x2F;显示提示信息    &#125;    else &#123;        $(&quot;#norecords&quot;).hide();&#x2F;&#x2F;隐藏提示信息    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Jquery 获取table中的td元素的值</title>
      <link href="/js/jquery-huo-qu-table-zhong-de-td-yuan-su-de-zhi/"/>
      <url>/js/jquery-huo-qu-table-zhong-de-td-yuan-su-de-zhi/</url>
      
        <content type="html"><![CDATA[<pre class="line-numbers language-HTML" data-language="HTML"><code class="language-HTML">&lt;table id&#x3D;&quot;t1&quot;&gt;&lt;tr&gt;&lt;td&gt;1-1&lt;&#x2F;td&gt;&lt;td&gt;1-2&lt;&#x2F;td&gt;&lt;td&gt;1-3&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;&lt;tr&gt;&lt;td&gt;2-1&lt;&#x2F;td&gt;&lt;td&gt;2-2&lt;&#x2F;td&gt;&lt;td&gt;2-3&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;&lt;&#x2F;table&gt;&lt;table id&#x3D;&quot;t2&quot;&gt;&lt;tr&gt;&lt;td&gt;1-1&lt;&#x2F;td&gt;&lt;td&gt;1-2&lt;&#x2F;td&gt;&lt;td&gt;1-3&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;&lt;tr&gt;&lt;td&gt;2-1&lt;&#x2F;td&gt;&lt;td&gt;2-2&lt;&#x2F;td&gt;&lt;td&gt;2-3&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;&lt;&#x2F;table&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">$(&quot;#t1 tr&quot;).eq(1).find(&quot;td&quot;).eq(2).html().trim()<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>判断上传文件是否是图片文件</title>
      <link href="/c-winform/pan-duan-shang-chuan-wen-jian-shi-fou-shi-tu-pian-wen-jian/"/>
      <url>/c-winform/pan-duan-shang-chuan-wen-jian-shi-fou-shi-tu-pian-wen-jian/</url>
      
        <content type="html"><![CDATA[<p>方法一：用image对象判断是否为图片</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">&#x2F;&#x2F;&#x2F; &lt;summary&gt;&#x2F;&#x2F;&#x2F; 判断文件是否为图片&#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;path&quot;&gt;文件的完整路径&lt;&#x2F;param&gt;&#x2F;&#x2F;&#x2F; &lt;returns&gt;返回结果&lt;&#x2F;returns&gt;public Boolean IsImage(string path)&#123;try&#123; System.Drawing.Image img &#x3D; System.Drawing.Image.FromFile(path); return true;&#125;catch (Exception e)&#123; return false;&#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>方法二，判断文件头</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">&#x2F;&#x2F;&#x2F; &lt;summary&gt;&#x2F;&#x2F;&#x2F; 根据文件头判断上传的文件类型&#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;&#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;filePath&quot;&gt;filePath是文件的完整路径 &lt;&#x2F;param&gt;&#x2F;&#x2F;&#x2F; &lt;returns&gt;返回true或false&lt;&#x2F;returns&gt;private bool IsPicture(string filePath)&#123;try&#123; FileStream fs &#x3D; new FileStream(filePath, FileMode.Open, FileAccess.Read); BinaryReader reader &#x3D; new BinaryReader(fs); string fileClass; byte buffer; buffer &#x3D; reader.ReadByte(); fileClass &#x3D; buffer.ToString(); buffer &#x3D; reader.ReadByte(); fileClass +&#x3D; buffer.ToString(); reader.Close(); fs.Close(); if (fileClass &#x3D;&#x3D; &quot;255216&quot; || fileClass &#x3D;&#x3D; &quot;7173&quot; || fileClass &#x3D;&#x3D; &quot;13780&quot; || fileClass &#x3D;&#x3D; &quot;6677&quot;) &#x2F;&#x2F;255216是jpg;7173是gif;6677是BMP,13780是PNG;7790是exe,8297是rar  &#123; return true; &#125; else &#123; return false; &#125;&#125;catch&#123; return false;&#125;&#125;public enum FileExtension&#123;    JPG &#x3D; 255216,    GIF &#x3D; 7173,    BMP &#x3D; 6677,    PNG &#x3D; 13780,    COM &#x3D; 7790,    EXE &#x3D; 7790,    DLL &#x3D; 7790,    RAR &#x3D; 8297,    ZIP &#x3D; 8075,    XML &#x3D; 6063,    HTML &#x3D; 6033,    ASPX &#x3D; 239187,    CS &#x3D; 117115,    JS &#x3D; 119105,    TXT &#x3D; 210187,    SQL &#x3D; 255254,    BAT &#x3D; 64101,    BTSEED &#x3D; 10056,    RDP &#x3D; 255254,    PSD &#x3D; 5666,    PDF &#x3D; 3780,    CHM &#x3D; 7384,    LOG &#x3D; 70105,    REG &#x3D; 8269,    HLP &#x3D; 6395,    DOC &#x3D; 208207,    XLS &#x3D; 208207,    DOCX &#x3D; 208207,    XLSX &#x3D; 208207,&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Jquery ValidationEngine 修改验证提示框的位置</title>
      <link href="/js/jquery-validationengine-xiu-gai-yan-zheng-ti-shi-kuang-de-wei-zhi/"/>
      <url>/js/jquery-validationengine-xiu-gai-yan-zheng-ti-shi-kuang-de-wei-zhi/</url>
      
        <content type="html"><![CDATA[<pre class="line-numbers language-HTML" data-language="HTML"><code class="language-HTML">&lt;!doctype html&gt;&lt;html lang&#x3D;&quot;en&quot;&gt; &lt;head&gt;  &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;  &lt;meta name&#x3D;&quot;Generator&quot; content&#x3D;&quot;EditPlus®&quot;&gt;  &lt;meta name&#x3D;&quot;Author&quot; content&#x3D;&quot;&quot;&gt;  &lt;meta name&#x3D;&quot;Keywords&quot; content&#x3D;&quot;&quot;&gt;  &lt;meta name&#x3D;&quot;Description&quot; content&#x3D;&quot;&quot;&gt;  &lt;title&gt;自定义验证框位置&lt;&#x2F;title&gt;  &lt;link rel&#x3D;&quot;stylesheet&quot; type&#x3D;&quot;text&#x2F;css&quot; href&#x3D;&quot;ValidationEngine&#x2F;css&#x2F;validationEngine.jquery.css&quot;&#x2F;&gt;  &lt;script src&#x3D;&quot;ValidationEngine&#x2F;js&#x2F;jquery-1.8.2.min.js&quot;&gt;&lt;&#x2F;script&gt;  &lt;script src&#x3D;&quot;ValidationEngine&#x2F;js&#x2F;jquery.validationEngine.js&quot;&gt;&lt;&#x2F;script&gt;  &lt;script src&#x3D;&quot;ValidationEngine&#x2F;js&#x2F;languages&#x2F;jquery.validationEngine-zh_CN.js&quot;&gt;&lt;&#x2F;script&gt;  &lt;script type&#x3D;&quot;text&#x2F;javascript&quot;&gt;        jQuery(document).ready(function () &#123;            jQuery(&quot;#frmJquery&quot;).validationEngine(&#123;                onFormSuccess: function () &#123;                    return false;                &#125;,                onFormFailure: function () &#123;                    return false;                &#125;            &#125;);            jQuery(&quot;#frmJquery&quot;).validationEngine(&#39;attach&#39;, &#123;                relative: true,                overflownDIV: &quot;#divPostion&quot;,                promptPosition: &quot;bottomLeft&quot; &#x2F;&#x2F;验证弹出框的位置，topRight,topLeft,bottomRight,bottomLeft,centerRight,centerLeft,inline            &#125;);        &#125;)        function showMsg(msg)        &#123;            layer.msg(msg, &#123; time: 1000 &#125;);        &#125;    &lt;&#x2F;script&gt; &lt;&#x2F;head&gt; &lt;body&gt; &lt;div id&#x3D;&quot;divPostion&quot;&gt; &lt;form id&#x3D;&quot;frmJquery&quot;&gt;  姓名：&lt;input type&#x3D;&quot;text&quot; id&#x3D;&quot;txtName&quot; class&#x3D;&quot;validate[required]&quot;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;  手机：&lt;input type&#x3D;&quot;text&quot; id&#x3D;&quot;txtPhone&quot; class&#x3D;&quot;validate[custom[phone]]&quot;&gt;  &lt;form&gt;  &lt;&#x2F;div&gt; &lt;&#x2F;body&gt;&lt;&#x2F;html&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ztree 获取最下级的子节点内容</title>
      <link href="/js/ztree-huo-qu-zui-xia-ji-de-zi-jie-dian-nei-rong/"/>
      <url>/js/ztree-huo-qu-zui-xia-ji-de-zi-jie-dian-nei-rong/</url>
      
        <content type="html"><![CDATA[<pre class="line-numbers language-HTML" data-language="HTML"><code class="language-HTML">&lt;!doctype html&gt;&lt;html lang&#x3D;&quot;en&quot;&gt; &lt;head&gt;  &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;  &lt;meta name&#x3D;&quot;Generator&quot; content&#x3D;&quot;EditPlus®&quot;&gt;  &lt;meta name&#x3D;&quot;Author&quot; content&#x3D;&quot;&quot;&gt;  &lt;meta name&#x3D;&quot;Keywords&quot; content&#x3D;&quot;&quot;&gt;  &lt;meta name&#x3D;&quot;Description&quot; content&#x3D;&quot;&quot;&gt;  &lt;title&gt;Ztree&lt;&#x2F;title&gt;  &lt;link href&#x3D;&quot;zTreeStyle.css&quot; rel&#x3D;&quot;stylesheet&quot; &#x2F;&gt;  &lt;script type&#x3D;&quot;text&#x2F;javascript&quot; src&#x3D;&quot;jquery-1.4.4.min.js&quot;&gt;&lt;&#x2F;script&gt;  &lt;script type&#x3D;&quot;text&#x2F;javascript&quot; src&#x3D;&quot;jquery.ztree.all-3.5.min.js&quot;&gt;&lt;&#x2F;script&gt;   &lt;script type&#x3D;&quot;text&#x2F;javascript&quot;&gt;                &#x2F;&#x2F;获取页面中的参数        function GetQueryString(name) &#123;            var reg &#x3D; new RegExp(&quot;(^|&amp;)&quot; + name + &quot;&#x3D;([^&amp;]*)(&amp;|$)&quot;);            var r &#x3D; window.location.search.substr(1).match(reg);            if (r !&#x3D; null)                return unescape(r[2]);            return &quot;&quot;;        &#125;        var zNodes&#x3D;[&#123;&quot;key&quot;:null,&quot;Id&quot;:0,&quot;Pid&quot;:-1,&quot;Name&quot;:&quot;测试平台&quot;,&quot;checked&quot;:false&#125;,&#123;&quot;key&quot;:null,&quot;Id&quot;:1,&quot;Pid&quot;:0,&quot;Name&quot;:&quot;模块1&quot;,&quot;checked&quot;:false&#125;,&#123;&quot;key&quot;:7,&quot;Id&quot;:6,&quot;Pid&quot;:1,&quot;Name&quot;:&quot;模块1-功能1&quot;,&quot;checked&quot;:true&#125;,&#123;&quot;key&quot;:null,&quot;Id&quot;:7,&quot;Pid&quot;:1,&quot;Name&quot;:&quot;模块1-功能2&quot;,&quot;checked&quot;:false&#125;,&#123;&quot;key&quot;:null,&quot;Id&quot;:8,&quot;Pid&quot;:1,&quot;Name&quot;:&quot;模块1-功能3&quot;,&quot;checked&quot;:false&#125;,&#123;&quot;key&quot;:null,&quot;Id&quot;:9,&quot;Pid&quot;:1,&quot;Name&quot;:&quot;模块1-功能4&quot;,&quot;checked&quot;:false&#125;,&#123;&quot;key&quot;:null,&quot;Id&quot;:10,&quot;Pid&quot;:1,&quot;Name&quot;:&quot;模块1-功能5&quot;,&quot;checked&quot;:false&#125;,&#123;&quot;key&quot;:null,&quot;Id&quot;:2,&quot;Pid&quot;:0,&quot;Name&quot;:&quot;模块2&quot;,&quot;checked&quot;:false&#125;,&#123;&quot;key&quot;:7,&quot;Id&quot;:11,&quot;Pid&quot;:2,&quot;Name&quot;:&quot;模块2-功能1&quot;,&quot;checked&quot;:true&#125;,&#123;&quot;key&quot;:null,&quot;Id&quot;:12,&quot;Pid&quot;:2,&quot;Name&quot;:&quot;模块2-功能2&quot;,&quot;checked&quot;:false&#125;,&#123;&quot;key&quot;:null,&quot;Id&quot;:13,&quot;Pid&quot;:2,&quot;Name&quot;:&quot;模块2-功能3&quot;,&quot;checked&quot;:false&#125;,&#123;&quot;key&quot;:null,&quot;Id&quot;:14,&quot;Pid&quot;:2,&quot;Name&quot;:&quot;模块2-功能4&quot;,&quot;checked&quot;:false&#125;,&#123;&quot;key&quot;:null,&quot;Id&quot;:15,&quot;Pid&quot;:2,&quot;Name&quot;:&quot;模块2-功能5&quot;,&quot;checked&quot;:false&#125;,&#123;&quot;key&quot;:null,&quot;Id&quot;:3,&quot;Pid&quot;:0,&quot;Name&quot;:&quot;模块3&quot;,&quot;checked&quot;:false&#125;,&#123;&quot;key&quot;:7,&quot;Id&quot;:16,&quot;Pid&quot;:3,&quot;Name&quot;:&quot;模块3-功能1&quot;,&quot;checked&quot;:true&#125;,&#123;&quot;key&quot;:null,&quot;Id&quot;:17,&quot;Pid&quot;:3,&quot;Name&quot;:&quot;模块3-功能2&quot;,&quot;checked&quot;:false&#125;,&#123;&quot;key&quot;:null,&quot;Id&quot;:18,&quot;Pid&quot;:3,&quot;Name&quot;:&quot;模块3-功能3&quot;,&quot;checked&quot;:false&#125;,&#123;&quot;key&quot;:null,&quot;Id&quot;:19,&quot;Pid&quot;:3,&quot;Name&quot;:&quot;模块3-功能4&quot;,&quot;checked&quot;:false&#125;,&#123;&quot;key&quot;:null,&quot;Id&quot;:20,&quot;Pid&quot;:3,&quot;Name&quot;:&quot;模块3-功能5&quot;,&quot;checked&quot;:false&#125;,&#123;&quot;key&quot;:null,&quot;Id&quot;:4,&quot;Pid&quot;:0,&quot;Name&quot;:&quot;模块4&quot;,&quot;checked&quot;:false&#125;,&#123;&quot;key&quot;:7,&quot;Id&quot;:21,&quot;Pid&quot;:4,&quot;Name&quot;:&quot;模块4-功能1&quot;,&quot;checked&quot;:true&#125;,&#123;&quot;key&quot;:null,&quot;Id&quot;:22,&quot;Pid&quot;:4,&quot;Name&quot;:&quot;模块4-功能2&quot;,&quot;checked&quot;:false&#125;,&#123;&quot;key&quot;:null,&quot;Id&quot;:23,&quot;Pid&quot;:4,&quot;Name&quot;:&quot;模块4-功能3&quot;,&quot;checked&quot;:false&#125;,&#123;&quot;key&quot;:null,&quot;Id&quot;:24,&quot;Pid&quot;:4,&quot;Name&quot;:&quot;模块4-功能4&quot;,&quot;checked&quot;:false&#125;,&#123;&quot;key&quot;:null,&quot;Id&quot;:25,&quot;Pid&quot;:4,&quot;Name&quot;:&quot;模块4-功能5&quot;,&quot;checked&quot;:false&#125;,&#123;&quot;key&quot;:null,&quot;Id&quot;:5,&quot;Pid&quot;:0,&quot;Name&quot;:&quot;模块5&quot;,&quot;checked&quot;:false&#125;,&#123;&quot;key&quot;:7,&quot;Id&quot;:26,&quot;Pid&quot;:5,&quot;Name&quot;:&quot;模块5-功能1&quot;,&quot;checked&quot;:true&#125;,&#123;&quot;key&quot;:null,&quot;Id&quot;:27,&quot;Pid&quot;:5,&quot;Name&quot;:&quot;模块5-功能2&quot;,&quot;checked&quot;:false&#125;,&#123;&quot;key&quot;:null,&quot;Id&quot;:28,&quot;Pid&quot;:5,&quot;Name&quot;:&quot;模块5-功能3&quot;,&quot;checked&quot;:false&#125;,&#123;&quot;key&quot;:null,&quot;Id&quot;:29,&quot;Pid&quot;:5,&quot;Name&quot;:&quot;模块5-功能4&quot;,&quot;checked&quot;:false&#125;,&#123;&quot;key&quot;:null,&quot;Id&quot;:30,&quot;Pid&quot;:5,&quot;Name&quot;:&quot;模块5-功能5&quot;,&quot;checked&quot;:false&#125;];        var setting &#x3D; &#123;            check: &#123;                enable: true            &#125;,            data: &#123;&#x2F;&#x2F;数据加载                keep: &#123;                    parent: true,                    leaf: true                &#125;,                simpleData: &#123;                    enable: true,                    idKey: &quot;Id&quot;,                    pIdKey: &quot;Pid&quot;                &#125;,                key: &#123;                    name: &quot;Name&quot;                &#125;            &#125;        &#125;;        function Inint() &#123;&#x2F;&#x2F;初始化加载节点            $.ajax(&#123;                global: true,                async: false,                cache: false,                dataType: &quot;json&quot;,                url: &#39;ajax&#x2F;test.ashx&#39;, &#x2F;&#x2F;通过一般处理程序生成数据                type: &quot;post&quot;,                data:&#123;&quot;roleId&quot;:GetQueryString(&quot;roleId&quot;)&#125;,                success: function (data) &#123;                    zNodes &#x3D; data;                &#125;            &#125;);        &#125;;        $(function () &#123;            &#x2F;&#x2F;Inint();            var treeObj &#x3D;$.fn.zTree.init($(&quot;#powerTree&quot;), setting, zNodes);            treeObj.expandAll(true);                    &#125;);        jQuery().ready(function () &#123;            $(&quot;#btnTest&quot;).click(function () &#123;                var treeObj &#x3D; $.fn.zTree.getZTreeObj(&quot;powerTree&quot;);                var nodes &#x3D; treeObj.getCheckedNodes(true);                var txt &#x3D; &quot;&quot;;                for (var i &#x3D; 0; i &lt; nodes.length; i++) &#123;                    if (nodes[i].isParent) &#123;                        &#x2F;&#x2F;txt.replace(nodes[i].Name, &quot;&quot;);                    &#125; else &#123;                        txt +&#x3D; nodes[i].Id+&quot;-&quot;+nodes[i].Name + &quot;,&quot;;                    &#125;                &#125;                txt &#x3D; txt.replace(&quot;null,&quot;, &quot;&quot;); &#x2F;&#x2F;替换选择父节点的id                txt &#x3D; txt.substring(0, txt.length - 1);                alert(txt);                &#x2F;&#x2F;var strCheckNodes &#x3D; JSON.stringify(checkNodes);            &#125;);        &#125;);    &lt;&#x2F;script&gt; &lt;&#x2F;head&gt; &lt;body&gt;    &lt;div&gt;        &lt;ul id&#x3D;&quot;powerTree&quot; class&#x3D;&quot;ztree&quot;&gt;        &lt;&#x2F;ul&gt;    &lt;&#x2F;div&gt;    &lt;input type&#x3D;&quot;button&quot; name&#x3D;&quot;btnTest&quot; id&#x3D;&quot;btnTest&quot; value&#x3D;&quot;测试节点&quot; &#x2F;&gt; &lt;&#x2F;body&gt;&lt;&#x2F;html&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">namespace ajax&#123;    &#x2F;&#x2F;&#x2F; &lt;summary&gt;    &#x2F;&#x2F;&#x2F; Sys_Role_PowerAllot 的摘要说明    &#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;    public class Test : IHttpHandler    &#123;        public void ProcessRequest(HttpContext context)        &#123;                        string roleId &#x3D; context.Request[&quot;roleId&quot;];                            List&lt;Sys_Module&gt; list &#x3D; new List&lt;Sys_Module&gt;();                for (int i &#x3D; 0; i &lt; 5; i++)                &#123;                    Sys_Module s &#x3D; new Sys_Module();                    s.Sys_Module_Id &#x3D; i+1;                    s.sm_ParentId &#x3D; i - i;                    s.sm_Name &#x3D; &quot;模块&quot; + (i + 1);                    List&lt;Sys_Function&gt; funs &#x3D; new List&lt;Sys_Function&gt;();                    for (int j &#x3D; 0; j &lt; 5; j++)                    &#123;                        Sys_Function fun &#x3D; new Sys_Function();                        if (j &#x3D;&#x3D; 0)                        &#123;                            fun.Sys_Function_Id &#x3D; j + (i + 1) * 5 + 1;                            fun.sf_Description &#x3D; s.sm_Name + &quot;-功能&quot; + (j + 1);                            fun.sf_AuthorityIndex &#x3D; 7;                            funs.Add(fun);                        &#125;                        fun.Sys_Function_Id &#x3D; j + (i + 1) * 5 + 1;                        fun.sf_Description &#x3D; s.sm_Name + &quot;-功能&quot; + (j + 1);                                                funs.Add(fun);                    &#125;                    s.Functions &#x3D; funs;                    list.Add(s);                &#125;                                BindFunction(allModules, roleId);                            &#125;        &#125;        private string GetAuthorityStr(string nodes)        &#123;            &#x2F;&#x2F;string[] checkNodes &#x3D; nodes.Split(&#39;,&#39;);            &#x2F;&#x2F;int[] intNodes &#x3D; Array.ConvertAll&lt;string, int&gt;(checkNodes, delegate(string s) &#123; return int.Parse(s); &#125;);            &#x2F;&#x2F;ArrayList arrNodes &#x3D; new ArrayList(intNodes);            &#x2F;&#x2F;arrNodes.Sort();            &#x2F;&#x2F;int maxNodeId &#x3D; Convert.ToInt32(arrNodes[arrNodes.Count - 1]);            &#x2F;&#x2F;string sr_AuthorityString &#x3D; string.Empty;            &#x2F;&#x2F;List&lt;string&gt; list &#x3D; new List&lt;string&gt;();            &#x2F;&#x2F;for (int i &#x3D; 0; i &lt; maxNodeId+1; i++)            &#x2F;&#x2F;&#123;            &#x2F;&#x2F;    list.Add(&quot;0&quot;);            &#x2F;&#x2F;&#125;            &#x2F;&#x2F;for (int i &#x3D; 0; i &lt; intNodes.Length; i++)            &#x2F;&#x2F;&#123;            &#x2F;&#x2F;    list[intNodes[i]] &#x3D; &quot;1&quot;;            &#x2F;&#x2F;&#125;            &#x2F;&#x2F;sr_AuthorityString &#x3D; string.Join(&quot;&quot;, list.ToArray());            &#x2F;&#x2F;sr_AuthorityString &#x3D; sr_AuthorityString.PadRight(1024, &#39;0&#39;);            string[] checkNodes &#x3D; nodes.Split(&#39;,&#39;);            string sr_AuthorityString &#x3D; string.Empty;            sr_AuthorityString&#x3D; sr_AuthorityString.PadRight(1024, &#39;0&#39;);            for (int i &#x3D; 0; i &lt; checkNodes.Length; i++)            &#123;                sr_AuthorityString &#x3D; sr_AuthorityString.Remove(Convert.ToInt32(checkNodes[i])-1, 1).Insert(Convert.ToInt32(checkNodes[i])-1, &quot;1&quot;);            &#125;            return sr_AuthorityString;        &#125;        public string BindFunction(List&lt;Sys_Module&gt; modules,string roleId)        &#123;            List&lt;TreeData&gt; funTree &#x3D; new List&lt;TreeData&gt;();            TreeData treeRoot &#x3D; new TreeData();            treeRoot.Id &#x3D; 0;            treeRoot.Pid &#x3D; -1;            treeRoot.Name &#x3D; &quot;测试平台&quot;;            char[] cauth &#x3D; &#123; &#125;;            &#x2F;&#x2F;Sys_Role_Logic roleLogic &#x3D; new Sys_Role_Logic();            &#x2F;&#x2F;if (!string.IsNullOrEmpty(roleId))            &#x2F;&#x2F;&#123;            &#x2F;&#x2F;    Sys_Role role &#x3D; roleLogic.GetModel(Convert.ToInt32(roleId));            &#x2F;&#x2F;    string authorityStr &#x3D; role.sr_AuthorityString.Substring(0, role.sr_AuthorityString.LastIndexOf(&quot;1&quot;)+1);            &#x2F;&#x2F;    &#x2F;&#x2F;string authorityStr &#x3D; &quot;000000100100100000001000100000000000000&quot;;            &#x2F;&#x2F;    cauth&#x3D; authorityStr.ToArray();                           &#x2F;&#x2F;&#125;            funTree.Add(treeRoot);            for (int i &#x3D; 0; i &lt; modules.Count; i++)            &#123;                AddNodes(funTree, modules[i], treeRoot.Id, cauth);            &#125;            return JsonHelper.SerializeObject(funTree);        &#125;              public List&lt;TreeData&gt; AddNodes(List&lt;TreeData&gt; trees, Sys_Module module, int pid, char [] authorityStr)        &#123;            TreeData tree &#x3D; new TreeData();            tree.Id &#x3D; module.Sys_Module_Id;            tree.Name &#x3D; module.sm_Name;            if (pid &#x3D;&#x3D; 0)                tree.Pid &#x3D; module.sm_ParentId;            else                tree.Pid &#x3D; pid;            trees.Add(tree);            foreach (Sys_Function fun in module.Functions)            &#123;                trees.Add(AddFunNodes(fun, tree.Id,authorityStr));            &#125;            return trees;        &#125;        public TreeData AddFunNodes(Sys_Function fun, int pid, char [] authorityStr)        &#123;            TreeData tree &#x3D; new TreeData();            tree.Id &#x3D; fun.Sys_Function_Id;            tree.Pid &#x3D; pid;            tree.Name &#x3D; fun.sf_Description;            tree.key &#x3D; fun.sf_AuthorityIndex;            int funAuthorityIndex &#x3D; Convert.ToInt32(fun.sf_AuthorityIndex - 1);            if (funAuthorityIndex &lt; authorityStr.Length)            &#123;                if (authorityStr[funAuthorityIndex] &#x3D;&#x3D; &#39;1&#39;)                &#123;                    tree.@checked &#x3D; true;                &#125;                else                &#123;                    tree.@checked &#x3D; false;                &#125;            &#125;                        return tree;        &#125;               public bool IsReusable        &#123;            get            &#123;                return false;            &#125;        &#125;    &#125;    public class TreeData    &#123;        public int? key &#123; get; set; &#125;        public int Id &#123; get; set; &#125;        public int? Pid &#123; get; set; &#125;        public string Name &#123; get; set; &#125;        public bool  @checked &#123; get; set; &#125;    &#125;    public class Sys_Function    &#123;    public int Sys_Function_Id&#123;get;set;&#125;    public string sf_Description&#123;get;set;&#125;    public int sf_AuthorityIndex&#123;get;set;&#125;    &#125;    public class Sys_Module    &#123;    public int Sys_Module_Id&#123;get;set;&#125;    public int sm_ParentId&#123;get;set;&#125;    public string sm_Name&#123;get;set;&#125;    public List&lt;Sys_Function&gt; Functions&#123;get;set;&#125;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>安装 Office project 2013 时提示找不到 Office.zh-cn&#92;OfficeLR.cab</title>
      <link href="/tools/an-zhuang-office-project-2013-shi-ti-shi-zhao-bu-dao-officelr.cab/"/>
      <url>/tools/an-zhuang-office-project-2013-shi-ti-shi-zhao-bu-dao-officelr.cab/</url>
      
        <content type="html"><![CDATA[<p>昨天在安装project 时总是弹出下图中的提示框，在网上搜索了很多办法但是没有解决这个问题。<br><img src="/images/2015050516281801.jpg" alt="2015050516281801.jpg"><br>后来进入到office.zh-cn的文件夹中，在officemui.msi文件中右键卸载，然后在重新安装project就可以了。<br><img src="/images/2015050516281802.jpg" alt="2015050516281802.jpg"></p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>使用Ext 创建树</title>
      <link href="/js/shi-yong-ext-chuang-jian-shu/"/>
      <url>/js/shi-yong-ext-chuang-jian-shu/</url>
      
        <content type="html"><![CDATA[<p>ext使用的是ext3.4.0版本</p><pre class="line-numbers language-HTML" data-language="HTML"><code class="language-HTML">&lt;!DOCTYPE HTML PUBLIC &quot;-&#x2F;&#x2F;W3C&#x2F;&#x2F;DTD HTML 4.0 Transitional&#x2F;&#x2F;EN&quot;&gt;&lt;html&gt;&lt;head&gt;    &lt;title&gt;Hello-Ext&lt;&#x2F;title&gt;    &lt;link rel&#x3D;&quot;stylesheet&quot; type&#x3D;&quot;text&#x2F;css&quot; href&#x3D;&quot;ext&#x2F;resources&#x2F;css&#x2F;ext-all.css&quot; &#x2F;&gt;    &lt;script type&#x3D;&quot;text&#x2F;javascript&quot; src&#x3D;&quot;ext&#x2F;adapter&#x2F;ext&#x2F;ext-base.js&quot; &gt;&lt;&#x2F;script&gt;    &lt;script type&#x3D;&quot;text&#x2F;javascript&quot; src&#x3D;&quot;ext&#x2F;ext-all.js&quot; &gt;&lt;&#x2F;script&gt;    &lt;script type&#x3D;&quot;text&#x2F;javascript&quot; src&#x3D;&quot;js&#x2F;win.js&quot; &gt;&lt;&#x2F;script&gt;    &lt;script type&#x3D;&quot;text&#x2F;javascript&quot; &gt;        &#x2F;*Ext.onReady(function () &#123;            var win &#x3D; new Ext.Window(&#123;                width: 600,                height: 500,                title: &quot;测试窗口&quot;,                buttons: [&#123; text: &quot;确定&quot; &#125;, &#123;text:&quot;取消&quot;&#125;]            &#125;);            win.show();        &#125;);*&#x2F;    &lt;&#x2F;script&gt;&lt;&#x2F;head&gt;&lt;body&gt;&lt;&#x2F;body&gt;&lt;&#x2F;html&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ext创建树的脚本</p><pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">function ShowWindow() &#123;    &#x2F;&#x2F;调用button的on方法设置监听函数    var btn &#x3D; new Ext.Button(&#123;        text: &quot;创建一个窗口&quot;    &#125;);    btn.on(&quot;click&quot;, ShowMinWindow);    var win &#x3D; new Ext.Window(&#123;        width: 500,        height: 300,        title: &quot;My Ext Window&quot;,        maximizable: true,        minimizable: true,        maximize: function () &#123; win.hide(); &#125;,        buttons: [&#123; text: &quot;创建一个带数的窗口&quot;,            listeners: &#123;                click: function () &#123;                    var tree &#x3D; new Ext.tree.TreePanel(&#123;                        width: 500,                        height: 300,                        title: &quot;树的测试&quot;,                        root: new Ext.tree.AsyncTreeNode(&#123;                            text: &quot;子节点1&quot;,                            children: [&#123; text: &quot;子节点11&quot;, children: [&#123; text: &quot;子节点111&quot;, leaf: true&#125;] &#125;, &#123; text: &quot;子节点2&quot;, leaf: true&#125;]                        &#125;)                    &#125;);                    var w1 &#x3D; new Ext.Window(&#123;                        width: 300,                        height: 400,                        title: &quot;树&quot;,                        items: [tree]                    &#125;);                    &#x2F;&#x2F;w1.add(tree);                    w1.show();                &#125;            &#125;        &#125;, btn]    &#125;);    win.show();&#125;function ShowMinWindow() &#123;    var win &#x3D; new Ext.Window(&#123;        width:200,        height: 100,        title:&quot;弹出窗口&quot;    &#125;);    win.show();&#125;Ext.onReady(ShowWindow);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>效果如下图<br><img src="/images/2014122514251601.jpg" alt="2014122514251601.jpg"></p>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MVC 路由检测组件 Routing Debugger</title>
      <link href="/mvc/mvc-lu-you-jian-ce-zu-jian-routing-debugger/"/>
      <url>/mvc/mvc-lu-you-jian-ce-zu-jian-routing-debugger/</url>
      
        <content type="html"><![CDATA[<p>组件下载地址 <a href="http://haacked.com/archive/2008/03/13/url-routing-debugger.aspx/">haacked.com</a></p><ol><li>在mvc项目中引入组件</li><li>配置route规则</li></ol><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">public static void RegisterRoutes(RouteCollection routes)        &#123;            &#x2F;&#x2F;routes.IgnoreRoute(&quot;&#123;resource&#125;.axd&#x2F;&#123;*pathInfo&#125;&quot;);            &#x2F;&#x2F;忽略About页面，不能将它已到mapRoute后面，改方法不是有Route组件提供是System.Web.Mvc下的方法            &#x2F;&#x2F;routes.IgnoreRoute(&quot;Home&#x2F;About&quot;);            routes.MapRoute(                &quot;Default&quot;, &#x2F;&#x2F; 路由名称                &quot;&#123;controller&#125;&#x2F;&#123;action&#125;&#x2F;&#123;id&#125;&quot;, &#x2F;&#x2F; 带有参数的 URL                new &#123; controller &#x3D; &quot;Home&quot;, action &#x3D; &quot;Index&quot;, id &#x3D; UrlParameter.Optional &#125;, &#x2F;&#x2F; 参数默认值                new &#123; controller&#x3D;@&quot;^\w+&quot;,action&#x3D;@&quot;^\w+&quot;&#125;            );            routes.MapRoute(                &quot;Filter&quot;, &#x2F;&#x2F; 路由名称                &quot;&#123;controller&#125;&#x2F;&#123;action&#125;&#x2F;&#123;id&#125;&quot;, &#x2F;&#x2F; 带有参数的 URL                new &#123; controller &#x3D; &quot;Filter&quot;, action &#x3D; &quot;Index&quot;, id &#x3D; UrlParameter.Optional &#125;, &#x2F;&#x2F; 参数默认值                new &#123; controller &#x3D; @&quot;^\w+&quot;, action &#x3D; @&quot;^\w+&quot; &#125;            );            routes.MapRoute(                &quot;car&quot;,                &quot;Car&#x2F;&#123;make&#125;&#x2F;&#123;pro&#125;&quot;,                new &#123;controller&#x3D;&quot;Car&quot;,action&#x3D;&quot;Index&quot;,id&#x3D;1&#125;                );            routes.MapRoute(                &quot;Archive&quot;,                &quot;Archive&#x2F;&#123;date&#125;&quot;,                new &#123; controller &#x3D; &quot;blog&quot;, action &#x3D; &quot;Archive&quot; &#125;,                new &#123;date&#x3D;@&quot;^\d&#123;4&#125;-\d&#123;2&#125;-\d&#123;2&#125;&quot; &#125;                );            routes.MapRoute(                    &quot;Book&quot;,                    &quot;Book&#x2F;Add&#x2F;&#123;name&#125;&quot;,                    new &#123; controller &#x3D; &quot;Book&quot;, action &#x3D; &quot;Add&quot; &#125;,                    new &#123; HttpMethod&#x3D;&quot;Post&quot;&#125;                );            routes.MapRoute(                &quot;Product&quot;,                &quot;Product&#x2F;&#123;*value&#125;&quot;,&#x2F;&#x2F;*表示匹配一切内容                new &#123;controller&#x3D;&quot;Product&quot;,action&#x3D;&quot;Index&quot; &#125;                );            &#x2F;*Dictionary&lt;string, object&gt; defaultRout &#x3D; new Dictionary&lt;string, object&gt;();            defaultRout[&quot;action&quot;] &#x3D; &quot;Index&quot;;            defaultRout[&quot;id&quot;] &#x3D; 0;            RouteValueDictionary defaultRouteValue &#x3D; new RouteValueDictionary(defaultRout);            RouteValueDictionary constrainRouteValue &#x3D; new RouteValueDictionary();            constrainRouteValue[&quot;controller&quot;] &#x3D; @&quot;\w+&quot;;            constrainRouteValue[&quot;id&quot;] &#x3D; @&quot;\d+&quot;;            Route route &#x3D; new Route(&quot;&#123;controller&#125;&#x2F;&#123;action&#125;&#x2F;&#123;id&#125;&quot;, defaultRouteValue, constrainRouteValue, new MvcRouteHandler());*&#x2F;        &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="3"><li>在Global.asax.cs代码中写入</li></ol><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">protected void Application_Start()&#123;    AreaRegistration.RegisterAllAreas();    RegisterRoutes(RouteTable.Routes);    &#x2F;&#x2F;设为true表示url指向磁盘上的物理文件也会进行url routing处理，例如一个普通的html页面    RouteTable.Routes.RouteExistingFiles &#x3D; true;    RouteDebug.RouteDebugger.RewriteRoutesForTesting(RouteTable.Routes);    &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="/images/2014121014461601.jpg" alt="2014121014461601.jpg"></p>]]></content>
      
      
      <categories>
          
          <category> MVC </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MVC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C# 序列化（Binary、Xml、Soap）</title>
      <link href="/c-winform/csharp-xu-lie-hua-binary-xml-soap/"/>
      <url>/c-winform/csharp-xu-lie-hua-binary-xml-soap/</url>
      
        <content type="html"><![CDATA[<pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">using System;using System.Collections.Generic;using System.Linq;using System.Text;using System.IO;using System.Xml.Serialization;using System.Runtime.Serialization.Formatters.Binary;using System.Runtime.Serialization.Formatters.Soap;namespace Serialization&#123;    class Program    &#123;        static void Main(string[] args)        &#123;            Student stu &#x3D; new Student(&quot;张三&quot;, 30, &quot;登山&quot;);                        &#x2F;&#x2F;&#x2F;&#x2F;二进制序列化            &#x2F;&#x2F;BinaryFormatter bf &#x3D; new BinaryFormatter();            &#x2F;&#x2F;FileStream fs &#x3D; new FileStream(@&quot;D:\stu.ss&quot;, FileMode.Create);            &#x2F;&#x2F;bf.Serialize(fs, stu);            &#x2F;&#x2F;fs.Close();            &#x2F;&#x2F;&#x2F;&#x2F;二进制反序列化            &#x2F;&#x2F;BinaryFormatter bf &#x3D; new BinaryFormatter();            &#x2F;&#x2F;FileStream fs &#x3D; new FileStream(@&quot;D:\stu.ss&quot;, FileMode.Open);            &#x2F;&#x2F;Student student &#x3D; (Student)bf.Deserialize(fs);            &#x2F;&#x2F;student.method();            &#x2F;&#x2F;&#x2F;&#x2F;xml序列化            &#x2F;&#x2F;XmlSerializer xml &#x3D; new XmlSerializer(typeof(Student));            &#x2F;&#x2F;FileStream fs &#x3D; new FileStream(@&quot;D:\stu.xml&quot;,FileMode.Create);            &#x2F;&#x2F;xml.Serialize(fs, stu);            &#x2F;&#x2F;fs.Close();            &#x2F;&#x2F;&#x2F;&#x2F;xml反序列化            &#x2F;&#x2F;XmlSerializer xml &#x3D; new XmlSerializer(typeof(Student));            &#x2F;&#x2F;FileStream fs &#x3D; new FileStream(@&quot;D:\stu.xml&quot;, FileMode.Open);            &#x2F;&#x2F;Student student &#x3D; (Student)xml.Deserialize(fs);            &#x2F;&#x2F;student.method();            &#x2F;&#x2F;&#x2F;&#x2F;soap序列化            &#x2F;&#x2F;SoapFormatter soap &#x3D; new SoapFormatter();            &#x2F;&#x2F;FileStream fs &#x3D; new FileStream(@&quot;D:\stu.soap&quot;, FileMode.Create);            &#x2F;&#x2F;soap.Serialize(fs, stu);            &#x2F;&#x2F;fs.Close();            &#x2F;&#x2F;soap反序列化            SoapFormatter soap &#x3D; new SoapFormatter();            FileStream fs &#x3D; new FileStream(@&quot;D:\stu.soap&quot;, FileMode.Open);            Student student &#x3D; (Student)soap.Deserialize(fs);            student.method();                    &#125;    &#125;    [Serializable]    public class Person    &#123;        public Person()        &#123;        &#125;        public Person(string name, int age)        &#123;            this.Name &#x3D; name;            this.Age &#x3D; age;        &#125;        public string Name        &#123;            get;            set;        &#125;        public int Age        &#123;            get;            set;        &#125;    &#125;    [Serializable]    public class Student : Person    &#123;        public Student()        &#123;        &#125;        public Student(string name, int age, string hobby)            : base(name, age)        &#123;            this.Hobby &#x3D; hobby;        &#125;        public string Hobby        &#123;            get;            set;        &#125;        public void method()        &#123;            Console.WriteLine(&quot;大家好，我叫&#123;0&#125;，今年&#123;1&#125;岁，我喜欢&#123;2&#125;&quot;, this.Name, this.Age, this.Hobby);            &#x2F;&#x2F;Console.ReadLine();        &#125;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mvc Action Filter</title>
      <link href="/mvc/mvc-action-filter/"/>
      <url>/mvc/mvc-action-filter/</url>
      
        <content type="html"><![CDATA[<p>mvc Action Filter中OnActionExecuting、OnActionExecuted、OnResultExecuting、OnResultExecuted的执行顺序</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">using System;using System.Collections.Generic;using System.Linq;using System.Web;using System.Web.Mvc;using System.IO;namespace MvcApp.ActionFilters&#123;    public class SimpleFilterAttribute:ActionFilterAttribute    &#123;        public int ID &#123; get; set; &#125;        public override void OnActionExecuting(ActionExecutingContext filterContext)        &#123;            File.AppendAllText(@&quot;D:\ActionFilterTest.log&quot;, &quot;SimpleFilter &quot; + this.ID + &quot; OnActionExecuting! \r\n&quot;);        &#125;        public override void OnActionExecuted(ActionExecutedContext filterContext)        &#123;            File.AppendAllText(@&quot;D:\ActionFilterTest.log&quot;, &quot;SimpleFilter &quot; + this.ID + &quot; OnActionExecuted! \r\n&quot;);        &#125;        public override void OnResultExecuting(ResultExecutingContext filterContext)        &#123;            File.AppendAllText(@&quot;D:\ActionFilterTest.log&quot;, &quot;SimpleFilter &quot; + this.ID + &quot; OnResultExecuting! \r\n&quot;);        &#125;        public override void OnResultExecuted(ResultExecutedContext filterContext)        &#123;            File.AppendAllText(@&quot;D:\ActionFilterTest.log&quot;, &quot;SimpleFilter &quot; + this.ID + &quot; OnResultExecuted! \r\n&quot;);        &#125;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">[SimpleFilter(ID &#x3D; 1, Order &#x3D; 1)] public ActionResult Index() &#123;     ViewData[&quot;Message&quot;] &#x3D; &quot;Get the Filter Data!&quot;;     return View(); &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>这样的执行的结果是<br><img src="/images/2014120514411101.jpg" alt="2014120514411101.jpg"><br>OnActionExecuted可以处理执行过程中的异常</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">using System;using System.Collections.Generic;using System.Linq;using System.Web;using System.Web.Mvc;using System.Web.Routing;namespace MvcApp.ActionFilters&#123;    public class ErrorHandlingFilterAttribute:ActionFilterAttribute    &#123;        public override void OnActionExecuted(ActionExecutedContext filterContext)        &#123;            if (filterContext.Exception !&#x3D; null)            &#123;                filterContext.ExceptionHandled &#x3D; true;                &#x2F;&#x2F;Filter是Controllers的名称                filterContext.Result &#x3D; new RedirectToRouteResult(&quot;Filter&quot;, new RouteValueDictionary(new &#123; action &#x3D; &quot;OnError&quot; &#125;));            &#125;        &#125;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>新建一个OnError的视图</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">public ActionResult OnError()&#123;    ViewData[&quot;Title&quot;] &#x3D; &quot;OnError&quot;;    ViewData[&quot;Message&quot;] &#x3D; &quot;Error Page!&quot;;    return View();&#125;[ErrorHandlingFilter]public void RaiseError()&#123;    throw new Exception();&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>OnResultExecuting可以用于服务器端的压缩和客户端缓存</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">using System;using System.Collections.Generic;using System.Linq;using System.Web;using System.Web.Mvc;using System.IO.Compression;namespace MvcApp.ActionFilters&#123;    public class CompressFilterAttribute:ActionFilterAttribute    &#123;        public override void OnResultExecuting(ResultExecutingContext filterContext)        &#123;            string accpetEncoding &#x3D; filterContext.HttpContext.Request.Headers[&quot;Accept-Encoding&quot;];            if (string.IsNullOrEmpty(accpetEncoding))                return;            var response &#x3D; filterContext.HttpContext.Response;            accpetEncoding&#x3D;accpetEncoding.ToUpperInvariant();            if (accpetEncoding.Contains(&quot;GZIP&quot;))            &#123;                response.AddHeader(&quot;content-encoding&quot;, &quot;gzip&quot;);                response.Filter &#x3D; new GZipStream(response.Filter, CompressionMode.Compress);            &#125;            else if (accpetEncoding.Contains(&quot;DEFLATE&quot;))            &#123;                response.AddHeader(&quot;content-encoding&quot;, &quot;deflate&quot;);                response.Filter &#x3D; new DeflateStream(response.Filter, CompressionMode.Compress);            &#125;                    &#125;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>新建一个Compress的视图，可以压缩前后的大小</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">[CompressFilter]public ActionResult Compress()&#123;    return View();&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>OnResultExecuting可以用于页面尾部输出信息和异常处理</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">using System;using System.Collections.Generic;using System.Linq;using System.Web;using System.Web.Mvc;namespace MvcApp.ActionFilters&#123;    public class TraceFilterAttribute:ActionFilterAttribute    &#123;        public override void OnResultExecuting(ResultExecutingContext filterContext)        &#123;            filterContext.HttpContext.Items[&quot;Start&quot;] &#x3D; DateTime.Now;        &#125;        public override void OnResultExecuted(ResultExecutedContext filterContext)        &#123;            DateTime start &#x3D; (DateTime)filterContext.HttpContext.Items[&quot;Start&quot;];            TimeSpan ts &#x3D; DateTime.Now - start;            filterContext.HttpContext.Response.Write(&quot;&lt;hr &#x2F;&gt;&quot; + ts.ToString());        &#125;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>新建一个Timing的视图</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">[TraceFilter]public ActionResult Timing()&#123;    Random rdm &#x3D; new Random(DateTime.Now.Millisecond);    Thread.Sleep(rdm.Next(5) * 3000);    return View();&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> MVC </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MVC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSS 样式分类</title>
      <link href="/html-css/css-yang-shi-fen-lei/"/>
      <url>/html-css/css-yang-shi-fen-lei/</url>
      
        <content type="html"><![CDATA[<p>CSS样式可以分为三大类：内联样式、内部样式表和外部样式表</p><ol><li>内联样式（样式写在html标签里，只对该标签的内容起作用）</li></ol><pre class="line-numbers language-HTML" data-language="HTML"><code class="language-HTML">&lt;span style&#x3D;&quot;color:red;font-size:48;&quot;&gt;Hello World!&lt;&#x2F;span&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="2"><li>内部样式（样式写在html的head标签之间，只对该html的内容起作用）</li></ol><pre class="line-numbers language-HTML" data-language="HTML"><code class="language-HTML">&lt;html&gt;    &lt;head&gt;     &lt;title&gt;&lt;&#x2F;title&gt;    &lt;style type&#x3D;&quot;text&#x2F;css&quot;&gt;    body&#123;font-size:12px&#125;        &lt;&#x2F;style&gt;    &lt;&#x2F;head&gt;    &lt;body&gt;&lt;&#x2F;body&gt;&lt;&#x2F;html&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="3"><li>外部样式（样式引用写在head标签之间，对引用该css文件的网页起作用）</li></ol><pre class="line-numbers language-HTML" data-language="HTML"><code class="language-HTML">&lt;html&gt;    &lt;head&gt;     &lt;title&gt;&lt;&#x2F;title&gt;    &lt;link href&#x3D;&quot;common.css” rel&#x3D;&quot;stylesheet&quot; type&#x3D;&quot;text&#x2F;css&quot;&gt;     &lt;&#x2F;head&gt;    &lt;body&gt;&lt;&#x2F;body&gt;&lt;&#x2F;html&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> css样式中#表示id选择器，.表示类选择器</p><pre class="line-numbers language-HTML" data-language="HTML"><code class="language-HTML">&lt;div class&#x3D;&quot;font&quot;&gt;&lt;&#x2F;div&gt;&lt;div id&#x3D;&quot;top&quot;&gt;&lt;&#x2F;div&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>在html中id是不能重复的。</p>]]></content>
      
      
      <categories>
          
          <category> HTML/CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTML/CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unity3d C# 创建 物体</title>
      <link href="/c-winform/unity3d-csharp-chuang-jian-wu-ti/"/>
      <url>/c-winform/unity3d-csharp-chuang-jian-wu-ti/</url>
      
        <content type="html"><![CDATA[<pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">using UnityEngine;using System.Collections;public class create : MonoBehaviour &#123;    &#x2F;&#x2F; Use this for initialization    public GameObject newObject;        void OnGUI()    &#123;        if(GUI.Button(new Rect(10,10,100,50),&quot;开始&quot;))        &#123;            &#x2F;&#x2F;创建游戏物体            GameObject instance  &#x3D; (GameObject)Instantiate(newObject,transform.position,transform.rotation);            &#x2F;&#x2F;获取move脚本中的变量run            GameObject.Find(&quot;3rd Person Controller&quot;).GetComponent&lt;move&gt;().run&#x3D;true;        &#125;    &#125;    &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">using UnityEngine;using System.Collections;public class move : MonoBehaviour &#123;                public bool run&#x3D;false;    float speed &#x3D;5.0f;    &#x2F;&#x2F; Update is called once per frame    void Update () &#123;                if(run)        &#123;            &#x2F;&#x2F;获取sphere的transform            Transform tf &#x3D; GameObject.Find(&quot;Sphere&quot;).GetComponent&lt;SphereCollider&gt;().transform;                Transform ren &#x3D; GameObject.Find(&quot;3rd Person Controller&quot;).GetComponent&lt;CharacterController&gt;().transform;                    if(ren.position.x&gt;&#x3D;tf.position.x)        &#123;               &#x2F;&#x2F;控制物体移动               transform.Translate(Vector3.left,Camera.main.transform);               &#x2F;&#x2F;播放动画               animation.Play(&quot;run&quot;);        &#125;        &#125;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>查询脚本手册可以参考 <a href="http://game.ceeger.com/">unity3d圣典</a></p>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unity3d 破解</title>
      <link href="/tools/unity3d-po-jie/"/>
      <url>/tools/unity3d-po-jie/</url>
      
        <content type="html"><![CDATA[<p>在官网上或者其他地方下载unity3d后</p><p>运行注册机，需要详细的设置可以点击edit<br><img src="/images/2014111411502601.jpg" alt="2014111411502601.jpg"><br><img src="/images/2014111411502602.jpg" alt="2014111411502602.jpg"></p><ol><li><p>点击browse，选择安装unity目录下的Editor文件夹</p></li><li><p>选择path，会提示Pathed</p></li><li><p>点击rand，生成序列号</p></li><li><p>点击cre lic，许可文件会自动在unity安装目录下生成。</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>IIS 配置asp.net 环境</title>
      <link href="/computer/iis-pei-zhi-asp.net-huan-jing/"/>
      <url>/computer/iis-pei-zhi-asp.net-huan-jing/</url>
      
        <content type="html"><![CDATA[<p>打开Internet信息服务管理器，在左侧点击“应用程序池”，下面将以asp.net v4.0 程序池为例<br><img src="/images/2014110615091501.jpg" alt="2014110615091501.jpg"><br>在中间的“ASP.NET V4.0”上右键“高级选项”，展开“进程模型”，找“标识”选项，然后在“标识”选项的右侧单击弹出对话框，选择“LocalSystem”点击确定。<br><img src="/images/2014110615091502.jpg" alt="2014110615091502.jpg"><br><strong>注意</strong>64位机器只要将“启动32位应用程序”选项的值修改为true和标识改为LocalSystem就可以了，其他使用机器的默认配置。<br><img src="/images/2014110615091503.jpg" alt="2014110615091503.jpg"><br>然后部署服务</p><p>添加应用程序，在弹出的对话框中填写“别名”，即给要部署的服务起个名字；应用程序池选择我们配置好的“ASP.NET v4.0”；填写物理路径，即要部署服务文件所在磁盘上的位置。<br><img src="/images/2014110615091504.jpg" alt="2014110615091504.jpg"><br>如果有域名，可以选择“Default Web Site”网站后，点击右侧一栏的“编辑绑定”，在弹出的对话框中点击“编辑”弹出一个对话框，然后在对话框的主机名下填写域名，如果有端口冲突，在端口的一项中填写一个没有被占用的端口点击确定。<br><img src="/images/2014110615091505.jpg" alt="2014110615091505.jpg"><br>创建好应用程序后浏览aspnet网页的时候会提示身份验证的问题，只启用匿名验证即可<br><img src="/images/2014110615091506.jpg" alt="2014110615091506.jpg"><br><img src="/images/2014110615091507.jpg" alt="2014110615091507.jpg"></p>]]></content>
      
      
      <categories>
          
          <category> Computer </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Computer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>WCF rest 的帮助页面和缓存机制</title>
      <link href="/wcf/wcf-rest-de-bang-zhu-ye-mian-he-huan-cun-ji-zhi/"/>
      <url>/wcf/wcf-rest-de-bang-zhu-ye-mian-he-huan-cun-ji-zhi/</url>
      
        <content type="html"><![CDATA[<p>打开vs2010 在工具选项中选择扩展管理器——联机库 安装WCF REST Service Template 40(CS)模板</p><p>安装后新建wcf服务应用程序，删除默认建立的文件。</p><p>新建RestWcf4HelpPage.svc，代码如下</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">using System;using System.Collections.Generic;using System.Linq;using System.Runtime.Serialization;using System.ServiceModel;using System.ServiceModel.Activation;using System.ServiceModel.Web;using System.Text;namespace RestWcf&#123;    [ServiceBehavior(IncludeExceptionDetailInFaults&#x3D;false)]    [AspNetCompatibilityRequirements(RequirementsMode &#x3D; AspNetCompatibilityRequirementsMode.Allowed)]    public class RestWcf4HelpPage : IRestWcf4HelpPage    &#123;        #region IRestWcf4HelpPage 成员        [WebGet(UriTemplate&#x3D;&quot;&#x2F;Rest&#x2F;Get&#x2F;&#123;id&#125;&quot;)]        public string GetData(string id)        &#123;            return &quot;Hello Rest GetData&quot;;        &#125;        [WebInvoke(UriTemplate&#x3D;&quot;&#x2F;Rest&#x2F;Add&#x2F;&#123;id&#125;&quot;,Method&#x3D;&quot;POST&quot;)]        public string AddData(string id)        &#123;            return &quot;Hello Rest AddData&quot;;        &#125;        [WebInvoke(UriTemplate &#x3D; &quot;&#x2F;Rest&#x2F;Update&#x2F;&#123;id&#125;&quot;, Method &#x3D; &quot;PUT&quot;)]        public string UpdateData(string id)        &#123;            return &quot;Hello Rest UpdateData&quot;;        &#125;        [WebInvoke(UriTemplate &#x3D; &quot;&#x2F;Rest&#x2F;Delete&#x2F;&#123;id&#125;&quot;, Method &#x3D; &quot;Delete&quot;)]        public string DeleteData(string id)        &#123;            return &quot;Hello Rest DeleteData&quot;;        &#125;        #endregion    &#125;    [XmlSerializerFormat]    [ServiceContract]    interface IRestWcf4HelpPage    &#123;        [OperationContract]        string GetData(string id);        [OperationContract]        string AddData(string id);        [OperationContract]        string UpdateData(string id);        [OperationContract]        string DeleteData(string id);    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>然后在建立RestWcf4Cache.svc，代码如下</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">using System;using System.Collections.Generic;using System.Linq;using System.Runtime.Serialization;using System.ServiceModel;using System.ServiceModel.Activation;using System.ServiceModel.Web;using System.Text;namespace RestWcf&#123;    [ServiceBehavior(IncludeExceptionDetailInFaults&#x3D;false)]    [AspNetCompatibilityRequirements(RequirementsMode &#x3D; AspNetCompatibilityRequirementsMode.Allowed)]    public class RestWcf4Cache:IRestWcf4Cache    &#123;        #region IRestWcf4Cache 成员        [AspNetCacheProfile(&quot;CacheFor10Senconds&quot;)]        [WebGet(UriTemplate &#x3D; &quot;&#x2F;Rest&#x2F;Get&#x2F;&#123;id&#125;&quot;)]        public string GetData(string id)        &#123;            return &quot;Hello Rest GetData &quot; + DateTime.Now.ToString();        &#125;        #endregion    &#125;    [ServiceContract]    interface IRestWcf4Cache    &#123;        [OperationContract]        string GetData(string id);    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>然后在配置web.config文件，其中duration值缓存的有效时间。</p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token prolog">&lt;?xml version="1.0" encoding="utf-8"?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>system.web</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>compilation</span> <span class="token attr-name">debug</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token attr-name">targetFramework</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>4.0<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>caching</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>outputCacheSettings</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>outputCacheProfiles</span> <span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>add</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>CacheFor10Senconds<span class="token punctuation">"</span></span> <span class="token attr-name">duration</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>10<span class="token punctuation">"</span></span> <span class="token attr-name">varyByParam</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>format<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>add</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>CacheFor30Senconds<span class="token punctuation">"</span></span> <span class="token attr-name">duration</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>30<span class="token punctuation">"</span></span> <span class="token attr-name">varyByParam</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>format<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>outputCacheProfiles</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>outputCacheSettings</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>caching</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>system.web</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>system.serviceModel</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>services</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>service</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>RestWcf.RestWcf4HelpPage<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>endpoint</span> <span class="token attr-name">address</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">behaviorConfiguration</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>RestWcf4HelpPageBehavior<span class="token punctuation">"</span></span>          <span class="token attr-name">binding</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>webHttpBinding<span class="token punctuation">"</span></span> <span class="token attr-name">contract</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>RestWcf.IRestWcf4HelpPage<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>service</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>service</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>RestWcf.RestWcf4Cache<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>endpoint</span> <span class="token attr-name">address</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">behaviorConfiguration</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>RestWcf4CacheBehavior<span class="token punctuation">"</span></span>          <span class="token attr-name">binding</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>webHttpBinding<span class="token punctuation">"</span></span> <span class="token attr-name">contract</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>RestWcf.IRestWcf4Cache<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>service</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>services</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>behaviors</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>endpointBehaviors</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>behavior</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>RestWcf4HelpPageBehavior<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>webHttp</span> <span class="token attr-name">helpEnabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>behavior</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>behavior</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>RestWcf4CacheBehavior<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>webHttp</span> <span class="token attr-name">helpEnabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>behavior</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>endpointBehaviors</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>serviceBehaviors</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>behavior</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>serviceMetadata</span> <span class="token attr-name">httpGetEnabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>serviceDebug</span> <span class="token attr-name">includeExceptionDetailInFaults</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>behavior</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>serviceBehaviors</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>behaviors</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>serviceHostingEnvironment</span> <span class="token attr-name">aspNetCompatibilityEnabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span>      <span class="token attr-name">multipleSiteBindingsEnabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>system.serviceModel</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>system.webServer</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modules</span> <span class="token attr-name">runAllManagedModulesForAllRequests</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>system.webServer</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>帮助页面的效果如下图<br><img src="/images/2014110614561501.jpg" alt="2014110614561501.jpg"><br>get请求结果如下图<br><img src="/images/2014110614561502.jpg" alt="2014110614561502.jpg"><br>缓存效果如图,缓存的时间设置为10s，在10s内结果都是下图，超过时间后就是另一个结果了<br><img src="/images/2014110614561503.jpg" alt="2014110614561503.jpg"></p>]]></content>
      
      
      <categories>
          
          <category> WCF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> WCF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Oracle 配置监听和本地网络服务</title>
      <link href="/mysql-sql-oracle/oracle-pei-zhi-jian-ting-he-ben-di-wang-luo-fu-wu/"/>
      <url>/mysql-sql-oracle/oracle-pei-zhi-jian-ting-he-ben-di-wang-luo-fu-wu/</url>
      
        <content type="html"><![CDATA[<h3 id="一、配置监听"><a href="#一、配置监听" class="headerlink" title="一、配置监听"></a>一、配置监听</h3><p>在oracle的配置和移植工具中打开Net Configuration Assistant，然后点击下一步。<br><img src="/images/2014110514143301.jpg" alt="2014110514143301.jpg"><br>点击下一步，然后输入监听的名称点击下一步<br><img src="/images/2014110514143302.jpg" alt="2014110514143302.jpg"><br><img src="/images/2014110514143303.jpg" alt="2014110514143303.jpg"><br>点击下一步后如图<br><img src="/images/2014110514143304.jpg" alt="2014110514143304.jpg"><br>点击下一步如图<br><img src="/images/2014110514143305.jpg" alt="2014110514143305.jpg"><br>单击下一步如图<br><img src="/images/2014110514143306.jpg" alt="2014110514143306.jpg"><br>选择否，点击下一步<br><img src="/images/2014110514143307.jpg" alt="2014110514143307.jpg"></p><h3 id="二、配置网络服务"><a href="#二、配置网络服务" class="headerlink" title="二、配置网络服务"></a>二、配置网络服务</h3><p><img src="/images/2014110514143308.jpg" alt="2014110514143308.jpg"><br>点击下一步，然后输入输入名称<br><img src="/images/2014110514143309.jpg" alt="2014110514143309.jpg"><br><img src="/images/2014110514143310.jpg" alt="2014110514143310.jpg"><br>点击下一步<br><img src="/images/2014110514143311.jpg" alt="2014110514143311.jpg"><br>点击下一步，填写主机名（127.0.0.1表示本机，如果要连接其他机器就要填写连接机器的ip地址）<br><img src="/images/2014110514143312.jpg" alt="2014110514143312.jpg"><br>点击下一步<br><img src="/images/2014110514143313.jpg" alt="2014110514143313.jpg"><br>点击下一步，在弹出的对话框中输入用户名和密码<br><img src="/images/2014110514143314.jpg" alt="2014110514143314.jpg"><br>点击确定后看是否验证成功，成功后就直接下一步，到此服务配置完成</p>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Win7 IIS 局域网中无法访问网页</title>
      <link href="/computer/win7-iis-ju-yu-wang-zhong-wu-fa-fang-wen-wang-ye/"/>
      <url>/computer/win7-iis-ju-yu-wang-zhong-wu-fa-fang-wen-wang-ye/</url>
      
        <content type="html"><![CDATA[<p>安装好iis后，在局域网中无法浏览网页一，关闭防火墙即可</p><p>或者建立入站规则</p><p>打开控制面板——window防火墙——高级设置<br><img src="/images/2014110513531201.jpg" alt="2014110513531201.jpg"></p><p>在入站规则上右键新建入站规则，选择端口然后下一步<br><img src="/images/2014110513531202.jpg" alt="2014110513531202.jpg"></p><p>选择tcp和特定端口在端口上输入端口号（如80）<br><img src="/images/2014110513531203.jpg" alt="2014110513531203.jpg"><br>然后直接下一步，直到给输入名称的地方起一个便于自己记忆的名称即可。</p>]]></content>
      
      
      <categories>
          
          <category> Computer </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Computer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C# Linq 查询数据库(DataSet)生成 Tree</title>
      <link href="/c-winform/csharp-linq-cha-xun-shu-ju-ku-dataset-sheng-cheng-tree/"/>
      <url>/c-winform/csharp-linq-cha-xun-shu-ju-ku-dataset-sheng-cheng-tree/</url>
      
        <content type="html"><![CDATA[<p>效果图如下<br><img src="/images/2014103013441201.jpg" alt="2014103013441201.jpg"></p><p>cs代码</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">using System;using System.Collections.Generic;using System.ComponentModel;using System.Data;using System.Drawing;using System.Linq;using System.Text;using System.Windows.Forms;namespace TreeView&#123;    public partial class FrmTreeView : Form    &#123;        bool isShow &#x3D; false;        public FrmTreeView()        &#123;            InitializeComponent();            tvTree.Nodes.Add(&quot;湖南省&quot;);        &#125;        private void tsmShowAdd_Click(object sender, EventArgs e)        &#123;            if (!isShow)            &#123;                DataSet ds &#x3D; DatabaseHelper.GetDataSet();                AddTreeNode(ds, &quot;cf0dbde5-14d6-44be-9f71-4e5d302afc99&quot;, tvTree.TopNode);                isShow &#x3D; true;            &#125;                   &#125;        private void AddTreeNode(DataSet ds,string fatherKey,TreeNode Nodes)        &#123;            var results &#x3D; from result in ds.Tables[0].AsEnumerable()                           where result.Field&lt;string&gt;(&quot;SYS_FATHERKEY&quot;) &#x3D;&#x3D; fatherKey                           select result;            foreach (var item in results)            &#123;                TreeNode node &#x3D; new TreeNode();                node.Text &#x3D; item.Field&lt;string&gt;(&quot;SYS_NAME&quot;);                                if (Nodes &#x3D;&#x3D; null)                &#123;                    tvTree.Nodes.Add(Nodes);                &#125;                else                &#123;                    Nodes.Nodes.Add(node);                &#125;                AddTreeNode(ds, item.Field&lt;string&gt;(&quot;SYS_KEY&quot;),node);            &#125;        &#125;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>数据库表的结构如下<br><img src="/images/2014103013441202.jpg" alt="2014103013441202.jpg"></p>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>笔记本Win8 换Win7 设置 BIOS</title>
      <link href="/computer/bi-ji-ben-win8-huan-win7-she-zhi-bios/"/>
      <url>/computer/bi-ji-ben-win8-huan-win7-she-zhi-bios/</url>
      
        <content type="html"><![CDATA[<p>去年买了台笔记本，笔记本自带win8系统，想安装Win7折腾了好久都没有安装成功</p><p>后来在BIOS中找到了一个uefi&#x2F;legacy boot项，将原来的uefi only 修改为legacy only</p><p>重启电脑就可以安装win7系统了</p>]]></content>
      
      
      <categories>
          
          <category> Computer </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Computer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Silverlight 中图片路径的设置</title>
      <link href="/silverlight/silverlight-zhong-tu-pian-lu-jing-de-she-zhi/"/>
      <url>/silverlight/silverlight-zhong-tu-pian-lu-jing-de-she-zhi/</url>
      
        <content type="html"><![CDATA[<p>在Silverlight中图片的设置方法有几种<br><img src="/images/2014102114271201.jpg" alt="2014102114271201.jpg"><br>如上图在一个工程中有个images文件夹，buttons.xaml页面中的Image控件要引用一张图片</p><p>第一种方法</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">xaml: &lt;Image x:Name&#x3D;&quot;myImage&quot; Source&#x3D;&quot;&#x2F;SilverlightCreate;component&#x2F;images&#x2F;MyImage1.png&quot; &#x2F;&gt;code: myImage.Source &#x3D; new BitmapImage(new Uri(&quot;&#x2F;SilverlightCreate;component&#x2F;Images&#x2F;MyImage1.png&quot;, UriKind.Relative));<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>这个Uri有如下3部分：</p><ul><li>&#x2F;SilverlightCreate 是Image所在的Assembly的名字，前面的”&#x2F;“是必须的。</li><li>“;component&#x2F;“是Assembly名字和在此Assembly下具体路径之间的分隔符，必须要有。</li><li>“images&#x2F;MyImage1.png” 就是所在Assembly中的路径。</li></ul><p>第二种方法</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">xaml: &lt;Image x:Name&#x3D;&quot;myImage&quot; Source&#x3D;&quot;images&#x2F;MyImage1.png&quot; &#x2F;&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>参考文章</p><p><a href="http://blogs.msdn.com/b/xusun/archive/2008/12/31/silverlight.aspx">http://blogs.msdn.com/b/xusun/archive/2008/12/31/silverlight.aspx</a></p>]]></content>
      
      
      <categories>
          
          <category> Silverlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Silverlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VS 2010 快捷键大全</title>
      <link href="/tools/vs-2010-kuai-jie-jian-da-quan/"/>
      <url>/tools/vs-2010-kuai-jie-jian-da-quan/</url>
      
        <content type="html"><![CDATA[<p>Ctrl+E,D —-格式化全部代码<br>Ctrl+E,F —-格式化选中的代码<br>CTRL + SHIFT + B生成解决方案<br>CTRL + F7 生成编译<br>CTRL + O 打开文件<br>CTRL + SHIFT + O打开项目<br>CTRL + SHIFT + C显示类视图窗口<br>F4 显示属性窗口<br>SHIFT + F4显示项目属性窗口<br>CTRL + SHIFT + E显示资源视图<br>F12 转到定义<br>CTRL + F12转到声明<br>CTRL + ALT + J对象浏览<br>CTRL + ALT + F1帮助目录<br>CTRL + F1 动态帮助<br>F1 帮助<br>SHIFT + F1当前窗口帮助<br>CTRL + ALT + F3帮助-搜索<br>SHIFT + ALT + ENTER全屏显示<br>CTRL + -向后定位<br>CTRL + SHIFT + -向前定位<br>CTRL + F4关闭文档窗口<br>CTRL + PAGE DOWN光标定位到窗口上方<br>CTRL + PAGE UP光标定位到窗口下方<br>CTRL + F6<br>CTRL + TAB下一个文档窗口<br>CTRL + SHIFT + F6<br>CTRL + SHIFT + TAB上一个文档窗口<br>ALT + F6下一个面板窗口<br>CTRL + K, CTRL + L取消remark<br>CTRL + K, CTRL + C注释选择的代码<br>CTRL + K, CTRL + U取消对选择代码的注释<br>CTRL + M, CTRL + O折叠代码定义<br>CTRL + M, CTRL + L展开代码定义<br>CTRL + DELETE删除至词尾<br>CTRL + BACKSPACE删除至词头<br>SHIFT + TAB取消制表符<br>CTRL + U转小写<br>CTRL + SHIFT + U转大写<br>CTRL + SHIFT + END选择至文档末尾<br>CTRL + SHIFT + HOME选择至文档末尾开始<br>SHIFT + END选择至行尾<br>SHIFT + HOME选择至行开始处<br>SHIFT + ALT + END垂直选择到最后尾<br>SHIFT + ALT + HOME垂直选择到最前面<br>CTRL + SHIFT + PAGE UP选择至本页前面<br>CTRL + SHIFT + PAGE DOWN选择至本页后面<br>CTRL + END文档定位到最后<br>CTRL + HOME文档定位到最前<br>CTRL + A全选<br>CTRL + W选择当前单词<br>CTRL + G转到…<br>CTRL + K, CTRL + P上一个标签<br>CTRL + K, CTRL + N下一个标签<br>ALT + F10调试-ApplyCodeChanges<br>CTRL + ALT+ Break停止调试<br>CTRL + SHIFT + F9 取消所有断点<br>CTRL + F9允许中断<br>CTRL + SHIFT + F5调试-重新开始<br>F5运行调试<br>CTRL + F5运行不调试<br>F10跨过程序执行<br>F11单步逐句执行<br>CTRL + J列出成员<br>CTRL + PAGE DOWN下一个视图<br>CTRL + B格式-粗体<br>CTRL + SHIFT + T格式-文字缩进<br><strong>调试快捷键</strong><br>F6: 生成解决方案<br>Ctrl+F6: 生成当前项目<br>F7: 查看代码<br>Shift+F7: 查看窗体设计器<br>F5: 启动调试<br>Ctrl+F5: 开始执行(不调试)<br>Shift+F5: 停止调试<br>Ctrl+Shift+F5: 重启调试<br>F9: 切换断点<br>Ctrl+F9: 启用&#x2F;停止断点<br>Ctrl+Shift+F9: 删除全部断点<br>F10: 逐过程<br>Ctrl+F10: 运行到光标处<br>F11: 逐语句<br><strong>编辑快捷键</strong><br>Shift+Alt+Enter: 切换全屏编辑<br>Ctrl+B,T &#x2F; Ctrl+K,K: 切换书签开关<br>Ctrl+B,N &#x2F; Ctrl+K,N: 移动到下一书签<br>Ctrl+B,P: 移动到上一书签<br>Ctrl+B,C: 清除全部标签<br>Ctrl+I: 渐进式搜索<br>Ctrl+Shift+I: 反向渐进式搜索<br>Ctrl+F: 查找<br>Ctrl+Shift+F: 在文件中查找<br>F3: 查找下一个<br>Shift+F3: 查找上一个<br>Ctrl+H: 替换<br>Ctrl+Shift+H: 在文件中替换<br>Alt+F12: 查找符号(列出所有查找结果)<br>Ctrl+Shift+V: 剪贴板循环<br>Ctrl+左右箭头键: 一次可以移动一个单词<br>Ctrl+上下箭头键: 滚动代码屏幕，但不移动光标位置。<br>Ctrl+Shift+L: 删除当前行<br>Ctrl+M,M: 隐藏或展开当前嵌套的折叠状态<br>Ctrl+M,L: 将所有过程设置为相同的隐藏或展开状态<br>Ctrl+M,P: 停止大纲显示<br>Ctrl+E,S: 查看空白<br>Ctrl+E,W: 自动换行<br>Ctrl+G: 转到指定行<br>Shift+Alt+箭头键: 选择矩形文本<br>Alt+鼠标左按钮: 选择矩形文本<br>Ctrl+Shift+U: 全部变为大写<br>Ctrl+U: 全部变为小写<br><strong>代码快捷键</strong><br>Ctrl+J &#x2F; Ctrl+K,L: 列出成员<br>Ctrl+Shift+空格键 &#x2F; Ctrl+K,P: 参数信息<br>Ctrl+K,I: 快速信息<br>Ctrl+E,C &#x2F; Ctrl+K,C: 注释选定内容<br>Ctrl+E,U &#x2F; Ctrl+K,U: 取消选定注释内容<br>Ctrl+K,M: 生成方法存根<br>Ctrl+K,X: 插入代码段<br>Ctrl+K,S: 插入外侧代码<br>F12: 转到所调用过程或变量的定义<br>窗口快捷键<br>Ctrl+W,W: 浏览器窗口<br>Ctrl+W,S: 解决方案管理器<br>Ctrl+W,C: 类视图<br>Ctrl+W,E: 错误列表<br>Ctrl+W,O: 输出视图<br>Ctrl+W,P: 属性窗口<br>Ctrl+W,T: 任务列表<br>Ctrl+W,X: 工具箱<br>Ctrl+W,B: 书签窗口<br>Ctrl+W,U: 文档大纲<br>Ctrl+D,B: 断点窗口<br>Ctrl+D,I: 即时窗口<br>Ctrl+Tab: 活动窗体切换<br>Ctrl+Shift+N: 新建项目<br>Ctrl+Shift+O: 打开项目<br>Ctrl+Shift+S: 全部保存<br>Shift+Alt+C: 新建类<br>Ctrl+Shift+A: 新建项</p><p>转载至</p><p><a href="http://www.cnblogs.com/HelloMyWorld/archive/2013/02/20/2919443.html">http://www.cnblogs.com/HelloMyWorld/archive/2013/02/20/2919443.html</a></p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Silverlight 用DependencyProperty 自定义ImageButton控件 定义属性</title>
      <link href="/silverlight/silverlight-yong-dependencyproperty-zi-ding-yi-imagebutton-kong-jian-ding-yi-shu-xing/"/>
      <url>/silverlight/silverlight-yong-dependencyproperty-zi-ding-yi-imagebutton-kong-jian-ding-yi-shu-xing/</url>
      
        <content type="html"><![CDATA[<p>为ImageButton自定义IconSource和Contents属性</p><p>xaml代码</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">&lt;UserControl x:Class&#x3D;&quot;SilverlightCreate.SilverlightButtons&quot;    xmlns&#x3D;&quot;http:&#x2F;&#x2F;schemas.microsoft.com&#x2F;winfx&#x2F;2006&#x2F;xaml&#x2F;presentation&quot;    xmlns:x&#x3D;&quot;http:&#x2F;&#x2F;schemas.microsoft.com&#x2F;winfx&#x2F;2006&#x2F;xaml&quot;    xmlns:d&#x3D;&quot;http:&#x2F;&#x2F;schemas.microsoft.com&#x2F;expression&#x2F;blend&#x2F;2008&quot;    xmlns:mc&#x3D;&quot;http:&#x2F;&#x2F;schemas.openxmlformats.org&#x2F;markup-compatibility&#x2F;2006&quot;    mc:Ignorable&#x3D;&quot;d&quot;    d:DesignHeight&#x3D;&quot;30&quot; d:DesignWidth&#x3D;&quot;100&quot;&gt;    &lt;Grid x:Name&#x3D;&quot;LayoutRoot&quot; Background&#x3D;&quot;Transparent&quot;&gt;        &lt;StackPanel x:Name&#x3D;&quot;myButton&quot; Orientation&#x3D;&quot;Horizontal&quot; &gt;            &lt;Image x:Name&#x3D;&quot;myImg&quot; Stretch&#x3D;&quot;None&quot;  &#x2F;&gt;            &lt;TextBlock x:Name&#x3D;&quot;myText&quot; VerticalAlignment&#x3D;&quot;Center&quot; FontSize&#x3D;&quot;13&quot; Padding&#x3D;&quot;5&quot; &#x2F;&gt;        &lt;&#x2F;StackPanel&gt;        &lt;Rectangle x:Name&#x3D;&quot;myRectangle&quot; Margin&#x3D;&quot;-3&quot; &#x2F;&gt;    &lt;&#x2F;Grid&gt;&lt;&#x2F;UserControl&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>下面开始自定义属性内容，自定义属性要用 依赖属性类 DependencyProperty</p><p>public static readonly DependencyProperty MyPropertyProperty &#x3D;<br>            DependencyProperty.Register(“MyProperty”, typeof(int), typeof(ownerclass), new UIPropertyMetadata(0));</p><p>DependencyProperty 的Register 方法中有四个参数，第一个是自定的属性，第二个自定义属性的参数类型，第三个是自定义属性所属类，第四个是属性元数据的实例，参数类型是PropertyMetadata。</p><p>使用vs2010的小技巧，生成依赖属性可以输入propdp，然后按两下Tab键，就会自动生成如下代码<br><img src="/images/2014102010561201.jpg" alt="2014102010561201.jpg"></p><p>cs代码</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">using System;using System.Collections.Generic;using System.Linq;using System.Net;using System.Windows;using System.Windows.Controls;using System.Windows.Documents;using System.Windows.Input;using System.Windows.Media;using System.Windows.Media.Animation;using System.Windows.Shapes;using System.Windows.Media.Imaging;namespace SilverlightCreate&#123;    public partial class SilverlightButtons : UserControl    &#123;        public SilverlightButtons()        &#123;            InitializeComponent();        &#125;        &#x2F;&#x2F;&#x2F; &lt;summary&gt;        &#x2F;&#x2F;&#x2F; 自定义控件文本        &#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;        public string Contents        &#123;            get &#123; return (string)GetValue(ContentsProperty); &#125;            set &#123; SetValue(ContentsProperty, value); &#125;        &#125;        &#x2F;&#x2F;&#x2F; &lt;summary&gt;        &#x2F;&#x2F;&#x2F; 自定义控件图片        &#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;        public ImageSource IconSource        &#123;            get &#123; return (ImageSource)GetValue(IconSourceProperty); &#125;            set &#123; SetValue(IconSourceProperty, value); &#125;        &#125;        &#x2F;&#x2F;&#x2F; &lt;summary&gt;        &#x2F;&#x2F;&#x2F; 自定义控件背景色        &#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;        public Brush ButtonBackGround        &#123;            get &#123; return (SolidColorBrush)GetValue(ButtonBackGroundProperty); &#125;            set &#123; SetValue(ButtonBackGroundProperty, value); &#125;        &#125;        &#x2F;&#x2F;&#x2F; &lt;summary&gt;        &#x2F;&#x2F;&#x2F; 自定义控件文字颜色        &#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;        public Brush FontColor        &#123;            get &#123; return (Brush)GetValue(FontColorProperty); &#125;            set &#123; SetValue(FontColorProperty, value); &#125;        &#125;        &#x2F;&#x2F;&#x2F; &lt;summary&gt;        &#x2F;&#x2F;&#x2F; 自定义控件边框默认颜色        &#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;        public Brush DefaultStroke        &#123;            get &#123; return (Brush)GetValue(DefaultStrokeProperty); &#125;            set &#123; SetValue(DefaultStrokeProperty, value); &#125;        &#125;        &#x2F;&#x2F;&#x2F; &lt;summary&gt;        &#x2F;&#x2F;&#x2F; 自定义控件边框高亮颜色        &#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;        public Brush HighLightStroke        &#123;            get &#123; return (Brush)GetValue(HighLightStrokeProperty); &#125;            set &#123; SetValue(HighLightStrokeProperty, value); &#125;        &#125;        &#x2F;&#x2F;&#x2F; &lt;summary&gt;        &#x2F;&#x2F;&#x2F; 自定义控件填充默认颜色        &#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;        public Brush DefaultFill        &#123;            get &#123; return (Brush)GetValue(DefaultFillProperty); &#125;            set &#123; SetValue(DefaultFillProperty, value); &#125;        &#125;        &#x2F;&#x2F;&#x2F; &lt;summary&gt;        &#x2F;&#x2F;&#x2F; 自定义控件填充高亮颜色        &#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;        public Brush HighLightFill        &#123;            get &#123; return (Brush)GetValue(HighLightFillProperty); &#125;            set &#123; SetValue(HighLightFillProperty, value); &#125;        &#125;        &#x2F;&#x2F;&#x2F; &lt;summary&gt;        &#x2F;&#x2F;&#x2F; 自定义控件边框厚度        &#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;        public double StrokeThickness        &#123;            get &#123; return (double)GetValue(StrokeThicknessProperty); &#125;            set &#123; SetValue(StrokeThicknessProperty, value); &#125;        &#125;        &#x2F;&#x2F;&#x2F; &lt;summary&gt;        &#x2F;&#x2F;&#x2F; 自定控件边框圆角x        &#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;        public double RadiusX        &#123;            get &#123; return (double)GetValue(RadiusXProperty); &#125;            set &#123; SetValue(RadiusXProperty, value); &#125;        &#125;        &#x2F;&#x2F;&#x2F; &lt;summary&gt;        &#x2F;&#x2F;&#x2F; 自定控件边框圆角y        &#x2F;&#x2F;&#x2F; &lt;&#x2F;summary&gt;        public double RadiusY        &#123;            get &#123; return (double)GetValue(RadiusYProperty); &#125;            set &#123; SetValue(RadiusYProperty, value); &#125;        &#125;        public static readonly DependencyProperty ContentsProperty &#x3D;             DependencyProperty.Register(&quot;Contents&quot;, typeof(string), typeof(SilverlightButtons), new PropertyMetadata(ContentsChanged));        private static void ContentsChanged(DependencyObject sender, DependencyPropertyChangedEventArgs e)        &#123;            SilverlightButtons button &#x3D; sender as SilverlightButtons;            if (button !&#x3D; null)            &#123;                if (e.NewValue !&#x3D; null)                &#123;                    String NewValue &#x3D; e.NewValue as String;                    button.myText.Text &#x3D; NewValue;                &#125;            &#125;            else            &#123;                button.myText.Text &#x3D; String.Empty;            &#125;        &#125;        public static readonly DependencyProperty IconSourceProperty &#x3D;             DependencyProperty.Register(&quot;IconSource&quot;, typeof(ImageSource), typeof(SilverlightButtons), new PropertyMetadata(IconSourceSourceChanged));        private static void IconSourceSourceChanged(DependencyObject sender, DependencyPropertyChangedEventArgs e)        &#123;            SilverlightButtons button &#x3D; sender as SilverlightButtons;            if (button !&#x3D; null)            &#123;                if (e.NewValue !&#x3D; null)                &#123;                    ImageSource source &#x3D; e.NewValue as ImageSource;                    button.myImg.Source &#x3D; source;                &#125;            &#125;            else            &#123;                button.myImg.Source &#x3D; null;            &#125;        &#125;        public static readonly DependencyProperty ButtonBackGroundProperty &#x3D;             DependencyProperty.Register(&quot;ButtonBackGround&quot;, typeof(Brush), typeof(SilverlightButtons), new PropertyMetadata(ButtonBackGroundChanged));        private static void ButtonBackGroundChanged(DependencyObject sender, DependencyPropertyChangedEventArgs e)        &#123;            SilverlightButtons button &#x3D; sender as SilverlightButtons;            if (button !&#x3D; null)            &#123;                if (e.NewValue !&#x3D; null)                &#123;                    SolidColorBrush brush &#x3D; e.NewValue as SolidColorBrush;                    button.myButton.Background &#x3D; brush;                &#125;            &#125;            else            &#123;                button.myButton.Background &#x3D; null;            &#125;        &#125;               public static readonly DependencyProperty FontColorProperty &#x3D;            DependencyProperty.Register(&quot;FontColor&quot;, typeof(Brush), typeof(SilverlightButtons), new PropertyMetadata(FontColorChanged));        private static void FontColorChanged(DependencyObject sender, DependencyPropertyChangedEventArgs e)        &#123;             SilverlightButtons button &#x3D; sender as SilverlightButtons;            if (button !&#x3D; null)            &#123;                if (e.NewValue !&#x3D; null)                &#123;                    SolidColorBrush brush &#x3D; e.NewValue as SolidColorBrush;                    button.myText.Foreground &#x3D; brush;                &#125;            &#125;            else                button.myText.Foreground &#x3D; null;        &#125;                public static readonly DependencyProperty DefaultStrokeProperty &#x3D;            DependencyProperty.Register(&quot;DefaultStroke&quot;, typeof(Brush), typeof(SilverlightButtons), new PropertyMetadata(DefaultStrokeChanged));        private static void DefaultStrokeChanged(DependencyObject sender, DependencyPropertyChangedEventArgs e)        &#123;            SilverlightButtons button &#x3D; sender as SilverlightButtons;            if (button !&#x3D; null)            &#123;                if (e.NewValue !&#x3D; null)                &#123;                    button.myRectangle.Stroke &#x3D; e.NewValue as Brush;                &#125;            &#125;            else            &#123;                button.myRectangle.Stroke &#x3D; new SolidColorBrush(Colors.Transparent);            &#125;        &#125;        public static readonly DependencyProperty HighLightStrokeProperty &#x3D;            DependencyProperty.Register(&quot;HighLightStroke&quot;, typeof(Brush), typeof(SilverlightButtons), new PropertyMetadata(HighLightStrokeChanged));        private static void HighLightStrokeChanged(DependencyObject sender, DependencyPropertyChangedEventArgs e)        &#123;            SilverlightButtons button &#x3D; sender as SilverlightButtons;            if (button !&#x3D; null)            &#123;                if (e.NewValue !&#x3D; null)                &#123;                    button.myRectangle.Stroke &#x3D; e.NewValue as Brush;                &#125;            &#125;            else            &#123;                button.myRectangle.Stroke &#x3D; null;            &#125;        &#125;                public static readonly DependencyProperty DefaultFillProperty &#x3D;            DependencyProperty.Register(&quot;DefaultFill&quot;, typeof(Brush), typeof(SilverlightButtons), new PropertyMetadata(DefaultFillChanged));        private static void DefaultFillChanged(DependencyObject sender, DependencyPropertyChangedEventArgs e)        &#123;            SilverlightButtons button &#x3D; sender as SilverlightButtons;            if (button !&#x3D; null)            &#123;                if (e.NewValue !&#x3D; null)                &#123;                    button.myRectangle.Fill &#x3D; e.NewValue as Brush;                &#125;            &#125;            else            &#123;                button.myRectangle.Fill &#x3D; new SolidColorBrush(Colors.Transparent);            &#125;        &#125;                public static readonly DependencyProperty HighLightFillProperty &#x3D;            DependencyProperty.Register(&quot;HighLightFill&quot;, typeof(Brush), typeof(SilverlightButtons), new PropertyMetadata(HighLightFillChanged));        private static void HighLightFillChanged(DependencyObject sender, DependencyPropertyChangedEventArgs e)        &#123;            SilverlightButtons button &#x3D; sender as SilverlightButtons;            if (button !&#x3D; null)            &#123;                if (e.NewValue !&#x3D; null)                &#123;                    button.myRectangle.Fill &#x3D; e.NewValue as Brush;                &#125;            &#125;            else            &#123;                button.myRectangle.Fill &#x3D; null;            &#125;        &#125;        public static readonly DependencyProperty StrokeThicknessProperty &#x3D;            DependencyProperty.Register(&quot;StrokeThickness&quot;, typeof(double), typeof(SilverlightButtons), new PropertyMetadata(StrokeThicknessChanged));        private static void StrokeThicknessChanged(DependencyObject sender, DependencyPropertyChangedEventArgs e)        &#123;            SilverlightButtons button &#x3D; sender as SilverlightButtons;            if (button !&#x3D; null)            &#123;                if (e.NewValue !&#x3D; null)                &#123;                    button.myRectangle.StrokeThickness &#x3D; Convert.ToDouble(e.NewValue);                &#125;            &#125;            else            &#123;                button.myRectangle.StrokeThickness &#x3D; 1;            &#125;        &#125;        public static readonly DependencyProperty RadiusXProperty &#x3D;            DependencyProperty.Register(&quot;RadiusX&quot;, typeof(double), typeof(SilverlightButtons), new PropertyMetadata(RadiusXChanged));        private static void RadiusXChanged(DependencyObject sender, DependencyPropertyChangedEventArgs e)        &#123;            SilverlightButtons button &#x3D; sender as SilverlightButtons;            if (button !&#x3D; null)            &#123;                if (e.NewValue !&#x3D; null)                &#123;                    button.myRectangle.RadiusX &#x3D; Convert.ToDouble(e.NewValue);                &#125;            &#125;            else            &#123;                button.myRectangle.RadiusX &#x3D; 0;            &#125;        &#125;        public static readonly DependencyProperty RadiusYProperty &#x3D;            DependencyProperty.Register(&quot;RadiusY&quot;, typeof(double), typeof(SilverlightButtons), new PropertyMetadata(RadiusYChanged));        private static void RadiusYChanged(DependencyObject sender, DependencyPropertyChangedEventArgs e)        &#123;            SilverlightButtons button &#x3D; sender as SilverlightButtons;            if (button !&#x3D; null)            &#123;                if (e.NewValue !&#x3D; null)                &#123;                    button.myRectangle.RadiusY &#x3D; Convert.ToDouble(e.NewValue);                &#125;            &#125;            else            &#123;                button.myRectangle.RadiusY &#x3D; 0;            &#125;        &#125;            &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>自定义控件做好后就可以运用该控件了，如下图，鼠标移上去会出现边框<br><img src="/images/2014102010561202.jpg" alt="2014102010561202.jpg"></p><p>xaml代码</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">&lt;UserControl x:Class&#x3D;&quot;SilverlightCreate.CustomControl&quot;    xmlns&#x3D;&quot;http:&#x2F;&#x2F;schemas.microsoft.com&#x2F;winfx&#x2F;2006&#x2F;xaml&#x2F;presentation&quot;    xmlns:x&#x3D;&quot;http:&#x2F;&#x2F;schemas.microsoft.com&#x2F;winfx&#x2F;2006&#x2F;xaml&quot;    xmlns:d&#x3D;&quot;http:&#x2F;&#x2F;schemas.microsoft.com&#x2F;expression&#x2F;blend&#x2F;2008&quot;    xmlns:mc&#x3D;&quot;http:&#x2F;&#x2F;schemas.openxmlformats.org&#x2F;markup-compatibility&#x2F;2006&quot;    xmlns:custom&#x3D;&quot;clr-namespace:SilverlightCreate&quot;    mc:Ignorable&#x3D;&quot;d&quot;    d:DesignHeight&#x3D;&quot;300&quot; d:DesignWidth&#x3D;&quot;400&quot;&gt;    &lt;Grid x:Name&#x3D;&quot;LayoutRoot&quot; Background&#x3D;&quot;#007F48&quot;&gt;        &lt;StackPanel Orientation&#x3D;&quot;Horizontal&quot; Height&#x3D;&quot;30&quot; HorizontalAlignment&#x3D;&quot;Center&quot;&gt;            &lt;custom:SilverlightButtons x:Name&#x3D;&quot;btnManyou&quot; Contents&#x3D;&quot;漫游&quot; FontColor&#x3D;&quot;White&quot; IconSource&#x3D;&quot;images&#x2F;tool_manyou.png&quot; ToolTipService.ToolTip&#x3D;&quot;漫游&quot;  Margin&#x3D;&quot;5&quot; MouseMove&#x3D;&quot;btnManyou_MouseMove&quot; MouseLeave&#x3D;&quot;btnManyou_MouseLeave&quot; &#x2F;&gt;            &lt;custom:SilverlightButtons x:Name&#x3D;&quot;btnDraw&quot; Contents&#x3D;&quot;重画&quot; FontColor&#x3D;&quot;White&quot; IconSource&#x3D;&quot;images&#x2F;tool_chonghua.png&quot; ToolTipService.ToolTip&#x3D;&quot;重画&quot; Margin&#x3D;&quot;5&quot; MouseMove&#x3D;&quot;btnDraw_MouseMove&quot; MouseLeave&#x3D;&quot;btnDraw_MouseLeave&quot; &#x2F;&gt;        &lt;&#x2F;StackPanel&gt;    &lt;&#x2F;Grid&gt;&lt;&#x2F;UserControl&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>cs代码</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">using System;using System.Collections.Generic;using System.Linq;using System.Net;using System.Windows;using System.Windows.Controls;using System.Windows.Documents;using System.Windows.Input;using System.Windows.Media;using System.Windows.Media.Animation;using System.Windows.Shapes;namespace SilverlightCreate&#123;    public partial class CustomControl : UserControl    &#123;        public CustomControl()        &#123;            InitializeComponent();        &#125;        private void btnManyou_MouseMove(object sender, MouseEventArgs e)        &#123;            ShowBorder(btnManyou);        &#125;        private void btnManyou_MouseLeave(object sender, MouseEventArgs e)        &#123;            HideBorder(btnManyou);        &#125;        private void btnDraw_MouseMove(object sender, MouseEventArgs e)        &#123;            ShowBorder(btnDraw);        &#125;        private void btnDraw_MouseLeave(object sender, MouseEventArgs e)        &#123;            HideBorder(btnDraw);        &#125;        private void ShowBorder(SilverlightButtons button)        &#123;            button.StrokeThickness &#x3D; 1;            button.HighLightStroke &#x3D; new SolidColorBrush(Colors.White);            button.RadiusX &#x3D; 10;            button.RadiusY &#x3D; 10;        &#125;        private void HideBorder(SilverlightButtons button)        &#123;            button.StrokeThickness &#x3D; 0;        &#125;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>参考文章</p><p><a href="https://social.msdn.microsoft.com/Forums/silverlight/en-US/630cade8-349d-410e-9039-3a4b74c56ac9/silverlight-4-custom-control-binding?forum=silverlightarchieve">https://social.msdn.microsoft.com/Forums/silverlight/en-US/630cade8-349d-410e-9039-3a4b74c56ac9/silverlight-4-custom-control-binding?forum=silverlightarchieve</a></p><p>相关文章</p><p><a href="http://www.cnblogs.com/yayx/archive/2008/06/03/1213126.html">http://www.cnblogs.com/yayx/archive/2008/06/03/1213126.html</a></p><p><a href="http://developer.51cto.com/art/201003/191692.htm">http://developer.51cto.com/art/201003/191692.htm</a></p>]]></content>
      
      
      <categories>
          
          <category> Silverlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Silverlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java Jdk 环境配置和测试</title>
      <link href="/java/java-jdk-huan-jing-pei-zhi-he-ce-shi/"/>
      <url>/java/java-jdk-huan-jing-pei-zhi-he-ce-shi/</url>
      
        <content type="html"><![CDATA[<p>测试jdk：1.6</p><p>安装完jdk1.6以后，在我的电脑中找到环境变量配置</p><p>在系统变量的Path 中输入 ;E:\Program Files (x86)\Java\jdk1.6.0_01\bin（路径根据自己安装的目录变化，注意，分号加在前面的话，光标要移到</p><p>path变量值得最后，分号在后（E:\Program Files (x86)\Java\jdk1.6.0_01\bin;）则将改路径直接放在path变量值的最前面）</p><p>然后新建class_path项，在值中输入 .;E:\Program Files (x86)\Java\jre1.6.0_01\lib</p><p>配置好后，在运行中输入cmd进入dos窗口</p><p>输入javac然后回车看是否出现参数列表,如下图<br><img src="/images/2014101816481201.png" alt="2014101816481201.png"></p><p>出现则说明成功了，然后在输入java -version 查看版本号。</p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Silverlight 减小 Xap 的大小</title>
      <link href="/silverlight/silverlight-jian-xiao-xap-de-da-xiao/"/>
      <url>/silverlight/silverlight-jian-xiao-xap-de-da-xiao/</url>
      
        <content type="html"><![CDATA[<p>当Silverlight工程引用了很多dll后，加载的速度就会很慢，通过下面方式可以减小xap包的大小<br><img src="/images/2014101511231101.jpg" alt="2014101511231101.jpg"><br>勾选 “通过使用应用程序库缓存减小xap大小”，勾选此项后vs会自动将微软自身和外部引用不变的dll自动打包成zip压缩格式，<br><img src="/images/2014101511231102.jpg" alt="2014101511231102.jpg"><br>但这样也会产生很多这样的zip压缩文件，我们可以将这样zip压缩文件对应的dll压缩在一个zip压缩文件中，然后重新命名。</p><p>用winrar打开bin目录下的xap包查看AppManifest.xaml文件<br><img src="/images/2014101511231103.jpg" alt="2014101511231103.jpg"><br>将AppManifest.xaml文件解压出来，然后只保留&lt;Deployment.ExternalPart&gt;节点下的一行。</p><p>将source中的名称换成修改后的zip文件名（例如NewFile.zip）.</p>]]></content>
      
      
      <categories>
          
          <category> Silverlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Silverlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Silverlight TreeView 带 checkbox和图片</title>
      <link href="/silverlight/silverlight-treeview-dai-checkbox-he-tu-pian/"/>
      <url>/silverlight/silverlight-treeview-dai-checkbox-he-tu-pian/</url>
      
        <content type="html"><![CDATA[<p>前段时间做Silverlight TreeView 控件，但是要带checkbox和图片，在网上到处找相关的例子，效果图如下<br><img src="/images/2014101411321501.jpg" alt="2014101411321501.jpg"><br>xaml代码</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">&lt;UserControl x:Class&#x3D;&quot;SlmenuTest.Tree&quot;    xmlns&#x3D;&quot;http:&#x2F;&#x2F;schemas.microsoft.com&#x2F;winfx&#x2F;2006&#x2F;xaml&#x2F;presentation&quot;    xmlns:x&#x3D;&quot;http:&#x2F;&#x2F;schemas.microsoft.com&#x2F;winfx&#x2F;2006&#x2F;xaml&quot;    xmlns:d&#x3D;&quot;http:&#x2F;&#x2F;schemas.microsoft.com&#x2F;expression&#x2F;blend&#x2F;2008&quot;    xmlns:mc&#x3D;&quot;http:&#x2F;&#x2F;schemas.openxmlformats.org&#x2F;markup-compatibility&#x2F;2006&quot;    xmlns:common&#x3D;&quot;clr-namespace:System.Windows;assembly&#x3D;System.Windows.Controls&quot;    mc:Ignorable&#x3D;&quot;d&quot;    d:DesignHeight&#x3D;&quot;300&quot; d:DesignWidth&#x3D;&quot;400&quot; xmlns:sdk&#x3D;&quot;http:&#x2F;&#x2F;schemas.microsoft.com&#x2F;winfx&#x2F;2006&#x2F;xaml&#x2F;presentation&#x2F;sdk&quot;&gt;    &lt;UserControl.Resources&gt;        &lt;common:HierarchicalDataTemplate x:Key&#x3D;&quot;Level3Template&quot;&gt;            &lt;StackPanel Orientation&#x3D;&quot;Horizontal&quot;&gt;                &lt;Image Source&#x3D;&quot;&#123;Binding Icon&#125;&quot; Width&#x3D;&quot;16&quot; Height&#x3D;&quot;16&quot;&#x2F;&gt;                &lt;CheckBox &#x2F;&gt;                &lt;TextBlock Text&#x3D;&quot;&#123;Binding Name&#125;&quot;  Foreground&#x3D;&quot;Black&quot; &#x2F;&gt;            &lt;&#x2F;StackPanel&gt;        &lt;&#x2F;common:HierarchicalDataTemplate&gt;                &lt;common:HierarchicalDataTemplate x:Key&#x3D;&quot;Level2Template&quot; ItemsSource&#x3D;&quot;&#123;Binding Level3s&#125;&quot; ItemTemplate&#x3D;&quot;&#123;StaticResource Level3Template&#125;&quot;&gt;            &lt;StackPanel Orientation&#x3D;&quot;Horizontal&quot;&gt;                &lt;Image Source&#x3D;&quot;&#123;Binding Icon&#125;&quot; Width&#x3D;&quot;16&quot; Height&#x3D;&quot;16&quot;&#x2F;&gt;                &lt;CheckBox &#x2F;&gt;                &lt;TextBlock Text&#x3D;&quot;&#123;Binding Name&#125;&quot; Foreground&#x3D;&quot;Green&quot;&#x2F;&gt;            &lt;&#x2F;StackPanel&gt;        &lt;&#x2F;common:HierarchicalDataTemplate&gt;                &lt;common:HierarchicalDataTemplate x:Key&#x3D;&quot;Level1Template&quot; ItemsSource&#x3D;&quot;&#123;Binding Level2s&#125;&quot; ItemTemplate&#x3D;&quot;&#123;StaticResource Level2Template&#125;&quot;&gt;            &lt;StackPanel  Orientation&#x3D;&quot;Horizontal&quot;&gt;                &lt;Image Source&#x3D;&quot;&#123;Binding Icon&#125;&quot; &#x2F;&gt;                &lt;CheckBox &#x2F;&gt;                &lt;TextBlock Foreground&#x3D;&quot;Blue&quot; Text&#x3D;&quot;&#123;Binding Name&#125;&quot;&#x2F;&gt;            &lt;&#x2F;StackPanel&gt;        &lt;&#x2F;common:HierarchicalDataTemplate&gt;    &lt;&#x2F;UserControl.Resources&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>后台代码</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">using System;using System.Collections.Generic;using System.Linq;using System.Net;using System.Windows;using System.Windows.Controls;using System.Windows.Documents;using System.Windows.Input;using System.Windows.Media;using System.Windows.Media.Animation;using System.Windows.Shapes;using System.Collections.ObjectModel;namespace SlmenuTest&#123;    public partial class Tree : UserControl    &#123;               public Tree()        &#123;            InitializeComponent();            InitTreeData();        &#125;        #region Data        private void InitTreeData()        &#123;            myTree.ItemsSource &#x3D; new ObservableCollection&lt;Level1&gt;            &#123;                new Level1                &#123;                    Name &#x3D; &quot;test1&quot;,                    Icon&#x3D;&quot;..&#x2F;images&#x2F;default.png&quot;,                    Level2s &#x3D;                     &#123;                         new Level2                        &#123;                            Name&#x3D;&quot;基础信息&quot;,                            Icon &#x3D; &quot;..&#x2F;images&#x2F;search.png&quot;,                            Level3s &#x3D;                             &#123;                                 new Level3 &#123; Name &#x3D; &quot;类别&quot; ,Icon &#x3D; &quot;..&#x2F;images&#x2F;computer.png&quot;&#125;,                                 new Level3 &#123; Name &#x3D; &quot;部门&quot; ,Icon &#x3D; &quot;..&#x2F;images&#x2F;computer_on.png&quot;&#125;,                                new Level3 &#123; Name &#x3D; &quot;类别2&quot; ,Icon &#x3D; &quot;..&#x2F;images&#x2F;exit.png&quot;&#125;,                                new Level3 &#123; Name &#x3D; &quot;部门2&quot; ,Icon &#x3D; &quot;..&#x2F;images&#x2F;edit.png&quot;&#125;                            &#125;                        &#125;,                        new Level2                        &#123;                            Name&#x3D;&quot;扩展信息&quot;,                            Icon&#x3D;&quot;..&#x2F;images&#x2F;search.png&quot;                        &#125;                    &#125;                &#125;,                new Level1                &#123;                    Name&#x3D;&quot;test2&quot;,                    Icon&#x3D;&quot;..&#x2F;images&#x2F;default.png&quot;,                    Level2s&#x3D;                    &#123;                        new Level2                        &#123;                            Name&#x3D;&quot;报表管理&quot;,                             Icon &#x3D; &quot;..&#x2F;images&#x2F;search.png&quot;,                            Level3s &#x3D;                             &#123;                                 new Level3 &#123; Name &#x3D; &quot;报表1&quot; ,Icon &#x3D; &quot;..&#x2F;images&#x2F;default.png&quot;&#125;,                                new Level3 &#123; Name &#x3D; &quot;报表2&quot; ,Icon &#x3D; &quot;..&#x2F;images&#x2F;default.png&quot;&#125;,                                new Level3 &#123; Name &#x3D; &quot;报表3&quot; ,Icon &#x3D; &quot;..&#x2F;images&#x2F;default.png&quot;&#125;,                                new Level3 &#123; Name &#x3D; &quot;报表4&quot;,Icon&#x3D;&quot;..&#x2F;images&#x2F;default.png&quot;&#125;                            &#125;                        &#125;                    &#125;                &#125;,                new Level1                &#123;                    Name&#x3D;&quot;test3&quot;,                    Icon&#x3D;&quot;..&#x2F;images&#x2F;default.png&quot;,                    Level2s&#x3D;                    &#123;                        new Level2                        &#123;                            Name&#x3D;&quot;系统管理&quot;,                            Icon &#x3D; &quot;..&#x2F;images&#x2F;search.png&quot;,                            Level3s &#x3D;                             &#123;                                 new Level3 &#123; Name &#x3D; &quot;权限设置&quot; ,Icon &#x3D; &quot;..&#x2F;images&#x2F;default.png&quot;&#125;,                                new Level3 &#123; Name &#x3D; &quot;用户管理&quot; , Icon &#x3D; &quot;..&#x2F;images&#x2F;default.png&quot;&#125;                            &#125;                        &#125;                    &#125;                &#125;            &#125;;        &#125;        #endregion        private void myTree_SelectedItemChanged(object sender, RoutedPropertyChangedEventArgs&lt;object&gt; e)        &#123;            TreeViewItem item &#x3D; e.NewValue as TreeViewItem;                    &#125;           &#125;    public class Level1    &#123;        public Level1()        &#123;            Level2s &#x3D; new ObservableCollection&lt;Level2&gt;();        &#125;        public string Name &#123; get; set; &#125;        public string Icon &#123; get; set; &#125;        public ObservableCollection&lt;Level2&gt; Level2s &#123; get; set; &#125;    &#125;    public class Level2    &#123;        public Level2()        &#123;            Level3s &#x3D; new ObservableCollection&lt;Level3&gt;();        &#125;        public string Name &#123; get; set; &#125;        public string Icon &#123; get; set; &#125;        public ObservableCollection&lt;Level3&gt; Level3s &#123; get; set; &#125;    &#125;    public class Level3    &#123;        public string Name &#123; get; set; &#125;        public string Icon &#123; get; set; &#125;        &#x2F;&#x2F;public event EventHandler click;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>第二种效果图如下<br><img src="/images/2014101411321502.jpg" alt="2014101411321502.jpg"><br>xaml 代码</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">&lt;UserControl x:Class&#x3D;&quot;SLColorPickerDemo.Tree&quot;    xmlns&#x3D;&quot;http:&#x2F;&#x2F;schemas.microsoft.com&#x2F;winfx&#x2F;2006&#x2F;xaml&#x2F;presentation&quot;    xmlns:x&#x3D;&quot;http:&#x2F;&#x2F;schemas.microsoft.com&#x2F;winfx&#x2F;2006&#x2F;xaml&quot;    xmlns:d&#x3D;&quot;http:&#x2F;&#x2F;schemas.microsoft.com&#x2F;expression&#x2F;blend&#x2F;2008&quot;    xmlns:mc&#x3D;&quot;http:&#x2F;&#x2F;schemas.openxmlformats.org&#x2F;markup-compatibility&#x2F;2006&quot;    mc:Ignorable&#x3D;&quot;d&quot;    d:DesignHeight&#x3D;&quot;300&quot; d:DesignWidth&#x3D;&quot;400&quot; xmlns:sdk&#x3D;&quot;http:&#x2F;&#x2F;schemas.microsoft.com&#x2F;winfx&#x2F;2006&#x2F;xaml&#x2F;presentation&#x2F;sdk&quot;&gt;    &lt;UserControl.Resources&gt;        &lt;Style x:Key&#x3D;&quot;RedItemStyle&quot; TargetType&#x3D;&quot;sdk:TreeViewItem&quot;&gt;            &lt;Setter Property&#x3D;&quot;HeaderTemplate&quot;&gt;                &lt;Setter.Value&gt;                    &lt;DataTemplate&gt;                        &lt;StackPanel Orientation&#x3D;&quot;Horizontal&quot;&gt;                            &lt;Image Source&#x3D;&quot;images&#x2F;default.png&quot;&#x2F;&gt;                            &lt;CheckBox &#x2F;&gt;                            &lt;TextBlock Text&#x3D;&quot;&#123;Binding&#125;&quot; Foreground&#x3D;&quot;Red&quot; FontStyle&#x3D;&quot;Italic&quot; &#x2F;&gt;                        &lt;&#x2F;StackPanel&gt;                    &lt;&#x2F;DataTemplate&gt;                &lt;&#x2F;Setter.Value&gt;            &lt;&#x2F;Setter&gt;            &lt;Setter Property&#x3D;&quot;IsExpanded&quot; Value&#x3D;&quot;False&quot; &#x2F;&gt;        &lt;&#x2F;Style&gt;    &lt;&#x2F;UserControl.Resources&gt;    &lt;Grid x:Name&#x3D;&quot;LayoutRoot&quot; Background&#x3D;&quot;White&quot;&gt;        &lt;sdk:TreeView Margin&#x3D;&quot;5&quot; Grid.Column&#x3D;&quot;0&quot; Grid.Row&#x3D;&quot;1&quot; Name&#x3D;&quot;tvTree&quot; SelectedItemChanged&#x3D;&quot;tvTree_SelectedItemChanged&quot; &#x2F;&gt;        &lt;Border BorderBrush&#x3D;&quot;Gray&quot; BorderThickness&#x3D;&quot;1&quot; Padding&#x3D;&quot;8&quot; Margin&#x3D;&quot;5&quot;&gt;            &lt;StackPanel x:Name&#x3D;&quot;DetailsPanel&quot; Margin&#x3D;&quot;4&quot; Width&#x3D;&quot;155&quot;&gt;                &lt;StackPanel Orientation&#x3D;&quot;Horizontal&quot;&gt;                    &lt;TextBlock Text&#x3D;&quot;版块ID: &quot; FontWeight&#x3D;&quot;Bold&quot;  &#x2F;&gt;                    &lt;TextBlock Text&#x3D;&quot;&#123;Binding ForumID&#125;&quot; &#x2F;&gt;                &lt;&#x2F;StackPanel&gt;                &lt;StackPanel Orientation&#x3D;&quot;Horizontal&quot;&gt;                    &lt;TextBlock Text&#x3D;&quot;版块名称: &quot; FontWeight&#x3D;&quot;Bold&quot;  &#x2F;&gt;                    &lt;TextBlock Text&#x3D;&quot;&#123;Binding ForumName&#125;&quot; &#x2F;&gt;                &lt;&#x2F;StackPanel&gt;                &lt;StackPanel Orientation&#x3D;&quot;Horizontal&quot;&gt;                    &lt;TextBlock Text&#x3D;&quot;版块信息: &quot; FontWeight&#x3D;&quot;Bold&quot; &#x2F;&gt;                    &lt;TextBlock x:Name&#x3D;&quot;DetailText&quot; TextWrapping&#x3D;&quot;Wrap&quot; Text&#x3D;&quot;&#123;Binding ForumName&#125;&quot;&#x2F;&gt;                &lt;&#x2F;StackPanel&gt;            &lt;&#x2F;StackPanel&gt;        &lt;&#x2F;Border&gt;    &lt;&#x2F;Grid&gt;&lt;&#x2F;UserControl&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>后台代码</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">using System;using System.Net;using System.Windows;using System.Windows.Controls;using System.Windows.Documents;using System.Windows.Ink;using System.Windows.Input;using System.Windows.Media;using System.Windows.Media.Animation;using System.Windows.Shapes;using System.ComponentModel;namespace SLColorPickerDemo&#123;    public class ForumInfo : INotifyPropertyChanged    &#123;        public int ForumID &#123; get; set; &#125;        public int ParendID &#123; get; set; &#125;        public string ForumName &#123; get; set; &#125;        #region INotifyPropertyChanged 成员        public event PropertyChangedEventHandler PropertyChanged;        private void PropertyChaged(string propertyName)        &#123;            PropertyChangedEventHandler handle &#x3D; PropertyChanged;            if (handle !&#x3D; null)                handle.Invoke(this, new PropertyChangedEventArgs(propertyName));        &#125;        #endregion    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">using System;using System.Collections.Generic;using System.Linq;using System.Net;using System.Windows;using System.Windows.Controls;using System.Windows.Documents;using System.Windows.Input;using System.Windows.Media;using System.Windows.Media.Animation;using System.Windows.Shapes;using System.Collections.ObjectModel;namespace SLColorPickerDemo&#123;    public partial class Tree : UserControl    &#123;        List&lt;ForumInfo&gt; forumList &#x3D; new List&lt;ForumInfo&gt;();        public Tree()        &#123;            InitializeComponent();            forumList &#x3D; GetForumData();            AddTreeNode(0, null);        &#125;        private void AddTreeNode(int parentID, TreeViewItem treeViewItem)        &#123;            List&lt;ForumInfo&gt; result &#x3D; (from forumInfo in forumList                                      where forumInfo.ParendID &#x3D;&#x3D; parentID                                      select forumInfo).ToList&lt;ForumInfo&gt;();            if (result.Count &gt; 0)            &#123;                foreach (ForumInfo foruminfo in result)                &#123;                    TreeViewItem objTreeNode &#x3D; new TreeViewItem();                    objTreeNode.Header &#x3D; foruminfo.ForumName;                    objTreeNode.DataContext &#x3D; foruminfo;                    objTreeNode.ItemContainerStyle &#x3D; this.Resources[&quot;RedItemStyle&quot;] as Style;                    &#x2F;&#x2F;添加根节点                    if (treeViewItem &#x3D;&#x3D; null)                    &#123;                        tvTree.Items.Add(objTreeNode);                        &#x2F;&#x2F;tvTree.ItemContainerStyle &#x3D; this.Resources[&quot;TreeStyle&quot;] as Style;                    &#125;                    else                    &#123;                        treeViewItem.Items.Add(objTreeNode);                    &#125;                    AddTreeNode(foruminfo.ForumID, objTreeNode);                &#125;            &#125;        &#125;        public List&lt;ForumInfo&gt; GetForumData()        &#123;            List&lt;ForumInfo&gt; forumList &#x3D; new List&lt;ForumInfo&gt;();            forumList.Add(new ForumInfo() &#123; ForumID &#x3D; 1, ParendID &#x3D; 0, ForumName &#x3D; &quot;笔记本版块&quot; &#125;);            forumList.Add(new ForumInfo() &#123; ForumID &#x3D; 2, ParendID &#x3D; 0, ForumName &#x3D; &quot;台式机版块&quot; &#125;);            forumList.Add(new ForumInfo() &#123; ForumID &#x3D; 3, ParendID &#x3D; 1, ForumName &#x3D; &quot;Dell笔记本&quot; &#125;);            forumList.Add(new ForumInfo() &#123; ForumID &#x3D; 4, ParendID &#x3D; 1, ForumName &#x3D; &quot;IBM笔记本&quot; &#125;);            forumList.Add(new ForumInfo() &#123; ForumID &#x3D; 5, ParendID &#x3D; 4, ForumName &#x3D; &quot;IBM-T系列&quot; &#125;);            forumList.Add(new ForumInfo() &#123; ForumID &#x3D; 6, ParendID &#x3D; 4, ForumName &#x3D; &quot;IBM-R系列&quot; &#125;);            forumList.Add(new ForumInfo() &#123; ForumID &#x3D; 7, ParendID &#x3D; 2, ForumName &#x3D; &quot;联想台式机&quot; &#125;);            forumList.Add(new ForumInfo() &#123; ForumID &#x3D; 8, ParendID &#x3D; 2, ForumName &#x3D; &quot;方正台式机&quot; &#125;);            forumList.Add(new ForumInfo() &#123; ForumID &#x3D; 9, ParendID &#x3D; 2, ForumName &#x3D; &quot;HP台式机&quot; &#125;);            forumList.Add(new ForumInfo() &#123; ForumID &#x3D; 10, ParendID &#x3D; 7, ForumName &#x3D; &quot;联想家悦H系列&quot; &#125;);            forumList.Add(new ForumInfo() &#123; ForumID &#x3D; 11, ParendID &#x3D; 7, ForumName &#x3D; &quot;联想IdeaCentre系列&quot; &#125;);            return forumList;        &#125;        private void tvTree_SelectedItemChanged(object sender, RoutedPropertyChangedEventArgs&lt;object&gt; e)        &#123;            TreeViewItem item &#x3D; e.NewValue as TreeViewItem;            ForumInfo fi &#x3D; item.DataContext as ForumInfo;            DetailsPanel.DataContext &#x3D; fi;        &#125;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Silverlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Silverlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>3DMAx Panda Directx Exporter 导出 X插件</title>
      <link href="/tools/3dmax-panda-directx-exporter-dao-chu-x-cha-jian/"/>
      <url>/tools/3dmax-panda-directx-exporter-dao-chu-x-cha-jian/</url>
      
        <content type="html"><![CDATA[<p>Panda Directx Exporter 下载地址</p><p><a href="http://www.andytather.co.uk/Panda/directxmax_downloads.aspx">http://www.andytather.co.uk/Panda/directxmax_downloads.aspx</a></p><p>将下载的文件解压后，放到3DS安装文件夹的plgin目录中。</p><p>fbx导出插件</p><p><a href="http://usa.autodesk.com/adsk/servlet/index?siteID=123112&amp;id=10775855">http://usa.autodesk.com/adsk/servlet/index?siteID=123112&amp;id=10775855</a></p><ol><li>3DS Max Objects选项卡<br>主要是输出数据类型的设置（注意在我的电脑上有些字母被遮住了，不知道原因，不过大致意思也能猜出）。</li></ol><p>Output Options：选择“Mesh difination”和“Materials”，不勾选“Inline”（这个我不懂），因为不使用骨骼动画，所以也不勾选“Bones”， Output Types：勾选“Geometric（几何体）”和“Dummy（虚拟体）”。</p><ol start="2"><li>Mesh选项卡<br>设置网格的选项。</li></ol><p>勾选“Mesh normals（需要导出法线）”和“Vertex colors”，Optmize mesh下拉菜单选择“Normal（法线）”，还可以选择“None（不作优化）”和“Optimized（已做优化）”。不选择“Mapping coordinares（纹理坐标）”，“Flip normals（翻转法线）”、“Use custom nromals（使用自定义法线）”和“Use local object space（使用模型坐标系，这会导致导出的文件丢失世界矩阵的信息）”。</p><ol start="3"><li>Animaton选项卡<br>关于模型动画的设置。</li></ol><p>因为这个例子中不使用动画，所以无需设置。<br>4. Textures&amp;.fx files选项卡<br>设置纹理和fx文件。</p><p>Texture Conversion：本例不使用纹理，所以选择“None”。</p><p>.fx Effect Files：因为不使用effect所以不勾选“Include .fx files（包含fx文件）”和“Include .fx parameters（包含fx参数）”，其实自己也不知道如何设置，但在《Professional XNA Game Programming》中的所有x文件都是包含fx的。<br>5. X File Settings选项卡<br>DX File Type：我选择“Text”，这样可以在文本编辑器中看到源文件，不选择“Binary（二进制）”和“Binary with Compression（压缩的二进制文件）” 。在《Professional XNA Game Programming》中的所有x文件都是二进制的，所以用文本编辑器打开后是乱码。</p><p>DX Frame：本例中不使用层次模型，所以选择“No Frame（不包含框架）”，不选择“Top frame only（将只输出顶部框架）”和“Sub frame hierarchy（输出子框架层次）”。</p><p>Coordinate System：不选择“Left Handed Axis（左手坐标系，选择此项会将Y和Z坐标互换）”。</p><p>Xfile Animation Options：本例不使用动画，所以不选择“Include Animation”，Type下拉菜单可选“Closed（动画封闭）”和“Open（动画开放）”。Pos.Quality可选择“Spline Positions（样条位置）”和“Linear Positions（线性位置）”。</p><p>设置完以上选项后点击确定保存文件，把它命名为“square.x”。</p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Win2003 控制面板 打不开</title>
      <link href="/computer/win2003-kong-zhi-mian-ban-da-bu-kai/"/>
      <url>/computer/win2003-kong-zhi-mian-ban-da-bu-kai/</url>
      
        <content type="html"><![CDATA[<p>windown 2003 控制面板打不开</p><p>在运行框中输入regedit，进入注册表中的</p><p>HKEY_LOCAL_MACHINE&#x2F;SYSTEM\Current ControlSet\Control\NLS\Locale下找到</p><p>Default和“00000804”两项，分别修改值为0000049和1 。</p>]]></content>
      
      
      <categories>
          
          <category> Computer </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Computer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Silverlight FullScreen 全屏</title>
      <link href="/silverlight/silverlight-fullscreen-quan-ping/"/>
      <url>/silverlight/silverlight-fullscreen-quan-ping/</url>
      
        <content type="html"><![CDATA[<pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">&lt;UserControl x:Class&#x3D;&quot;FullScreen.MainPage&quot;    xmlns&#x3D;&quot;http:&#x2F;&#x2F;schemas.microsoft.com&#x2F;winfx&#x2F;2006&#x2F;xaml&#x2F;presentation&quot;    xmlns:x&#x3D;&quot;http:&#x2F;&#x2F;schemas.microsoft.com&#x2F;winfx&#x2F;2006&#x2F;xaml&quot;    xmlns:d&#x3D;&quot;http:&#x2F;&#x2F;schemas.microsoft.com&#x2F;expression&#x2F;blend&#x2F;2008&quot;    xmlns:mc&#x3D;&quot;http:&#x2F;&#x2F;schemas.openxmlformats.org&#x2F;markup-compatibility&#x2F;2006&quot;    mc:Ignorable&#x3D;&quot;d&quot;    d:DesignHeight&#x3D;&quot;300&quot; d:DesignWidth&#x3D;&quot;400&quot;&gt;    &lt;Grid x:Name&#x3D;&quot;LayoutRoot&quot; Background&#x3D;&quot;White&quot;&gt;        &lt;Border HorizontalAlignment&#x3D;&quot;Left&quot; VerticalAlignment&#x3D;&quot;Top&quot; Padding&#x3D;&quot;10&quot; BorderThickness&#x3D;&quot;1&quot; CornerRadius&#x3D;&quot;4&quot; Background&#x3D;&quot;#7F000000&quot;&gt;            &lt;StackPanel&gt;                &lt;StackPanel Orientation&#x3D;&quot;Horizontal&quot;&gt;                    &lt;TextBlock Text&#x3D;&quot;总CPU占用：&quot; TextWrapping&#x3D;&quot;Wrap&quot; d:LayoutOverrides&#x3D;&quot;Height&quot; Foreground&#x3D;&quot;White&quot;&gt;&lt;&#x2F;TextBlock&gt;                    &lt;TextBlock x:Name&#x3D;&quot;txtCPULoad&quot; TextWrapping&#x3D;&quot;Wrap&quot; d:LayoutOverrides&#x3D;&quot;Height&quot; Foreground&#x3D;&quot;White&quot;&gt;&lt;&#x2F;TextBlock&gt;                &lt;&#x2F;StackPanel&gt;                &lt;StackPanel Orientation&#x3D;&quot;Horizontal&quot;&gt;                    &lt;TextBlock Text&#x3D;&quot;当前CPU占用：&quot; TextWrapping&#x3D;&quot;Wrap&quot; d:LayoutOverrides&#x3D;&quot;Height&quot; Foreground&#x3D;&quot;White&quot;&gt;&lt;&#x2F;TextBlock&gt;                    &lt;TextBlock x:Name&#x3D;&quot;txtSLCPULoad&quot; TextWrapping&#x3D;&quot;Wrap&quot; d:LayoutOverrides&#x3D;&quot;Height&quot; Foreground&#x3D;&quot;White&quot;&gt;&lt;&#x2F;TextBlock&gt;                &lt;&#x2F;StackPanel&gt;            &lt;&#x2F;StackPanel&gt;        &lt;&#x2F;Border&gt;        &lt;Button Content&#x3D;&quot;正常&quot; Height&#x3D;&quot;47&quot; HorizontalAlignment&#x3D;&quot;Left&quot; Margin&#x3D;&quot;152,123,0,0&quot; Name&#x3D;&quot;btnFull&quot; VerticalAlignment&#x3D;&quot;Top&quot; Width&#x3D;&quot;68&quot; Click&#x3D;&quot;btnFull_Click&quot; &#x2F;&gt;    &lt;&#x2F;Grid&gt;&lt;&#x2F;UserControl&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>后台代码</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">using System;using System.Collections.Generic;using System.Linq;using System.Net;using System.Windows;using System.Windows.Controls;using System.Windows.Documents;using System.Windows.Input;using System.Windows.Media;using System.Windows.Media.Animation;using System.Windows.Shapes;using System.Windows.Threading;namespace FullScreen&#123;    public partial class MainPage : UserControl    &#123;        Analytics myAnalytics;        public MainPage()        &#123;            InitializeComponent();            Loaded +&#x3D; new RoutedEventHandler(MainPage_Loaded);            Application.Current.Host.Content.FullScreenChanged +&#x3D; new EventHandler(Content_FullScreenChanged);        &#125;        void MainPage_Loaded(object sender, RoutedEventArgs e)        &#123;            myAnalytics &#x3D; new Analytics();            DispatcherTimer timer &#x3D; new DispatcherTimer();            timer.Interval &#x3D; TimeSpan.FromSeconds(1);            timer.Tick +&#x3D; new EventHandler(timer_Tick);            timer.Start();        &#125;        void timer_Tick(object sender, EventArgs e)        &#123;            txtCPULoad.Text &#x3D; myAnalytics.AverageProcessorLoad.ToString();            txtSLCPULoad.Text &#x3D; myAnalytics.AverageProcessLoad.ToString();        &#125;        void Content_FullScreenChanged(object sender, EventArgs e)        &#123;            var content &#x3D; Application.Current.Host.Content;            if (content.IsFullScreen)            &#123;                btnFull.Background &#x3D; new SolidColorBrush(Colors.Yellow);                LayoutRoot.Background &#x3D; new SolidColorBrush(Colors.Yellow);            &#125;            else            &#123;                btnFull.Background &#x3D; new SolidColorBrush(Colors.Red);                LayoutRoot.Background &#x3D; new SolidColorBrush(Colors.Red);            &#125;        &#125;        private void btnFull_Click(object sender, RoutedEventArgs e)        &#123;            var content &#x3D; Application.Current.Host.Content;            if (!content.IsFullScreen)            &#123;                content.IsFullScreen &#x3D; !content.IsFullScreen;                btnFull.Content &#x3D; &quot;还原&quot;;            &#125;            else            &#123;                content.IsFullScreen &#x3D; !content.IsFullScreen;                btnFull.Content &#x3D; &quot;全屏&quot;;            &#125;        &#125;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Silverlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Silverlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Silverlight 鼠标双击 事件</title>
      <link href="/silverlight/silverlight-shu-biao-shuang-ji-shi-jian/"/>
      <url>/silverlight/silverlight-shu-biao-shuang-ji-shi-jian/</url>
      
        <content type="html"><![CDATA[<p>Silverlight 双击事件例子</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">&lt;UserControl x:Class&#x3D;&quot;MouseDbClick.MainPage&quot;    xmlns&#x3D;&quot;http:&#x2F;&#x2F;schemas.microsoft.com&#x2F;winfx&#x2F;2006&#x2F;xaml&#x2F;presentation&quot;    xmlns:x&#x3D;&quot;http:&#x2F;&#x2F;schemas.microsoft.com&#x2F;winfx&#x2F;2006&#x2F;xaml&quot;    xmlns:d&#x3D;&quot;http:&#x2F;&#x2F;schemas.microsoft.com&#x2F;expression&#x2F;blend&#x2F;2008&quot;    xmlns:mc&#x3D;&quot;http:&#x2F;&#x2F;schemas.openxmlformats.org&#x2F;markup-compatibility&#x2F;2006&quot;    mc:Ignorable&#x3D;&quot;d&quot;    d:DesignHeight&#x3D;&quot;300&quot; d:DesignWidth&#x3D;&quot;400&quot;&gt;    &lt;Grid x:Name&#x3D;&quot;LayoutRoot&quot; Background&#x3D;&quot;White&quot;&gt;        &lt;ListBox Height&#x3D;&quot;100&quot; HorizontalAlignment&#x3D;&quot;Left&quot; Margin&#x3D;&quot;12,12,0,0&quot; Name&#x3D;&quot;lbTest&quot; VerticalAlignment&#x3D;&quot;Top&quot; Width&#x3D;&quot;120&quot; &#x2F;&gt;    &lt;&#x2F;Grid&gt;&lt;&#x2F;UserControl&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>后台代码</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">using System;using System.Collections.Generic;using System.Linq;using System.Net;using System.Windows;using System.Windows.Controls;using System.Windows.Documents;using System.Windows.Input;using System.Windows.Media;using System.Windows.Media.Animation;using System.Windows.Shapes;namespace MouseDbClick&#123;    public partial class MainPage : UserControl,IMouseDbClick    &#123;        MouseDbClickHander hander &#x3D; null;        public MainPage()        &#123;            InitializeComponent();            hander &#x3D; new MouseDbClickHander(this);            lbTest.MouseLeftButtonDown +&#x3D; new MouseButtonEventHandler(lbTest_MouseLeftButtonDown);            lbTest.MouseLeftButtonUp +&#x3D; new MouseButtonEventHandler(lbTest_MouseLeftButtonUp);            string[] str &#x3D; &#123;&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot; &#125;;            lbTest.ItemsSource &#x3D; str;        &#125;        void lbTest_MouseLeftButtonUp(object sender, MouseButtonEventArgs e)        &#123;            hander.OnMouseLeftButtonUp(sender, e);        &#125;        void lbTest_MouseLeftButtonDown(object sender, MouseButtonEventArgs e)        &#123;            hander.OnMouseLeftButtonDown(sender, e);          &#125;        #region IMouseDbClick 成员        public void onMouseDbClick(object sender, MouseButtonEventArgs e)        &#123;            string msg &#x3D; lbTest.SelectedItem as string;            MessageBox.Show(msg);        &#125;        #endregion    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>实现双击的接口代码</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">using System;using System.Net;using System.Windows;using System.Windows.Controls;using System.Windows.Documents;using System.Windows.Ink;using System.Windows.Input;using System.Windows.Media;using System.Windows.Media.Animation;using System.Windows.Shapes;namespace MouseDbClick&#123;    public interface IMouseDbClick    &#123;        void onMouseDbClick(object sender, MouseButtonEventArgs e);    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>实现双击的代码</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">using System;using System.Net;using System.Windows;using System.Windows.Controls;using System.Windows.Documents;using System.Windows.Ink;using System.Windows.Input;using System.Windows.Media;using System.Windows.Media.Animation;using System.Windows.Shapes;namespace MouseDbClick&#123;    public class MouseDbClickHander    &#123;        public DateTime lastClick &#x3D; DateTime.Now;        private bool firstClick &#x3D; false;        private IMouseDbClick _mouseDbClick;        &#x2F;&#x2F; Methods        public MouseDbClickHander(IMouseDbClick mouseDbclick)        &#123;            this._mouseDbClick &#x3D; mouseDbclick;        &#125;        public void OnMouseLeftButtonDown(object sender, MouseButtonEventArgs e)        &#123;                    &#125;        public void OnMouseLeftButtonUp(object sender, MouseButtonEventArgs e)        &#123;            &#x2F;&#x2F;UIElement ui &#x3D; sender as UIElement;            TimeSpan span &#x3D; DateTime.Now - lastClick;            if (span.TotalMilliseconds &lt; 40 || firstClick &#x3D;&#x3D; false)            &#123;                firstClick &#x3D; true;                lastClick &#x3D; DateTime.Now;            &#125;            else            &#123;                this._mouseDbClick.onMouseDbClick(sender, e);                firstClick &#x3D; false;            &#125;        &#125;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>到了Silverlight5.0后鼠标事件中有一个ClickCount属性，可以判断是否是双击。</p>]]></content>
      
      
      <categories>
          
          <category> Silverlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Silverlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SQL datetime和smalldatetime区别</title>
      <link href="/silverlight/sql-datetime-he-smalldatetime-qu-bie/"/>
      <url>/silverlight/sql-datetime-he-smalldatetime-qu-bie/</url>
      
        <content type="html"><![CDATA[<p>datetime 存储大小8个字节，精确到分后的3为小数，日期范围从1753 年 1 月 1 日到 9999 年 12 月 31 日；而</p><p>smalldatetime存储大小为4个字节，精确到分，日期范围从1900 年 1 月 1 日到 2079 年 6 月 6 日。<br><img src="/images/2014101115271001.jpg" alt="2014101115271001.jpg"><br><img src="/images/2014101115271002.jpg" alt="2014101115271002.jpg"></p><p>参考</p><p><a href="http://msdn.microsoft.com/zh-cn/library/ms187819%28v=sql.105%29.aspx">http://msdn.microsoft.com/zh-cn/library/ms187819%28v=sql.105%29.aspx</a><br><a href="http://msdn.microsoft.com/zh-cn/library/ms182418%28v=sql.105%29.aspx">http://msdn.microsoft.com/zh-cn/library/ms182418%28v=sql.105%29.aspx</a></p>]]></content>
      
      
      <categories>
          
          <category> Silverlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Silverlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Silverlight 用户代码未处理 TypeLoadException</title>
      <link href="/silverlight/silverlight-yong-hu-dai-ma-wei-chu-li-typeloadexception/"/>
      <url>/silverlight/silverlight-yong-hu-dai-ma-wei-chu-li-typeloadexception/</url>
      
        <content type="html"><![CDATA[<p><img src="/images/2014101017321301.jpg" alt="2014101017321301.jpg"><br>在Silverlight中动态创建Enum时，多次调用改方法出现上图所示错误，后来发现定义名称都是一样的，</p><p>在程序中声明全局变量去区别就可以了。</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">int num &#x3D; 1;private Type CreateEnum(List&lt;string&gt; lists,string enumName)&#123;    AppDomain app &#x3D; AppDomain.CurrentDomain;    AssemblyName aName &#x3D; new AssemblyName(&quot;SilverlightEnum&quot; + num);    AssemblyBuilder ab &#x3D; app.DefineDynamicAssembly(aName, AssemblyBuilderAccess.Run);    ModuleBuilder mb &#x3D; ab.DefineDynamicModule(aName.Name + &quot;Module&quot;);    EnumBuilder eb &#x3D; mb.DefineEnum(enumName, TypeAttributes.Public, typeof(System.Int32));    for (int i &#x3D; 0; i &lt; lists.Count; i++)    &#123;        eb.DefineLiteral(lists[i], i);    &#125;    num++;    return eb.CreateType();&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Silverlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Silverlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Silverlight 动态创建Enum</title>
      <link href="/silverlight/silverlight-dong-tai-chuang-jian-enum/"/>
      <url>/silverlight/silverlight-dong-tai-chuang-jian-enum/</url>
      
        <content type="html"><![CDATA[<pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">private Type CreateEnum()&#123;   List&lt;string&gt; lists &#x3D; new List&lt;string&gt;();    lists.Add(&quot;男&quot;);    lists.Add(&quot;女&quot;);    AppDomain app &#x3D; AppDomain.CurrentDomain;    AssemblyName aName &#x3D; new    AssemblyName(&quot;EnumAssemble&quot;);    AssemblyBuilder ab &#x3D; app.DefineDynamicAssembly(aName, AssemblyBuilderAccess.Run);    ModuleBuilder mb &#x3D; ab.DefineDynamicModule(&quot;EnumModule&quot;);    EnumBuilder eb &#x3D; mb.DefineEnum(&quot;Sexs&quot;, TypeAttributes.Public, typeof(System.Int32));    for (int i &#x3D; 0; i &lt; lists.Count; i++)    &#123;        eb.DefineLiteral(lists[i], i);    &#125;    return eb.CreateType();&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>注意如果要多次调用该方法，AssemblyName需要不同的名字，请参考 <a href="http://www.cnblogs.com/ZJ199012/p/4016434.html">http://www.cnblogs.com/ZJ199012/p/4016434.html</a></p>]]></content>
      
      
      <categories>
          
          <category> Silverlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Silverlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>silverlight vs2010 需要缺少的web组件才能加载</title>
      <link href="/silverlight/silverlight-vs2010-xu-yao-que-shao-de-web-zu-jian-cai-neng-jia-zai/"/>
      <url>/silverlight/silverlight-vs2010-xu-yao-que-shao-de-web-zu-jian-cai-neng-jia-zai/</url>
      
        <content type="html"><![CDATA[<p>在打开一个开源的Silverlight项目是遇到如图所示的问题，点击是后没有反应。<br><img src="/images/2014093014111301.png" alt="2014093014111301.png"><br>查了资料，需要安装微软的<a href="http://www.microsoft.com/web/downloads/platform.aspx">webpi</a>(Microsoft Web Platform Installer)</p><p>webpi的介绍资料 <a href="http://msdn.microsoft.com/zh-cn/dd767442.aspx">http://msdn.microsoft.com/zh-cn/dd767442.aspx</a></p><p>下载后直接安装IIS Express，安装完成后加载需要加载的项目，弹出下图对话框，点击是即可。<br><img src="/images/2014093014111302.jpg" alt="2014093014111302.jpg"></p>]]></content>
      
      
      <categories>
          
          <category> Silverlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Silverlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Telerik RadPropertyGrid 设置显隐 Combox选择</title>
      <link href="/silverlight/telerik-radpropertygrid-she-zhi-xian-yin-combox-xuan-ze/"/>
      <url>/silverlight/telerik-radpropertygrid-she-zhi-xian-yin-combox-xuan-ze/</url>
      
        <content type="html"><![CDATA[<p>Telerik RadPropertyGrid 的排序按钮、搜索框和描述面板的显隐只要设置SortAndGroupButtons、SearchBox、DescriptionPanel的属性值改为Visibility.Collapsed就可以了。</p><p>RadPropertyGrid中的属性值设置成combox来选择，效果如下图：<br><img src="/images/2014092517311201.jpg" alt="2014092517311201.jpg"></p><p>界面代码</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">&lt;UserControl x:Class&#x3D;&quot;SilverlightCreate.TelerikGrid&quot;    xmlns&#x3D;&quot;http:&#x2F;&#x2F;schemas.microsoft.com&#x2F;winfx&#x2F;2006&#x2F;xaml&#x2F;presentation&quot;    xmlns:x&#x3D;&quot;http:&#x2F;&#x2F;schemas.microsoft.com&#x2F;winfx&#x2F;2006&#x2F;xaml&quot;    xmlns:d&#x3D;&quot;http:&#x2F;&#x2F;schemas.microsoft.com&#x2F;expression&#x2F;blend&#x2F;2008&quot;    xmlns:mc&#x3D;&quot;http:&#x2F;&#x2F;schemas.openxmlformats.org&#x2F;markup-compatibility&#x2F;2006&quot;    xmlns:telerik&#x3D;&quot;http:&#x2F;&#x2F;schemas.telerik.com&#x2F;2008&#x2F;xaml&#x2F;presentation&quot;    mc:Ignorable&#x3D;&quot;d&quot;    d:DesignHeight&#x3D;&quot;300&quot; d:DesignWidth&#x3D;&quot;400&quot;&gt;    &lt;Grid x:Name&#x3D;&quot;LayoutRoot&quot; Background&#x3D;&quot;White&quot;&gt;        &lt;telerik:RadPropertyGrid x:Name&#x3D;&quot;grid1&quot; Margin&#x3D;&quot;155,0,0,0&quot; AutoGeneratingPropertyDefinition&#x3D;&quot;grid1_AutoGeneratingPropertyDefinition&quot; LabelColumnWidth&#x3D;&quot;100&quot;&gt;        &lt;&#x2F;telerik:RadPropertyGrid&gt;    &lt;&#x2F;Grid&gt;&lt;&#x2F;UserControl&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>后台代码</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">public partial class TelerikGrid : UserControl&#123;    public TelerikGrid()    &#123;        InitializeComponent();        grid1.SortAndGroupButtonsVisibility &#x3D; Visibility.Collapsed;        grid1.SearchBoxVisibility &#x3D; Visibility.Collapsed;        grid1.DescriptionPanelVisibility &#x3D; Visibility.Collapsed;        this.grid1.Item &#x3D; new Employee()        &#123;            FirstName &#x3D; &quot;Sarah&quot;,            LastName &#x3D; &quot;Blake&quot;,            Occupation &#x3D; &quot;Supplied Manager&quot;,            StartingDate &#x3D; DateTime.Today,            IsMarried &#x3D; true,            sex &#x3D; Sexs.男        &#125;;            &#125;    private void grid1_AutoGeneratingPropertyDefinition(object sender, Telerik.Windows.Controls.Data.PropertyGrid.AutoGeneratingPropertyDefinitionEventArgs e)    &#123;        e.PropertyDefinition.GroupName &#x3D; &quot;Properties&quot;;    &#125;&#125;public class Employee&#123;    public string FirstName &#123; get; set; &#125;    public string LastName &#123; get; set; &#125;    public string Occupation &#123; get; set; &#125;    public DateTime StartingDate &#123; get; set; &#125;    public bool IsMarried &#123; get; set; &#125;    public Sexs sex &#123; get; set; &#125;&#125;public enum Sexs&#123;     男,    女&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Silverlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Silverlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Win7 桌面图标消失</title>
      <link href="/computer/win7-zhuo-mian-tu-biao-xiao-shi/"/>
      <url>/computer/win7-zhuo-mian-tu-biao-xiao-shi/</url>
      
        <content type="html"><![CDATA[<p>win7 桌面图标消失或任务栏也消失，可以按Ctrl+Shift+Esc键调出任务管理器，然后点击文件——新建任务，输入explorer。</p>]]></content>
      
      
      <categories>
          
          <category> Computer </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Computer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C# 生成二维码</title>
      <link href="/c-winform/csharp-sheng-cheng-er-wei-ma/"/>
      <url>/c-winform/csharp-sheng-cheng-er-wei-ma/</url>
      
        <content type="html"><![CDATA[<p>QrCode.net地址 <a href="http://qrcodenet.codeplex.com/">http://qrcodenet.codeplex.com</a></p><p>QrCode.net 是用C#编写生成二维码的项目，它支持C#、silverlight、winRT</p><p>新建一个winform程序后，引用Gma.QrCodeNet.Encoding.dll</p><p>然后在工具箱中添加一个选项卡，然后右键选择项，选择Gma.QrCodeNet.Encoding.dll，然后出现如图所示的控件<br><img src="/images/2014090216241301.png" alt="2014090216241301.png"><br>将两个控件拖入winform窗体中<br><img src="/images/2014090216241302.png" alt="2014090216241302.png"></p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">private Color _lightModule &#x3D; Color.FromArgb(220, 100, 203, 50);    private Color _darkModule &#x3D; Color.FromArgb(170, 20, 250, 220);    public FrmQr()    &#123;        InitializeComponent();        qcicHello.DarkBrush &#x3D; new SolidBrush(_darkModule);        qcicHello.LightBrush &#x3D; new SolidBrush(_lightModule);        qcicHello.Text &#x3D; txtInput.Text.Trim();        qcgcHello.Text &#x3D; txtInput.Text.Trim();        ContrastCal();    &#125;    private void btnSave_Click(object sender, EventArgs e)    &#123;        SaveFileDialog saveFileDialog &#x3D; new SaveFileDialog();        saveFileDialog.Filter &#x3D; @&quot;PNG (*.png)|*.png|Bitmap (*.bmp)|*.bmp|Encapsuled PostScript (*.eps)|*.eps|SVG (*.svg)|*.svg&quot;;        saveFileDialog.FileName &#x3D; Path.GetFileName(GetFileNameProposal());        saveFileDialog.DefaultExt &#x3D; &quot;png&quot;;        if (saveFileDialog.ShowDialog() !&#x3D; DialogResult.OK)        &#123;            return;        &#125;        if (saveFileDialog.FileName.EndsWith(&quot;eps&quot;))        &#123;            BitMatrix matrix &#x3D; qcgcHello.GetQrMatrix();            &#x2F;&#x2F; 初始化 the EPS renderer            var renderer &#x3D; new EncapsulatedPostScriptRenderer(                new FixedModuleSize(6, QuietZoneModules.Two), &#x2F;&#x2F; Modules size is 6&#x2F;72th inch (72 points &#x3D; 1 inch)                new FormColor(Color.Black), new FormColor(Color.White));            using (var file &#x3D; File.Open(saveFileDialog.FileName, FileMode.CreateNew))            &#123;                renderer.WriteToStream(matrix, file);            &#125;        &#125;        else if (saveFileDialog.FileName.EndsWith(&quot;svg&quot;))        &#123;            BitMatrix matrix &#x3D; qcgcHello.GetQrMatrix();            &#x2F;&#x2F; 初始化 EPS renderer            var renderer &#x3D; new SVGRenderer(                new FixedModuleSize(6, QuietZoneModules.Two), &#x2F;&#x2F; Modules size is 6&#x2F;72th inch (72 points &#x3D; 1 inch)                new FormColor(Color.FromArgb(150, 200, 200, 210)), new FormColor(Color.FromArgb(200, 255, 155, 0)));            using (var file &#x3D; File.OpenWrite(saveFileDialog.FileName))            &#123;                renderer.WriteToStream(matrix, file, false);            &#125;        &#125;        else        &#123;            GraphicsRenderer gRender &#x3D; new GraphicsRenderer(new FixedModuleSize(30, QuietZoneModules.Four));            BitMatrix matrix &#x3D; qcgcHello.GetQrMatrix();            using (FileStream stream &#x3D; new FileStream(saveFileDialog.FileName, FileMode.Create))            &#123;                gRender.WriteToStream(matrix, ImageFormat.Png, stream, new Point(600, 600));            &#125;        &#125;    &#125;    private void txtInput_TextChanged(object sender, EventArgs e)    &#123;        qcicHello.Text &#x3D; txtInput.Text.Trim();        qcgcHello.Text &#x3D; txtInput.Text.Trim();    &#125;    private string GetFileNameProposal()    &#123;        return txtInput.Text.Length &gt; 10 ? txtInput.Text.Substring(0, 10) : txtInput.Text;    &#125;    private void ContrastCal()    &#123;        SolidBrush darkmoduleBrush &#x3D; qcicHello.DarkBrush as SolidBrush;        SolidBrush lightmoduleBrush &#x3D; qcicHello.LightBrush as SolidBrush;        Color darkmodule &#x3D; darkmoduleBrush &#x3D;&#x3D; null ? _darkModule : darkmoduleBrush.Color;        Color lightmodule &#x3D; lightmoduleBrush &#x3D;&#x3D; null ? _lightModule : lightmoduleBrush.Color;        Contrast ctrast &#x3D; ColorContrast.GetContrast(new FormColor(lightmodule), new FormColor(darkmodule));        label1.Text &#x3D; ctrast.Ratio.ToString();    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>urlScan 配置阻止sql注入</title>
      <link href="/mysql-sql-oracle/urlscan-pei-zhi-zu-zhi-sql-zhu-ru/"/>
      <url>/mysql-sql-oracle/urlscan-pei-zhi-zu-zhi-sql-zhu-ru/</url>
      
        <content type="html"><![CDATA[<p>工具<br><a href="http://download.microsoft.com/download/2/1/9/219764e5-533b-4ce7-95fe-d4e3b98eafea/urlscan_v31_x64.msi">urlscan_v31_x64</a><br><a href="http://download.microsoft.com/download/c/7/a/c7a411ed-1c0f-48c1-90e5-6d3a1ca054c1/urlscan_v31_x86.msi">urlscan_v31_x86</a></p><p>URLScan是一个IIS下的ISAPI 筛选器，它能够限制服务器将要处理的HTTP请求的类型。通过阻止特定的 HTTP 请求，URLScan 筛选器可以阻止可能有害的请求到达服务器并造成危害，urlScan 3.1支持IIS6、IIS7。</p><p>URLScan配置文件在 C:\Windows\System32\inetsrv\urlscan</p><p>下面是配置文件的说明</p><p>UseAllowVerbs&#x3D;1<br>; 允许的请求的HTTP类型;<br>; 如果设置为 1，则[AllowVerbs]生效;<br>; 如果设置为 0，则[AllowVerbs]生效。</p><p>UseAllowExtensions&#x3D;0<br>; 允许请求的后缀类型;<br>; 如果设置为 0，则[DenyExtensions]生效;<br>; 如果设置为 1，则[AllowExtensions]生效。</p><p>NormalizeUrlBeforeScan&#x3D;1<br>; 扫描标准化URL之前。</p><p>VerifyNormalization&#x3D;1<br>; 查证标准化URL。</p><p>AllowHighBitCharacters&#x3D;1<br>; 如果设置为 1，将允许URL中存在所有字节;<br>; 如果设置为 0，含有非ASCII字符的URL将拒绝(如UTF8或者MBCS)。</p><p>AllowDotInPath&#x3D;0<br>; 如果设置为0，则URLScan 拒绝所有包含多个句点 (.) 的请求。</p><p>RemoveServerHeader&#x3D;0<br>;设置为1可隐藏服务器信息。</p><p>EnableLogging&#x3D;1<br>; 开启日志记录</p><p>PerProcessLogging&#x3D;0<br>; 如果设置为0，为每个进程创建日志文件。</p><p>AllowLateScanning&#x3D;0<br>; 如果设置为 0，则 URLScan 作为高优先级筛选器运行。</p><p>PerDayLogging&#x3D;1<br>; 如果设置为 1，则URLScan每天创建一个新的日志文件。</p><p>UseFastPathReject&#x3D;0<br>; 如果设置为 1，则 URLScan 忽略 RejectResponseUrl 设置并立即向浏览器返回 404 错误信息。<br>; 如果设置为 0，则 URLScan 使用 RejectResponseUrl 设置来返回请求。</p><p>LogLongUrls&#x3D;0<br>; 这个属性是UrlScan 3.0及以后的弃用。UrlScan禁止3.0及以后总是包括完整的日志文件的URL。</p><p>UnescapeQueryString&#x3D;1<br>;如果设置为1，UrlScan将执行两个传递查询字符串扫描后与原始查询字符串和一次unescaping<br>;如果设置为0，UrlScan禁止只会看看原始客户端发送的查询字符串</p><p>RejectResponseUrl&#x3D;<br>; 设置用于返回的Url路径</p><p>AlternateServerName&#x3D;<br>; 如果将 RemoveServerHeader设为0，此可自定义服务器关信息。<br>; 如果将 RemoveServerHeader设为1，则此选项将被忽略。</p><p>[AlwaysAllowedUrls]<br>;<br>; 这里列出的url将永远是显式地允许UrlScan禁止并将绕过所有UrlScan禁止检查。列出的url必须用“&#x2F;”字符。例如:<br>;<br>;   &#x2F;SampleURL.htm<br>;</p><p>[DenyUrlSequences]<br>;<br>; 如果任何字符序列列在这里出现在任何的URL请求,该请求将被拒绝。<br>;</p><dl><dt>..  ; 不允许目录遍历<br>.&#x2F;  ; 不允许拖点目录名称<br>\   ; 不允许反斜杠的URL</dt><dd>; 不允许交替流的访问<br>%   ; 不允许正常化后溢出<br>&amp;   ; 不允许多个CGI进程在单个请求中运行</dd></dl><p>在参数中过滤sql注入的一些关键字</p><p>[DenyQueryStringSequences]<br>;<br>;如果任何字符序列这里列出在查询字符串中出现任何请求,该请求将被拒绝。<br>;</p><p>下面是一些常用的关键字就不一一列举了</p><p><strong>&lt;**    ; 常用的脚本注入攻击<br>**&gt;</strong>    ;<br><strong>–</strong>   ;<br>delete ;<br>select ;</p><p>注意：设置好这些以后需要重启一下iis，urlscan才能生效</p><p> 最近有看到了一个防止注入的软件</p><p>地址 <a href="http://www.safedog.cn/install_desc_website.html">http://www.safedog.cn/install_desc_website.html</a></p><p>说明文档 <a href="http://www.safedog.cn/download/software/safedogwz_Windows_Help.pdf">http://www.safedog.cn/download/software/safedogwz_Windows_Help.pdf</a></p><p>参考 <a href="http://blog.csdn.net/huwei2003/article/details/6259757">http://blog.csdn.net/huwei2003/article/details/6259757</a></p>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>web 中防止sql注入</title>
      <link href="/web/web-zhong-fang-zhi-sql-zhu-ru/"/>
      <url>/web/web-zhong-fang-zhi-sql-zhu-ru/</url>
      
        <content type="html"><![CDATA[<pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">public class SqlInject:Page &#123;     &#x2F;&#x2F;检测到注入后的处理方式: 0:仅警告；1：警告+记录；2：警告+自定义错误页面；3：警告+记录+自定义错误页面       private const int _type &#x3D; 0;     private const string errRedirectPage &#x3D; &quot;&#x2F;err.aspx&quot;;     &#x2F;&#x2F;如果记录注入信息，那么请设置：errMDBpath：数据库路径       private const string errMDBpath &#x3D; &quot;&#x2F;SqlInject.mdb&quot;;     &#x2F;&#x2F;过滤特征字符       &#x2F;&#x2F;过滤特征字符       private static string StrKeyWord &#x3D; ConfigurationManager.AppSettings[&quot;SqlKeyWord&quot;]; &#x2F;&#x2F;@&quot;select|insert|delete|from|count(|drop table|update|truncate|asc(|mid(|char(|xp_cmdshell|exec|master|net local group administrators|net user|or|and&quot;;       private static string StrRegex &#x3D; ConfigurationManager.AppSettings[&quot;SqlRegex&quot;];  &#x2F;&#x2F;@&quot;;|&#x2F;|(|)|[|]|&#123;|&#125;|%|@|*|&#39;|!&quot;; &#x2F;&#x2F; 原始过滤条件：【-|;|,|&#x2F;|(|)|[|]|&#123;|&#125;|%|@|*|&#39;|!】       private HttpRequest request;     public SqlInject(System.Web.HttpRequest _request)     &#123;         this.request &#x3D; _request;     &#125;     &#x2F;&#x2F;&#x2F;&lt;summary&gt;       &#x2F;&#x2F;&#x2F;检测SQL注入及记录、显示出错信息       &#x2F;&#x2F;&#x2F;&lt;&#x2F;summary&gt;       public void CheckSqlInject()     &#123;         bool isInject &#x3D; false;         if (CheckRequestQuery() || CheckRequestForm())         &#123;             isInject &#x3D; true;         &#125;         else         &#123;             return;         &#125;         switch (_type)         &#123;             case 0:                 ShowErr();                 break;             case 1:                 ShowErr();                 SaveToMdb();                 break;             case 2:                 ShowErr();                 string temp;                 System.Web.HttpContext.Current.Response.Write(&quot;&lt;script&gt;setTimeout(\&quot;&quot; + &quot;location.href&#x3D;&#39;&quot; + errRedirectPage + &quot;&#39;&quot; + &quot;\&quot;,5000)&lt;&#x2F;script&gt;&quot;);                 break;             case 3:                 ShowErr();                 SaveToMdb();                 System.Web.HttpContext.Current.Response.Write(&quot;&lt;script&gt;setTimeout(\&quot;&quot; + &quot;location.href&#x3D;&#39;&quot; + errRedirectPage + &quot;&#39;&quot; + &quot;\&quot;,5000)&lt;&#x2F;script&gt;&quot;);                 break;             default:                 break;         &#125;         System.Web.HttpContext.Current.Response.End();     &#125;     private void SaveToMdb()     &#123;         OleDbConnection conn &#x3D; new OleDbConnection(&quot;Provider&#x3D;Microsoft.JET.OLEDB.4.0;Data Source&#x3D;&quot; + Server.MapPath(errMDBpath));         conn.Open();         OleDbCommand cmd &#x3D; conn.CreateCommand();         cmd.CommandText &#x3D; &quot;insert into [Record] (sIP,sDate,sPath) values (&#39;&quot; +              request.ServerVariables[&quot;REMOTE_ADDR&quot;].ToString() + &quot;&#39;,&#39;&quot; +              DateTime.Now + &quot;&#39;,&#39;&quot; + request.ServerVariables[&quot;URL&quot;].ToLower() + RelaceSingleQuotes(request.QueryString.ToString()) + &quot;&#39;)&quot;;         int code &#x3D; cmd.ExecuteNonQuery();         if (code &#x3D;&#x3D; 1)             HttpContext.Current.Response.Write(&quot;&lt;br&gt;****以上信息已记录至日志数据库****&quot;);         else             HttpContext.Current.Response.Write(&quot;&lt;br&gt;日志数据库出错&quot;);         conn.Close();     &#125;     private string RelaceSingleQuotes(string _url)     &#123;         string URL &#x3D; _url.Replace(&quot;&#39;&quot;, &quot;单引号&quot;);         return URL;     &#125;     private void ShowErr()     &#123;         &#x2F;&#x2F;string msg &#x3D; @&quot;&lt;font color&#x3D;red&gt;请不要尝试未授权之入侵检测！&lt;&#x2F;font&gt;&quot; + @&quot;&lt;br&gt;&lt;br&gt;&quot;;           &#x2F;&#x2F;msg +&#x3D; @&quot;操作IP：&quot; + request.ServerVariables[&quot;REMOTE_ADDR&quot;] + @&quot;&lt;br&gt;&quot;;           &#x2F;&#x2F;msg +&#x3D; @&quot;操作时间：&quot; + DateTime.Now + @&quot;&lt;br&gt;&quot;;           &#x2F;&#x2F;msg +&#x3D; @&quot;页面：&quot; + request.ServerVariables[&quot;URL&quot;].ToLower() + request.QueryString.ToString() + @&quot;&lt;br&gt;&quot;;           &#x2F;&#x2F;msg +&#x3D; @&quot;&lt;a href&#x3D;&#39;#&#39; onclick&#x3D;&#39;javascript:window.close()&#39;&gt;关闭&lt;&#x2F;a&gt;&quot;;           &#x2F;&#x2F;System.Web.HttpContext.Current.Response.Clear();           &#x2F;&#x2F;System.Web.HttpContext.Current.Response.Write(msg);           HttpContext.Current.Response.Write(&quot;&lt;script&gt;alert(&#39;请不要尝试未授权之入侵检测！&#39;);javascript:history.go(-1);&lt;&#x2F;script&gt;&quot;);     &#125;     &#x2F;&#x2F;&#x2F;&lt;summary&gt;       &#x2F;&#x2F;&#x2F; 特征字符       &#x2F;&#x2F;&#x2F;&lt;&#x2F;summary&gt;       public static string KeyWord     &#123;         get         &#123;             return StrKeyWord;         &#125;     &#125;     &#x2F;&#x2F;&#x2F;&lt;summary&gt;       &#x2F;&#x2F;&#x2F; 特征符号       &#x2F;&#x2F;&#x2F;&lt;&#x2F;summary&gt;       public static string RegexString     &#123;         get         &#123;             return StrRegex;         &#125;     &#125;     &#x2F;&#x2F;&#x2F;&lt;summary&gt;       &#x2F;&#x2F;&#x2F;检查字符串中是否包含Sql注入关键字       &#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;_key&quot;&gt;被检查的字符串&lt;&#x2F;param&gt;       &#x2F;&#x2F;&#x2F; &lt;returns&gt;如果包含注入true;否则返回false&lt;&#x2F;returns&gt;       &#x2F;&#x2F;&#x2F;&lt;&#x2F;summary&gt;       private static bool CheckKeyWord(string _key)     &#123;         string[] pattenString &#x3D; StrKeyWord.Split(&#39;|&#39;);         string[] pattenRegex &#x3D; StrRegex.Split(&#39;|&#39;);         foreach (string sqlParam in pattenString)         &#123;             if (_key.Contains(sqlParam + &quot; &quot;) || _key.Contains(&quot; &quot; + sqlParam))             &#123;                 return true;             &#125;         &#125;         foreach (string sqlParam in pattenRegex)         &#123;             if (_key.Contains(sqlParam))             &#123;                 return true;             &#125;         &#125;         return false;     &#125;     &#x2F;&#x2F;&#x2F;&lt;summary&gt;       &#x2F;&#x2F;&#x2F;检查URL中是否包含Sql注入       &#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;_request&quot;&gt;当前HttpRequest对象&lt;&#x2F;param&gt;       &#x2F;&#x2F;&#x2F; &lt;returns&gt;如果包含注入true;否则返回false&lt;&#x2F;returns&gt;       &#x2F;&#x2F;&#x2F;&lt;&#x2F;summary&gt;       public bool CheckRequestQuery()     &#123;         if (request.QueryString.Count &gt; 0)         &#123;             foreach (string sqlParam in this.request.QueryString)             &#123;                 if (sqlParam &#x3D;&#x3D; &quot;__VIEWSTATE&quot;) continue;                 if (sqlParam &#x3D;&#x3D; &quot;__EVENTVALIDATION&quot;) continue;                 if (CheckKeyWord(request.QueryString[sqlParam].ToLower()))                 &#123;                     return true;                 &#125;             &#125;         &#125;         return false;     &#125;     &#x2F;&#x2F;&#x2F;&lt;summary&gt;       &#x2F;&#x2F;&#x2F;检查提交的表单中是否包含Sql注入       &#x2F;&#x2F;&#x2F; &lt;param name&#x3D;&quot;_request&quot;&gt;当前HttpRequest对象&lt;&#x2F;param&gt;       &#x2F;&#x2F;&#x2F; &lt;returns&gt;如果包含注入true;否则返回false&lt;&#x2F;returns&gt;       &#x2F;&#x2F;&#x2F;&lt;&#x2F;summary&gt;       public bool CheckRequestForm()     &#123;         if (request.Form.Count &gt; 0)         &#123;             foreach (string sqlParam in this.request.Form)             &#123;                 if (sqlParam &#x3D;&#x3D; &quot;__VIEWSTATE&quot;) continue;                 if (sqlParam &#x3D;&#x3D; &quot;__EVENTVALIDATION&quot;) continue;                 if (CheckKeyWord(request.Form[sqlParam]))                 &#123;                     return true;                 &#125;             &#125;         &#125;         return false;     &#125;   &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>在web编程中都有被sql注入的风险，要防止sql注入，最基本就是从编写代码的时候开始防护</p><p>在web.config中加入</p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appSettings</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>add</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>SqlKeyWord<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>select|insert|delete|from|count(|drop table|update|truncate|asc(|mid(|char(|xp_cmdshell|exec|master|net local group administrators|net user|or|and<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>add</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>SqlRegex<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>;|(|)|[|]|&#123;|&#125;|%|@|*|'|!<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>appSettings</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>然后在Global文件中加入</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">void Application_BeginRequest(object sender, EventArgs e)&#123;    &#x2F;&#x2F;防SQL注入代码       SqlInject myCheck &#x3D; new SqlInject(this.Request);    myCheck.CheckSqlInject();  &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>对于软件方面的防护，微软官方给了一个UrlScan的工具</p><p><a href="http://download.microsoft.com/download/c/7/a/c7a411ed-1c0f-48c1-90e5-6d3a1ca054c1/urlscan_v31_x86.msi">urlScanx86</a><br><a href="http://download.microsoft.com/download/2/1/9/219764e5-533b-4ce7-95fe-d4e3b98eafea/urlscan_v31_x64.msi">urlScanx64</a></p><p>安装完软件后要重启一下iis才能生效</p><p>转载自 <a href="http://netsecurity.51cto.com/art/201301/375797_1.htm">http://netsecurity.51cto.com/art/201301/375797_1.htm</a></p>]]></content>
      
      
      <categories>
          
          <category> WEB </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
            <tag> WEB </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C#读取Oracle Spatial的sdo_geometry</title>
      <link href="/mysql-sql-oracle/csharp-du-qu-oracle-spatial-de-sdo-geometry/"/>
      <url>/mysql-sql-oracle/csharp-du-qu-oracle-spatial-de-sdo-geometry/</url>
      
        <content type="html"><![CDATA[<p>oracle的sdo_geometry中内置get_wkt和get_wkb两个方法。</p><p>以数据库表geoms为例，此表中有id和geometry两列</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">try&#123;    OracleConnection con &#x3D; new OracleConnection(conStr);    OracleCommand cmd &#x3D; new OracleCommand(@&quot;SELECT sdo_geometry.get_wkt(geometry) FROM geoms WHERE id&#x3D; 1902 &quot;, con);    con.Open();    OracleDataReader read &#x3D; cmd.ExecuteReader();    if (read.Read())    &#123;        string geo &#x3D; ((OracleClob)read.GetOracleValue(0)).Value;        MessageBox.Show(geo);    &#125;&#125;catch (Exception ex)&#123;    throw;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>查询出的结果如下所示<br>POINT (113.3293658 23.14338586)<br>POLYGON ((5.0 1.0, 8.0 1.0, 8.0 6.0, 5.0 7.0, 5.0 1.0))</p><p>wkt和wkb介绍</p><p>wkt(OGC well-known text)和wkb(OGC well-known binary)是OGC制定的空间数据的组织规范，wkt是以文本形式描述，wkb是以二进制形式描述。<br>使用wkt和wkb能够很好到和其他系统进行数据交换，目前大部分支持空间数据存储的数据库构造空间数据都采用这两种方式。<br>wkt的组织结构如下：</p><p>Geometry type     Text description     Comment<br>ST_Point     ‘point empty’     empty point<br>ST_Point     ‘point z empty’     empty point with z-coordinate<br>ST_Point     ‘point m empty’     empty point with measure<br>ST_Point     ‘point zm empty’     empty point with z-coordinate and measure<br>ST_Point     ‘point ( 10.05 10.28 )’     point<br>ST_Point     ‘point z( 10.05 10.28 2.51 )’     point with z-coordinate<br>ST_Point     ‘point m( 10.05 10.28 4.72 )’     point with measure<br>ST_Point     ‘point zm(10.05 10.28 2.51 4.72 )’     point with z-coordinate and measure<br>ST_LineString     ‘linestring empty’     empty linestring<br>ST_LineString     ‘linestring z empty’     empty linestring with z-coordinates<br>ST_LineString     ‘linestring m empty’     empty linestring with measures<br>ST_LineString     ‘linestring zm empty’     empty linestring with z-coordinates and measures<br>ST_LineString     ‘linestring (10.05 10.28 , 20.95 20.89 )’     linestring<br>ST_LineString     ‘linestring z(10.05 10.28 3.09, 20.95 31.98 4.72, 21.98 29.80 3.51 )’     linestring with z-coordinates<br>ST_LineString     ‘linestring m(10.05 10.28 5.84, 20.95 31.98 9.01, 21.98 29.80 12.84 )’     linestring with measures<br>ST_LineString     ‘linestring zm(10.05 10.28 3.09 5.84, 20.95 31.98 4.72 9.01, 21.98 29.80 3.51 12.84)’     linestring with z-coordinates and measures<br>ST_Polygon     ‘polygon empty’     empty polygon<br>ST_Polygon     ‘polygon z empty’     empty polygon with z-coordinates<br>ST_Polygon     ‘polygon m empty’     empty polygon with measures<br>ST_Polygon     ‘polygon zm empty’     empty polygon with z-coordinates and measures<br>ST_Polygon     ‘polygon ((10 10, 10 20, 20 20, 20 15, 10 10))’     polygon<br>ST_Polygon     ‘polygon z((10 10 3, 10 20 3, 20 20 3, 20 15 4, 10 10 3))’     polygon with z-coordinates<br>ST_Polygon     ‘polygon m((10 10 8, 10 20 9, 20 20 9, 20 15 9, 10 10 8 ))’     polygon with measures<br>ST_Polygon     ‘polygon zm((10 10 3 8, 10 20 3 9, 20 20 3 9, 20 15 4 9, 10 10 3 8 ))’     polygon with z-coordinates and measures<br>ST_MultiPoint     ‘multipoint empty’     empty multipoint<br>ST_MultiPoint     ‘multipoint z empty’     empty multipoint with z-coordinates<br>ST_MultiPoint     ‘multipoint m empty’     empty multipoint with measures<br>ST_MultiPoint     ‘multipoint zm empty’     empty multipoint with z-coordinates and measures<br>ST_MultiPoint     ‘multipoint (10 10, 20 20)’     multipoint with two points<br>ST_MultiPoint     ‘multipoint z(10 10 2, 20 20 3)’     multipoint with z-coordinates<br>ST_MultiPoint     ‘multipoint m(10 10 4, 20 20 5)’     multipoint with measures<br>ST_MultiPoint     ‘multipoint zm(10 10 2 4, 20 20 3 5)’     multipoint with z-coordinates and measures<br>ST_MultiLineString     ‘multilinestring empty’     empty multilinestring<br>ST_MultiLineString     ‘multilinestring z empty’     empty multilinestring with z-coordinates<br>ST_MultiLineString     ‘multilinestring m empty’     empty multilinestring with measures<br>ST_MultiLineString     ‘multilinestring zm empty’     empty multilinestring with z-coordinates and measures<br>ST_MultiLineString     ‘multilinestring ((10.05 10.28 , 20.95 20.89 ),( 20.95 20.89, 31.92 21.45))’     multilinestring<br>ST_MultiLineString     ‘multilinestring z((10.05 10.28 3.4, 20.95 20.89 4.5),( 20.95 20.89 4.5, 31.92 21.45 3.6))’     multilinestring with z-coordinates<br>ST_MultiLineString     ‘multilinestring m((10.05 10.28 8.4, 20.95 20.89 9.5), (20.95 20.89 9.5, 31.92 21.45 8.6))’     multilinestring with measures<br>ST_MultiLineString     ‘multilinestring zm((10.05 10.28 3.4 8.4, 20.95 20.89 4.5 9.5), (20.95 20.89 4.5 9.5, 31.92 21.45 3.6 8.6))’     multilinestring with z-coordinates and measures<br>ST_MultiPolygon     ‘multipolygon empty’     empty multipolygon<br>ST_MultiPolygon     ‘multipolygon z empty’     empty multipolygon with z-coordinates<br>ST_MultiPolygon     ‘multipolygon m empty’     empty multipolygon with measures<br>ST_MultiPolygon     ‘multipolygon zm empty’     empty<br>ST_MultiPolygon     ‘multipolygon (((10 10, 10 20, 20 20, 20 15 , 10 10), (50 40, 50 50, 60 50, 60 40, 50 40)))’     multipolygon<br>ST_MultiPolygon     ‘multipolygon z(((10 10 7, 10 20 8, 20 20 7, 20 15 5, 10 10 7), (50 40 6, 50 50 6, 60 50 5, 60 40 6, 50 40 6)))’     multipolygon with z-coordinates<br>ST_MultiPolygon     ‘multipolygon m(((10 10 2, 10 20 3, 20 20 4, 20 15 5, 10 10 2), (50 40 7, 50 50 3, 60 50 4, 60 40 5, 50 40 7)))’     multipolygon with measures<br>ST_MultiPolygon     ‘multipolygon zm(((10 10 7 2, 10 20 8 3, 20 20 7 4, 20 15 5 5, 10 10 7 2), (50 40 6 7, 50 50 6 3, 60 50 5 4, 60 40 6 5, 50 40 6 7)))’     multipolygon with z-coordinates and measures</p><p>wkb的组织结构如下：<br>基本类型定义：<br>byte : 1 byte<br>uint32 : 32 bit unsigned integer  (4 bytes)<br>double : double precision number (8 bytes)<br>Building Blocks : Point, LinearRing<br>Point {<br>double x;<br>double y;<br>};<br>LinearRing   {<br>uint32 numPoints;<br>Point points[numPoints];<br>}<br>enum wkbGeometryType {<br>wkbPoint &#x3D; 1,<br>wkbLineString &#x3D; 2,<br>wkbPolygon &#x3D; 3,<br>wkbMultiPoint &#x3D; 4,<br>wkbMultiLineString &#x3D; 5,<br>wkbMultiPolygon &#x3D; 6,<br>wkbGeometryCollection &#x3D; 7<br>};<br>enum wkbByteOrder {<br>wkbXDR &#x3D; 0,     Big Endian<br>wkbNDR &#x3D; 1     Little Endian<br>};<br>WKBPoint {<br>byte    byteOrder;<br>uint32   wkbType;       1<br>Point    point;<br>}<br>WKBLineString {<br>byte    byteOrder;<br>uint32   wkbType;      2<br>uint32   numPoints;<br>Point    points[numPoints];<br>}<br>WKBPolygon {<br>byte    byteOrder;<br>uint32   wkbType;      3<br>uint32   numRings;<br>LinearRing  rings[numRings];<br>}<br>WKBMultiPoint {<br>byte    byteOrder;<br>uint32   wkbType;          4<br>uint32   num_wkbPoints;<br>WKBPoint   WKBPoints[num_wkbPoints];<br>}<br>WKBMultiLineString {<br>byte    byteOrder;<br>uint32   wkbType;      5<br>uint32   num_wkbLineStrings;<br>WKBLineString WKBLineStrings[num_wkbLineStrings];<br>}<br>wkbMultiPolygon {<br>byte    byteOrder;       </p><p>uint32   wkbType;      6<br>uint32   num_wkbPolygons;<br>WKBPolygon  wkbPolygons[num_wkbPolygons];<br>}<br>WKBGeometry  {<br>union {<br>WKBPoint      point;<br>WKBLineString    linestring;<br>WKBPolygon     polygon;<br>WKBGeometryCollection collection;<br>WKBMultiPoint    mpoint;<br>WKBMultiLineString  mlinestring;<br>WKBMultiPolygon   mpolygon;<br>}<br>};<br>WKBGeometryCollection {<br>byte    byte_order;<br>uint32   wkbType;      7<br>uint32   num_wkbGeometries;<br>WKBGeometry  wkbGeometries[num_wkbGeometries]<br>}<br>下面是一个point(1,1) 使用WKB存储的例子：<br>0101000000000000000000F03F000000000000F03F<br>这个2进制流可以按照WKBPoint的结构进行拆分：<br>Byte order : 01<br>WKB type   : 01000000<br>X          : 000000000000F03F<br>Y          : 000000000000F03F<br>byte order要么为0，要么为1，0为使用little-endian编码(NDR)，1为使用big-endian编码(XDR)。<br>WKB type 是几何类型，在wkbGeometryType中定义. 值为1-7，分别对应 Point, LineString, Polygon, MultiPoint, MultiLineString, MultiPolygon, and GeometryCollection.<br>x,y为点的坐标值，为double类型。</p><p>sdo_geometry的详细介绍</p><p>在ArcGIS中通过SDE存储空间数据到Oracle中有多种存储方式，分别有：二进制Long Raw 、ESRI的ST_Geometry以及基于Oracle Spatial的SDO_Geometry等等。 <a href="http://www.cnblogs.com/upDOoGIS/archive/2009/05/20/1469871.html">UpDooGIS原创</a></p><p>关于这几种方式的各自的优缺点不是主要的探讨的方向，这些我们可以通ArcGIS中的ArcGIS Server Help得到相关的帮助。这里主要是学习关于基Oracle Spatial的存储方式，通过这种存储方式几何列Shape的字段类型mdsys.sde_geometry类型。</p><p>Oracle Spatial定义的SDO_GEOMETRY类型为：</p><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">CREATE TYPE sdo_geometry AS OBJECT (    SDO_GTYPE   NUMBER,  &#x2F;&#x2F;前面字符串为字段名；后面字符串为字段类型    SDO_SRID    NUMBER,    SDO_POINT    SDO_POINT_TYPE,    SDO_ELEM_INFO    SDO_ELEM_INFO_ARRAY,    SDO_ORDINATES    SDO_ORDINATE_ARRAY);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>其中sdo_geometry AS OBJECT ，标识该类型为对象类型。开始我们可以想它为ArcObjects中的Geometry对象（本来要素的shape字段中的对象就是Geometry），而不要理解他是怎么样组织的。至于该类型中SDO_POINT_TYPE、SDO_ELEM_INFO_ARRAY、 SDO_ORDINATE_ARRAY也Oracle Spatial自定义的类型和 sdo_geometry 是一样的。</p><p>现在对sdo_geometry 类型中的各个参数简单的介绍：</p><ol><li><p>SDO_GTYPE ：表示要存储的几何类型，如点线面。它是通过 NUMBER类型来表达的；</p></li><li><p>SDO_SRID ：几何的空间参考坐标系，类型也为 NUMBER；</p></li><li><p>SDO_POINT ：如果几何类型点类型的话，就是存储点坐标，否则为空。oracle自定义的SDO_POINT_TYPE类型；</p></li><li><p>SDO_ELEM_INFO ：定义要如何理解SDO_ORDINATES中的坐标串的；</p></li><li><p>SDO_ORDINATES ：存储实际坐标的，以X、Y以及不同点之间都是逗号隔开；</p></li></ol><p>  下面将详细介绍这些字段参数的含义</p><h3 id="一、SDO-GTYPE"><a href="#一、SDO-GTYPE" class="headerlink" title="一、SDO_GTYPE"></a>一、SDO_GTYPE</h3><p>   SDO_GTYPE值是有四位数字组成的，它们的格式为：dltt 。 </p><p>   其中，d 表示几何的维数。如二维、三维对应的d&#x3D;2和d&#x3D;3；</p><p>   l 定义了LRS。一般l&#x3D;0；</p><p>   tt 定义了地理对象的类型。现在使用从00到07，如tt&#x3D;01代表为单点；</p><p>下面就是t&#x3D;2的二维几何类型，SDO_GTYPE参数值具体，如 <strong>图1</strong>：<br><img src="/images/2014062615231201.jpg" alt="2014062615231201.jpg"></p><h3 id="二、SDO-SRID"><a href="#二、SDO-SRID" class="headerlink" title="二、SDO_SRID"></a>二、SDO_SRID</h3><p>SDO_SRID定义了空间坐标参考系统。如果SDO_SRID为null，则没有指定标系统，如果SDO_SRID不为null，那么它的值必须在在 MDSYS.S_SRS 表中的 SRID 列有对应的值，而且它的值必须插入SER_SDO_GEOM_METADATA视图中。MDSYS.CS_SRS 表参考 <strong>图3</strong><br><img src="/images/2014062615231202.jpg" alt="2014062615231202.jpg"></p><h3 id="三、-SDO-POINT"><a href="#三、-SDO-POINT" class="headerlink" title="三、 SDO_POINT"></a>三、 SDO_POINT</h3><p>SDO_POINT类型的构造方法为：sdo_point_type(x,y,z)，其中x,y,类型为Double和Int都可<br>SDO_POINT字段定义为含有X、Y、Z属性的SDO_POINT_TYPE类型。如几何类型为点类型的话，SDO_ELEM_INFO 和SDO_ORDINATES对应值都为Null，SDO_POINT 不为空。其它情况下，SDO_POINT会被patial所忽略即设为 Null。如果这个层只有点对象，那么推荐你将保存在SDO_POINT属性中。 SDO_POINT_TYPE类型的定义如下：</p><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">CREATE TYPE sdo_point_type AS OBJECT (     X    NUMBER,  &#x2F;&#x2F;X坐标值     Y    NUMBER,  &#x2F;&#x2F;y坐标值     Z    NUMBER); &#x2F;&#x2F;z坐标值<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="四、SDO-ELEM-INFO"><a href="#四、SDO-ELEM-INFO" class="headerlink" title="四、SDO_ELEM_INFO"></a>四、SDO_ELEM_INFO</h3><p>SDO_ELEM_INFO类型的构造方法为：sdo_elem_info_array（a,b.c)，其a,b.c为Number类型。<br>SDO_ELEM_INFO是理解和掌握SDO_Geometry的重点和难点，DO_ELEM_INFO 定义了如何理解SDO_ORDINATES中的坐标字符串属性。<br>SDO_ELEM_INFO每三个数字组合为一个SDO_ELEM_INFO属性单元（具体可结合下面的例子理解）。<br>每个SDO_ELEM_INFO属性单元由：SDO_STARTING_OFFSET、SDO_ETYPE SDO_INTERPRETATION 组成。下面介绍一下这三个数字的具体含义：</p><h5 id="4-1、SDO-STARTING-OFFSET：声明了组成当前几何片段的第一个坐标在SDO-ORDINATES数组中的坐标序号。坐标序号是从1开-始起算的而非从0开始。这里的SDO-ORDINATES就是sdo-geometry-中的坐标序列，坐标序列是已逗号隔开的数字，具体的计算如：sdo-ordinate-array-1-4-6-7-8-9-中如果以’6’开始几何片段-的话，坐标序号SDO-STARTING-OFFSET-3。（具体参考下面的例子理解）"><a href="#4-1、SDO-STARTING-OFFSET：声明了组成当前几何片段的第一个坐标在SDO-ORDINATES数组中的坐标序号。坐标序号是从1开-始起算的而非从0开始。这里的SDO-ORDINATES就是sdo-geometry-中的坐标序列，坐标序列是已逗号隔开的数字，具体的计算如：sdo-ordinate-array-1-4-6-7-8-9-中如果以’6’开始几何片段-的话，坐标序号SDO-STARTING-OFFSET-3。（具体参考下面的例子理解）" class="headerlink" title="4.1、SDO_STARTING_OFFSET：声明了组成当前几何片段的第一个坐标在SDO_ORDINATES数组中的坐标序号。坐标序号是从1开 始起算的而非从0开始。这里的SDO_ORDINATES就是sdo_geometry 中的坐标序列，坐标序列是已逗号隔开的数字，具体的计算如：sdo_ordinate_array(1,4,6,7,8,9)中如果以’6’开始几何片段 的话，坐标序号SDO_STARTING_OFFSET&#x3D;3。（具体参考下面的例子理解）"></a>4.1、SDO_STARTING_OFFSET：声明了组成当前几何片段的第一个坐标在SDO_ORDINATES数组中的坐标序号。坐标序号是从1开 始起算的而非从0开始。这里的SDO_ORDINATES就是sdo_geometry 中的坐标序列，坐标序列是已逗号隔开的数字，具体的计算如：sdo_ordinate_array(1,4,6,7,8,9)中如果以’6’开始几何片段 的话，坐标序号SDO_STARTING_OFFSET&#x3D;3。（具体参考下面的例子理解）</h5><h5 id="4-2、SDO-ETYPE-：声明元素的类型。可结合-SDO-STARTING-OFFSET和SDO-ETYPE-表来理解"><a href="#4-2、SDO-ETYPE-：声明元素的类型。可结合-SDO-STARTING-OFFSET和SDO-ETYPE-表来理解" class="headerlink" title="4.2、SDO_ETYPE ：声明元素的类型。可结合 SDO_STARTING_OFFSET和SDO_ETYPE 表来理解."></a>4.2、SDO_ETYPE ：声明元素的类型。可结合 SDO_STARTING_OFFSET和SDO_ETYPE 表来理解.</h5><p>SDO_ETYPE 值 &#x3D; 1, 2, 1003,或2003，说明几何为简单的几何类型。可以全部按SDO_ELEM_INFO 属性单元【即三个以逗号隔开的数】来理解sdo_ordinate_array中的坐标序列。</p><p>特别说明：SDO_ETYPE 值 &#x3D; 1003 ，假如几何类型为面，则表示为外多边形环（以逆时针顺序）</p><p>SDO_ETYPE 值 &#x3D; 2003 ，假如几何类型为面，则表示为内多边形环（以顺时针顺序）</p><p>SDO_ETYPE 值 &#x3D; 4,1005或2005，说明几何为组合元素，往往第一个三数字组不是SDO_ELEM_INFO 属性单元，而是为了说明组合元素的信息。具体可以参见下面 复杂多义线 和 复杂多边形 的例子。</p><h5 id="4-3、SDO-INTERPRETATION：有两种可能的意思，依赖地SDO-ETYPE是否是组合元素。如果SDO-ETYPE-值-4-1005或2005，标识的是有多少组合部分，具体参考-复杂多义线-和-复杂多边形-的例子。如果SDO-ETYPE-值-1-2-1003-或2003，标识决定了元素坐标队列的翻译顺序。"><a href="#4-3、SDO-INTERPRETATION：有两种可能的意思，依赖地SDO-ETYPE是否是组合元素。如果SDO-ETYPE-值-4-1005或2005，标识的是有多少组合部分，具体参考-复杂多义线-和-复杂多边形-的例子。如果SDO-ETYPE-值-1-2-1003-或2003，标识决定了元素坐标队列的翻译顺序。" class="headerlink" title="4.3、SDO_INTERPRETATION：有两种可能的意思，依赖地SDO_ETYPE是否是组合元素。如果SDO_ETYPE 值 &#x3D; 4,1005或2005，标识的是有多少组合部分，具体参考 复杂多义线 和 复杂多边形 的例子。如果SDO_ETYPE 值 &#x3D; 1, 2, 1003,或2003，标识决定了元素坐标队列的翻译顺序。"></a>4.3、SDO_INTERPRETATION：有两种可能的意思，依赖地SDO_ETYPE是否是组合元素。如果SDO_ETYPE 值 &#x3D; 4,1005或2005，标识的是有多少组合部分，具体参考 复杂多义线 和 复杂多边形 的例子。如果SDO_ETYPE 值 &#x3D; 1, 2, 1003,或2003，标识决定了元素坐标队列的翻译顺序。</h5><p>SDO_STARTING_OFFSET和SDO_ETYPE 表  如下<strong>图4:</strong><br><img src="/images/2014062615231203.jpg" alt="2014062615231203.jpg"></p><h3 id="五、SDO-ORDINATES"><a href="#五、SDO-ORDINATES" class="headerlink" title="五、SDO_ORDINATES"></a>五、SDO_ORDINATES</h3><p>SDO_ORDINATES类型的构造方法为：sdo_ordinate_array(x1,y1,x2,y2,……)，其中x1,y1类型等为Double和Int都可。</p><p>SDO_ORDINATES存储的是空间对象的几何节点坐标序列，用逗号将X、Y、Z以及不同点之间隔开，该字段性质：长 度&#x3D;1048576的数字Number类型。如果几何为二维的情况，存储的序列为{Y1, X2, Y2, X3, Y3, X4, Y4……}格式；几何为三维坐标的话，如三维坐标的多边形它的存储的序列为{X1, Y1, Z1, X2, Y2, Z2, X3, Y3, Z3, X4, Y4, Z4, X1, Y1, Z1}格式。坐标序列中的数据必须都合法且不为空。具体坐标的组合成几何的结合SDO_ELEM_INFO来理解。</p><h3 id="六、参考例子"><a href="#六、参考例子" class="headerlink" title="六、参考例子"></a>六、参考例子</h3><h5 id="6-1、矩形"><a href="#6-1、矩形" class="headerlink" title="6.1、矩形"></a>6.1、矩形</h5><p>矩形的具体几何形状和坐标，如下图：<br><img src="/images/2014062615231204.gif" alt="2014062615231204.gif"><br>用SDO_GEOMETRY定义该矩形，如何确定sdo_geometry()构造方法中的各个参数值。详细解释如下：</p><p>SDO_GTYPE &#x3D; 2003；2003中的2表示二维数据，2003中的3表示表示多边形。具体参考 图1</p><pre><code>SDO_SRID = NULL；SDO_POINT = NULL；SDO_ELEM_INFO = (1, 1003, 3).；在属性单元SDO_ELEM_INFO （1,1003,3）中的最后一个3表示该几何为矩形，具体参考 图4 。</code></pre><p>—因为它是矩形且为二维所以它的构造方法为：sdo_point_type（坐下坐标，右上坐标）。</p><pre><code>SDO_ORDINATES = (1,1, 5,7). 定义了具体的坐下坐标和右上坐标的坐标序列。</code></pre><p>例子：用SQL 命令插入一个矩形：</p><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">INSERT INTO beniy388 VALUES(   1,          &#x2F;&#x2F;其他的属性字段的值   &#39;UpDooGIS&#39;,    &#x2F;&#x2F;其他的属性字段的值   MDSYS.SDO_GEOMETRY(  &#x2F;&#x2F;几何字段SDO_GEOMETRY的值               2003,  -- 二维多边形               NULL,               NULL,               MDSYS.SDO_ELEM_INFO_ARRAY(1,1003,3), -- 一个矩形(1003为逆时针方向)               MDSYS.SDO_ORDINATE_ARRAY(1,1, 5,7) -- 只需要两点  ) );<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="6-2、有岛多边形"><a href="#6-2、有岛多边形" class="headerlink" title="6.2、有岛多边形"></a>6.2、有岛多边形</h5><p>有岛多边形的具体几何形状和坐标，如下图：<br><img src="/images/2014062615231205.gif" alt="2014062615231205.gif"></p><p>用SDO_GEOMETRY定义该多边形，如何确定sdo_geometry()构造方法中的各个参数值。详细解释如下：  </p><p>SDO_GTYPE &#x3D; 2003；—2003中的2表示二维数据，2003中的3表示表示多边形。具体参考 图1</p><pre><code>SDO_SRID = NULL；SDO_POINT = NULL；SDO_ELEM_INFO = (1,1003,1, 19,2003,1)； ---有两个三元组SDO_ELEM_INFO属性元素。具体参考 图4---其中1003表明对应的坐标序列组成的几何A为外多边形环(顺时针)；而2003表明对应的坐标序列组成的几何B为内多边形环(逆时针)。---19 表示几何B坐标序列开始的位置，也就是说从19开始的几何坐标组成几何B，而1到18组成几何A。SDO_ORDINATES = (10,10, 10,14, 6,10, 14,10)；---坐标系列 </code></pre><p>例子：用SQL 命令插入一个有岛的多边形：</p><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">INSERT INTO beniy388 VALUES          10,                   &#x2F;&#x2F;其他的属性字段的值         &#39;UpDooGIS&#39;,       &#x2F;&#x2F;其他的属性字段的值          MDSYS.SDO_GEOMETRY(  &#x2F;&#x2F;几何字段SDO_GEOMETRY的值                     2003,                     NULL,                     NULL,                     MDSYS.SDO_ELEM_INFO_ARRAY(1,1003,1, 19,2003,1), -- 有岛多边形                     MDSYS.SDO_ORDINATE_ARRAY(2,4, 4,3, 10,3, 13,5, 13,9, 11,13, 5,13, 2,11, 2,4,7,5, 7,10, 10,10, 10,5, 7,5)         ));  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="6-3、复杂多义线"><a href="#6-3、复杂多义线" class="headerlink" title="6.3、复杂多义线"></a>6.3、复杂多义线</h5><p>下图描述的是一个由一条直线和一条曲线构成的复杂多义线。图中出现了4个点，(10,10)和(10,14)点表示的是直线 ；10,14), (10,6), 和 (14,10) 描述的是圆弧曲线：<br><img src="/images/2014062615231206.gif" alt="2014062615231206.gif"></p><p>用SDO_GEOMETRY定义该复杂多义线，如何确定sdo_geometry()构造方法中的各个参数值。详细解释如下：</p><p>SDO_GTYPE &#x3D; 2002；2002中的2表示二维数据，第二个2表示表示一条或多条直线段。具体参考 图1。</p><pre><code>DO_SRID = NULL；SDO_POINT = NULL；SDO_ELEM_INFO = (1,4,2, 1,2,1, 3,2,2). ---有三个三元组，其中后两个是SDO_ELEM_INFO属性元素三元组，前一个为表述组合。具体参考 图4。---第一个三元组【1,4,2】，根据4可以得到是个描述三元组，2表示有两个几何元素组成，即后两个三元组描述各自的几何A和几何B。---第二个三元组【1,2,1】，为SDO_ELEM_INFO属性元素三元组，它描述的是几何A。根据 图4可以得到它是一条直线段，且该直线段的最后一个节点还是下一个几何B的开始点，即几何A和几何B有几何节点重合。---第二个三元组【3,2,2】，为SDO_ELEM_INFO属性元素三元组，它描述的是几何B。根据 图4可以得到它是一条曲线段，该几何B的起点和几何A终点节点重合。SDO_ORDINATES = (10,10, 10,14, 6,10, 14,10)；---坐标系列例子：用SQL 命令插入一个复杂多义线：</code></pre><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">INSERT INTO beniy388 VALUES(      11,                   &#x2F;&#x2F;其他的属性字段的值     &#39;UpDooGIS&#39;,       &#x2F;&#x2F;其他的属性字段的值      MDSYS.SDO_GEOMETRY(  &#x2F;&#x2F;几何字段SDO_GEOMETRY的值                 2002,                 NULL,                 NULL,                 MDSYS.SDO_ELEM_INFO_ARRAY(1,4,2, 1,2,1, 3,2,2), -- 复杂多义线                 MDSYS.SDO_ORDINATE_ARRAY(10,10, 10,14, 6,10, 14,10)     ));<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="SDO-FILTER"><a href="#SDO-FILTER" class="headerlink" title="SDO_FILTER"></a>SDO_FILTER</h5><p>格式：<br>SDO_FILTER(geometry1, geometry2, params);</p><p>描述：<br>    通过空间索引，根据给定的几何要素检索出具有空间相互关系的空间对象。这里的空间关系是指两个几何不分离，即Non-disjoint。【disjoint：表示两个几何的边和内部都不相交】</p><pre><code>这个Sdo_Filter执行只是初始的空间过滤操作；二次的过滤操作将由SDO_RELATE操作子完成，它能确定空间对象的相交关系。</code></pre><p>参数：</p><p>geometry1： 指需要查询表中几何列，该几何列务必已经建立空间索引。该列的数据类型为：MDSYS.SDO_GEOMETRY。</p><p>geometry2： 它值的可以是表中的几何，也可以是具体的几何对象（包括关联的几何对象变量、通过SDO_GEOMETRY构造函数的几何对象）。该列的数据类型也为：MDSYS.SDO_GEOMETRY。</p><p>params：  决定操作子的行为。数据类型为VARCHAR2。</p><p>该params具体有以下几种：</p><p>querytype: 有效的查询类型有：WINDOW和JOIN.。这是个必须的参数。</p><pre><code>querytype =’ WINDOW’建议大部分情况下是使用该参数的。WINDOW’表明查询将执行表中所有候选geometry1，与geometry2进行比较。也就是说WINDOW将单个geometry1和所有的geometry2进行空间关系操作，并比较是否满足空间关系。querytype =’ JOIN’很少用到。当你想比较该geometry1几何列和另外geometry2表中的几何列的话可使用JOIN。使用JOIN表明该geometry2必须建立的几何索引（具体参考使用说明）。</code></pre><p>idxtab1【可选】：如果存在多个空间索引表，它指的是geometry1空间索引表对应的表名。</p><p>idxtab2【可选】：如果存在多个空间索引表，它指的是geometry1空间索引表对应的表名。只有当querytype &#x3D;’ JOIN’才可以使用该参数。</p><p>返回值：</p><p>表达式SDO_FILTER(arg1, arg2, arg3) &#x3D; ‘TRUE’中的True表明两个几何空间关系为：不相离；否则为False。</p><p>使用说明</p><p>这个SDO_FILTER操作子必须用在Where子句中，在sql语句中使用该格式：SDO_FILTER(arg1, arg2,arg3) &#x3D; ‘TRUE’.。</p><p>如果querytype &#x3D;’ WINDOW’。 geometry2可以来自一个表，也可以来自具体的几何对象（包括关联的几何对象变量、通过SDO_GEOMETRY构造函数的几何对象）。</p><p>1、如果2个或大于2的geometry2几何将在SDO_FILTER中使用的话，geometry2将在from语句的第一个参数。</p><p>如果querytype &#x3D;’ JOIN’。</p><p>1、geometry2必须来自于表；</p><p>2、为了更好的执行SQL语句，geometry1和geometry2应该使用相同的空间索引类型（R树或者二叉树）；如果是二叉树他们应该有相同的sdo_level值。geometry1和geometry2不是相同的索引类型，geometry2将按照geometry1索引类型重新构建索引，这样SQL语句的性能就大打折扣。</p><p>如果geometry1和geometry2是基于不同的坐标参考系统的话，为了   执行操作geometry2将被临时的转换为geometry1的坐标系统。</p><p>举例：</p><ol><li>从Polygons表中选择出满足一定条件的GID。该条件为：选择出的GID对应的几何与query_polys表中GID&#x3D;1的几何不相离。</li></ol><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">SELECT A.gidFROM Polygons A, query_polys BWHERE B.gid &#x3D; 1AND SDO_FILTER(A.Geometry, B.Geometry, ’querytype &#x3D; WINDOW’) &#x3D; ’TRUE’;&#x2F;&#x2F;&#x2F;其中A.Geometry为Polygons表几何列的列名<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="2"><li>也是从Polygons表中选择出满足一定条件的GID。不过查询几何被存储到aGeom变量中。</li></ol><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">Select A.GidFROM Polygons AWHERE SDO_FILTER(A.Geometry, :aGeom, ’querytype&#x3D;WINDOW’) &#x3D; ’TRUE’;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="3"><li>也是从Polygons表中选择出满足一定条件的GID。查询几何为sdo_geometry构造函数构造的几何。</li></ol><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">Select A.GidFROM Polygons AWHERE SDO_FILTER(A.Geometry, mdsys.sdo_geometry(2003,NULL,NULL,mdsys.sdo_elem_info_array(1,1003,3),mdsys.sdo_ordinate_array(x1,y1,x2,y2)),’querytype&#x3D;WINDOW’) &#x3D; ’TRUE’;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="4"><li>从Polygons表中选择出满足一定条件的GID，当Polygons表的候选几何与任意一个query_polys的几何对象不相离都将GID选择出。因为多个query_polys中的几何将涉及到（参考使用说明）geometry2将被放到from的第一个参数。</li></ol><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">SELECT &#x2F;*+ ORDERED *&#x2F;A.gidFROM query_polys B, polygons AWHERE SDO_FILTER(A.Geometry, B.Geometry, ’querytype &#x3D; WINDOW’) &#x3D; ’TRUE’;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="5"><li>从Polygons表中选择出满足一定条件的GID，当Polygons表的候选几何与任意一个query_polys的几何对象不相离都将GID选择出。在这个例子中QUERY_POLYS.GEOMETRY几何列务必建立了空间索引。</li></ol><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">SELECT A.gidFROM Polygons A, query_polys BWHERESDO_FILTER(A.Geometry, B.Geometry, ’querytype &#x3D; JOIN’) &#x3D; ’TRUE’;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="SDO-RELATE"><a href="#SDO-RELATE" class="headerlink" title="SDO_RELATE"></a>SDO_RELATE</h4><p>格式：</p><p>SDO_RELATE(geometry1, geometry2, params);</p><p>描述：</p><p>通过空间索引，根据给定的几何要素（如一个多边形）检索出与其有特殊空间关系的几何要素。这个空间关系包括九种：Touch, OVERLAPBDYDisjoint, OVERLAPBDYIntersect, Equal,Inside, CoveredBy, Contains, Covers, AnyInteract, On.。具体图形标识如下：</p><p>这个操作子相当于同时执行了第一步（SDO_FILTER的功能）和第二步过滤操作</p><p>参数和关键字：</p><p>geometry1： 指需要查询表中几何列，该几何列务必已经建立空间索引。该列的数据类型为：MDSYS.SDO_GEOMETRY。</p><p>geometry2： 它值的可以是表中的几何，也可以是具体的几何对象（包括关联的几何对象变量、通过SDO_GEOMETRY构造函数的几何对象）。该列的数据类型也为：MDSYS.SDO_GEOMETRY。</p><p>params： 决定操作子的行为。数据类型为VARCHAR2。</p><p>该params具体有以下几种：</p><p>Mask：指定了空间关系。这是个必须的参数。有九种关系如上图所示，多种空间关系可以组合：例如：’mask&#x3D;inside+touch’;</p><p>Querytype：可以参考SDO_FILTER中的介绍，在此不累赘。</p><p>idxtab1和idxtab2 ：可以参考SDO_FILTER中的介绍，在此不累赘。</p><p>返回值：</p><p>表达式SDO_RELATE(geometry1,geometry2, ’mask &#x3D; <some_mask_val> ,querytype &#x3D; <some_querytype>’) &#x3D; ’TRUE’中的True是指两个几何对象满足<some_mask_val>条件。否则为Flase。</p><p>举例：</p><p>这里的所有要求条件和SDO_FILTER例子一样</p><ol><li>从Polygons表中选择出满足一定条件的GID。该条件为：选择出的GID对应的几何与query_polys表中GID&#x3D;1的有任何相交关系。</li></ol><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">SELECT A.gidFROM Polygons A, query_polys BWHERE B.gid &#x3D; 1AND SDO_RELATE(A.Geometry, B.Geometry,’mask&#x3D;ANYINTERACT querytype&#x3D;WINDOW’) &#x3D; ’TRUE’;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="2"><li>也是从Polygons表中选择出满足一定条件的GID。不过查询几何被存储到aGeom变量中。</li></ol><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">Select A.GidFROM Polygons AWHERE SDO_RELATE(A.Geometry, :aGeom, ’mask&#x3D;ANYINTERACT querytype&#x3D;WINDOW’)&#x3D; ’TRUE’;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>其他的例子里类似，这里也不累赘。</p><p>下面给出两个操作子结合的SQL语句</p><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">SELECT name boat_name &#x2F;&#x2F;选择在定义矩形内的所有小船FROM mylake tWHERE feature_id &#x3D; 12AND SDO_FILTER(t.shape, mdsys.sdo_geometry(2003,NULL,NULL,    mdsys.sdo_elem_info_array(1,1003,1),    mdsys.sdo_ordinate_array(2,2, 5,2, 5,5, 2,5, 2,2)),    &#39;querytype&#x3D;WINDOW&#39;) &#x3D; &#39;TRUE&#39;AND SDO_RELATE(t.shape, mdsys.sdo_geometry(2003,NULL,NULL,    mdsys.sdo_elem_info_array(1,1003,1),    mdsys.sdo_ordinate_array(2,2, 5,2, 5,5, 2,5, 2,2)),    &#39;masktype&#x3D;INSIDE querytype&#x3D;WINDOW&#39;) &#x3D; &#39;TRUE&#39;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="SDO-WITHIN-DISTANCE"><a href="#SDO-WITHIN-DISTANCE" class="headerlink" title="SDO_WITHIN_DISTANCE"></a>SDO_WITHIN_DISTANCE</h4><p>格式：</p><p>SDO_WITHIN_DISTANCE(geometry1, aGeom, params);</p><p>描述：</p><p>通过空间索引，检索出距离给定几何对象（可以是具体的多边形、点等）的一定范围内的所有空间对象。</p><p>参数和关键字：</p><p>geometry1：一个表中几何列的列名。这列的几何对象如果是在给定对象aGeom的一定范围之内的话，将被检索出来。这个geometry1对应的几何列务必创建空间索引。</p><p>该列的数据类型为：MDSYS.SDO_GEOMETRY。</p><p>aGeom：值根据这个对象和一定距离去检索geometry1。它可以是一个表的几何列（包含对象的变量），也可以是一个具体的几何对象（如通过SDO_GEOMETRY构造函数的几何对象）。</p><p>该列的数据类型为：MDSYS.SDO_GEOMETRY。</p><p>PARAMS：决定操作子的行为。数据类型为VARCHAR2。</p><p>该params具体有以下几种：</p><p><strong>Distance</strong>：指距离长度，这是个必须的参数。如果指定过滤的几何有关联的参考坐标，这个距离的单位就是参考坐标的单位。数据类型为Number。</p><p><strong>idxtab1</strong>：可以参考SDO_FILTER中的介绍，在此不累赘。</p><p><strong>Querytype</strong>：设置为’querytype&#x3D;FILTER’将执行第一步过滤操作。如果querytype没有指定第一步和第二步过滤操作将执行（默认为该种情况）。数据类型为VARCHAR2。</p><p><strong>Unit</strong>：指定距离单位。例如：unit&#x3D;’KM’.具体的单位SDO_UNIT 值来之MDSYS.SDO_DIST_UNITS 表。数据类型为Number。默认的单位适合具体的数据关联的，例如数据是投影数据的话，单位为M.</p><p>返回值：</p><p>表达式SDO_WITHIN_DISTANCE(arg1, arg2, arg3) &#x3D; ’TRUE’，为True将返回一定距离子内的所有要素。</p><p>举例：</p><ol><li>得到距离矩形为10单位之内的所有POLYGONS几何的GID</li></ol><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">SELECT A.GIDFROM POLYGONS AWHERESDO_WITHIN_DISTANCE(A.Geometry, mdsys.sdo_geometry(2003,NULL,NULL,mdsys.sdo_elem_info_array(1,1003,3),mdsys.sdo_ordinate_array(x1,y1,x2,y2)),’distance &#x3D; 10’) &#x3D; ’TRUE’;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="2"><li>得到距离 Query_Points中GID &#x3D; 1对应的几何 为10单位之内的所有POLYGONS几何的GID</li></ol><pre class="line-numbers language-SQL" data-language="SQL"><code class="language-SQL">SELECT A.GIDFROM POLYGONS A, Query_Points BWHERE B.GID &#x3D; 1 ANDSDO_WITHIN_DISTANCE(A.Geometry, B.Geometry, ’distance &#x3D; 10’) &#x3D; ’TRUE’;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>参考以下文章</p><p><a href="http://book.51cto.com/art/200910/157414.htm">http://book.51cto.com/art/200910/157414.htm</a></p><p><a href="http://blog.sina.com.cn/s/blog_00ccd2400101c2x8.html">http://blog.sina.com.cn/s/blog_00ccd2400101c2x8.html</a></p><p><a href="http://www.cnblogs.com/upDOoGIS/archive/2009/05/20/1469871.html">http://www.cnblogs.com/upDOoGIS/archive/2009/05/20/1469871.html</a></p><p><a href="http://www.cnblogs.com/upDOoGIS/archive/2009/05/31/1493115.html">http://www.cnblogs.com/upDOoGIS/archive/2009/05/31/1493115.html</a></p>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Oracle11g安装报错Environment variable:&quot;PATH&quot;</title>
      <link href="/mysql-sql-oracle/oracle11g-an-zhuang-bao-cuo-environment-variable/"/>
      <url>/mysql-sql-oracle/oracle11g-an-zhuang-bao-cuo-environment-variable/</url>
      
        <content type="html"><![CDATA[<p>Environment variable: “PATH” - This test checks whether the length of the environment variable “PATH” does not exceed the recommended length.<br>预期值<br> : 1023<br>实际值<br> : 1245</p><p> PRVF-3929 : Adding the Oracle binary location to the PATH environment variable will exceed the OS length limit of [ “1023” ] for the variable<br>-Action:  Ensure that the sum of the lengths of your current PATH environment variable and that of “%ORACLE_HOME%&#x2F;bin;”<br> does not exceed the operating system limit. Restart the installer after correcting the setting for environment variable.</p><p>这样的问题就是环境变量字符太长了，多剪切一些出来，等安装完oracle后在把那些剪切出来环境变量在粘贴回去。</p>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Silverlight 密码框 Focus</title>
      <link href="/silverlight/silverlight-mi-ma-kuang-focus/"/>
      <url>/silverlight/silverlight-mi-ma-kuang-focus/</url>
      
        <content type="html"><![CDATA[<p>在做一个例子是需要运行起来后焦点默认设置在密码框上，在网上查了资料</p><p>自己找到一种方法,此方法在oob模式下管用</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">public Login()&#123;    InitializeComponent();        txtLoginName.Text &#x3D; &quot;admin&quot;;    &#x2F;&#x2F; 设置焦点在密码框上    Dispatcher.BeginInvoke(() &#x3D;&gt; &#123; txtLoginPwd.Focus(); &#125;);&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>网上找到的另一种方法</p><ol><li>想在Silverlight首次启动让某个文本框获取焦点，使用Loaded事件中txt.Focus()是不起做用的，要完成这功能只要添加一句代码即可:</li></ol><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">private void LayoutRoot_Loaded(object sender, RoutedEventArgs e)&#123;    HtmlPage.Plugin.Invoke(&quot;focus&quot;);    txtName.Focus();&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="2"><li>在程序中为了方便用户，在一个文本框中按回车后跳到别一个文本框或其它控件，我们可以对原有的TextBox进行扩充，添加一个NextControl的属性用于保存下一个控件的名字,</li></ol><p>另外为了方便我加了一个ToNextControl的事件，这样用起来更加方便，代码如下:</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">namespace HahaMan.SLTools.Controls&#123;    public class MyTextBox:TextBox    &#123;        &#x2F;&#x2F;事件        public event EventHandler ToNextControl;        private string nextControl&#x3D;&quot;&quot;;        &#x2F;&#x2F;用于保存下一个控件的名字        public string NextControl        &#123;            get &#123; return nextControl; &#125;            set &#123; nextControl &#x3D; value; &#125;        &#125;        protected override void OnKeyDown(KeyEventArgs e)        &#123;            base.OnKeyDown(e);            if (e.Key &#x3D;&#x3D; Key.Enter)&#x2F;&#x2F;如果是回车            &#123;                if (ToNextControl !&#x3D; null)&#x2F;&#x2F;如果自己写了事件处理程序                &#123;                    ToNextControl(this, e);&#x2F;&#x2F;调用事件                &#125;                else                &#123;                    &#x2F;&#x2F;如果没有指定事件                    if (nextControl !&#x3D; null &amp;&amp; nextControl.Length &gt; 0)                    &#123;                         &#x2F;&#x2F;查找下一个控件                        Control c &#x3D; (this.Parent as Panel).FindName(nextControl) as Control;                        if (c !&#x3D; null)                        &#123;                            c.Focus();                        &#125;                    &#125;                &#125;            &#125;        &#125;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>使用方法一:</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">&lt;my:MyTextBox Height&#x3D;&quot;23&quot; HorizontalAlignment&#x3D;&quot;Left&quot; Margin&#x3D;&quot;786,152,0,0&quot; Name&#x3D;&quot;txtName&quot; &lt;span style&#x3D;&quot;color:#ff0000;&quot;&gt;NextControl&#x3D;&quot;txtPwd&quot;&lt;&#x2F;span&gt; VerticalAlignment&#x3D;&quot;Top&quot; Width&#x3D;&quot;120&quot; &#x2F;&gt;            &lt;my:MyTextBox Height&#x3D;&quot;23&quot; HorizontalAlignment&#x3D;&quot;Left&quot; Margin&#x3D;&quot;786,205,0,0&quot; Name&#x3D;&quot;txtPwd&quot;  &lt;span style&#x3D;&quot;color:#ff0000;&quot;&gt;NextControl&#x3D;&quot;btnLogin&quot;&lt;&#x2F;span&gt; VerticalAlignment&#x3D;&quot;Top&quot; Width&#x3D;&quot;120&quot; &#x2F;&gt;            &lt;Button Content&#x3D;&quot;登录&quot; Height&#x3D;&quot;23&quot; Margin&#x3D;&quot;763,259,0,0&quot; Name&#x3D;&quot;btnLogin&quot; VerticalAlignment&#x3D;&quot;Top&quot; HorizontalAlignment&#x3D;&quot;Left&quot; Width&#x3D;&quot;56&quot; Click&#x3D;&quot;btnLogin_Click&quot; &#x2F;&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>使用方法二:<br>xaml代码</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">&lt;my:MyTextBox Height&#x3D;&quot;23&quot; HorizontalAlignment&#x3D;&quot;Left&quot; Margin&#x3D;&quot;786,152,0,0&quot; Name&#x3D;&quot;txtName&quot;  VerticalAlignment&#x3D;&quot;Top&quot; Width&#x3D;&quot;120&quot; &lt;span style&#x3D;&quot;color:#ff0000;&quot;&gt;ToNextControl&#x3D;&quot;toNextControl&quot;&lt;&#x2F;span&gt; &#x2F;&gt;            &lt;my:MyTextBox Height&#x3D;&quot;23&quot; HorizontalAlignment&#x3D;&quot;Left&quot; Margin&#x3D;&quot;786,205,0,0&quot; Name&#x3D;&quot;txtPwd&quot;   VerticalAlignment&#x3D;&quot;Top&quot; Width&#x3D;&quot;120&quot; &lt;span style&#x3D;&quot;color:#ff0000;&quot;&gt;ToNextControl&#x3D;&quot;toNextControl&quot;&lt;&#x2F;span&gt; &#x2F;&gt;            &lt;Button Content&#x3D;&quot;登录&quot; Height&#x3D;&quot;23&quot; Margin&#x3D;&quot;763,259,0,0&quot; Name&#x3D;&quot;btnLogin&quot; VerticalAlignment&#x3D;&quot;Top&quot; HorizontalAlignment&#x3D;&quot;Left&quot; Width&#x3D;&quot;56&quot; Click&#x3D;&quot;btnLogin_Click&quot; &#x2F;&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>cs代码</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">private void toNextControl(object sender, EventArgs e)&#123;    if (sender &#x3D;&#x3D; txtName) txtPwd.Focus();    if (sender &#x3D;&#x3D; txtPwd) btnLogin.Focus();&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>网上找的方法转载至 <a href="http://blog.csdn.net/lijun7788/article/details/8087773">http://blog.csdn.net/lijun7788/article/details/8087773</a></p>]]></content>
      
      
      <categories>
          
          <category> Silverlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Silverlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Silverlight 登陆界面</title>
      <link href="/silverlight/silverlight-deng-lu-jie-mian/"/>
      <url>/silverlight/silverlight-deng-lu-jie-mian/</url>
      
        <content type="html"><![CDATA[<p>界面代码，效果如下图<br><img src="/images/2014050814221501.jpg" alt="2014050814221501.jpg"></p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">&lt;UserControl x:Class&#x3D;&quot;ElecDemoTelerikSL.Login&quot;    xmlns&#x3D;&quot;http:&#x2F;&#x2F;schemas.microsoft.com&#x2F;winfx&#x2F;2006&#x2F;xaml&#x2F;presentation&quot;    xmlns:x&#x3D;&quot;http:&#x2F;&#x2F;schemas.microsoft.com&#x2F;winfx&#x2F;2006&#x2F;xaml&quot;    xmlns:d&#x3D;&quot;http:&#x2F;&#x2F;schemas.microsoft.com&#x2F;expression&#x2F;blend&#x2F;2008&quot;    xmlns:mc&#x3D;&quot;http:&#x2F;&#x2F;schemas.openxmlformats.org&#x2F;markup-compatibility&#x2F;2006&quot;    xmlns:sdk&#x3D;&quot;http:&#x2F;&#x2F;schemas.microsoft.com&#x2F;winfx&#x2F;2006&#x2F;xaml&#x2F;presentation&#x2F;sdk&quot;    xmlns:my&#x3D;&quot;clr-namespace:Drawsee.Sl.AppBase.UserManage.UI;assembly&#x3D;Drawsee.Sl.AppBase&quot;    mc:Ignorable&#x3D;&quot;d&quot;    d:DesignHeight&#x3D;&quot;800&quot; d:DesignWidth&#x3D;&quot;1200&quot;&gt;        &lt;Grid x:Name&#x3D;&quot;LayoutRoot&quot; ScrollViewer.HorizontalScrollBarVisibility&#x3D;&quot;Disabled&quot; ScrollViewer.VerticalScrollBarVisibility&#x3D;&quot;Disabled&quot;&gt;        &lt;Grid.Background&gt;            &lt;LinearGradientBrush EndPoint&#x3D;&quot;0.5,1&quot; StartPoint&#x3D;&quot;0.5,0&quot;&gt;                &lt;GradientStop Color&#x3D;&quot;#FF007CC3&quot;&#x2F;&gt;                &lt;GradientStop Color&#x3D;&quot;#FF93CAE2&quot; Offset&#x3D;&quot;1&quot;&#x2F;&gt;            &lt;&#x2F;LinearGradientBrush&gt;        &lt;&#x2F;Grid.Background&gt;        &lt;StackPanel HorizontalAlignment&#x3D;&quot;Center&quot; VerticalAlignment&#x3D;&quot;Center&quot;&gt;            &lt;TextBlock Text&#x3D;&quot;登陆测试&quot; FontSize&#x3D;&quot;24&quot; HorizontalAlignment&#x3D;&quot;Center&quot; Margin&#x3D;&quot;0,0,0,20&quot; &#x2F;&gt;        &lt;Grid Width&#x3D;&quot;600&quot; Height&#x3D;&quot;300&quot;&gt;            &lt;Rectangle Fill&#x3D;&quot;#50000000&quot; RadiusX&#x3D;&quot;10&quot; RadiusY&#x3D;&quot;10&quot; Margin&#x3D;&quot;10,10,-10,-15&quot; &#x2F;&gt;            &lt;Image Source&#x3D;&quot;images&#x2F;elec_background.jpg&quot; Height&#x3D;&quot;300&quot; HorizontalAlignment&#x3D;&quot;Center&quot; Name&#x3D;&quot;imageBackground&quot; Stretch&#x3D;&quot;Fill&quot; VerticalAlignment&#x3D;&quot;Center&quot; Width&#x3D;&quot;600&quot;&gt;                &lt;Image.Clip&gt;                    &lt;RectangleGeometry RadiusX&#x3D;&quot;12&quot; RadiusY&#x3D;&quot;12&quot; Rect&#x3D;&quot;0,0,600,300&quot; &#x2F;&gt;                &lt;&#x2F;Image.Clip&gt;             &lt;&#x2F;Image&gt;            &lt;Border BorderBrush&#x3D;&quot;#80000000&quot; BorderThickness&#x3D;&quot;1&quot; CornerRadius&#x3D;&quot;10&quot; &gt;            &lt;&#x2F;Border&gt;            &lt;Grid Margin&#x3D;&quot;358,124,29,42&quot;&gt;                &lt;Rectangle  Stretch&#x3D;&quot;Fill&quot; Fill&#x3D;&quot;#4FFFFFFF&quot; RadiusX&#x3D;&quot;20&quot; RadiusY&#x3D;&quot;20&quot; &#x2F;&gt;                &lt;sdk:Label Content&#x3D;&quot;登录名：&quot; Height&#x3D;&quot;24&quot; HorizontalAlignment&#x3D;&quot;Left&quot; Name&#x3D;&quot;lblLoginName&quot; VerticalAlignment&#x3D;&quot;Top&quot; Width&#x3D;&quot;60&quot; Margin&#x3D;&quot;11,20,0,0&quot; &#x2F;&gt;                &lt;sdk:Label Content&#x3D;&quot;密   码：&quot; Height&#x3D;&quot;24&quot; HorizontalAlignment&#x3D;&quot;Left&quot; Name&#x3D;&quot;lblLoginPwd&quot; VerticalAlignment&#x3D;&quot;Top&quot; Width&#x3D;&quot;60&quot; Margin&#x3D;&quot;11,58,0,0&quot; &#x2F;&gt;                &lt;TextBox Height&#x3D;&quot;24&quot; HorizontalAlignment&#x3D;&quot;Left&quot; Name&#x3D;&quot;txtLoginName&quot; VerticalAlignment&#x3D;&quot;Top&quot; Width&#x3D;&quot;120&quot; Margin&#x3D;&quot;77,17,0,0&quot; &#x2F;&gt;                &lt;PasswordBox Height&#x3D;&quot;24&quot; HorizontalAlignment&#x3D;&quot;Left&quot;  Margin&#x3D;&quot;77,55,0,0&quot; Name&#x3D;&quot;txtLoginPwd&quot; VerticalAlignment&#x3D;&quot;Top&quot; Width&#x3D;&quot;120&quot; &#x2F;&gt;                &lt;Button Content&#x3D;&quot;登陆&quot; Height&#x3D;&quot;24&quot; HorizontalAlignment&#x3D;&quot;Left&quot; Name&#x3D;&quot;btnLogin&quot; VerticalAlignment&#x3D;&quot;Top&quot; Width&#x3D;&quot;75&quot; Margin&#x3D;&quot;22,95,0,0&quot; Click&#x3D;&quot;btnLogin_Click&quot; &#x2F;&gt;                &lt;Button Content&#x3D;&quot;取消&quot; Height&#x3D;&quot;24&quot; HorizontalAlignment&#x3D;&quot;Left&quot; Name&#x3D;&quot;btnCancel&quot; VerticalAlignment&#x3D;&quot;Top&quot; Width&#x3D;&quot;75&quot; Margin&#x3D;&quot;122,95,0,0&quot; &#x2F;&gt;                &lt;&#x2F;Grid&gt;        &lt;&#x2F;Grid&gt;        &lt;&#x2F;StackPanel&gt;    &lt;&#x2F;Grid&gt;&lt;&#x2F;UserControl&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>后台代码</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">public partial class Login : UserControl&#123;    public Login()    &#123;        InitializeComponent();                txtLoginName.Text &#x3D; &quot;admin&quot;;    &#125;    private void btnLogin_Click(object sender, RoutedEventArgs e)    &#123;        string loginName &#x3D;txtLoginName.Text.Trim();        string loginPwd &#x3D;txtLoginPwd.Password.Trim();        if (loginName.Equals(&quot;admin&quot;) &amp;&amp; loginName.Equals(&quot;admin&quot;))            this.Content &#x3D; new MainPage(); &#x2F;&#x2F;跳转到主页面        else            MessageBox.Show(&quot;登陆失败！&quot;, &quot;提示&quot;, MessageBoxButton.OKCancel);    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>主页面xaml</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">&lt;UserControl x:Class&#x3D;&quot;SilverlightCreate.MainTest&quot;    xmlns&#x3D;&quot;http:&#x2F;&#x2F;schemas.microsoft.com&#x2F;winfx&#x2F;2006&#x2F;xaml&#x2F;presentation&quot;    xmlns:x&#x3D;&quot;http:&#x2F;&#x2F;schemas.microsoft.com&#x2F;winfx&#x2F;2006&#x2F;xaml&quot;    xmlns:d&#x3D;&quot;http:&#x2F;&#x2F;schemas.microsoft.com&#x2F;expression&#x2F;blend&#x2F;2008&quot;    xmlns:mc&#x3D;&quot;http:&#x2F;&#x2F;schemas.openxmlformats.org&#x2F;markup-compatibility&#x2F;2006&quot;    xmlns:sdk&#x3D;&quot;http:&#x2F;&#x2F;schemas.microsoft.com&#x2F;winfx&#x2F;2006&#x2F;xaml&#x2F;presentation&#x2F;sdk&quot;    xmlns:my&#x3D;&quot;clr-namespace:SilverlightCreate&quot;    mc:Ignorable&#x3D;&quot;d&quot;    d:DesignHeight&#x3D;&quot;800&quot; d:DesignWidth&#x3D;&quot;1800&quot;  &gt;    &lt;Grid x:Name&#x3D;&quot;LayoutRoot&quot; VerticalAlignment&#x3D;&quot;Stretch&quot;&gt;        &lt;Grid&gt;            &lt;Grid.RowDefinitions&gt;                &lt;RowDefinition Height&#x3D;&quot;80&quot;&gt;&lt;&#x2F;RowDefinition&gt;                &lt;RowDefinition Height&#x3D;&quot;*&quot;&gt;&lt;&#x2F;RowDefinition&gt;            &lt;&#x2F;Grid.RowDefinitions&gt;            &lt;Grid Grid.Row&#x3D;&quot;0&quot; &gt;                &lt;Grid.Background&gt;                    &lt;LinearGradientBrush &gt;                        &lt;GradientStop Color&#x3D;&quot;#FF007CC3&quot; Offset&#x3D;&quot;0.5&quot; &#x2F;&gt;                        &lt;GradientStop Color&#x3D;&quot;#FFa9dcfa&quot; Offset&#x3D;&quot;1&quot; &#x2F;&gt;                    &lt;&#x2F;LinearGradientBrush&gt;                &lt;&#x2F;Grid.Background&gt;                                &lt;HyperlinkButton Content&#x3D;&quot;操作说明&quot; HorizontalAlignment&#x3D;&quot;Right&quot; VerticalAlignment&#x3D;&quot;Bottom&quot; Foreground&#x3D;&quot;AliceBlue&quot; NavigateUri&#x3D;&quot;http:&#x2F;&#x2F;www.baidu.com&quot; TargetName&#x3D;&quot;_blank&quot; FontSize&#x3D;&quot;16&quot; IsTabStop&#x3D;&quot;False&quot; Height&#x3D;&quot;24&quot; Name&#x3D;&quot;hlbHelp&quot; Width&#x3D;&quot;68&quot; Margin&#x3D;&quot;0,0,0,12&quot; &#x2F;&gt;                &lt;my:ToolBar HorizontalAlignment&#x3D;&quot;Right&quot; Margin&#x3D;&quot;0,33,100,0&quot; Padding&#x3D;&quot;2&quot; x:Name&#x3D;&quot;toolBar1&quot; VerticalAlignment&#x3D;&quot;Top&quot; &#x2F;&gt;            &lt;&#x2F;Grid&gt;            &lt;Grid x:Name&#x3D;&quot;GridMain&quot; Grid.Row&#x3D;&quot;1&quot;&gt;                &lt;Grid.ColumnDefinitions&gt;                    &lt;ColumnDefinition Width&#x3D;&quot;290&quot; &#x2F;&gt;                    &lt;ColumnDefinition Width&#x3D;&quot;5&quot; &#x2F;&gt;                    &lt;ColumnDefinition Width&#x3D;&quot;665*&quot; &#x2F;&gt;                &lt;&#x2F;Grid.ColumnDefinitions&gt;                &lt;Grid Grid.Column&#x3D;&quot;0&quot; x:Name&#x3D;&quot;system&quot;&gt;                                        &lt;Border BorderBrush&#x3D;&quot;LightGray&quot; BorderThickness&#x3D;&quot;1&quot; CornerRadius&#x3D;&quot;0&quot; &#x2F;&gt;                &lt;&#x2F;Grid&gt;                &lt;sdk:GridSplitter Grid.Column&#x3D;&quot;1&quot; HorizontalAlignment&#x3D;&quot;Center&quot; VerticalAlignment&#x3D;&quot;Stretch&quot; Background&#x3D;&quot;#FF027DC3&quot;&gt;&lt;&#x2F;sdk:GridSplitter&gt;                &lt;Grid Grid.Column&#x3D;&quot;2&quot;&gt;                    &lt;Grid x:Name&#x3D;&quot;GridFrame&quot;&gt;                        &lt;Border BorderBrush&#x3D;&quot;LightGray&quot; BorderThickness&#x3D;&quot;1&quot; CornerRadius&#x3D;&quot;0&quot;&gt;                                                    &lt;&#x2F;Border&gt;                    &lt;&#x2F;Grid&gt;                &lt;&#x2F;Grid&gt;            &lt;&#x2F;Grid&gt;        &lt;&#x2F;Grid&gt;    &lt;&#x2F;Grid&gt;&lt;&#x2F;UserControl&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Silverlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Silverlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>使用Telerik StyleMananger 改变Silverlight Button样式</title>
      <link href="/silverlight/shi-yong-telerik-stylemananger-gai-bian-silverlight-button-yang-shi/"/>
      <url>/silverlight/shi-yong-telerik-stylemananger-gai-bian-silverlight-button-yang-shi/</url>
      
        <content type="html"><![CDATA[<p>Telerik 支持更改以下控件样式</p><ul><li>System.Windows.Button</li><li>System.Windows.ScrollViewer</li><li>System.Windows.CheckBox</li><li>System.Windows.TextBox</li><li>System.Windows.RadioButton</li><li>System.Windows.ListBox</li><li>System.Windows.PasswordBox</li><li>System.Windows.RepeatButton</li><li>System.Windows.Tooltip</li></ul><p>需要在App.Xaml中的修改，红色是添加的代码</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">&lt;Application xmlns&#x3D;&quot;http:&#x2F;&#x2F;schemas.microsoft.com&#x2F;winfx&#x2F;2006&#x2F;xaml&#x2F;presentation&quot;             xmlns:x&#x3D;&quot;http:&#x2F;&#x2F;schemas.microsoft.com&#x2F;winfx&#x2F;2006&#x2F;xaml&quot;             xmlns:telerik&#x3D;&quot;http:&#x2F;&#x2F;schemas.telerik.com&#x2F;2008&#x2F;xaml&#x2F;presentation&quot;             x:Class&#x3D;&quot;TestDemo.App&quot;             &gt;    &lt;Application.Resources&gt;        &lt;Style TargetType&#x3D;&quot;Button&quot;&#x2F;&gt;    &lt;&#x2F;Application.Resources&gt;&lt;&#x2F;Application&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> 在后台程序中修改，其中红色是需要添加的代码</p> <pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">public App()&#123;    this.Startup +&#x3D; this.Application_Startup;    this.Exit +&#x3D; this.Application_Exit;    this.UnhandledException +&#x3D; this.Application_UnhandledException;    StyleManager.ApplicationTheme &#x3D; new Windows7Theme();    InitializeComponent();   StyleManager.SetBasedOn(((Style)Current.Resources[typeof(Button)]), StyleManager.ApplicationTheme);&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Silverlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Silverlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Silverlight Telerik 学习之主题的设置</title>
      <link href="/silverlight/silverlight-telerik-xue-xi-zhi-zhu-ti-de-she-zhi/"/>
      <url>/silverlight/silverlight-telerik-xue-xi-zhi-zhu-ti-de-she-zhi/</url>
      
        <content type="html"><![CDATA[<p>Telerik控件版本：RadControls for Silverlight Q1 2013</p><p>当前的Telerik Silverlight 控件支持以下主题</p><p>Office Black - 这是默认主题，无需加载其它任何dll文件。</p><p>Office Blue - 引用 Telerik.Windows.Themes.Office_Blue.dll。</p><p>Office Silver - 引用 Telerik.Windows.Themes.Office_Silver.dll。</p><p>Summer - 引用 Telerik.Windows.Themes.Summer.dll。</p><p>Transparent - 引用 Telerik.Windows.Themes.Transparent.dll。</p><p>Vista - 引用 Telerik.Windows.Themes.Vista.dll。</p><p>Windows 7 - 引用 Telerik.Windows.Themes.Windows7.dll。</p><p>Window 8 - 引用Telerik.Windows.Themes.Windows8.dll。</p><p>Windows8 Touch -引用Telerik.Windows.Themes.Windows8Touch。</p><p>Metro(obsolete) - 引用Telerik.Windows.Themes.Metro.dll。应该替换成windows8主题。</p><p>创建一个Silverlight工程，引用需要的dll</p><p>Common Styling Theming Setting Built In Theme 010</p><p>下图是Windows8 Touch的效果<br><img src="/images/2014042817431201.png" alt="2014042817431201.png"></p><ol><li>设置特定的XAML内置样式（这样只改变指定控件样式）</li></ol><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">&lt;UserControl x:Class&#x3D;&quot;Test.MainPage&quot;    xmlns&#x3D;&quot;http:&#x2F;&#x2F;schemas.microsoft.com&#x2F;winfx&#x2F;2006&#x2F;xaml&#x2F;presentation&quot;    xmlns:x&#x3D;&quot;http:&#x2F;&#x2F;schemas.microsoft.com&#x2F;winfx&#x2F;2006&#x2F;xaml&quot;    xmlns:telerik&#x3D;&quot;clr-namespace:Telerik.Windows.Controls;assembly&#x3D;Telerik.Windows.Controls&quot;&gt;    &lt;Grid x:Name&#x3D;&quot;LayoutRoot&quot;&gt;        &lt;telerik:RadTabControl x:Name&#x3D;&quot;tab1&quot;  telerik:StyleManager.Theme&#x3D;&quot;Windows8Touch&quot;&gt;            &lt;telerik:RadTabItem Header&#x3D;&quot;导航一&quot;&gt;&lt;&#x2F;telerik:RadTabItem&gt;            &lt;telerik:RadTabItem Header&#x3D;&quot;导航二&quot;&gt;&lt;&#x2F;telerik:RadTabItem&gt;            &lt;telerik:RadTabItem Header&#x3D;&quot;导航三&quot;&gt;&lt;&#x2F;telerik:RadTabItem&gt;        &lt;&#x2F;telerik:RadTabControl&gt;     &lt;&#x2F;Grid&gt;&lt;&#x2F;UserControl&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>或者通过后台代码控制 StyleManager.SetTheme( tab1, new VistaTheme() );</p><ol start="2"><li>设置应用程序内置主题后台代码（这样影响的是页面控件的样式）</li></ol><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">public partial class MainPage : UserControl&#123;    public MainPage()    &#123;        StyleManager.ApplicationTheme &#x3D; new Windows8TouchTheme();        InitializeComponent();    &#125;    &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>或者</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">public partial class App : Application&#123;    public App()    &#123;        this.Startup +&#x3D; this.Application_Startup;        this.Exit +&#x3D; this.Application_Exit;        this.UnhandledException +&#x3D; this.Application_UnhandledException;        StyleManager.ApplicationTheme &#x3D; new Windows8TouchTheme();        InitializeComponent();    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="3"><li>自定义主题</li></ol><p>如果觉得这些样式满足不了要求可以自己定义一些主题</p><p>创建一个自定义主题类</p><p>然后在自定义主题类的构造函数中指定source</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">[ThemeLocation( ThemeLocation.BuiltIn )]public class CustomTheme : Telerik.Windows.Controls.Theme&#123;&#125;public CustomTheme()&#123;    this.Source &#x3D; new Uri( &quot;&#x2F;Telerik.Windows.Themes.CustomTheme;component&#x2F;themes&#x2F;Generic.xaml&quot;, UriKind.Relative );&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>参考文章 <a href="http://www.telerik.com/help/silverlight/common-styling-apperance-setting-theme.html">http://www.telerik.com/help/silverlight/common-styling-apperance-setting-theme.html</a></p>]]></content>
      
      
      <categories>
          
          <category> Silverlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Silverlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>强制更新客户端Silverlight XAP 文件</title>
      <link href="/silverlight/qiang-zhi-geng-xin-ke-hu-duan-silverlight-xap-wen-jian/"/>
      <url>/silverlight/qiang-zhi-geng-xin-ke-hu-duan-silverlight-xap-wen-jian/</url>
      
        <content type="html"><![CDATA[<p>在发布程序更新的时候访问的总是原来的程序，猜想应该是缓存的原因。在网上查找方法</p><pre class="line-numbers language-HTML" data-language="HTML"><code class="language-HTML">&lt;div id&#x3D;&quot;silverlightControlHost&quot;&gt;        &lt;object data&#x3D;&quot;data:application&#x2F;x-silverlight-2,&quot; type&#x3D;&quot;application&#x2F;x-silverlight-2&quot; width&#x3D;&quot;100%&quot; height&#x3D;&quot;100%&quot;&gt;          &lt;param name&#x3D;&quot;source&quot; value&#x3D;&quot;ClientBin&#x2F;ElecDemoSl.xap?&lt;%&#x3D;Guid.NewGuid().ToString() %&gt;&quot;&#x2F;&gt;          &lt;param name&#x3D;&quot;onError&quot; value&#x3D;&quot;onSilverlightError&quot; &#x2F;&gt;          &lt;param name&#x3D;&quot;background&quot; value&#x3D;&quot;white&quot; &#x2F;&gt;          &lt;param name&#x3D;&quot;minRuntimeVersion&quot; value&#x3D;&quot;5.0.61118.0&quot; &#x2F;&gt;          &lt;param name&#x3D;&quot;autoUpgrade&quot; value&#x3D;&quot;true&quot; &#x2F;&gt;          &lt;param name&#x3D;&quot;enableGPUAcceleration&quot; value&#x3D;&quot;true&quot; &#x2F;&gt;          &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;go.microsoft.com&#x2F;fwlink&#x2F;?LinkID&#x3D;149156&amp;v&#x3D;5.0.61118.0&quot; style&#x3D;&quot;text-decoration:none&quot;&gt;               &lt;img src&#x3D;&quot;http:&#x2F;&#x2F;go.microsoft.com&#x2F;fwlink&#x2F;?LinkId&#x3D;161376&quot; alt&#x3D;&quot;获取 Microsoft Silverlight&quot; style&#x3D;&quot;border-style:none&quot;&#x2F;&gt;          &lt;&#x2F;a&gt;        &lt;&#x2F;object&gt;        &lt;iframe id&#x3D;&quot;_sl_historyFrame&quot; style&#x3D;&quot;visibility:hidden;height:0px;width:0px;border:0px&quot;&gt;&lt;&#x2F;iframe&gt;&lt;&#x2F;div&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>在下面代码中添加绿色的代码就可以了。</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">&lt;param name&#x3D;&quot;source&quot; value&#x3D;&quot;ClientBin&#x2F;ElecDemoSl.xap?&lt;%&#x3D;Guid.NewGuid().ToString() %&gt;&quot;&#x2F;&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>以下方法通过网上查找</p><p>另一个解决方案,我更喜欢甚至包括检查XAP创建日期,并附加参数name &#x3D;“Source”来源</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">&lt;object data&#x3D;&quot;data:application&#x2F;x-silverlight-2,&quot; type&#x3D;&quot;application&#x2F;x-silverlight-2&quot; width&#x3D;&quot;100%&quot; height&#x3D;&quot;100%&quot;&gt;&lt;%    string strSourceFile &#x3D; @&quot;ClientBin&#x2F;SilverlightApplication2.xap&quot;;    string param;    if (System.Diagnostics.Debugger.IsAttached)        param &#x3D; &quot;&lt;param name&#x3D;\&quot;source\&quot; value&#x3D;\&quot;&quot; + strSourceFile + &quot;\&quot; &#x2F;&gt;&quot;;    else    &#123;        string xappath &#x3D; HttpContext.Current.Server.MapPath(@&quot;&quot;) + @&quot;\&quot; + strSourceFile;        DateTime xapCreationDate &#x3D; System.IO.File.GetLastWriteTime(xappath);        param &#x3D; &quot;&lt;param name&#x3D;\&quot;source\&quot; value&#x3D;\&quot;&quot; + strSourceFile + &quot;?ignore&#x3D;&quot;                + xapCreationDate.ToString() + &quot;\&quot; &#x2F;&gt;&quot;;    &#125;    Response.Write(param);%&gt;&lt;param name&#x3D;&quot;onError&quot; value&#x3D;&quot;onSilverlightError&quot; &#x2F;&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>参考文章</p><p><a href="http://www.codeproject.com/Articles/143414/Prevent-your-Silverlight-XAP-File-from-Caching-in">http://www.codeproject.com/Articles/143414/Prevent-your-Silverlight-XAP-File-from-Caching-in</a></p><p><a href="http://kevinfan.blog.51cto.com/1037293/933181/">http://kevinfan.blog.51cto.com/1037293/933181/</a></p>]]></content>
      
      
      <categories>
          
          <category> Silverlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Silverlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Sandcastle Help File Builder 生成NET帮助文档</title>
      <link href="/c-winform/sandcastle-help-file-builder-sheng-cheng-net-bang-zhu-wen-dang/"/>
      <url>/c-winform/sandcastle-help-file-builder-sheng-cheng-net-bang-zhu-wen-dang/</url>
      
        <content type="html"><![CDATA[<p>Sandcastle是微软提供的一个根据XML注释和DLL文件生成帮助文件的工具，目前是在CodePlex上的一个开源项目，可以去这里下载：<a href="http://sandcastle.codeplex.com/">Sandcastle</a></p><p>Sandcastle生成的输出结果具有以下特点：<br>Ø         类似于MSDN布局的界面。<br>Ø         自动生成索引项、内容项目表、主题块和页面布局，提高一致性和熟悉程度。<br>Ø         自动生成语法宣称部分。<br>Ø         自动生成继承表。<br>Ø         代码彩色化。<br>Ø         提供多种风格和语言选择，终端用户可从中选择自己最喜欢的形式。<br>Ø         输出结果以HTML和CSS形式显示，微软承诺将来提供更多选择。</p><p><a href="http://shfb.codeplex.com/">SHFB</a>(Sandcastle Help File Builder)是Sandcastle的GUI（图形用户界面）版本，Sandcastle 本身是一个console的程序。</p><ol><li>下载完shfb后解压安装，本文用的是SHFBGuidedInstaller_1980，双击“SandcastleInstaller.exe”运行<br><img src="/images/2013123017521201.jpg" alt="2013123017521201.jpg"></li><li>看见此界面后直接next，不用管什么配置<br><img src="/images/2013123017521202.jpg" alt="2013123017521202.jpg"></li><li>安装完成后在vs中可以找到“Documentation”模板，如果没有找到在下载的文件中找到“SHFBVisualStudioPackage_1980.vsix”重新安装一下<br><img src="/images/2013123017521203.jpg" alt="2013123017521203.jpg"><br>安装成功后会弹出下图对话框。<br><img src="/images/2013123017521204.jpg" alt="2013123017521204.jpg"></li><li>新建项目选择“Sandcastle Help File Builder Project”,在新建的项目上右键选择生成文档的格式类型<br><img src="/images/2013123017521205.jpg" alt="2013123017521205.jpg"></li><li>在“Visibility”中选择过滤哪些不需要的选项，然后直接点击“Close”就可以了。<br><img src="/images/2013123017521206.jpg" alt="2013123017521206.jpg"></li><li>在项目工程有右键属性，然后在”生成“中勾选”XML文档文件“，这个不勾选那个方法的说明将不会在生成的帮助文档中显示。<br><img src="/images/2013123017521207.jpg" alt="2013123017521207.jpg"><br><img src="/images/2013123017521208.jpg" alt="2013123017521208.jpg"></li></ol><p>如果点击”Build“的时候报错，注意查看下面的输出日志。</p>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Doxygen简介</title>
      <link href="/qt/doxygen-jian-jie/"/>
      <url>/qt/doxygen-jian-jie/</url>
      
        <content type="html"><![CDATA[<h1 id="一．什么是Doxygen"><a href="#一．什么是Doxygen" class="headerlink" title="一．什么是Doxygen?"></a>一．什么是Doxygen?</h1><pre><code>  Doxygen 是一个程序的文件产生工具，可将程序中的特定批注转换成为说明文件。通常我们在写程序时，或多或少都会写上批注，但是对于其它人而言，要直接探索程序里的批注，与打捞铁达尼号同样的辛苦。大部分有用的批注都是属于针对函式，类别等等的说明。所以，如果能依据程序本身的结构，将批注经过处理重新整理成为一个纯粹的参考手册，对于后面利用您的程序代码的人而言将会减少许多的负担。不过，反过来说，整理文件的工作对于您来说，就是沉重的负担。</code></pre><p>Doxygen 就是在您写批注时，稍微按照一些它所制订的规则。接着，他就可以帮您产生出漂亮的文档了。</p><p>因此，Doxygen 的使用可分为两大部分。首先是特定格式的批注撰写，第二便是利用Doxygen的工具来产生文档。</p><p>目前Doxygen可处理的程序语言包含：</p><ul><li>C&#x2F;C++</li><li>Java</li><li>IDL (Corba, Microsoft及KDE-DCOP类型)</li></ul><p>而可产生出来的文档格式有：</p><ul><li>HTML</li><li>XML</li><li>LaTeX</li><li>RTF</li><li>Unix Man Page</li></ul><p>而其中还可衍生出不少其它格式。HTML可以打包成CHM格式，而LaTeX可以透过一些工具产生出PS或是PDF文档。</p><h1 id="二．安装Doxygen"><a href="#二．安装Doxygen" class="headerlink" title="二．安装Doxygen"></a>二．安装Doxygen</h1><h4 id="1-1-安装-Doxygen-1-8-2-Windows"><a href="#1-1-安装-Doxygen-1-8-2-Windows" class="headerlink" title="1.1 安装 Doxygen 1.8.2(Windows)"></a>1.1 安装 <a href="http://ftp.stack.nl/pub/users/dimitri/doxygen-1.8.2-setup.exe">Doxygen 1.8.2(Windows)</a></h4><h4 id="1-2-安装-graphviz-2-28-0-Windows"><a href="#1-2-安装-graphviz-2-28-0-Windows" class="headerlink" title="1.2 安装 graphviz 2.28.0(Windows)"></a>1.2 安装 <a href="http://www.graphviz.org/Download.php">graphviz 2.28.0(Windows)</a></h4><pre><code>graphviz 是一个由AT&amp;T实验室启动的开源工具包，用于绘制DOT语言脚本描述的图形。Doxygen 使用 graphviz 自动生成类之间和文件之间的调用关系图，如不需要此功能可不安装该工具包。</code></pre><h4 id="1-3-安装-html-help-workshop-1-32"><a href="#1-3-安装-html-help-workshop-1-32" class="headerlink" title="1.3 安装 html help workshop 1.32"></a>1.3 安装 <a href="http://dl.pconline.com.cn/html_2/1/87/id=1917&pn=0&linkPage=1.html">html help workshop 1.32</a></h4><pre><code>Doxygen 使用这个工具可以生成 CHM 格式的文档。</code></pre><h1 id="三．Doxygen的配置"><a href="#三．Doxygen的配置" class="headerlink" title="三．Doxygen的配置"></a>三．Doxygen的配置</h1><pre><code>Doxygen 产生文档可以分为三个步骤。一是在程序代码中加上符合Doxygen所定义批注格式。二是使用Doxywizard进行配置。三是使用Doxygen来产生批注文档。Doxygen 1.7.4 主界面如下图 1 所示。</code></pre><p> 说明：1，Doxygen 工作目录，就是用来存放配置文件的目录。</p><pre><code>   2，递归搜索源文件目录需要选上。      选择 wizard 标签下的 Output Topics      相关配置说明如下图 2 所示。      选择 wizard 标签下的 Diagrams Topics      相关配置说明如下图 3 所示。      说明：如果选择这个选项之前需要先安装了 Graphviz 工具包。      选择 expert 标签下的 Project Topics      相关配置说明如下图 4 所示。      说明：编码格式，UTF-8是首选。如果需要显示中文则选择GB2313.      TAB_SIZE 主要是帮助文件中代码的缩进尺寸，譬如@code和@endcode段代码的排版，建议设置成4。      OPTIMIZE_OUTPUT_FOR_C 这个选项选择后，生成文档的一些描述性名称发生变化，主要是符合C习惯。如果      是纯C代码，建议选择。      SUBGROUPING这个选项选择后，输出将会按类型分组。      选择 expert 标签下的 Build      Build页面，这个页面是生成帮助信息中比较关键的配置页面：</code></pre><p>EXTRACT_ALL 表示：输出所有的函数，但是private和static函数不属于其管制。</p><p>EXTRACT_PRIVATE 表示：输出private函数。</p><p>EXTRACT_STATIC 表示：输出static函数。同时还有几个EXTRACT，相应查看文档即可。</p><p>HIDE_UNDOC_MEMBERS 表示：那些没有使用doxygen格式描述的文档（函数或类等）就不显示了。当然，如果EXTRACT_ALL被启用，那么这个标志其实是被忽略的。</p><p>INTERNAL_DOCS 主要指：是否输出注解中的@internal部分。如果没有被启动，那么注解中所有的@internal部分都</p><p>将在目标帮助中不可见。</p><p>CASE_SENSE_NAMES 表示：是否关注大小写名称，注意，如果开启了，那么所有的名称都将被小写。对于C&#x2F;C++这种</p><p>字母相关的语言来说，建议永远不要开启。</p><p>HIDE_SCOPE_NAMES 表示：域隐藏，建议永远不要开启。</p><p>SHOW_INCLUDE_FILES 表示：是否显示包含文件，如果开启，帮助中会专门生成一个页面，里面包含所有包含文件的列</p><p>表。</p><p>INLINE_INFO ：如果开启，那么在帮助文档中，inline函数前面会有一个inline修饰词来标明。</p><p>SORT_MEMBER_DOCS ：如果开启，那么在帮助文档列表显示的时候，函数名称会排序，否则按照解释的顺序显</p><p>示。</p><p>GENERATE_TODOLIST ：是否生成TODOLIST页面，如果开启，那么包含在@todo注解中的内容将会单独生成并显</p><p>示在一个页面中，其他的GENERATE选项同。</p><p>SHOW_USED_FILES ：是否在函数或类等的帮助中，最下面显示函数或类的来源文件。</p><p>SHOW_FILES ：是否显示文件列表页面，如果开启，那么帮助中会存在一个一个文件列表索引页面。<br>选择 expert 标签下的 Input Topics<br>相关配置说明如下图 5 所示。</p><p>说明：输入的源文件的编码，要与源文件的编码格式相同。如果源文件不是UTF-8编码最好转一下。<br>选择 expert 标签下的 HTML Topics<br>相关配置说明如下图 6 所示。</p><p>说明：1，CHM_FILE文件名需要加上后缀（xx.chm）。<br>      2，如果在 Wizard 的 Output Topics 中选择了 prepare for compressed HTML (.chm)选项，此处就会要求选择 hhc.exe 程序的位置。在 windows help workshop 安装目录下可以找到 hhc.exe。<br>     3，为了解决DoxyGen生成的CHM文件的左边树目录的中文变成了乱码，CHM_INDEX_ENCODING中输入GB2312即可。<br>     4，GENERATE_CHI 表示索引文件是否单独输出，建议关闭。否则每次生成两个文件，比较麻烦。<br>     5，TOC_EXPAND 表示是否在索引中列举成员名称以及分组（譬如函数，枚举）名称。<br>选择 Run 标签<br>相关配置说明如下图 7 所示。</p><p>   点击 Run doxygen 按钮， Doxygen 就会从源代码中抓取符合规范的注释生成你定制的格式的文档。</p><h1 id="四．撰写正确格式的批注"><a href="#四．撰写正确格式的批注" class="headerlink" title="四．撰写正确格式的批注"></a>四．撰写正确格式的批注</h1><p>并非所有程序代码中的批注都会被Doxygen 所处理。您必需依照正确的格式撰写。原则上，Doxygen 仅处理与程序结构相关的批注，如Function，Class ，档案的批注等。对于Function内部的批注则不做处理。Doxygen可处理下面几种类型的批注。</p><p>JavaDoc类型：</p><p>&#x2F;**</p><ul><li>… 批注 …<br> *&#x2F;</li></ul><p>Qt类型：</p><p>&#x2F;*!</p><ul><li>… 批注 …<br> *&#x2F;</li></ul><p>单行型式的批注：</p><p>&#x2F;&#x2F;&#x2F; … 批注 …</p><p>或   </p><p>&#x2F;&#x2F;! … 批注 …</p><p>要使用哪种型态完全看自己的喜好。以笔者自己来说，大范围的注解我会使用JavaDoc 型的。单行的批注则使用”&#x2F;&#x2F;&#x2F;“ 的类型。</p><p>此外，由于Doxygen 对于批注是视为在解释后面的程序代码。也就是说，任何一个批注都是在说明其后的程序代码。如果要批注前面的程式码则需用下面格式的批注符号。</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">/*<span class="token operator">!</span><span class="token operator">&lt;</span> <span class="token punctuation">..</span>. 批注 <span class="token punctuation">..</span>. *//**<span class="token operator">&lt;</span> <span class="token punctuation">..</span>. 批注 <span class="token punctuation">..</span>. *///<span class="token operator">!</span><span class="token operator">&lt;</span> <span class="token punctuation">..</span>. 批注 <span class="token punctuation">..</span>.///<span class="token operator">&lt;</span> <span class="token punctuation">..</span>. 批注 <span class="token punctuation">..</span>.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>上面这个方式并不适用于任何地方，只能用在class 的member或是function的参数上。<br>举例来说，若我们有下面这样的class。</p><pre><code>class MyClass &#123;    public:        int member1 ;        int member2:        void member_function();&#125;;</code></pre><p>加上批注后，就变成这样：</p><pre><code>/** * 我的自订类别说明 ... */class MyClass &#123;    public:        int member1 ; ///&lt; 第一个member说明 ...        int member2:  ///&lt; 第二个member说明 ...        int member_function(int a, int b);&#125;;/** * 自订类别的member_funtion说明 ... * * @param a 参数a的说明 * @param b 参数b的说明 * * @return 传回a+b。 */int MyClass::member_function( int a, int b )&#123;    return a+b ;&#125;</code></pre><p>当 您使用Doxygen 产生说明文档时，Doxygen 会帮您parsing 您的程式码。并且依据程序结构建立对应的文件。然后再将您的批注，依据其位置套入于正确的地方。您可能已经注意到，除了一般文字说明外，还有一些其它特别 的指令，像是@param及@return 等。这正是Doxygen 另外一个重要的部分，因为一个类别或是函式其实都有固定几个要说明的部分。为了让Doxygen 能够判断，所有我们就必需使用这些指令，来告诉Doxygen 后面的批注是在说明什么东西。Doxygen 在处理时，就会帮您把这些部分做特别的处理或是排版。甚至是制作参考连结。</p><p>首先，我们先说明在Doxygen 中对于类别或是函数批注的一个特定格式。</p><pre><code>/** * class或function的简易说明... * * class或function的详细说明... * ... */</code></pre><p>上 面这个例子要说的是，在Doxygen 处理一个class 或是function注解时，会先判断第一行为简易说明。这个简易说明将一直到空一行的出现。或是遇到第一个”.” 为止。之后的批注将会被视为详细说明。两者的差异在于Doxygen 在某些地方只会显示简易说明，而不显示详细说明。如：class 或function的列表。<br>另一种比较清楚的方式是指定@brief的指令。这将会明确的告诉Doxygen，何者是简易说明。例如：</p><pre><code>/** * @brief class或function的简易说明... * * class或function的详细说明... * ... */</code></pre><p>除了这个class 及function外，Doxygen 也可针对档案做说明，条件是该批注需置于档案的前面。主要也是利用一些指令，通常这部分注解都会放在档案的开始地方。如：</p><pre><code>/*! \file myfile.h    \brief 档案简易说明    详细说明.       \author 作者信息*/</code></pre><p>如您所见，档案批注约略格式如上，请别被”&quot; 所搞混。其实，”&quot; 与”@” 都是一样的，都是告诉Doxygen 后面是一个指令。两种在Doxygen 都可使用。笔者自己比较偏好使用”@”。<br>接着我们来针对一些常用的指令做说明：</p><table><thead><tr><th>属性</th><th>说明</th></tr></thead><tbody><tr><td>@file</td><td>档案的批注说明。</td></tr><tr><td>@author</td><td>作者的信息</td></tr><tr><td>@brief</td><td>用于class 或function的批注中，后面为class 或function的简易说明。</td></tr><tr><td>@param</td><td>格式为 @param arg_name 参数说明 主要用于函式说明中，后面接参数的名字，然后再接关于该参数的说明。</td></tr><tr><td>@return</td><td>后面接函数传回值的说明。用于function的批注中。说明该函数的传回值。</td></tr><tr><td>@retval</td><td>格式为 @retval value 传回值说明 主要用于函式说明中，说明特定传回值的意义。所以后面要先接一个传回值。然后在放该传回值的说明。</td></tr></tbody></table><p>Doxygen 所支持的指令很多，有些甚至是关于输出排版的控制。您可从Doxygen的使用说明中找到详尽的说明。<br>下面我们准备一组example.h 及example.cpp 来说明Doxygen 批注的使用方式：</p><p>example.h:</p><pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">&#x2F;** * @file 本范例的include档案。 * * 这个档案只定义example这个class。 * * @author garylee@localhost *&#x2F;       #define EXAMPLE_OK  0   &#x2F;&#x2F;&#x2F;&lt; 定义EXAMPLE_OK的宏为0。&#x2F;** * @brief Example class的简易说明 * * 本范例说明Example class。 * 这是一个极为简单的范例。 * *&#x2F;class Example &#123;    private:        int var1 ; &#x2F;&#x2F;&#x2F;&lt; 这是一个private的变数    public:        int var2 ; &#x2F;&#x2F;&#x2F;&lt; 这是一个public的变数成员。        int var3 ; &#x2F;&#x2F;&#x2F;&lt; 这是另一个public的变数成员。        void ExFunc1(void);        int ExFunc2(int a, char b);        char *ExFunc3(char *c) ;&#125;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>example.cpp:</p><pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">&#x2F;** * @file 本范例的程序代码档案。 * * 这个档案用来定义example这个class的 * member function。 * * @author garylee@localhost *&#x2F;&#x2F;** * @brief ExFunc1的简易说明 * * ExFunc1没有任何参数及传回值。 *&#x2F;void Example::ExFunc1(void)&#123;    &#x2F;&#x2F; empty funcion.&#125;&#x2F;** * @brief ExFunc2的简易说明 * * ExFunc3()传回两个参数相加的值。 * * @param a 用来相加的参数。 * @param b 用来相加的参数。 * @return 传回两个参数相加的结果。 *&#x2F;int ExFunc2(int a, char b)&#123;    return (a+b);&#125;&#x2F;** * @brief ExFunc3的简易说明 * * ExFunc3()只传回参数输入的指标。 * * @param c 传进的字符指针。 * @retval NULL 空字符串。 * @retval !NULL 非空字符串。 *&#x2F;char * ExFunc2(char * c)&#123;    return c;&#125;  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> QT </category>
          
      </categories>
      
      
        <tags>
            
            <tag> QT </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VS文档自动生成</title>
      <link href="/c-winform/vs-wen-dang-zi-dong-sheng-cheng/"/>
      <url>/c-winform/vs-wen-dang-zi-dong-sheng-cheng/</url>
      
        <content type="html"><![CDATA[<p>(发现，Sandcastle主要是用于C#项目。里面的注释都是XML格式的。不太适合VC的。最终还是得用Doxygen)</p><h2 id="一、Sandcastle简介："><a href="#一、Sandcastle简介：" class="headerlink" title="一、Sandcastle简介："></a>一、Sandcastle简介：</h2><p>Sandcastle(CodeName)是微软出的用于编译发布组件（Assembly）信息的一个工具，其前身为发布VS2005之前，MS内部开发了一个用于生成帮助文档的工具。</p><h2 id="二、Sandcastle与NDoc的简单比较："><a href="#二、Sandcastle与NDoc的简单比较：" class="headerlink" title="二、Sandcastle与NDoc的简单比较："></a>二、Sandcastle与NDoc的简单比较：</h2><p>NDoc是.Net2003下的文档生成工具，它是一个开源的东东。目前已经停止开发，最新版本不支持2.0。</p><p>它们都是通过反射和Xslt技术，从dll文件及其注释（编译时加&#x2F;doc参数得到）中得到一个完整的帮助文档，文档格式可以是html或chm甚至是任何自定义的格式。</p><p>当前Sandcastle最新版本是June CTP，使用的方式仍然是命令行，不提供GUI支持；而且官方网站上给出的使用说明：其只能支持单一的dll，对于Solution仍然没有任何说明。</p><h2 id="三、如何利用Sandcastle自动生成-NET2-0开发帮助文档"><a href="#三、如何利用Sandcastle自动生成-NET2-0开发帮助文档" class="headerlink" title="三、如何利用Sandcastle自动生成.NET2.0开发帮助文档"></a>三、如何利用Sandcastle自动生成.NET2.0开发帮助文档</h2><p>A．软件安装准备工作：(下载网站：<a href="http://shfb.codeplex.com/">http://shfb.codeplex.com/</a>）</p><h4 id="1、-必备软件：HtmlHelpWorkshop-exe-网上到处都有；如果本机已经安装就无需理会；"><a href="#1、-必备软件：HtmlHelpWorkshop-exe-网上到处都有；如果本机已经安装就无需理会；" class="headerlink" title="1、 必备软件：HtmlHelpWorkshop.exe 网上到处都有；如果本机已经安装就无需理会；"></a>1、 必备软件：HtmlHelpWorkshop.exe 网上到处都有；如果本机已经安装就无需理会；</h4><h4 id="2、下载该软件，网址：http-shfb-codeplex-com"><a href="#2、下载该软件，网址：http-shfb-codeplex-com" class="headerlink" title="2、下载该软件，网址：http://shfb.codeplex.com/"></a>2、下载该软件，网址：<a href="http://shfb.codeplex.com/">http://shfb.codeplex.com/</a></h4><pre><code>         解压找到文件夹InstallResources；可找到两个安装包Sandcastle_2710.msi；SandcastleHelpFileBuilder_1950.msi</code></pre><h4 id="3、开始安装，需要装两个软件（最好默认安装到C-下）"><a href="#3、开始安装，需要装两个软件（最好默认安装到C-下）" class="headerlink" title="3、开始安装，需要装两个软件（最好默认安装到C:\下）"></a>3、开始安装，需要装两个软件（最好默认安装到C:\下）</h4><pre><code>         先安装Sandcastle_2710.msi；        后安装SandcastleHelpFileBuilder_1950.msi</code></pre><h4 id="4、安装完毕后，在程序中可以找到“Sandcastle-Help-File-Builder-GUI”执行文件，运行：（里面已经新建了一个工程-7）"><a href="#4、安装完毕后，在程序中可以找到“Sandcastle-Help-File-Builder-GUI”执行文件，运行：（里面已经新建了一个工程-7）" class="headerlink" title="4、安装完毕后，在程序中可以找到“Sandcastle Help File Builder GUI”执行文件，运行：（里面已经新建了一个工程-7）"></a>4、安装完毕后，在程序中可以找到“Sandcastle Help File Builder GUI”执行文件，运行：（里面已经新建了一个工程-7）</h4><p>使用步骤：</p><h5 id="1、点击“File”–-New-Project-–-弹出对话框，输入工程名称，比如：AA，点击保存"><a href="#1、点击“File”–-New-Project-–-弹出对话框，输入工程名称，比如：AA，点击保存" class="headerlink" title="1、点击“File”–&gt; New Project –&gt;弹出对话框，输入工程名称，比如：AA，点击保存"></a>1、点击“File”–&gt; New Project –&gt;弹出对话框，输入工程名称，比如：AA，点击保存</h5><h5 id="2、见AA工程如下图"><a href="#2、见AA工程如下图" class="headerlink" title="2、见AA工程如下图"></a>2、见AA工程如下图</h5><h5 id="3、点击“右边AA”下面“Documentation-Source”，点击右键Add，选择我们开发项目已经编译好的dll和xml文件（注意：项目编译-必须输出-xml文件，方法见下面解说）"><a href="#3、点击“右边AA”下面“Documentation-Source”，点击右键Add，选择我们开发项目已经编译好的dll和xml文件（注意：项目编译-必须输出-xml文件，方法见下面解说）" class="headerlink" title="3、点击“右边AA”下面“Documentation Source”，点击右键Add，选择我们开发项目已经编译好的dll和xml文件（注意：项目编译                  必须输出 xml文件，方法见下面解说）"></a>3、点击“右边AA”下面“Documentation Source”，点击右键Add，选择我们开发项目已经编译好的dll和xml文件（注意：项目编译                  必须输出 xml文件，方法见下面解说）</h5><h5 id="4、配置相关属性"><a href="#4、配置相关属性" class="headerlink" title="4、配置相关属性;"></a>4、配置相关属性;</h5><pre><code>    ①、FrameworkVersion --- 选择对应项目的.net版本(目前支到4.0)    ②、ProjectSummary     ---  项目说明-编译后的hm--Title属性名称    ③、HtmlHelpName       ---   输出chm文件的名称    ④、HelpTitle                  ---   文件标题说明    ⑤、HelpFileFormat      ---   选择HtmlHelp1    ⑥、Language               ---   默认选中“英语（美）”    ⑦、CopyrightText        ---   你的版权说明    ⑧、DocumentInheritedFrameworkMembers   ---- alse    true&lt;将屏蔽继承过来的自带的一些方法说明&gt;    ⑨、DocumentInheritedMembers                       --- false    true&lt;将屏蔽继承过来的自带的一些方法说明&gt;    ⑩、OutputPath            ---  输出chm的文件夹    其他属性可默认....</code></pre><h5 id="5、点击“Bulid-the-help-file”按钮进行编译操作，"><a href="#5、点击“Bulid-the-help-file”按钮进行编译操作，" class="headerlink" title="5、点击“Bulid the help file”按钮进行编译操作，"></a>5、点击“Bulid the help file”按钮进行编译操作，</h5><p> 解说：项目生成输出xml文件操作—》点击项目属性，弹出对话—生成–勾选中 输出XML文档文件，下次编译即可输出xml文件</p>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>QT 商业版调用activex插件</title>
      <link href="/qt/qt-shang-ye-ban-diao-yong-activex-cha-jian/"/>
      <url>/qt/qt-shang-ye-ban-diao-yong-activex-cha-jian/</url>
      
        <content type="html"><![CDATA[<p>搭建好qt项目后</p><p>在main.cpp中写入如下代码</p><pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">#include &quot;test.h&quot;#include &lt;QtWidgets&#x2F;QApplication&gt;#include &lt;QAxWidget&gt;#include &lt;QString&gt;int main(int argc, char *argv[])&#123;    QApplication a(argc, argv);    QAxWidget *map&#x3D;new QAxWidget(0,0);    map-&gt;resize(1000,800);    map-&gt;setControl(QString::fromUtf8(&quot;&#123;C54A9308-CECF-42F4-85DD-96F8AD9A67C6&#125;&quot;));    map-&gt;dynamicCall(&quot;openTerrain(string,string,string,string)&quot;,&quot;http:&#x2F;&#x2F;www.drawsee.com&#x2F;service20&#x2F;TerrainService&#x2F;TerrainService.asmx&#x2F;&quot;,&quot;China&quot;,&quot;http:&#x2F;&#x2F;www.drawsee.com&#x2F;service20&#x2F;TerrainImageService&#x2F;TerrainImageService.asmx&#x2F;&quot;,&quot;earthnew&quot;);    map-&gt;show();    &#x2F;&#x2F;test w;    &#x2F;&#x2F;w.show();    return a.exec();&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>C54A9308-CECF-42F4-85DD-96F8AD9A67C6是地图插件的id这个是个标识。</p><p>其中openTerrain是打开地图的方法。</p>]]></content>
      
      
      <categories>
          
          <category> QT </category>
          
      </categories>
      
      
        <tags>
            
            <tag> QT </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>html 页面跳转方式</title>
      <link href="/html-css/html-ye-mian-tiao-zhuan-fang-shi/"/>
      <url>/html-css/html-ye-mian-tiao-zhuan-fang-shi/</url>
      
        <content type="html"><![CDATA[<p>网页的跳转在很多时候都非常的有用，下面的是两个简单的例子。仅供参考。</p><h3 id="一、用meta里直接写刷新语句：5秒后跳转到百度"><a href="#一、用meta里直接写刷新语句：5秒后跳转到百度" class="headerlink" title="一、用meta里直接写刷新语句：5秒后跳转到百度"></a>一、用meta里直接写刷新语句：5秒后跳转到百度</h3><pre class="line-numbers language-HTML" data-language="HTML"><code class="language-HTML">&lt;html&gt;    &lt;head&gt;    &lt;meta http-equiv&#x3D;&quot;refresh&quot; content&#x3D;&quot;5;url&#x3D;http:&#x2F;&#x2F;www.baidu.com&quot;&gt;    &lt;title&gt;跳转测试&lt;&#x2F;title&gt;    &lt;&#x2F;head&gt;    &lt;body&gt;    测试：html网页自动跳转代码    &lt;&#x2F;body&gt;&lt;&#x2F;html&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="二、用javascript的window-location-href方法实现跳转"><a href="#二、用javascript的window-location-href方法实现跳转" class="headerlink" title="二、用javascript的window.location.href方法实现跳转"></a>二、用javascript的window.location.href方法实现跳转</h3><pre class="line-numbers language-HTML" data-language="HTML"><code class="language-HTML">&lt;script language&#x3D;&quot;javascript&quot; type&#x3D;&quot;text&#x2F;javascript&quot;&gt; &#x2F;&#x2F; 方式一 直接跳转window.location.href&#x3D;&#39;hello.html&#39;;&#x2F;&#x2F; 方式二 定时跳转setTimeout(&quot;javascript:location.href&#x3D;&#39;hello.html&#39;&quot;, 5000); 以上两种任选其一&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> HTML/CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTML/CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Oracle 连接字符串</title>
      <link href="/mysql-sql-oracle/oracle-lian-jie-zi-fu-chuan/"/>
      <url>/mysql-sql-oracle/oracle-lian-jie-zi-fu-chuan/</url>
      
        <content type="html"><![CDATA[<p>方式一：</p><p>data source&#x3D;(DESCRIPTION&#x3D;(ADDRESS_LIST&#x3D;(ADDRESS&#x3D;(PROTOCOL&#x3D;TCP)(HOST&#x3D;IP)(PORT&#x3D;1521)))(CONNECT_DATA&#x3D;(SERVICE_NAME&#x3D;服务器)));Persist Security Info&#x3D;True;user id&#x3D;用户名;password&#x3D;密码;</p><p>方式二：<br>data source&#x3D;ip&#x2F;服务名;user id&#x3D;用户名;password&#x3D;密码;</p>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>将GPT转换成MBR</title>
      <link href="/computer/jiang-gpt-zhuan-huan-cheng-mbr/"/>
      <url>/computer/jiang-gpt-zhuan-huan-cheng-mbr/</url>
      
        <content type="html"><![CDATA[<p>准备一个pe启动盘</p><h5 id="1-单击”运行“在弹出来的窗口输入cmd回车"><a href="#1-单击”运行“在弹出来的窗口输入cmd回车" class="headerlink" title="1.单击”运行“在弹出来的窗口输入cmd回车"></a>1.单击”运行“在弹出来的窗口输入cmd回车</h5><h5 id="2-在输入“diskpart”回车"><a href="#2-在输入“diskpart”回车" class="headerlink" title="2.在输入“diskpart”回车"></a>2.在输入“diskpart”回车</h5><h5 id="3-在输入“list-disk”显示硬盘信息，查看那个盘是gpt分区类型"><a href="#3-在输入“list-disk”显示硬盘信息，查看那个盘是gpt分区类型" class="headerlink" title="3.在输入“list disk”显示硬盘信息，查看那个盘是gpt分区类型"></a>3.在输入“list disk”显示硬盘信息，查看那个盘是gpt分区类型</h5><h5 id="4-输入“select-disk-0”，表示选中磁盘0，这个看具体情况。"><a href="#4-输入“select-disk-0”，表示选中磁盘0，这个看具体情况。" class="headerlink" title="4.输入“select disk 0”，表示选中磁盘0，这个看具体情况。"></a>4.输入“select disk 0”，表示选中磁盘0，这个看具体情况。</h5><h5 id="5-输入“clean”清楚当前所选磁盘。"><a href="#5-输入“clean”清楚当前所选磁盘。" class="headerlink" title="5.输入“clean”清楚当前所选磁盘。"></a>5.输入“clean”清楚当前所选磁盘。</h5><h5 id="6-输入“convert-mbr”将gpt转换成mbr格式的了。"><a href="#6-输入“convert-mbr”将gpt转换成mbr格式的了。" class="headerlink" title="6.输入“convert mbr”将gpt转换成mbr格式的了。"></a>6.输入“convert mbr”将gpt转换成mbr格式的了。</h5><p>扩展知识：convert命令的其它用法：</p><p>convert  basic     -将磁盘从动态转换为基本。</p><p>convert  dynamic  -将磁盘从基本转换为动态。</p><p>convert  gpt      -将磁盘从MBR转换为GPT。</p><p>convert  mbr     -将磁盘从GPT转换为MBR</p><p>convert X：&#x2F;FS:NTFS(X：是所要转化的分区盘符)</p>]]></content>
      
      
      <categories>
          
          <category> Computer </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Computer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>QT LCDNumber使用</title>
      <link href="/qt/qt-lcdnumber-shi-yong/"/>
      <url>/qt/qt-lcdnumber-shi-yong/</url>
      
        <content type="html"><![CDATA[<p>新建一个QT工程</p><p>然后在cpp文件中写入代码</p><pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">#include &quot;hello.h&quot;#include &lt;qthread.h&gt;#include &lt;QVariant&gt;#include &lt;qstring.h&gt;Hello::Hello(QWidget *parent)    : QDialog(parent)&#123;        ui.setupUi(this);        ui.slider-&gt;setRange(0,1000);    connect(ui.slider,SIGNAL(valueChanged(int)),ui.lcd,SLOT(display(int)));&#125;Hello::~Hello()&#123;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>拉动滑块就可以改变lcdnumber中的数值。</p>]]></content>
      
      
      <categories>
          
          <category> QT </category>
          
      </categories>
      
      
        <tags>
            
            <tag> QT </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windows QT 商业版 试用</title>
      <link href="/qt/windows-qt-shang-ye-ban-shi-yong/"/>
      <url>/qt/windows-qt-shang-ye-ban-shi-yong/</url>
      
        <content type="html"><![CDATA[<p>You’re about to evaluate Qt Enterprise - the cross-platform application and UI framework used to develop world-leading applications such as Skype , Adobe  Photoshop  Elements, and Google  Earth, as well as millions of embedded devices.</p><p>GETTING STARTED</p><ol><li>Use the links below to download your evaluation</li><li>Install the items you need with the online installer</li><li>Start using Qt!</li></ol><p>GET THE MOST OUT OF YOUR EVALUATION</p><ol><li>Try the Qt Creator IDE and the Qt development tools.</li><li>Dive into the rich Qt documentation - You have full access to extensive Qt documentation and examples included in your evaluation.</li><li>Discover the Qt Enterprise Resource Center - Find training material, on-demand webinars, whitepapers, and newsletters to get started with your Qt project at <a href="http://qt.digia.com/Resource-Center/">http://qt.digia.com/Resource-Center/</a></li><li>Stay tuned with product news on our Qt Blog - Get the latest updates, tips and tricks from Qt Experts at blog.qt.digia.com.</li><li>Write your own code - The best way to experience Qt is to start using it. Modifying and running the examples with the Qt Creator IDE is a great way to discover what’s possible with Qt.</li><li>Stay in touch with the Qt team - We are here to help you through the evaluation process and are available to answer your questions and concerns.</li></ol><p>TERMS OF YOUR EVALUATION</p><p>Your evaluation allows you to try Qt Enterprise for the next 30 days, ending on 2013-12-01.</p><p>Please note that the usage is restricted to the evaluation only. See the User Licensing Agreement included in each package for details.</p><p>WHERE TO DOWNLOAD YOUR EVALUATION</p><p>Qt Online Installer for Windows Host<br><a href="http://dist.qt.digia.com/developer/qt_online/qt-enterprise-windows-x86-1.4.0-2-online.exe">http://dist.qt.digia.com/developer/qt_online/qt-enterprise-windows-x86-1.4.0-2-online.exe</a></p><p>Additional download: Visual Studio Add-In<br><a href="http://dist.qt.digia.com/developer/qt_online/qt-vs-addin-1.2.2.exe">http://dist.qt.digia.com/developer/qt_online/qt-vs-addin-1.2.2.exe</a></p><p>HOW TO INSTALL</p><p>To install the Qt evaluation package, you need to enter the following information:</p><p>Name: xxxxxx<br>Company name: xxxxxx<br>Qt4 License Key: xxxxxx<br>Qt5 License Key: xxxxxx</p><p>注册试用版地址 <a href="http://qt.digia.com/Try-Qt-Now/">http://qt.digia.com/Try-Qt-Now/</a></p><p>这个用户注册的信息可以随便填写</p><p>We hope you enjoy your Qt evaluation. If you have any questions during your evaluation period, or would like to try our Qt support offering as part of your evaluation process, please let us know via our contact form, <a href="http://qt.digia.com/About-us/Contact-us/">http://qt.digia.com/About-us/Contact-us/</a>. We are happy to help.</p><p>Please note: The Qt evaluation process requires that you are informed when your 30-day evaluation license expires.  You will receive a short mail with that information in 30 days.</p><p>–<br>Best regards,<br>Team Qt<br>Get tips and tricks on developing with Qt: <a href="http://blog.qt.digia.com/">http://blog.qt.digia.com/</a><br>Twitter: @QtbyDigia<br>Contact Us: <a href="http://qt.digia.com/About-us/Contact-us/">http://qt.digia.com/About-us/Contact-us/</a></p><p>Join us at Qt Developer Days 2013 - The Premier Qt Event of the Year<br>Oct 7 - 9 Berlin, Germany | Nov 6 - 8 San Francisco, CA, USA<br>New to Qt? Decision maker? Not too techie? <em>New tracks this year</em> ‘Starter Edition’ - Berlin | ‘Why Qt’ - San Francisco<br><a href="http://qt.digia.com/qtdeveloperdays/">http://qt.digia.com/qtdeveloperdays/</a></p>]]></content>
      
      
      <categories>
          
          <category> QT </category>
          
      </categories>
      
      
        <tags>
            
            <tag> QT </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>QT 简单的计算器例子</title>
      <link href="/qt/qt-jian-dan-de-ji-suan-qi-li-zi/"/>
      <url>/qt/qt-jian-dan-de-ji-suan-qi-li-zi/</url>
      
        <content type="html"><![CDATA[<p>开发工具：vs2010、qt5.1</p><h4 id="1使用vs新建工程，Base-Class-选择QDialog"><a href="#1使用vs新建工程，Base-Class-选择QDialog" class="headerlink" title="1使用vs新建工程，Base Class 选择QDialog"></a>1使用vs新建工程，Base Class 选择QDialog</h4><p><img src="/images/2013103014542301.jpg" alt="2013103014542301.jpg"><br><img src="/images/2013103014542302.jpg" alt="2013103014542302.jpg"><br>注意：项目的路径最好是英文的，中文可能会报错。</p><h4 id="2新建项目后双击打开“hello-ui”文件，摆放控件（和vs摆放控件一样），摆放完成后直接保存退出。"><a href="#2新建项目后双击打开“hello-ui”文件，摆放控件（和vs摆放控件一样），摆放完成后直接保存退出。" class="headerlink" title="2新建项目后双击打开“hello.ui”文件，摆放控件（和vs摆放控件一样），摆放完成后直接保存退出。"></a>2新建项目后双击打开“hello.ui”文件，摆放控件（和vs摆放控件一样），摆放完成后直接保存退出。</h4><p><img src="/images/2013103014542303.jpg" alt="2013103014542303.jpg"></p><h4 id="3-双击打开“hello-h”文件，往里面添加代码"><a href="#3-双击打开“hello-h”文件，往里面添加代码" class="headerlink" title="3.双击打开“hello.h”文件，往里面添加代码"></a>3.双击打开“hello.h”文件，往里面添加代码</h4><pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">#ifndef HELLO_H#define HELLO_H#include &lt;QtWidgets&#x2F;QDialog&gt;#include &quot;ui_hello.h&quot;class Hello : public QDialog&#123;    Q_OBJECTpublic:    Hello(QWidget *parent &#x3D; 0);    ~Hello();signals:public    slots:    void btnOK();    void btnAdd();private:    Ui::HelloClass ui;&#125;;#endif &#x2F;&#x2F; HELLO_H<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="4-打开“hello-cpp”文件，添加代码"><a href="#4-打开“hello-cpp”文件，添加代码" class="headerlink" title="4.打开“hello.cpp”文件，添加代码"></a>4.打开“hello.cpp”文件，添加代码</h4><pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">#include &quot;hello.h&quot;#include &lt;qthread.h&gt;#include &lt;QVariant&gt;#include &lt;qstring.h&gt;Hello::Hello(QWidget *parent)    : QDialog(parent)&#123;        ui.setupUi(this);    ui.leResult-&gt;setEnabled(false);    connect(ui.pbOK,SIGNAL(clicked()),this,SLOT(btnAdd()));    connect(ui.pbExit,SIGNAL(clicked()),this,SLOT(close()));&#125;Hello::~Hello()&#123;&#125;void Hello::btnOK()&#123;    ui.pbOK-&gt;setText(&quot;Cancel&quot;);    QThread::sleep(2);    connect(ui.pbOK,SIGNAL(clicked()),this,SLOT(close()));&#125;void Hello::btnAdd()&#123;    QString num1 &#x3D; ui.leNum1-&gt;text();    QString num2 &#x3D; ui.leNum2-&gt;text();    double result;    switch(ui.cbOper-&gt;currentIndex())    &#123;        case 0:            result &#x3D; num1.toDouble() + num2.toDouble();            break;        case 1:            result &#x3D;num1.toDouble() - num2.toDouble();            break;        case 2:            result &#x3D; num1.toDouble() * num2.toDouble();            break;        case 3:            result &#x3D; num1.toDouble() &#x2F; num2.toDouble();            break;    &#125;    ui.leResult-&gt;setText(QString::number(result));&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> QT </category>
          
      </categories>
      
      
        <tags>
            
            <tag> QT </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windows下搭建QT环境</title>
      <link href="/c-winform/windows-xia-da-jian-qt-huan-jing/"/>
      <url>/c-winform/windows-xia-da-jian-qt-huan-jing/</url>
      
        <content type="html"><![CDATA[<p>必须软件</p><p><a href="http://yunpan.cn/QbTKe5j7A9J9d">qt-windows-opensource-5.1.1-msvc2010-x86-offline</a></p><p><a href="http://yunpan.cn/QbTKXdMtwF6zI">qt-vs-addin-1.2.2-opensource</a> 支持vs2008、2010、2012安装完成后vs开发工具会出现<br><img src="/images/2013102215451201.png" alt="2013102215451201.png"></p><p>安装qt 5.1.1后打开vs工具选择qt5—qt opitons 弹出一个窗口，然偶点击add，填写版本号及路径，然后点击确定。<br><img src="/images/2013102215451202.png" alt="2013102215451202.png"></p>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Silverlight 创建 ImageButton</title>
      <link href="/silverlight/silverlight-chuang-jian-imagebutton/"/>
      <url>/silverlight/silverlight-chuang-jian-imagebutton/</url>
      
        <content type="html"><![CDATA[<p>这几天一直在折腾怎么在silverlight 按钮上添加图片，直接向imagebutton那样设置成属性可以直接更改，最后到处查找资料终于搞出一个imagebutton了。</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">&lt;Style x:Key&#x3D;&quot;ButtonStyle1&quot; TargetType&#x3D;&quot;Button&quot;&gt;    &lt;Setter Property&#x3D;&quot;Background&quot; Value&#x3D;&quot;#FF1F3B53&quot;&#x2F;&gt;    &lt;Setter Property&#x3D;&quot;Foreground&quot; Value&#x3D;&quot;#FF000000&quot;&#x2F;&gt;    &lt;Setter Property&#x3D;&quot;Padding&quot; Value&#x3D;&quot;3&quot;&#x2F;&gt;    &lt;Setter Property&#x3D;&quot;BorderThickness&quot; Value&#x3D;&quot;1&quot;&#x2F;&gt;    &lt;Setter Property&#x3D;&quot;BorderBrush&quot;&gt;        &lt;Setter.Value&gt;            &lt;LinearGradientBrush EndPoint&#x3D;&quot;0.5,1&quot; StartPoint&#x3D;&quot;0.5,0&quot;&gt;                &lt;GradientStop Color&#x3D;&quot;#FFA3AEB9&quot; Offset&#x3D;&quot;0&quot;&#x2F;&gt;                &lt;GradientStop Color&#x3D;&quot;#FF8399A9&quot; Offset&#x3D;&quot;0.375&quot;&#x2F;&gt;                &lt;GradientStop Color&#x3D;&quot;#FF718597&quot; Offset&#x3D;&quot;0.375&quot;&#x2F;&gt;                &lt;GradientStop Color&#x3D;&quot;#FF617584&quot; Offset&#x3D;&quot;1&quot;&#x2F;&gt;            &lt;&#x2F;LinearGradientBrush&gt;        &lt;&#x2F;Setter.Value&gt;    &lt;&#x2F;Setter&gt;    &lt;Setter Property&#x3D;&quot;Template&quot;&gt;        &lt;Setter.Value&gt;            &lt;ControlTemplate TargetType&#x3D;&quot;Button&quot;&gt;                &lt;Grid&gt;                    &lt;VisualStateManager.VisualStateGroups&gt;                        &lt;VisualStateGroup x:Name&#x3D;&quot;CommonStates&quot;&gt;                            &lt;VisualState x:Name&#x3D;&quot;Normal&quot;&#x2F;&gt;                            &lt;VisualState x:Name&#x3D;&quot;MouseOver&quot;&gt;                                &lt;Storyboard&gt;                                    &lt;DoubleAnimation Duration&#x3D;&quot;0&quot; To&#x3D;&quot;1&quot; Storyboard.TargetProperty&#x3D;&quot;Opacity&quot; Storyboard.TargetName&#x3D;&quot;BackgroundAnimation&quot;&#x2F;&gt;                                    &lt;ColorAnimation Duration&#x3D;&quot;0&quot; To&#x3D;&quot;#F2FFFFFF&quot; Storyboard.TargetProperty&#x3D;&quot;(Rectangle.Fill).(GradientBrush.GradientStops)[1].(GradientStop.Color)&quot; Storyboard.TargetName&#x3D;&quot;BackgroundGradient&quot;&#x2F;&gt;                                    &lt;ColorAnimation Duration&#x3D;&quot;0&quot; To&#x3D;&quot;#CCFFFFFF&quot; Storyboard.TargetProperty&#x3D;&quot;(Rectangle.Fill).(GradientBrush.GradientStops)[2].(GradientStop.Color)&quot; Storyboard.TargetName&#x3D;&quot;BackgroundGradient&quot;&#x2F;&gt;                                    &lt;ColorAnimation Duration&#x3D;&quot;0&quot; To&#x3D;&quot;#7FFFFFFF&quot; Storyboard.TargetProperty&#x3D;&quot;(Rectangle.Fill).(GradientBrush.GradientStops)[3].(GradientStop.Color)&quot; Storyboard.TargetName&#x3D;&quot;BackgroundGradient&quot;&#x2F;&gt;                                &lt;&#x2F;Storyboard&gt;                            &lt;&#x2F;VisualState&gt;                            &lt;VisualState x:Name&#x3D;&quot;Pressed&quot;&gt;                                &lt;Storyboard&gt;                                    &lt;ColorAnimation Duration&#x3D;&quot;0&quot; To&#x3D;&quot;#FF6DBDD1&quot; Storyboard.TargetProperty&#x3D;&quot;(Border.Background).(SolidColorBrush.Color)&quot; Storyboard.TargetName&#x3D;&quot;Background&quot;&#x2F;&gt;                                    &lt;DoubleAnimation Duration&#x3D;&quot;0&quot; To&#x3D;&quot;1&quot; Storyboard.TargetProperty&#x3D;&quot;Opacity&quot; Storyboard.TargetName&#x3D;&quot;BackgroundAnimation&quot;&#x2F;&gt;                                    &lt;ColorAnimation Duration&#x3D;&quot;0&quot; To&#x3D;&quot;#D8FFFFFF&quot; Storyboard.TargetProperty&#x3D;&quot;(Rectangle.Fill).(GradientBrush.GradientStops)[0].(GradientStop.Color)&quot; Storyboard.TargetName&#x3D;&quot;BackgroundGradient&quot;&#x2F;&gt;                                    &lt;ColorAnimation Duration&#x3D;&quot;0&quot; To&#x3D;&quot;#C6FFFFFF&quot; Storyboard.TargetProperty&#x3D;&quot;(Rectangle.Fill).(GradientBrush.GradientStops)[1].(GradientStop.Color)&quot; Storyboard.TargetName&#x3D;&quot;BackgroundGradient&quot;&#x2F;&gt;                                    &lt;ColorAnimation Duration&#x3D;&quot;0&quot; To&#x3D;&quot;#8CFFFFFF&quot; Storyboard.TargetProperty&#x3D;&quot;(Rectangle.Fill).(GradientBrush.GradientStops)[2].(GradientStop.Color)&quot; Storyboard.TargetName&#x3D;&quot;BackgroundGradient&quot;&#x2F;&gt;                                    &lt;ColorAnimation Duration&#x3D;&quot;0&quot; To&#x3D;&quot;#3FFFFFFF&quot; Storyboard.TargetProperty&#x3D;&quot;(Rectangle.Fill).(GradientBrush.GradientStops)[3].(GradientStop.Color)&quot; Storyboard.TargetName&#x3D;&quot;BackgroundGradient&quot;&#x2F;&gt;                                &lt;&#x2F;Storyboard&gt;                            &lt;&#x2F;VisualState&gt;                            &lt;VisualState x:Name&#x3D;&quot;Disabled&quot;&gt;                                &lt;Storyboard&gt;                                    &lt;DoubleAnimation Duration&#x3D;&quot;0&quot; To&#x3D;&quot;.55&quot; Storyboard.TargetProperty&#x3D;&quot;Opacity&quot; Storyboard.TargetName&#x3D;&quot;DisabledVisualElement&quot;&#x2F;&gt;                                &lt;&#x2F;Storyboard&gt;                            &lt;&#x2F;VisualState&gt;                        &lt;&#x2F;VisualStateGroup&gt;                        &lt;VisualStateGroup x:Name&#x3D;&quot;FocusStates&quot;&gt;                            &lt;VisualState x:Name&#x3D;&quot;Focused&quot;&gt;                                &lt;Storyboard&gt;                                    &lt;DoubleAnimation Duration&#x3D;&quot;0&quot; To&#x3D;&quot;1&quot; Storyboard.TargetProperty&#x3D;&quot;Opacity&quot; Storyboard.TargetName&#x3D;&quot;FocusVisualElement&quot;&#x2F;&gt;                                &lt;&#x2F;Storyboard&gt;                            &lt;&#x2F;VisualState&gt;                            &lt;VisualState x:Name&#x3D;&quot;Unfocused&quot;&#x2F;&gt;                        &lt;&#x2F;VisualStateGroup&gt;                    &lt;&#x2F;VisualStateManager.VisualStateGroups&gt;                    &lt;Border x:Name&#x3D;&quot;Background&quot; BorderBrush&#x3D;&quot;&#123;TemplateBinding BorderBrush&#125;&quot; BorderThickness&#x3D;&quot;&#123;TemplateBinding BorderThickness&#125;&quot; Background&#x3D;&quot;White&quot; CornerRadius&#x3D;&quot;3&quot;&gt;                        &lt;Grid Background&#x3D;&quot;&#123;TemplateBinding Background&#125;&quot; Margin&#x3D;&quot;1&quot;&gt;                            &lt;Border x:Name&#x3D;&quot;BackgroundAnimation&quot; Background&#x3D;&quot;#FF448DCA&quot; Opacity&#x3D;&quot;0&quot;&#x2F;&gt;                            &lt;Rectangle x:Name&#x3D;&quot;BackgroundGradient&quot;&gt;                                &lt;Rectangle.Fill&gt;                                    &lt;LinearGradientBrush EndPoint&#x3D;&quot;.7,1&quot; StartPoint&#x3D;&quot;.7,0&quot;&gt;                                        &lt;GradientStop Color&#x3D;&quot;#FFFFFFFF&quot; Offset&#x3D;&quot;0&quot;&#x2F;&gt;                                        &lt;GradientStop Color&#x3D;&quot;#F9FFFFFF&quot; Offset&#x3D;&quot;0.375&quot;&#x2F;&gt;                                        &lt;GradientStop Color&#x3D;&quot;#E5FFFFFF&quot; Offset&#x3D;&quot;0.625&quot;&#x2F;&gt;                                        &lt;GradientStop Color&#x3D;&quot;#C6FFFFFF&quot; Offset&#x3D;&quot;1&quot;&#x2F;&gt;                                    &lt;&#x2F;LinearGradientBrush&gt;                                &lt;&#x2F;Rectangle.Fill&gt;                            &lt;&#x2F;Rectangle&gt;                        &lt;&#x2F;Grid&gt;                    &lt;&#x2F;Border&gt;                    &lt;ContentPresenter x:Name&#x3D;&quot;contentPresenter&quot; ContentTemplate&#x3D;&quot;&#123;TemplateBinding ContentTemplate&#125;&quot; Margin&#x3D;&quot;4,3,0,3&quot; VerticalAlignment&#x3D;&quot;&#123;TemplateBinding VerticalContentAlignment&#125;&quot; HorizontalAlignment&#x3D;&quot;Left&quot;&gt;                        &lt;Image Height&#x3D;&quot;32&quot; Source&#x3D;&quot;&#123;TemplateBinding Content&#125;&quot; Stretch&#x3D;&quot;Fill&quot; Width&#x3D;&quot;32&quot;&#x2F;&gt;                    &lt;&#x2F;ContentPresenter&gt;                    &lt;Rectangle x:Name&#x3D;&quot;DisabledVisualElement&quot; Fill&#x3D;&quot;#FFFFFFFF&quot; IsHitTestVisible&#x3D;&quot;false&quot; Opacity&#x3D;&quot;0&quot; RadiusY&#x3D;&quot;3&quot; RadiusX&#x3D;&quot;3&quot;&#x2F;&gt;                    &lt;Rectangle x:Name&#x3D;&quot;FocusVisualElement&quot; IsHitTestVisible&#x3D;&quot;false&quot; Margin&#x3D;&quot;1&quot; Opacity&#x3D;&quot;0&quot; RadiusY&#x3D;&quot;2&quot; RadiusX&#x3D;&quot;2&quot; Stroke&#x3D;&quot;#FF6DBDD1&quot; StrokeThickness&#x3D;&quot;1&quot;&#x2F;&gt;                    &lt;TextBlock TextWrapping&#x3D;&quot;Wrap&quot; TextAlignment&#x3D;&quot;Center&quot; Text&#x3D;&quot;&#123;TemplateBinding Tag&#125;&quot; Height&#x3D;&quot;24&quot; VerticalAlignment&#x3D;&quot;Center&quot; HorizontalAlignment&#x3D;&quot;Center&quot;&#x2F;&gt;                &lt;&#x2F;Grid&gt;            &lt;&#x2F;ControlTemplate&gt;        &lt;&#x2F;Setter.Value&gt;    &lt;&#x2F;Setter&gt;&lt;&#x2F;Style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>将上面的做好的style样式放入UserControl.Resources标签中，到时候直接放一个按钮直接引用该样式即可</p><p>例如：</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">&lt;Button x:Name&#x3D;&quot;btn1&quot; Content&#x3D;&quot;&#x2F;FrameTest;component&#x2F;images&#x2F;Normal.png&quot; HorizontalAlignment&#x3D;&quot;Left&quot; Height&#x3D;&quot;38&quot; VerticalAlignment&#x3D;&quot;Top&quot; Width&#x3D;&quot;122&quot; Style&#x3D;&quot;&#123;StaticResource ButtonStyle1&#125;&quot; Tag&#x3D;&quot;ImageButton&quot;&#x2F;&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="/images/2013071914243501.jpg" alt="2013071914243501.jpg"><br>搞到这里就算完成了，如果大家有什么更好的方法欢迎和我交流！</p>]]></content>
      
      
      <categories>
          
          <category> Silverlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Silverlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Siverlight5 3D 中文环境搭建</title>
      <link href="/silverlight/siverlight5-3d-zhong-wen-huan-jing-da-jian/"/>
      <url>/silverlight/siverlight5-3d-zhong-wen-huan-jing-da-jian/</url>
      
        <content type="html"><![CDATA[<h2 id="一-测试环境"><a href="#一-测试环境" class="headerlink" title="一.测试环境"></a>一.测试环境</h2><p>　　vs2010旗舰版</p><p>　　win7 64位旗舰版</p><h2 id="二-必备工具"><a href="#二-必备工具" class="headerlink" title="二.必备工具"></a>二.必备工具</h2><h4 id="1-vs2010-旗舰版"><a href="#1-vs2010-旗舰版" class="headerlink" title="1.vs2010 旗舰版"></a>1.vs2010 旗舰版</h4><h4 id="2-vs2010-sp1-补丁"><a href="#2-vs2010-sp1-补丁" class="headerlink" title="2.vs2010 sp1 补丁"></a>2.<a href="http://203.212.2.147/download.microsoft.com/download/E/B/A/EBA0A152-F426-47E6-9E3F-EFB686E3CA20/VS2010SP1dvd1.iso">vs2010 sp1 补丁</a></h4><h4 id="3-silverlight5-tools-也可以去silverlight官网下载"><a href="#3-silverlight5-tools-也可以去silverlight官网下载" class="headerlink" title="3.silverlight5 tools 也可以去silverlight官网下载"></a>3.<a href="http://www.microsoft.com/en-us/download/details.aspx?id=28358">silverlight5 tools</a> 也可以去<a href="http://www.microsoft.com/silverlight">silverlight官网</a>下载</h4><p>　　　　注意：现在的 silverlight5 tools 没有支持中文的，可以先用winrar解压出来，然后将ParameterInfo.xml中的1033全部替换成2052，然后在安装。具体操作请参考<a href="http://www.silverlightchina.net/html/tips/2011/1227/12878.html">http://www.silverlightchina.net/html/tips/2011/1227/12878.html</a></p><h4 id="4-Silverlight-Toolkit-December-2011-for-Silverlight-5-在官网也可以找到-http-msdn-microsoft-com-en-us-silverlight-bb187452"><a href="#4-Silverlight-Toolkit-December-2011-for-Silverlight-5-在官网也可以找到-http-msdn-microsoft-com-en-us-silverlight-bb187452" class="headerlink" title="4.Silverlight Toolkit (December 2011) for Silverlight 5 在官网也可以找到 http://msdn.microsoft.com/en-us/silverlight/bb187452"></a>4.<a href="http://silverlight.codeplex.com/releases/view/78435">Silverlight Toolkit (December 2011) for Silverlight 5</a> 在官网也可以找到 <a href="http://msdn.microsoft.com/en-us/silverlight/bb187452">http://msdn.microsoft.com/en-us/silverlight/bb187452</a></h4><h2 id="三-搭建环境"><a href="#三-搭建环境" class="headerlink" title="三.搭建环境"></a>三.搭建环境</h2><h4 id="1-在必备工具中执行第3、4步后就会在C-Program-Files-Microsoft-Visual-Studio-10-0-Common7-IDE-ProjectTemplates-CSharp-Silverlight-1033中找到Silverlight-Unit-Test-Project、Silverlight3dApp、-Silverlight3dLib这三个模板（如果是64bit系统则在C-Program-Files-x86-Microsoft-Visual-Studio-10-0-Common7-IDE-ProjectTemplates-CSharp-Silverlight-1033中）。将这三个模板文件拷贝到vs2010-安装路径的2052目录下默认的安装的路径是C-Program-Files-Microsoft-Visual-Studio-10-0-Common7-IDE-ProjectTemplates-CSharp-Silverlight-2052（比如我的vs2010安装在D盘，这路径在D-Program-Files-Microsoft-Visual-Studio-10-0-Common7-IDE-ProjectTemplates-CSharp-Silverlight-2052），如果是64bit系统这在Program-Files-x86-文件夹下。"><a href="#1-在必备工具中执行第3、4步后就会在C-Program-Files-Microsoft-Visual-Studio-10-0-Common7-IDE-ProjectTemplates-CSharp-Silverlight-1033中找到Silverlight-Unit-Test-Project、Silverlight3dApp、-Silverlight3dLib这三个模板（如果是64bit系统则在C-Program-Files-x86-Microsoft-Visual-Studio-10-0-Common7-IDE-ProjectTemplates-CSharp-Silverlight-1033中）。将这三个模板文件拷贝到vs2010-安装路径的2052目录下默认的安装的路径是C-Program-Files-Microsoft-Visual-Studio-10-0-Common7-IDE-ProjectTemplates-CSharp-Silverlight-2052（比如我的vs2010安装在D盘，这路径在D-Program-Files-Microsoft-Visual-Studio-10-0-Common7-IDE-ProjectTemplates-CSharp-Silverlight-2052），如果是64bit系统这在Program-Files-x86-文件夹下。" class="headerlink" title="1.在必备工具中执行第3、4步后就会在C:\Program Files\Microsoft Visual Studio 10.0\Common7\IDE\ProjectTemplates\CSharp\Silverlight\1033中找到Silverlight Unit Test Project、Silverlight3dApp、　　　　　　Silverlight3dLib这三个模板（如果是64bit系统则在C:\Program Files (x86)\Microsoft Visual Studio 10.0\Common7\IDE\ProjectTemplates\CSharp\Silverlight\1033中）。将这三个模板文件拷贝到vs2010　　　      安装路径的2052目录下默认的安装的路径是C:\Program Files\Microsoft Visual Studio 10.0\Common7\IDE\ProjectTemplates\CSharp\Silverlight\2052（比如我的vs2010安装在D盘，这路径在D:\Program  　　　　Files\Microsoft Visual Studio 10.0\Common7\IDE\ProjectTemplates\CSharp\Silverlight\2052），如果是64bit系统这在Program Files (x86)文件夹下。"></a>1.在必备工具中执行第3、4步后就会在C:\Program Files\Microsoft Visual Studio 10.0\Common7\IDE\ProjectTemplates\CSharp\Silverlight\1033中找到Silverlight Unit Test Project、Silverlight3dApp、　　　　　　Silverlight3dLib这三个模板（如果是64bit系统则在C:\Program Files (x86)\Microsoft Visual Studio 10.0\Common7\IDE\ProjectTemplates\CSharp\Silverlight\1033中）。将这三个模板文件拷贝到vs2010　　　      安装路径的2052目录下默认的安装的路径是C:\Program Files\Microsoft Visual Studio 10.0\Common7\IDE\ProjectTemplates\CSharp\Silverlight\2052（比如我的vs2010安装在D盘，这路径在D:\Program  　　　　Files\Microsoft Visual Studio 10.0\Common7\IDE\ProjectTemplates\CSharp\Silverlight\2052），如果是64bit系统这在Program Files (x86)文件夹下。</h4><p><img src="/images/2013062617141501.jpg" alt="2013062617141501.jpg"></p><h4 id="2-通过cmd命令（vista及以上系统，记得要“以管理员身份运行”，在搜索栏中输入cmd，然后在搜索的结果中右键-以管理员身份运行）安装模板文件-先要在dos界面中打开vs安装的默认路径中的C-Program-Files-Microsoft-Visual-Studio-10-0-Common7-IDE-在执行以下命令。"><a href="#2-通过cmd命令（vista及以上系统，记得要“以管理员身份运行”，在搜索栏中输入cmd，然后在搜索的结果中右键-以管理员身份运行）安装模板文件-先要在dos界面中打开vs安装的默认路径中的C-Program-Files-Microsoft-Visual-Studio-10-0-Common7-IDE-在执行以下命令。" class="headerlink" title="2.通过cmd命令（vista及以上系统，记得要“以管理员身份运行”，在搜索栏中输入cmd，然后在搜索的结果中右键 以管理员身份运行）安装模板文件(先要在dos界面中打开vs安装的默认路径中的C:\Program Files\Microsoft Visual Studio 10.0\Common7\IDE)在执行以下命令。"></a>2.通过cmd命令（vista及以上系统，记得要“以管理员身份运行”，在搜索栏中输入cmd，然后在搜索的结果中右键 以管理员身份运行）安装模板文件(先要在dos界面中打开vs安装的默认路径中的C:\Program Files\Microsoft Visual Studio 10.0\Common7\IDE)在执行以下命令。</h4><p><img src="/images/2013062617141502.jpg" alt="2013062617141502.jpg"></p><h5 id="2-1-执行devenv-setup-命令。"><a href="#2-1-执行devenv-setup-命令。" class="headerlink" title="2.1 执行devenv &#x2F;setup 命令。"></a>2.1 执行devenv &#x2F;setup 命令。</h5><h5 id="2-2-执行devenv-installvstemplates-命令。"><a href="#2-2-执行devenv-installvstemplates-命令。" class="headerlink" title="2.2 执行devenv &#x2F;installvstemplates 命令。"></a>2.2 执行devenv &#x2F;installvstemplates 命令。</h5><p>安装的快慢取决于机器的性能，如果慢就多等会。执行完这几步后就会多出三项<br><img src="/images/2013062617141503.jpg" alt="2013062617141503.jpg"></p><h4 id="3-新建3D项目，直接弹出错误窗口“创建子项目-Silverlight3dAppContent-时遇到问题。无法找到指定的模板。请检查完整路径是否正确”。可以看看这篇文章http-bbs-silverlightchina-net-forum-php-mod-viewthread-tid-13149"><a href="#3-新建3D项目，直接弹出错误窗口“创建子项目-Silverlight3dAppContent-时遇到问题。无法找到指定的模板。请检查完整路径是否正确”。可以看看这篇文章http-bbs-silverlightchina-net-forum-php-mod-viewthread-tid-13149" class="headerlink" title="3.新建3D项目，直接弹出错误窗口“创建子项目 Silverlight3dAppContent 时遇到问题。无法找到指定的模板。请检查完整路径是否正确”。可以看看这篇文章http://bbs.silverlightchina.net/forum.php?mod=viewthread&amp;tid=13149"></a>3.新建3D项目，直接弹出错误窗口“创建子项目 Silverlight3dAppContent 时遇到问题。无法找到指定的模板。请检查完整路径是否正确”。可以看看这篇文章<a href="http://bbs.silverlightchina.net/forum.php?mod=viewthread&tid=13149">http://bbs.silverlightchina.net/forum.php?mod=viewthread&amp;tid=13149</a></h4><p><img src="/images/2013062617141504.jpg" alt="2013062617141504.jpg"><br>在百度、谷歌上查找原因，原来是需要安装<a href="http://www.microsoft.com/en-us/download/details.aspx?id=23714">XNA Game Studio 4.0</a> （微软链接地址<a href="http://www.microsoft.com/en-us/download/details.aspx?id=23714%EF%BC%89">http://www.microsoft.com/en-us/download/details.aspx?id=23714）</a></p><h4 id="4-安装完这些后终于可以创建silverlight-3D项目了，在按F6生成解决方案是报错了-Error-1-Compile-error-2147024770-0-0-error-Unknown-compile-error-check-flags-against-DX-version-。在去查找原因，缺少dx的那个文件，去下载一个dx，directx-Jun2010-redist-exe-（http-www-microsoft-com-en-us-download-details-aspx-id-8109），安装这个dx后就没有问题了，可能xp环境没有这个问题。"><a href="#4-安装完这些后终于可以创建silverlight-3D项目了，在按F6生成解决方案是报错了-Error-1-Compile-error-2147024770-0-0-error-Unknown-compile-error-check-flags-against-DX-version-。在去查找原因，缺少dx的那个文件，去下载一个dx，directx-Jun2010-redist-exe-（http-www-microsoft-com-en-us-download-details-aspx-id-8109），安装这个dx后就没有问题了，可能xp环境没有这个问题。" class="headerlink" title="4.安装完这些后终于可以创建silverlight 3D项目了，在按F6生成解决方案是报错了(Error 1 Compile error -2147024770 　　(0, 0): error : Unknown compile error (check flags against DX version))。在去查找原因，缺少dx的那个文件，去下载一个dx，directx_Jun2010_redist.exe （http://www.microsoft.com/en-us/download/details.aspx?id=8109），安装这个dx后就没有问题了，可能xp环境没有这个问题。"></a>4.安装完这些后终于可以创建silverlight 3D项目了，在按F6生成解决方案是报错了(Error 1 Compile error -2147024770 　　(0, 0): error : Unknown compile error (check flags against DX version))。在去查找原因，缺少dx的那个文件，去下载一个dx，directx_Jun2010_redist.exe （<a href="http://www.microsoft.com/en-us/download/details.aspx?id=8109%EF%BC%89%EF%BC%8C%E5%AE%89%E8%A3%85%E8%BF%99%E4%B8%AAdx%E5%90%8E%E5%B0%B1%E6%B2%A1%E6%9C%89%E9%97%AE%E9%A2%98%E4%BA%86%EF%BC%8C%E5%8F%AF%E8%83%BDxp%E7%8E%AF%E5%A2%83%E6%B2%A1%E6%9C%89%E8%BF%99%E4%B8%AA%E9%97%AE%E9%A2%98%E3%80%82">http://www.microsoft.com/en-us/download/details.aspx?id=8109），安装这个dx后就没有问题了，可能xp环境没有这个问题。</a></h4><p><img src="/images/2013062617141505.jpg" alt="2013062617141505.jpg"></p><h4 id="5-silverlight项目配置"><a href="#5-silverlight项目配置" class="headerlink" title="5.silverlight项目配置"></a>5.silverlight项目配置</h4><h5 id="5-1-在Silverlight项目属性中，选中“允许在浏览器外运行应用程序“和”在浏览器内运行时需要提升的信任“，这时项目的Properties目录下-将产生对应的OutOfBrowserSettings-xml和InBrowserSettings-xml两个文件，而后续步骤的设置将改变这两个文-件的内容"><a href="#5-1-在Silverlight项目属性中，选中“允许在浏览器外运行应用程序“和”在浏览器内运行时需要提升的信任“，这时项目的Properties目录下-将产生对应的OutOfBrowserSettings-xml和InBrowserSettings-xml两个文件，而后续步骤的设置将改变这两个文-件的内容" class="headerlink" title="5.1.在Silverlight项目属性中，选中“允许在浏览器外运行应用程序“和”在浏览器内运行时需要提升的信任“，这时项目的Properties目录下 将产生对应的OutOfBrowserSettings.xml和InBrowserSettings.xml两个文件，而后续步骤的设置将改变这两个文 件的内容"></a>5.1.在Silverlight项目属性中，选中“允许在浏览器外运行应用程序“和”在浏览器内运行时需要提升的信任“，这时项目的Properties目录下 将产生对应的OutOfBrowserSettings.xml和InBrowserSettings.xml两个文件，而后续步骤的设置将改变这两个文 件的内容</h5><h5 id="5-2、点击“浏览器外设置”，勾选“使用GPU加速”与“在浏览器之外运行时需要提升的信任”-，以保证使用GPU加速，如果此两项不选，则会出现RenderModeReason-GPUAccelerationDisabled的情况。"><a href="#5-2、点击“浏览器外设置”，勾选“使用GPU加速”与“在浏览器之外运行时需要提升的信任”-，以保证使用GPU加速，如果此两项不选，则会出现RenderModeReason-GPUAccelerationDisabled的情况。" class="headerlink" title="5.2、点击“浏览器外设置”，勾选“使用GPU加速”与“在浏览器之外运行时需要提升的信任” ，以保证使用GPU加速，如果此两项不选，则会出现RenderModeReason.GPUAccelerationDisabled的情况。"></a>5.2、点击“浏览器外设置”，勾选“使用GPU加速”与“在浏览器之外运行时需要提升的信任” ，以保证使用GPU加速，如果此两项不选，则会出现RenderModeReason.GPUAccelerationDisabled的情况。</h5><p><img src="/images/2013062617141506.jpg" alt="2013062617141506.jpg"></p><p>将app设置为启动项目，运行后效果如图<br><img src="/images/2013062617141507.jpg" alt="2013062617141507.jpg"></p><p>注意在网页中运行</p><p>  必须在网页中添加这个是允许gpu加速。</p>  <pre class="line-numbers language-HTML" data-language="HTML"><code class="language-HTML">&lt;param name&#x3D;&quot;enableGPUAcceleration&quot; value&#x3D;&quot;true&quot; &#x2F;&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Silverlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Silverlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VC++ 查询数据（SQL）</title>
      <link href="/c-c/vc-cha-xun-shu-ju-sql/"/>
      <url>/c-c/vc-cha-xun-shu-ju-sql/</url>
      
        <content type="html"><![CDATA[<p>使用VC++创建一个基于对话框的MFC应用程序</p><p>在stdafx.h头文件中引入 msado15.dll文件</p><p>#import “C:\Program Files\Common Files\System\ado\msado15.dll” no_namespace rename(“EOF”,”adoEOF”)文件的路径</p><pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">void CADODlg::OnBnClickedBtnquery()&#123;    &#x2F;&#x2F; TODO: 在此添加控件通知处理程序代码    CoInitialize(NULL);    _ConnectionPtr pConn(__uuidof(Connection));    _RecordsetPtr pRst(__uuidof(Recordset));    _CommandPtr pCmd(__uuidof(Command));    pConn-&gt;ConnectionString&#x3D;&quot;Provider&#x3D;SQLOLEDB.1;Server&#x3D;.;DATABASE&#x3D;Users;UID&#x3D;sa;PWD&#x3D;***;&quot;;    pConn-&gt;Open(&quot;&quot;,&quot;&quot;,&quot;&quot;,adConnectUnspecified);    &#x2F;&#x2F;pRst&#x3D;pConn-&gt;Execute(&quot;select * from [User]&quot;,NULL,adCmdText);    &#x2F;&#x2F;pRst-&gt;Open(&quot;select * from [User]&quot;,_variant_t((IDispatch*)pConn),adOpenDynamic,adLockOptimistic,adCmdText);    pCmd-&gt;put_ActiveConnection(_variant_t((IDispatch*)pConn));    pCmd-&gt;CommandText&#x3D;&quot;select * from [User]&quot;;    pRst&#x3D;pCmd-&gt;Execute(NULL,NULL,adCmdText);    while(!pRst-&gt;adoEOF)    &#123;        ((CListBox*)GetDlgItem(IDC_LIST1))-&gt;AddString((_bstr_t)pRst-&gt;GetCollect(&quot;Name&quot;));        pRst-&gt;MoveNext();    &#125;    pRst-&gt;Close();    pConn-&gt;Close();    pCmd.Release();    pRst.Release();    pConn.Release();    CoUninitialize();&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> C/C++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C/C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ExtJs 4.0 视频教程代码</title>
      <link href="/js/extjs-4.0-shi-pin-jiao-cheng-dai-ma/"/>
      <url>/js/extjs-4.0-shi-pin-jiao-cheng-dai-ma/</url>
      
        <content type="html"><![CDATA[<p><a href="http://www.uspcat.com/?fromuid=13092">http://www.uspcat.com/?fromuid=13092</a></p>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ext智能提示</title>
      <link href="/js/ext-zhi-neng-ti-shi/"/>
      <url>/js/ext-zhi-neng-ti-shi/</url>
      
        <content type="html"><![CDATA[<p>Java： spket   <a href="http://www.spket.com/">http://www.spket.com/</a></p><p>VS ： EXT.NET <a href="http://www.ext.net/">http://www.ext.net/</a></p><p>具体操作参考 <a href="http://blog.163.com/lfsyhuangaigang@126/blog/static/77436670201211240313741/">http://blog.163.com/lfsyhuangaigang@126/blog/static/77436670201211240313741/</a></p><p><a href="http://blog.csdn.net/tianxiaode/article/details/7662912">http://blog.csdn.net/tianxiaode/article/details/7662912</a></p>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>知识扩展（线程SQL、SMTP、POP3、反射）</title>
      <link href="/c-winform/zhi-shi-kuo-zhan-xian-cheng-sql-smtp-pop3-fan-she/"/>
      <url>/c-winform/zhi-shi-kuo-zhan-xian-cheng-sql-smtp-pop3-fan-she/</url>
      
        <content type="html"><![CDATA[<p>C#线程中安全的使访问示例</p><p>刚学C#线程的朋友有可以在不知道如何在线程里调用，访问控件，，我给大家一个示例代码，，，以后可以当模板用</p><p><a href="http://blog.csdn.net/ssihc0/archive/2010/10/29/5974016.aspx">http://blog.csdn.net/ssihc0/archive/2010/10/29/5974016.aspx</a></p><p>c# 后台线程和前台线程</p><p>后台线程和前面线程的最大区别在于，后台线程不会阻止进程中止，，当属于某个进程的所有前台线程都中止了，，，，公共语言运行库就会结束该进程，所有剩余后台线程都会停止且不会完成。</p><p><a href="http://blog.csdn.net/ssihc0/archive/2010/02/23/5320532.aspx#1581510">http://blog.csdn.net/ssihc0/archive/2010/02/23/5320532.aspx#1581510</a></p><p>sql语句开远程终端+建用户+2003添加远程桌面组用户</p><p>没有技术含量,纯属一次偶然中的方便, 代码在查询分析器上可以一步完成以上操作,在2003和XP实验已经成功. 代码如下:</p><p><a href="http://blog.csdn.net/ssihc0/archive/2011/01/18/6150262.aspx">http://blog.csdn.net/ssihc0/archive/2011/01/18/6150262.aspx</a></p><p>C# SMTP与POP3应用编程</p><p><a href="http://wenku.baidu.com/view/983bcf39376baf1ffc4fadfd.html">http://wenku.baidu.com/view/983bcf39376baf1ffc4fadfd.html</a></p><p>SMTP与POP3编程</p><p><a href="http://wenku.baidu.com/view/d1f594b169dc5022aaea0015.html">http://wenku.baidu.com/view/d1f594b169dc5022aaea0015.html</a></p><p> C#怎样测试SmtpClient客户端是否成功连接SmtpServer？</p><p><a href="http://blog.csdn.net/zjfei/archive/2009/11/10/4795875.aspx">http://blog.csdn.net/zjfei/archive/2009/11/10/4795875.aspx</a></p><p>C#连接GMail的SMTP服务器发邮件的代码</p><p><a href="http://www.xwooo.com/LabView_303.html">http://www.xwooo.com/LabView_303.html</a></p><p>使用C#进行SMTP协议客户端开发心得－－连接篇</p><p><a href="http://www.xinfengit.com/200907/1566621.html">http://www.xinfengit.com/200907/1566621.html</a></p><p>了解POP3协议,使用简单的代码监控pop3邮箱,或者不用代码,直接使用telnet</p><p><a href="http://blog.csdn.net/SkyGG/archive/2004/08/04/60736.aspx">http://blog.csdn.net/SkyGG/archive/2004/08/04/60736.aspx</a></p><p>POP3 命令简介</p><p><a href="http://wenku.baidu.com/view/ec3bc969a98271fe910ef936.html">http://wenku.baidu.com/view/ec3bc969a98271fe910ef936.html</a></p><p>C#将字符串拼接后再转成对象输出其值，将一个string的字符串转成一个对象变量，反射</p><p><a href="http://www.javaeye.com/topic/247406">http://www.javaeye.com/topic/247406</a></p><p>Winform c# listview行高的设置</p><p><a href="http://blog.csdn.net/hfzsjz/archive/2008/11/06/3241533.aspx">http://blog.csdn.net/hfzsjz/archive/2008/11/06/3241533.aspx</a></p><p>Oracle、SQL Server中如何锁定DB和解锁DB</p><p><a href="http://tech.ccidnet.com/art/1105/20080805/1533621_1.html">http://tech.ccidnet.com/art/1105/20080805/1533621_1.html</a></p><p>来自于：<a href="http://blog.csdn.net/chong4r/article/details/6156186">http://blog.csdn.net/chong4r/article/details/6156186</a></p>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Oracle 下载|ORACLE 官网下载地址（支持win7/win2008）</title>
      <link href="/mysql-sql-oracle/oracle-guan-wang-xia-zai-di-zhi/"/>
      <url>/mysql-sql-oracle/oracle-guan-wang-xia-zai-di-zhi/</url>
      
        <content type="html"><![CDATA[<p>使用迅雷等下载工具复制下面的链接地址就可以直接下载</p><p>Oracle Database 10g Release 2 (10.2.0.1.0) Enterprise&#x2F;Standard Edition for Microsoft Windows (32-bit)</p><p>  <a href="http://download.oracle.com/otn/nt/oracle10g/10201/10201_database_win32.zip">http://download.oracle.com/otn/nt/oracle10g/10201/10201_database_win32.zip</a><br>  <a href="http://download.oracle.com/otn/nt/oracle10g/10201/10201_client_win32.zip">http://download.oracle.com/otn/nt/oracle10g/10201/10201_client_win32.zip</a><br>  <a href="http://download.oracle.com/otn/nt/oracle10g/10201/10201_clusterware_win32.zip">http://download.oracle.com/otn/nt/oracle10g/10201/10201_clusterware_win32.zip</a><br>  <a href="http://download.oracle.com/otn/nt/oracle10g/10201/10201_gateways_win32.zip">http://download.oracle.com/otn/nt/oracle10g/10201/10201_gateways_win32.zip</a></p><p>Oracle Database 10g Release 2 (10.2.0.1.0) Enterprise&#x2F;Standard Edition for Microsoft Windows (x64)</p><p>  <a href="http://download.oracle.com/otn/nt/oracle10g/10201/102010_win64_x64_database.zip">http://download.oracle.com/otn/nt/oracle10g/10201/102010_win64_x64_database.zip</a><br>  <a href="http://download.oracle.com/otn/nt/oracle10g/10201/102010_win64_x64_client.zip">http://download.oracle.com/otn/nt/oracle10g/10201/102010_win64_x64_client.zip</a><br>  <a href="http://download.oracle.com/otn/nt/oracle10g/10201/102010_win64_x64_clusterware.zip">http://download.oracle.com/otn/nt/oracle10g/10201/102010_win64_x64_clusterware.zip</a></p><p>Oracle Database 10g Release 2 (10.2.0.1.0) Enterprise&#x2F;Standard Edition for Linux x86</p><p>  <a href="http://download.oracle.com/otn/linux/oracle10g/10201/10201_database_linux32.zip">http://download.oracle.com/otn/linux/oracle10g/10201/10201_database_linux32.zip</a><br>  <a href="http://download.oracle.com/otn/linux/oracle10g/10201/10201_client_linux32.zip">http://download.oracle.com/otn/linux/oracle10g/10201/10201_client_linux32.zip</a><br>  <a href="http://download.oracle.com/otn/linux/oracle10g/10201/10201_gateways_linux32.zip">http://download.oracle.com/otn/linux/oracle10g/10201/10201_gateways_linux32.zip</a></p><p>Oracle Database 10g Release 2 (10.2.0.1.0) Enterprise&#x2F;Standard Edition for Linux x86-64</p><p>  <a href="http://download.oracle.com/otn/linux/oracle10g/10201/10201_database_linux_x86_64.cpio.gz">http://download.oracle.com/otn/linux/oracle10g/10201/10201_database_linux_x86_64.cpio.gz</a><br>  <a href="http://download.oracle.com/otn/linux/oracle10g/10201/10201_client_linux_x86_64.cpio.gz">http://download.oracle.com/otn/linux/oracle10g/10201/10201_client_linux_x86_64.cpio.gz</a><br>  <a href="http://download.oracle.com/otn/linux/oracle10g/10201/10201_clusterware_linux_x86_64.cpio.gz">http://download.oracle.com/otn/linux/oracle10g/10201/10201_clusterware_linux_x86_64.cpio.gz</a><br>  <a href="http://download.oracle.com/otn/linux/oracle10g/10201/10201_gateways_linux_x86_64.cpio.gz">http://download.oracle.com/otn/linux/oracle10g/10201/10201_gateways_linux_x86_64.cpio.gz</a></p><p>Oracle Database 10g Release 2 (10.2.0.1.0) Enterprise&#x2F;Standard Edition for AIX5L</p><p>  <a href="http://download.oracle.com/otn/aix/oracle10g/10201/10gr2_aix5l64_database.cpio.gz">http://download.oracle.com/otn/aix/oracle10g/10201/10gr2_aix5l64_database.cpio.gz</a><br>  <a href="http://download.oracle.com/otn/aix/oracle10g/10201/10gr2_aix5l64_client.cpio.gz">http://download.oracle.com/otn/aix/oracle10g/10201/10gr2_aix5l64_client.cpio.gz</a><br>  <a href="http://download.oracle.com/otn/aix/oracle10g/10201/10gr2_aix5l64_cluster.cpio.gz">http://download.oracle.com/otn/aix/oracle10g/10201/10gr2_aix5l64_cluster.cpio.gz</a><br>  <a href="http://download.oracle.com/otn/aix/oracle10g/10201/10gr2_aix5l64_gateways.cpio.gz">http://download.oracle.com/otn/aix/oracle10g/10201/10gr2_aix5l64_gateways.cpio.gz</a></p><p>Oracle Database 10g Release 2 (10.2.0.2) Enterprise&#x2F;Standard Edition for Solaris Operating System (x86)</p><p>  <a href="http://download.oracle.com/otn/solaris/oracle10g/10202/10202_database_solx86.zip">http://download.oracle.com/otn/solaris/oracle10g/10202/10202_database_solx86.zip</a><br>  <a href="http://download.oracle.com/otn/solaris/oracle10g/10202/10202_client_solx86.zip">http://download.oracle.com/otn/solaris/oracle10g/10202/10202_client_solx86.zip</a><br>  <a href="http://download.oracle.com/otn/solaris/oracle10g/10202/10202_clusterware_solx86.zip">http://download.oracle.com/otn/solaris/oracle10g/10202/10202_clusterware_solx86.zip</a></p><p>Oracle Database 10g Release 2 (10.2.0.1.0) Enterprise&#x2F;Standard Edition for Solaris Operating System (x86-64)</p><p>  <a href="http://download.oracle.com/otn/solaris/oracle10g/10201/x8664/10201_database_solx86_64.zip">http://download.oracle.com/otn/solaris/oracle10g/10201/x8664/10201_database_solx86_64.zip</a><br>  <a href="http://download.oracle.com/otn/solaris/oracle10g/10201/x8664/10201_client_solx86_64.zip">http://download.oracle.com/otn/solaris/oracle10g/10201/x8664/10201_client_solx86_64.zip</a><br>  <a href="http://download.oracle.com/otn/solaris/oracle10g/10201/x8664/10201_clusterware_solx86_64.zip">http://download.oracle.com/otn/solaris/oracle10g/10201/x8664/10201_clusterware_solx86_64.zip</a></p><p>Oracle 10g (10.2.0.3) 支持vista，win7和2008</p><p>32bit</p><p><a href="http://download.oracle.com/otn/nt/oracle10g/10203/10203_vista_w2k8_x86_production_db.zip">http://download.oracle.com/otn/nt/oracle10g/10203/10203_vista_w2k8_x86_production_db.zip</a></p><p>64bit</p><p><a href="http://download.oracle.com/otn/nt/oracle10g/10204/10204_vista_w2k8_x64_production_db.zip">http://download.oracle.com/otn/nt/oracle10g/10204/10204_vista_w2k8_x64_production_db.zip</a></p><p>官网网站 <a href="http://www.oracle.com/technetwork/cn/database/10203vista-088351-zhs.html">http://www.oracle.com/technetwork/cn/database/10203vista-088351-zhs.html</a></p><p>Oracle Database 11g Release 2 Client (11.2.0.1.0) for Microsoft Windows<br>32bit<br><a href="http://download.oracle.com/otn/nt/oracle11g/112010/win32_11gR2_client.zip">http://download.oracle.com/otn/nt/oracle11g/112010/win32_11gR2_client.zip</a></p><p>64bit</p><p><a href="http://download.oracle.com/otn/nt/oracle11g/112010/win64_11gR2_client.zip">http://download.oracle.com/otn/nt/oracle11g/112010/win64_11gR2_client.zip</a></p><p>Oracle Database 11g Release 2 (11.2.0.1.0) for Microsoft Windows<br>32bit<br><a href="http://download.oracle.com/otn/nt/oracle11g/112010/win32_11gR2_database_1of2.zip">http://download.oracle.com/otn/nt/oracle11g/112010/win32_11gR2_database_1of2.zip</a><br><a href="http://download.oracle.com/otn/nt/oracle11g/112010/win32_11gR2_database_2of2.zip">http://download.oracle.com/otn/nt/oracle11g/112010/win32_11gR2_database_2of2.zip</a></p><p>64bit<br><a href="http://download.oracle.com/otn/nt/oracle11g/112010/win64_11gR2_database_1of2.zip">http://download.oracle.com/otn/nt/oracle11g/112010/win64_11gR2_database_1of2.zip</a><br><a href="http://download.oracle.com/otn/nt/oracle11g/112010/win64_11gR2_database_2of2.zip">http://download.oracle.com/otn/nt/oracle11g/112010/win64_11gR2_database_2of2.zip</a></p><p>Oracle Database 12c 第 2 版(12.2.0.1.0)</p><p>window 64bit</p><p><a href="https://download.oracle.com/otn/nt/oracle12c/122010/winx64_12201_database.zip">https://download.oracle.com/otn/nt/oracle12c/122010/winx64_12201_database.zip</a></p><p>参考了</p><p><a href="http://www.cnblogs.com/wangdetian168/archive/2011/03/01/1968155.html">http://www.cnblogs.com/wangdetian168/archive/2011/03/01/1968155.html</a></p><p><a href="http://www.cnblogs.com/ZJ199012/archive/2012/03/21/2410275.html">http://www.cnblogs.com/ZJ199012/archive/2012/03/21/2410275.html</a></p>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>oracle 11g 客户端 连接数据库</title>
      <link href="/mysql-sql-oracle/oracle-11g-ke-hu-duan-lian-jie-shu-ju-ku/"/>
      <url>/mysql-sql-oracle/oracle-11g-ke-hu-duan-lian-jie-shu-ju-ku/</url>
      
        <content type="html"><![CDATA[<p>安装oracle高版本的数据库后，在使用vs2005的oracleClient会提示只支持8.0什么的，oracle官方提供了一个Oracle.DataAccess.dll去做数据的操作，11g的客户端安装后在product\11.2.0\client_2\ODP.NET\bin\2.x文件夹下。</p>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>在IIS中部署WCF服务出现authentication mode=windows</title>
      <link href="/wcf/zai-iis-zhong-bu-shu-wcf-fu-wu-chu-xian-authentication-mode-windows/"/>
      <url>/wcf/zai-iis-zhong-bu-shu-wcf-fu-wu-chu-xian-authentication-mode-windows/</url>
      
        <content type="html"><![CDATA[<p>现在IIS中创建应用程序，还有问题把C:\Windows\Microsoft.NET\Framework\v4.0.30319\Config\machine.config文件中的allowDefinition &#x3D; “MachineToApplication” 修改成 allowDefinition &#x3D; “Everywhere”</p>]]></content>
      
      
      <categories>
          
          <category> WCF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Computer </tag>
            
            <tag> WCF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>WCF返回xml</title>
      <link href="/wcf/wcf-fan-hui-xml/"/>
      <url>/wcf/wcf-fan-hui-xml/</url>
      
        <content type="html"><![CDATA[<p>这次出差的时候要用wcf服务返回xml，但是返回xml后微软在外面包装了一层，将BodyStyle &#x3D; WebMessageBodyStyle.Bare可以去掉外面的一层包装，可是返回的还是一个字符串，后来终于找到解决办法了。</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">public XmlElement XmlStringToXmlDoc(string xmlString)&#123;      XmlDocument xmlDoc &#x3D; new XmlDocument();      xmlDoc.LoadXml(xmlString);      return xmlDoc.DocumentElement;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>如果大家有什么好的方法可以交流……</p>]]></content>
      
      
      <categories>
          
          <category> WCF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> WCF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Google Earth无法连接到服务器</title>
      <link href="/other/google-earth-wu-fa-lian-jie-dao-fu-wu-qi/"/>
      <url>/other/google-earth-wu-fa-lian-jie-dao-fu-wu-qi/</url>
      
        <content type="html"><![CDATA[<p>最近要在Google Earth上截取图片，哪知道打开Google Earth直接提示无法连接到服务器，直接去网上搜索，大家都说在C:\Windows\System32\drivers\etc 找到Hosts文件，然后用记事本打开，将203.208.46.30 kh.google.com复制进去就可以打开了，这样试了可是不管用，无奈啊！</p><p>不过还好后来终于找到了一个将74.125.39.99   kh.google.com和72.14.203.101 <a href="http://www.panoramio.com/">www.panoramio.com</a>  复制到上面说的Hosts文件中，不过这个方法打开比较慢，追求速度的就别试了。<br><img src="/images/2012112915112353.jpg" alt="2012112915112353.jpg"></p><p>注意：</p><p>这个ip地址就是通过Dos中的PING命令得到的，在dos界面中输入ping kh.google.com即可。</p><p><a href="http://www.godeyes.cn/html/2012/03/29/google_earth_13006.html">http://www.godeyes.cn/html/2012/03/29/google_earth_13006.html</a> 大家可以看看这个文章</p>]]></content>
      
      
      <categories>
          
          <category> Other </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Other </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ext入门(Window、Panel、Viewport、Grid、Form、TreePanel)</title>
      <link href="/js/ext-ru-men-window-panel-viewport-grid-form-treepanel/"/>
      <url>/js/ext-ru-men-window-panel-viewport-grid-form-treepanel/</url>
      
        <content type="html"><![CDATA[<p>在Window、Panel、Viewport、Grid、Form、TreePanel这些组件中Window是用show方法显示出来，Viewport不需要指定renderTo，其他的都需要指定。</p><pre class="line-numbers language-JS" data-language="JS"><code class="language-JS">&#x2F;&#x2F;WindowExt.onReady(function()&#123;    var win &#x3D; new Ext.Window(        &#123;            width:500,            height:400,            title:&#39;第一个窗体&#39;,            buttons:[&#123;text:&quot;确定&quot;&#125;,&#123;text:&quot;取消&quot;&#125;]        &#125;);        win.show();&#125;);&#x2F;&#x2F;PanelExt.onReady(function()&#123;    var panel &#x3D; new Ext.Panel(&#123;        width:500,        height:200,        title:&quot;面板头部Header&quot;,        html:&#39;&lt;h1&gt;面板主区域&lt;&#x2F;h1&gt;&#39;,        &#x2F;&#x2F;autoLoad:&#123;url:&#39;index.html&#39;&#125;,        tbar:[&#123;pressed:true,text:&#39;刷新&#39;&#125;],        bbar:[&#123;text:&#39;底部工具栏bottomtoolbar&#39;&#125;],        buttons:[&#123;text:&quot;按钮位于footer&quot;&#125;]    &#125;);        panel.render(&#39;test&#39;); &#x2F;&#x2F;渲染到id为test的div上    alert(panel.el.dom.innerHTML);    alert(panel.el.dom.outerHTML);    alert(document.body.innerHTML);    panel.body.update(        &quot;&lt;h1&gt;&lt;font color&#x3D;&#39;blue&#39;&gt;EXT 主面板&lt;&#x2F;font&gt;&lt;&#x2F;h1&gt;&quot;,true,function()&#123;&#125;    );    panel.load(&#123;        url:&#39;index.html&#39;,        params:&#123;name:&quot;daxia&quot;,pwd:&quot;123&quot;&#125;,        scope: this,        discardUrl: false,        nocache: false,        text: &quot;正在加载，请稍候...&quot;,        timeout: 30,        scripts: true    &#125;);&#125;);&#x2F;&#x2F;Panel中renderTo、applyTo、contentEl的区别renderTo和applyTo是把板渲染到制定的div的节点上，contentEl是配置选项来把页面中的某一个IV 的内容作为面板的内容Ext.onReady(function()&#123;    var panel &#x3D; new Ext.Panel(&#123;        title:&#39;面板&#39;,        width:500,        height:300,        renderTo:&#39;c&#39;,        contentEl:&#39;tt&#39;    &#125;);    alert(document.body.innerHTML);&#125;);&#x2F;&#x2F;ViewPort&#x2F;&#x2F;简单的viewport面板，不需要在制定renderToExt.onReady(function()&#123;    new Ext.Viewport(&#123;        layout:&#39;fit&#39;,        items:[&#123;            title:&#39;Viewport面板&#39;,            html:&#39;面板body&#39;,            bbar:[&#123;text:&#39;按钮1&#39;&#125;,&#123;text:&#39;按钮2&#39;&#125;]        &#125;]    &#125;);&#125;);Ext.onReady(function()&#123;    new Ext.Viewport(&#123;        enableTabScroll:true,        layout:&#39;border&#39;,        items:[        &#123;            title:&#39;面板&#39;,            region:&#39;north&#39;,            height:200,            html:&#39;&lt;h1&gt;网站后台管理系统&lt;&#x2F;h1&gt;&#39;        &#125;        ,&#123;            title:&#39;菜单&#39;,            region:&#39;west&#39;,            width:300,            collapsible:true,            html:&#39;菜单栏&#39;        &#125;,        &#123;            xtype:&#39;tabpanel&#39;,            region:&#39;center&#39;,            items:[&#123;title:&#39;面板1&#39;&#125;,&#123;title:&#39;面板2&#39;&#125;]        &#125;]    &#125;);&#125;);&#x2F;&#x2F;对话框function confirmDialog()&#123;    Ext.Msg.confirm(&#39;提示&#39;,&#39;是否要删除&#39;,function(button)&#123;        alert(&quot;选择的结构：&quot;+(button&#x3D;&#x3D;&#39;yes&#39;?&#39;是&#39;:&#39;否&#39;));    &#125;);&#125;function inputDialog()&#123;    Ext.MessageBox.prompt(&quot;输入你的名字&quot;,&quot;请输入你的名字:&quot;,function(button,text)&#123;    if(button&#x3D;&#x3D;&quot;ok&quot;)&#123;    alert(&quot;输入的名字:&quot;+text);    &#125;    else alert(&quot;你放弃输入 !&quot;);    &#125;);&#125;var t&#x3D;0;function progress()&#123;    t&#x3D;0;    var msgbox &#x3D; Ext.Msg.progress(&#39;请稍后&#39;,&#39;保存数据&#39;,&#39;请稍候，正在保存数据......&#39;);    updateProgress();&#125;function updateProgress()&#123;    t+&#x3D;0.1;    Ext.Msg.updateProgress(t);    if(t&gt;1)        Ext.Msg.hide();    else        updateProgress.defer(1000);        &#125;function doSave(button,text)&#123;    if(button&#x3D;&quot;yes&quot;)    &#123;        progress();    &#125;    else if(button&#x3D;&#x3D;&quot;no&quot;)    &#123;　　&#x2F;&#x2F;不保存数据    &#125;    else    &#123;        &#x2F;&#x2F;取消当前操作    &#125;&#125;function save()&#123;    Ext.Msg.show(&#123;        title:&#39;保存数据&#39;,        msg:&#39;是否要保存修改的数据？&#39;,        buttons:Ext.Msg.YESNOCANCEL,        fn:doSave,        icon:Ext.MessageBox.QUESTION    &#125;);&#125;&#x2F;&#x2F;TabPanelExt.onReady(function()&#123;    var i&#x3D;0;    var tab &#x3D; new Ext.TabPanel(&#123;        renderTo:&#39;tt&#39;,        width:500,        height:300,        enableTabScroll:true,        activeTab:true,        bbar:[&#123;text:&#39;添加&#39;,handler:function()&#123;            tab.add(&#123;title:&#39;新面板&#39;+i++,closable:true,html:&#39;this is the new &#39;+i+&#39; Panel！&#39;&#125;);        &#125;        &#125;],        items:[&#123;title:&#39;面板1&#39;,html:&#39;this is first Tabpanel!&#39;&#125;,&#123;closable:true,title:&#39;面板2&#39;,html:&#39;this is second TabPanel!&#39;&#125;,&#123;closable:true,title:&#39;面板3&#39;,html:&#39;this is third TabPanel!&#39;&#125;]    &#125;);&#125;);&#x2F;&#x2F;GridExt.onReady(function()&#123;    var data &#x3D;[        [1, &#39;EasyJWeb&#39;, &#39;EasyJF&#39;,&#39;www.easyjf.com&#39;],        [2, &#39;jfox&#39;, &#39;huihoo&#39;,&#39;www.huihoo.org&#39;],        [3, &#39;jdon&#39;, &#39;jdon&#39;,&#39;www.jdon.com&#39;],        [4, &#39;springside&#39;,&#39;springside&#39;,&#39;www.springside.org.cn&#39;]    ];    var store &#x3D; new Ext.data.SimpleStore(&#123;data:data,fields:[&#39;id&#39;,&#39;name&#39;,&#39;organization&#39;,&#39;homepage&#39;]&#125;);    var grid &#x3D; new Ext.grid.GridPanel(&#123;        renderTo:&#39;tt&#39;,        title:&#39;中国Java开源产品及团队&#39;,        height:150,        width:600,        columns:[&#123;header:&#39;项目名称&#39;,dataIndex:&#39;name&#39;&#125;,            &#123;header:&#39;开发团队&#39;,dataIndex:&#39;organization&#39;&#125;,            &#123;header:&#39;网址&#39;,dataIndex:&#39;homepage&#39;&#125;        ],        store:store,        autoExpandColumn:2    &#125;);&#125;);&#x2F;&#x2F;TreePanelExt.onReady(function()&#123;    var root &#x3D; new Ext.tree.TreeNode(&#123;        id:&#39;root&#39;,        text:&#39;树的根&#39;    &#125;);    root.appendChild(new Ext.tree.TreeNode(&#123;        id:&#39;c1&#39;,        text:&#39;子节点&#39;    &#125;)    );    var tree &#x3D; new Ext.tree.TreePanel(&#123;        renderTo:&#39;test&#39;,        width:100,        root:root    &#125;);&#125;);&#x2F;&#x2F;formExt.onReady(function()&#123;    var f &#x3D; new Ext.form.FormPanel(&#123;        renderTo:&#39;test&#39;,        width:300,        height:200,        title:&#39;用户信息录入&#39;,        labelWidth:60,        labelAlign:&#39;right&#39;,        frame:true,        defaults:&#123;xtype:&#39;textfield&#39;,width:180&#125;,        items:[            &#123;name:&#39;username&#39;,fieldLabel:&#39;姓名&#39;&#125;,            &#123;name:&#39;password&#39;,fieldLabel:&#39;密码&#39;,inputType:&#39;password&#39;&#125;,            &#123;name:&#39;email&#39;,fieldLabel:&#39;电子邮件&#39;&#125;,            &#123;xtype:&#39;textarea&#39;,name:&#39;intro&#39;,fieldLabel:&#39;简介&#39;&#125;        ],        buttons:[&#123;text:&#39;提交&#39;,handler:function()&#123;            f.form.submit(&#123;                waitTitle:&#39;请稍候&#39;,                waitMsg:&#39;正在提交表单数据，请稍候......&#39;            &#125;);        &#125;&#125;,        &#123;text:&#39;重置&#39;,handler:function()&#123;            f.form.reset();        &#125;        &#125;]    &#125;);&#125;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>IE和FireFox下的JS调试工具</title>
      <link href="/html-css/ie-he-firefox-xia-de-js-diao-shi-gong-ju/"/>
      <url>/html-css/ie-he-firefox-xia-de-js-diao-shi-gong-ju/</url>
      
        <content type="html"><![CDATA[<p>IE下的JS调试工具Companion.JS这是一个IE的插件并且要和Microsoft ScriptDebugger结合起来使用</p><p>Companion.JS 下载地址 <a href="http://www.my-debugbar.com/wiki/CompanionJS/HomePage">http://www.my-debugbar.com/wiki/CompanionJS/HomePage</a></p><p>具体使用方法为：</p><h5 id="1、先下载Companion-JS安装文件，然后安装"><a href="#1、先下载Companion-JS安装文件，然后安装" class="headerlink" title="1、先下载Companion.JS安装文件，然后安装"></a>1、先下载Companion.JS安装文件，然后安装</h5><h5 id="2、下载安装Microsoft-Script-Debugger，如果您的机器已经安装过了就可以免过这一步"><a href="#2、下载安装Microsoft-Script-Debugger，如果您的机器已经安装过了就可以免过这一步" class="headerlink" title="2、下载安装Microsoft Script Debugger，如果您的机器已经安装过了就可以免过这一步"></a>2、下载安装Microsoft Script Debugger，如果您的机器已经安装过了就可以免过这一步</h5><h5 id="3、打开IE菜单“工具”–“Internet选项”–“高级”，找到“禁用脚本调试-Internet-Explorer-”和“禁用脚本调试-其他-”，将两个选项前面的对钩都去掉，然后重启IE"><a href="#3、打开IE菜单“工具”–“Internet选项”–“高级”，找到“禁用脚本调试-Internet-Explorer-”和“禁用脚本调试-其他-”，将两个选项前面的对钩都去掉，然后重启IE" class="headerlink" title="3、打开IE菜单“工具”–“Internet选项”–“高级”，找到“禁用脚本调试(Internet Explorer)”和“禁用脚本调试(其他)”，将两个选项前面的对钩都去掉，然后重启IE"></a>3、打开IE菜单“工具”–“Internet选项”–“高级”，找到“禁用脚本调试(Internet Explorer)”和“禁用脚本调试(其他)”，将两个选项前面的对钩都去掉，然后重启IE</h5><h5 id="4、在Ie中输入：http-www-my-debugbar-com-wiki-uploads-CompanionJS-dummy-htm，然后点击click-me链接，如果左上角弹出一个小错误提示或下面控制台出现了错误信息提示，就说明您已经安装成功了"><a href="#4、在Ie中输入：http-www-my-debugbar-com-wiki-uploads-CompanionJS-dummy-htm，然后点击click-me链接，如果左上角弹出一个小错误提示或下面控制台出现了错误信息提示，就说明您已经安装成功了" class="headerlink" title="4、在Ie中输入：http://www.my-debugbar.com/wiki/uploads/CompanionJS/dummy.htm，然后点击click me链接，如果左上角弹出一个小错误提示或下面控制台出现了错误信息提示，就说明您已经安装成功了"></a>4、在Ie中输入：<a href="http://www.my-debugbar.com/wiki/uploads/CompanionJS/dummy.htm">http://www.my-debugbar.com/wiki/uploads/CompanionJS/dummy.htm</a>，然后点击click me链接，如果左上角弹出一个小错误提示或下面控制台出现了错误信息提示，就说明您已经安装成功了</h5><p>提示：Microsoft Script Debugger下载可到MS官网(需要经过MS的操作系统正版验证)：<a href="http://www.microsoft.com/downloads/details.aspx?displaylang=zh-cn&amp;FamilyID=E606E71F-BA7F-471E-A57D-F2216D81EC3D#filelist">http://www.microsoft.com/downloads/details.aspx?displaylang=zh-cn&amp;FamilyID=E606E71F-BA7F-471E-A57D-F2216D81EC3D#filelist</a>或到baidu里输入“Microsoft Script Debugger 下载”寻找一下。</p><p>FireFox下的JS调试工具 FireBug</p><p>FireBug 下载地址 <a href="http://getfirebug.com/">http://getfirebug.com/</a></p><p>具体使用方法为：</p><p>1.直接点击网页右边的“Install Firebug” 按钮安装，安装成功后重启浏览器</p>]]></content>
      
      
      <categories>
          
          <category> HTML/CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTML/CSS </tag>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>创建 Excel 表格</title>
      <link href="/c-winform/chuang-jian-excel-biao-ge/"/>
      <url>/c-winform/chuang-jian-excel-biao-ge/</url>
      
        <content type="html"><![CDATA[<pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">&#x2F;&#x2F;创建excelpublic void CreateExcel(string tableName, string tableType , List&lt;HNFatherAddress&gt; list)&#123;    object missing &#x3D; System.Reflection.Missing.Value;    MSExcel.Application app &#x3D; new MSExcel.Application();    app.Application.Workbooks.Add(true);    MSExcel.Workbook book &#x3D; (MSExcel.Workbook)app.ActiveWorkbook;    MSExcel.Worksheet sheet &#x3D; (MSExcel.Worksheet)book.ActiveSheet;    &#x2F;&#x2F;第一行    sheet.Cells[1, 1] &#x3D; &quot;table&quot;;    sheet.Cells[1, 2] &#x3D; tableName;    sheet.Cells[1, 3] &#x3D; tableType;    &#x2F;&#x2F;第二行    sheet.Cells[2, 1] &#x3D; &quot;编号&quot;;    sheet.Cells[2, 2] &#x3D; &quot;地址&quot;;    sheet.Cells[2, 3] &#x3D; &quot;类型&quot;;    int count &#x3D; 2;    foreach (HNFatherAddress item in list)    &#123;        count &#x3D; count + 1;        sheet.Cells[count, 1] &#x3D; &quot;num&quot;;        sheet.Cells[count, 2] &#x3D; item.FatherName;        sheet.Cells[count, 3] &#x3D; item.FatherType;            &#125;    &#x2F;&#x2F;保存    SaveFileDialog save &#x3D; new SaveFileDialog();    save.Filter &#x3D; &quot;Excel(*.xls)|*.xls&quot;;    save.ShowDialog();    string savePath &#x3D; save.FileName;    book.SaveCopyAs(savePath);    book.Close(false, missing, missing);    app.Quit();&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Access 获取数据库表名和字段名</title>
      <link href="/c-winform/access-huo-qu-shu-ju-ku-biao-ming-he-zi-duan-ming/"/>
      <url>/c-winform/access-huo-qu-shu-ju-ku-biao-ming-he-zi-duan-ming/</url>
      
        <content type="html"><![CDATA[<pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">&#x2F;&#x2F;获取Access数据库表的字段名public List&lt;string&gt; GetTableFieldNameList(string TableName)&#123;    string conStr &#x3D; &quot;provider&#x3D;microsoft.jet.oledb.4.0;&quot;;    conStr +&#x3D; @&quot;data source&#x3D;&quot; + 数据库的路径（例如：&quot;D:\\data\\test.mdb&quot;）    List&lt;string&gt; list &#x3D; new List&lt;string&gt;();    OleDbConnection con &#x3D; new OleDbConnection(conStr);    try    &#123;        con.Open();        using (OleDbCommand cmd &#x3D; new OleDbCommand())        &#123;            cmd.CommandText &#x3D; &quot;SELECT TOP 1 * FROM [&quot; + TableName + &quot;]&quot;;            cmd.Connection &#x3D; con;            OleDbDataReader dr &#x3D; cmd.ExecuteReader();            for (int i &#x3D; 0; i &lt; dr.FieldCount; i++)            &#123;                list.Add(dr.GetName(i));            &#125;        &#125;        return list;    &#125;    catch (Exception e)    &#123; throw e; &#125;    finally    &#123;        if (con.State &#x3D;&#x3D; ConnectionState.Open)            con.Close();        con.Dispose();    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">&#x2F;&#x2F;获取Access数据库表名集合public ArrayList GetTableNameList(string filePath)&#123;    string conStr &#x3D; &quot;provider&#x3D;microsoft.jet.oledb.4.0;&quot;;    conStr +&#x3D; @&quot;data source&#x3D;&quot; + filePath;    ArrayList tableList &#x3D; new ArrayList();    OleDbConnection con &#x3D; new OleDbConnection(conStr);    try    &#123;        con.Open();        &#x2F;&#x2F;第一种方法        &#x2F;*DataRow [] rows &#x3D; con.GetOleDbSchemaTable(OleDbSchemaGuid.Tables, null).Select();        for (int i &#x3D; 0; i &lt; rows.Length; i++)        &#123;            if (!rows[i][&quot;TABLE_NAME&quot;].ToString().Contains(&quot;MSys&quot;))            &#123;                tableList.Add(rows[i][&quot;TABLE_NAME&quot;].ToString());            &#125;        &#125;        return tableList;*&#x2F;        &#x2F;&#x2F;第二种方法        DataTable dt &#x3D; con.GetSchema(&quot;Tables&quot;);        foreach (DataRow row in dt.Rows)        &#123;            if (row[3].ToString() &#x3D;&#x3D; &quot;TABLE&quot;)                tableList.Add(row[2].ToString());        &#125;        return tableList;    &#125;    catch (Exception e)    &#123;         throw e;     &#125;    finally     &#123;         if (con.State &#x3D;&#x3D; ConnectionState.Open)            con.Close();        con.Dispose();     &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>添加Access数据库的的字段名</p><p>alter table tableName add column 字段名 int</p>]]></content>
      
      
      <categories>
          
          <category> C#/WinForm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C#/WinForm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Silverlight引用WCF 修改配置</title>
      <link href="/silverlight/silverlight-yin-yong-wcf-xiu-gai-pei-zhi/"/>
      <url>/silverlight/silverlight-yin-yong-wcf-xiu-gai-pei-zhi/</url>
      
        <content type="html"><![CDATA[<h3 id="第一种"><a href="#第一种" class="headerlink" title="第一种"></a>第一种</h3><p>可以修改*.xap文件中的ServiceReferences.ClientConfig将服务的地址改过来即可</p><p>注：*.xap可以用winrar解压，ServiceReferences.ClientConfig中有</p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>client</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>endpoint</span> <span class="token attr-name">address</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://192.168.2.160/AppService/AppService.svc<span class="token punctuation">"</span></span>        <span class="token attr-name">binding</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>basicHttpBinding<span class="token punctuation">"</span></span> <span class="token attr-name">bindingConfiguration</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>BasicHttpBinding_IDatabaseService<span class="token punctuation">"</span></span>        <span class="token attr-name">contract</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>DrawseeAppService.IDatabaseService<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>BasicHttpBinding_IDatabaseService<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>endpoint</span> <span class="token attr-name">address</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://192.168.2.160/AppService/AppService.svc<span class="token punctuation">"</span></span>        <span class="token attr-name">binding</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>basicHttpBinding<span class="token punctuation">"</span></span> <span class="token attr-name">bindingConfiguration</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>BasicHttpBinding_IUserManageService<span class="token punctuation">"</span></span>        <span class="token attr-name">contract</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>DrawseeAppService.IUserManageService<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>BasicHttpBinding_IUserManageService<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>client</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>将其中的 <a href="http://192.168.2.160/AppService/AppService.svc%E6%94%B9%E6%88%90%E4%BD%A0%E7%8E%B0%E5%9C%A8%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%9C%B0%E5%9D%80%E3%80%82">http://192.168.2.160/AppService/AppService.svc改成你现在的服务地址。</a></p><h3 id="第二种-动态调用服务"><a href="#第二种-动态调用服务" class="headerlink" title="第二种 动态调用服务"></a>第二种 动态调用服务</h3><p>1.删除ServiceReferences.ClientConfig文件</p><p>2.新建一个类</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">public static DatabaseServiceClient GetDynamicClient()    &#123;        BasicHttpBinding binding &#x3D; new BasicHttpBinding(            Application.Current.Host.Source.Scheme.Equals(            &quot;https&quot;, StringComparison.InvariantCultureIgnoreCase) ?            BasicHttpSecurityMode.Transport : BasicHttpSecurityMode.None);        binding.MaxReceivedMessageSize &#x3D; int.MaxValue;        binding.MaxBufferSize &#x3D; int.MaxValue;        return new DatabaseServiceClient(binding, new EndpointAddress(new Uri(Application.Current.Host.Source, &quot;..&#x2F;AppService.svc&quot;)));    &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>在要调用的地方 DatabaseServiceClient client &#x3D; 类名.GetDynamicClient();</p><p>其它的和原来调用wcf服务都一样。</p>]]></content>
      
      
      <categories>
          
          <category> Silverlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Silverlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SQL把数据从一张表中导入另一张表</title>
      <link href="/mysql-sql-oracle/sql-ba-shu-ju-cong-yi-zhang-biao-zhong-dao-ru-ling-yi-zhang-biao/"/>
      <url>/mysql-sql-oracle/sql-ba-shu-ju-cong-yi-zhang-biao-zhong-dao-ru-ling-yi-zhang-biao/</url>
      
        <content type="html"><![CDATA[<h3 id="1、对于已存在的表"><a href="#1、对于已存在的表" class="headerlink" title="1、对于已存在的表"></a>1、对于已存在的表</h3><p>insert into table_target(字段1,字段2….)<br>select (字段1,字段2….) from table_source</p><h3 id="2、对于尚未建立的表"><a href="#2、对于尚未建立的表" class="headerlink" title="2、对于尚未建立的表"></a>2、对于尚未建立的表</h3><p>select  (字段1,字段2….)  into table_target<br>from table_source</p>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Silverlight ToolBar(工具条)</title>
      <link href="/silverlight/silverlight-toolbar-gong-ju-tiao/"/>
      <url>/silverlight/silverlight-toolbar-gong-ju-tiao/</url>
      
        <content type="html"><![CDATA[<p>前段时间为搞silverlight 工具条很烦，幸运的是后来在网上找到第三方控件了，还有简单的代码示例。和大家分享一下</p><p><a href="http://www.devcomponents.com/dotnetbarsilverlight/download.aspx">http://www.devcomponents.com/dotnetbarsilverlight/download.aspx</a></p>]]></content>
      
      
      <categories>
          
          <category> Silverlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Silverlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Silverlight 在IIS5.1或6.0下部署</title>
      <link href="/silverlight/silverlight-zai-iis5.1-huo-6.0-xia-bu-shu/"/>
      <url>/silverlight/silverlight-zai-iis5.1-huo-6.0-xia-bu-shu/</url>
      
        <content type="html"><![CDATA[<p>首先要在IIS的MIME类型中添加这几个类型</p><p> .xap application&#x2F;x-silverlight-app<br> .xaml application&#x2F;xaml+xml<br> .xbap application&#x2F;x-ms-xbap</p><p>在就是看是否安装了.netframework</p>]]></content>
      
      
      <categories>
          
          <category> Silverlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Silverlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Siverlight调用服务提示无法跨域访问</title>
      <link href="/silverlight/siverlight-diao-yong-fu-wu-ti-shi-wu-fa-kua-yu-fang-wen/"/>
      <url>/silverlight/siverlight-diao-yong-fu-wu-ti-shi-wu-fa-kua-yu-fang-wen/</url>
      
        <content type="html"><![CDATA[<p>添加2个xml</p><p>ClientAccessPolicy.xml</p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token prolog">&lt;?xml version="1.0" encoding="utf-8" ?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>access-policy</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cross-domain-access</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>policy</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>allow-from</span> <span class="token attr-name">http-request-headers</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>*<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>domain</span> <span class="token attr-name">uri</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>*<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>allow-from</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>grant-to</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resource</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/<span class="token punctuation">"</span></span> <span class="token attr-name">include-subpaths</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>grant-to</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>policy</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>cross-domain-access</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>access-policy</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>crossdomain.xml</p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token prolog">&lt;?xml version="1.0"?></span><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">cross-domain-policy</span> <span class="token name">SYSTEM</span> <span class="token string">"http://www.macromedia.com/xml/dtds/cross-domain-policy.dtd"</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cross-domain-policy</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>allow-access-from</span> <span class="token attr-name">domain</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>*<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>allow-http-request-headers-from</span> <span class="token attr-name">domain</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>*<span class="token punctuation">"</span></span> <span class="token attr-name">headers</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>*<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>cross-domain-policy</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>具体请参考：<a href="http://msdn.microsoft.com/en-us/library/cc645032%28VS.95%29.aspx">http://msdn.microsoft.com/en-us/library/cc645032%28VS.95%29.aspx</a></p>]]></content>
      
      
      <categories>
          
          <category> Silverlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Silverlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Silverlight contextMenu 拖拽</title>
      <link href="/silverlight/silverlight-contextmenu-tuo-zhuai/"/>
      <url>/silverlight/silverlight-contextmenu-tuo-zhuai/</url>
      
        <content type="html"><![CDATA[<p><a href="https://silverlight.codeplex.com/releases/view/43528">Silverlight4 toolkit</a> 提供了ContextMenu和MenuItem控件来实现右键菜单,下面是效果图<br><img src="/images/2012050716493147.jpg" alt="2012050716493147.jpg"></p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">&lt;Canvas x:Name&#x3D;&quot;LayoutRoot&quot;&gt;&lt;Border Height&#x3D;&quot;30&quot; Name&#x3D;&quot;bType&quot; Width&#x3D;&quot;90&quot; Canvas.Left&#x3D;&quot;96&quot; BorderThickness&#x3D;&quot;1&quot; BorderBrush&#x3D;&quot;Gray&quot; Background&#x3D;&quot;Transparent&quot; MouseLeftButtonDown&#x3D;&quot;Border_MouseLeftButtonDown&quot; MouseMove&#x3D;&quot;Border_MouseMove&quot; MouseLeftButtonUp&#x3D;&quot;mouseLeftUp&quot;&gt;             &lt;sdk:Label Name&#x3D;&quot;lbSencond&quot; HorizontalAlignment&#x3D;&quot;Center&quot; Content&#x3D;&quot;类型&quot; &#x2F;&gt;             &lt;my:ContextMenuService.ContextMenu&gt;                 &lt;my:ContextMenu Name&#x3D;&quot;TypeMenu&quot; Background&#x3D;&quot;Transparent&quot;&gt;                     &lt;my:MenuItem Header&#x3D;&quot;植物&quot; Click&#x3D;&quot;TypeMenu_Click&quot;&gt;                         &lt;my:MenuItem.Icon&gt;                             &lt;Image Width&#x3D;&quot;16&quot; Height&#x3D;&quot;16&quot; Source&#x3D;&quot;images&#x2F;zhiwu.jpg&quot; &#x2F;&gt;                         &lt;&#x2F;my:MenuItem.Icon&gt;                     &lt;&#x2F;my:MenuItem&gt;                     &lt;my:Separator &#x2F;&gt;                     &lt;my:MenuItem Header&#x3D;&quot;动物&quot; Click&#x3D;&quot;TypeMenu_Click&quot;&gt;                         &lt;my:MenuItem.Icon&gt;                             &lt;Image Width&#x3D;&quot;16&quot; Height&#x3D;&quot;16&quot; Source&#x3D;&quot;images&#x2F;dongwu.jpg&quot; &#x2F;&gt;                         &lt;&#x2F;my:MenuItem.Icon&gt;                     &lt;&#x2F;my:MenuItem&gt;                 &lt;&#x2F;my:ContextMenu&gt;             &lt;&#x2F;my:ContextMenuService.ContextMenu&gt;         &lt;&#x2F;Border&gt; &lt;&#x2F;Canvas&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>下面是cs代码</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">private bool isDrag;private Point startPoint;private Point endPoint; public MainPage()&#123;    InitializeComponent();  &#125;      private void TypeMenu_Click(object sender, RoutedEventArgs e)&#123;    MenuItem item &#x3D; (MenuItem)sender;    switch (item.Header.ToString())    &#123;        case&quot;动物&quot;:            MessageBox.Show(item.Header.ToString());            break;        case&quot;植物&quot;:            MessageBox.Show(&quot;类型是植物&quot;);            break;        default:            break;    &#125;    TypeMenu.IsOpen &#x3D; false;&#125; private void mouseLeftUp(object sender, MouseButtonEventArgs e)&#123;    isDrag &#x3D; false; &#125; private void Border_MouseLeftButtonDown(object sender, MouseButtonEventArgs e)&#123;    Point p &#x3D; e.GetPosition(LayoutRoot);    SetDrag(p, bType);&#125; private void Border_MouseMove(object sender, MouseEventArgs e)&#123;    if (isDrag)    &#123;        endPoint &#x3D; e.GetPosition(LayoutRoot);               Position(endPoint, bType);    &#125;&#125; private void Position(Point end, UIElement uiName)&#123;    &#x2F;&#x2F;计算X、Y轴起始点与终止点之间的相对偏移量    double x &#x3D; end.X - startPoint.X;    double y &#x3D; end.Y - startPoint.Y;     Point positon &#x3D; new Point((double)Canvas.GetLeft(uiName), (double)Canvas.GetTop(uiName));    positon.X +&#x3D; x;    positon.Y +&#x3D; y;     Canvas.SetLeft(uiName, positon.X);    Canvas.SetTop(uiName, positon.Y);    startPoint &#x3D; end;&#125; private void SetDrag(Point start, UIElement uiName)&#123;    isDrag &#x3D; true;    startPoint &#x3D; start;    uiName.CaptureMouse();&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Silverlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Silverlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>浏览Silverlight5 3D例子后打开以前的项目运行不起来</title>
      <link href="/silverlight/liu-lan-silverlight5-3d-li-zi-hou-da-kai-yi-qian-de-xiang-mu-yun-xing-bu-qi-lai/"/>
      <url>/silverlight/liu-lan-silverlight5-3d-li-zi-hou-da-kai-yi-qian-de-xiang-mu-yun-xing-bu-qi-lai/</url>
      
        <content type="html"><![CDATA[<p>只需卸载所有的Silverlight sdk然后在重新安装一遍就好了。</p>]]></content>
      
      
      <categories>
          
          <category> Silverlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Silverlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>silverlight中嵌入html、swf、pdf</title>
      <link href="/silverlight/silverlight-zhong-qian-ru-html-swf-pdf/"/>
      <url>/silverlight/silverlight-zhong-qian-ru-html-swf-pdf/</url>
      
        <content type="html"><![CDATA[<p>使用HtmlHost小组件就方便多了</p><p>网站：<a href="http://www.divelements.co.uk/silverlight/tools.aspx">http://www.divelements.co.uk/silverlight/tools.aspx</a></p><p>下载：<a href="http://www.divelements.co.uk/silverlight/SilverlightTools.1.0.2.">http://www.divelements.co.uk/silverlight/SilverlightTools.1.0.2.</a>zip</p><p>1、基本特性</p><p>组件所在命名空间：</p><p>Divelements.SilverlightTools</p><p>组件常用属性：</p><p>SourceUri：显示在该组件中的内容的URI。</p><p>SourceHtml：用该组件显示的超文本内容。</p><p>Document：显示在该组件中的内容的HTML。</p><p>组件常用事件：</p><p>DocumentReady：当在该组件中的内容的HTML加载完毕后触发该事件。</p><p>注：该组件在windowless下才能正常工作</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">&lt;form id&#x3D;&quot;form1&quot; runat&#x3D;&quot;server&quot; style&#x3D;&quot;height:100%&quot;&gt;   &lt;div id&#x3D;&quot;silverlightControlHost&quot;&gt;       &lt;object data&#x3D;&quot;data:application&#x2F;x-silverlight-2,&quot; type&#x3D;&quot;application&#x2F;x-silverlight-2&quot; width&#x3D;&quot;100%&quot; height&#x3D;&quot;100%&quot;&gt;         &lt;param name&#x3D;&quot;source&quot; value&#x3D;&quot;ClientBin&#x2F;testMap.xap&quot;&#x2F;&gt;         &lt;param name&#x3D;&quot;onError&quot; value&#x3D;&quot;onSilverlightError&quot; &#x2F;&gt;         &lt;param name&#x3D;&quot;background&quot; value&#x3D;&quot;white&quot; &#x2F;&gt;         &lt;param name&#x3D;&quot;minRuntimeVersion&quot; value&#x3D;&quot;4.0.60310.0&quot; &#x2F;&gt;         &lt;param name&#x3D;&quot;autoUpgrade&quot; value&#x3D;&quot;true&quot; &#x2F;&gt;         &lt;param name&#x3D;&quot;windowless&quot; value&#x3D;&quot;true&quot; &#x2F;&gt;         &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;go.microsoft.com&#x2F;fwlink&#x2F;?LinkID&#x3D;149156&amp;v&#x3D;4.0.60310.0&quot; style&#x3D;&quot;text-decoration:none&quot;&gt;              &lt;img src&#x3D;&quot;http:&#x2F;&#x2F;go.microsoft.com&#x2F;fwlink&#x2F;?LinkId&#x3D;161376&quot; alt&#x3D;&quot;获取 Microsoft Silverlight&quot; style&#x3D;&quot;border-style:none&quot;&#x2F;&gt;         &lt;&#x2F;a&gt;       &lt;&#x2F;object&gt;&lt;iframe id&#x3D;&quot;_sl_historyFrame&quot; style&#x3D;&quot;visibility:hidden;height:0px;width:0px;border:0px&quot;&gt;&lt;&#x2F;iframe&gt;              &lt;&#x2F;div&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>新建一个controlHtmlHost.xaml页面</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">&lt;navigation:Page x:Class&#x3D;&quot;testMap.ControlHtmlHost&quot;           xmlns&#x3D;&quot;http:&#x2F;&#x2F;schemas.microsoft.com&#x2F;winfx&#x2F;2006&#x2F;xaml&#x2F;presentation&quot;           xmlns:x&#x3D;&quot;http:&#x2F;&#x2F;schemas.microsoft.com&#x2F;winfx&#x2F;2006&#x2F;xaml&quot;           xmlns:d&#x3D;&quot;http:&#x2F;&#x2F;schemas.microsoft.com&#x2F;expression&#x2F;blend&#x2F;2008&quot;           xmlns:mc&#x3D;&quot;http:&#x2F;&#x2F;schemas.openxmlformats.org&#x2F;markup-compatibility&#x2F;2006&quot;           mc:Ignorable&#x3D;&quot;d&quot;           xmlns:navigation&#x3D;&quot;clr-namespace:System.Windows.Controls;assembly&#x3D;System.Windows.Controls.Navigation&quot;           d:DesignWidth&#x3D;&quot;640&quot; d:DesignHeight&#x3D;&quot;480&quot;           Title&#x3D;&quot;ControlHtmlHost Page&quot; xmlns:divtools&#x3D;&quot;clr-namespace:Divelements.SilverlightTools;assembly&#x3D;Divelements.SilverlightTools&quot;&gt;    &lt;Grid x:Name&#x3D;&quot;LayoutRoot&quot;&gt;        &lt;divtools:HtmlHost Name&#x3D;&quot;htmlHost&quot; &#x2F;&gt;    &lt;&#x2F;Grid&gt;&lt;&#x2F;navigation:Page&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>MainPage.xaml页面</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">&lt;UserControl x:Class&#x3D;&quot;testMap.MainPage&quot;    xmlns&#x3D;&quot;http:&#x2F;&#x2F;schemas.microsoft.com&#x2F;winfx&#x2F;2006&#x2F;xaml&#x2F;presentation&quot;    xmlns:x&#x3D;&quot;http:&#x2F;&#x2F;schemas.microsoft.com&#x2F;winfx&#x2F;2006&#x2F;xaml&quot;    xmlns:d&#x3D;&quot;http:&#x2F;&#x2F;schemas.microsoft.com&#x2F;expression&#x2F;blend&#x2F;2008&quot;    xmlns:mc&#x3D;&quot;http:&#x2F;&#x2F;schemas.openxmlformats.org&#x2F;markup-compatibility&#x2F;2006&quot;    mc:Ignorable&#x3D;&quot;d&quot; xmlns:my&#x3D;&quot;clr-namespace:Drawsee.Sl.Kernel.Controls;assembly&#x3D;Drawsee.Sl.Kernel&quot; xmlns:my1&#x3D;&quot;clr-namespace:Drawsee.Sl.AppBase.Database.UI;assembly&#x3D;Drawsee.Sl.AppBase&quot; xmlns:sdk&#x3D;&quot;http:&#x2F;&#x2F;schemas.microsoft.com&#x2F;winfx&#x2F;2006&#x2F;xaml&#x2F;presentation&#x2F;sdk&quot; Height&#x3D;&quot;535&quot; Width&#x3D;&quot;783&quot; xmlns:divtools&#x3D;&quot;clr-namespace:Divelements.SilverlightTools;assembly&#x3D;Divelements.SilverlightTools&quot;&gt;    &lt;Grid x:Name&#x3D;&quot;LayoutRoot&quot; Background&#x3D;&quot;White&quot;&gt;        &lt;Grid Height&#x3D;&quot;316&quot; HorizontalAlignment&#x3D;&quot;Left&quot; Margin&#x3D;&quot;173,39,0,0&quot; Name&#x3D;&quot;Container&quot; VerticalAlignment&#x3D;&quot;Top&quot; Width&#x3D;&quot;600&quot;&gt;            &lt;divtools:HtmlHost HorizontalAlignment&#x3D;&quot;Left&quot; Margin&#x3D;&quot;339,131,0,0&quot; Name&#x3D;&quot;htmlHost1&quot; VerticalAlignment&#x3D;&quot;Top&quot; &#x2F;&gt;        &lt;&#x2F;Grid&gt;        &lt;Button Content&#x3D;&quot;btnHtml&quot; Height&#x3D;&quot;23&quot; HorizontalAlignment&#x3D;&quot;Left&quot; Margin&#x3D;&quot;696,500,0,0&quot; Name&#x3D;&quot;btnLoad&quot; VerticalAlignment&#x3D;&quot;Top&quot; Width&#x3D;&quot;75&quot; Click&#x3D;&quot;btnLoad_Click&quot; &#x2F;&gt;    &lt;&#x2F;Grid&gt;&lt;&#x2F;UserControl&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>MainPage.xaml.cs</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">private void btnLoad_Click(object sender, RoutedEventArgs e)     &#123;         GetRichContent(&quot;index.htm&quot;, UriKind.Relative); &#x2F;&#x2F;&quot;&quot;内可以写swf、html和pdf文件     &#125;     private void GetRichContent(string uri, UriKind uriKind)     &#123;         Content.Children.Clear();         ControlHtmlHost chtml &#x3D; new ControlHtmlHost();         HtmlHost hh &#x3D; chtml.FindName(&quot;htmlHost&quot;) as HtmlHost;         hh.SourceUri &#x3D; new Uri(uri, uriKind);         Content.Children.Add(chtml);     &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Silverlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Silverlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Silverlight DataGrid</title>
      <link href="/silverlight/silverlight-datagrid/"/>
      <url>/silverlight/silverlight-datagrid/</url>
      
        <content type="html"><![CDATA[<p>直接把查询出的数据赋予Silverlight datagrid 用把AutoGenerateColumns&#x3D;”True”才可以显示数据。</p><p>Silverlight多线程 <a href="http://www.360doc.com/content/11/0912/17/7304817_147699415.shtml">http://www.360doc.com/content/11/0912/17/7304817_147699415.shtml</a></p><p>Silverlight DataGrid 用法 <a href="http://www.360doc.com/content/12/0301/18/5054188_190898289.shtml">http://www.360doc.com/content/12/0301/18/5054188_190898289.shtml</a></p><p>　　　　　　　　　　　　<a href="http://www.silverlightchina.net/html/tips/2011/1104/11507.html">http://www.silverlightchina.net/html/tips/2011/1104/11507.html</a></p>]]></content>
      
      
      <categories>
          
          <category> Silverlight </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Silverlight </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Oracle 下载地址和win7上安装出现的问题</title>
      <link href="/mysql-sql-oracle/oracle-xia-zai-di-zhi-he-win7-shang-an-zhuang-chu-xian-de-wen-ti/"/>
      <url>/mysql-sql-oracle/oracle-xia-zai-di-zhi-he-win7-shang-an-zhuang-chu-xian-de-wen-ti/</url>
      
        <content type="html"><![CDATA[<p>支持vista，win7和2008 32bit  <a href="http://download.oracle.com/otn/nt/oracle10g/10203/10203_vista_w2k8_x86_production_db.zip">http://download.oracle.com/otn/nt/oracle10g/10203/10203_vista_w2k8_x86_production_db.zip</a></p><p>64bit <a href="http://download.oracle.com/otn/nt/oracle10g/10204/10204_vista_w2k8_x64_production_db.zip">http://download.oracle.com/otn/nt/oracle10g/10204/10204_vista_w2k8_x64_production_db.zip</a></p><p>错误1：</p><p>正在检查操作系统要求…<br>要求的结果: 5.0,5.1,5.2,6.0 之一<br>实际结果: 6.1<br>检查完成。此次检查的总体结果为: 失败 &lt;&lt;&lt;&lt;<br>问题: Oracle Database 10g 未在当前操作系统中经过认证。<br>建议案: 确保在正确的平台上安装软件。</p><p>解决方案：</p><h3 id="1、db-Disk1-stage-prereq-db-和-db-Disk1-stage-prereq-db-prereqs-db-中找到refhost-xml，然后在适当位置（在CERTIFIED-SYSTEMS节点中）添加以下内容，注意括号配对"><a href="#1、db-Disk1-stage-prereq-db-和-db-Disk1-stage-prereq-db-prereqs-db-中找到refhost-xml，然后在适当位置（在CERTIFIED-SYSTEMS节点中）添加以下内容，注意括号配对" class="headerlink" title="1、db\Disk1\stage\prereq\db 和 db\Disk1\stage\prereq\db_prereqs\db 中找到refhost.xml，然后在适当位置（在CERTIFIED_SYSTEMS节点中）添加以下内容，注意括号配对"></a>1、db\Disk1\stage\prereq\db 和 db\Disk1\stage\prereq\db_prereqs\db 中找到refhost.xml，然后在适当位置（在CERTIFIED_SYSTEMS节点中）添加以下内容，注意括号配对</h3><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token comment">&lt;!--Microsoft Windows 7--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>OPERATING_SYSTEM</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VERSION</span> <span class="token attr-name">VALUE</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>6.1<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>OPERATING_SYSTEM</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="2、在安装目录中搜索oraparam-ini，找到以下相似内容，然后修改为"><a href="#2、在安装目录中搜索oraparam-ini，找到以下相似内容，然后修改为" class="headerlink" title="2、在安装目录中搜索oraparam.ini，找到以下相似内容，然后修改为"></a>2、在安装目录中搜索oraparam.ini，找到以下相似内容，然后修改为</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#You can customise error message shown for failure, provide value for CERTIFIED_VERSION_FAILURE_MESSAGE</span><span class="token comment">#Windows=5.0,5.1,5.2,6.0,6.1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>然后在适当位置添加（在下面或有相似的节点）</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#[Windows-6.1-required]</span><span class="token comment">#Minimum display colours for OUI to run</span><span class="token assign-left variable">MIN_DISPLAY_COLORS</span><span class="token operator">=</span><span class="token number">256</span><span class="token comment">#Minimum CPU speed required for OUI</span><span class="token comment">#CPU=300</span><span class="token comment">#[Windows-6.1-optional]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>错误二：</p><p>正在检查网络配置要求…<br>检查完成。此次检查的总体结果为: 失败 &lt;&lt;&lt;&lt;<br>问题: 安装检测到系统的主 IP 地址是 DHCP 分配的地址。<br>建议案: Oracle 支持在具有 DHCP 分配的 IP 地址的系统上进行安装。但在安装之前, 必须将 Microsoft LoopBack Adapter 配置为系统的主网络适配器。有关在配置有 DHCP 的系统上安装软件的详细信息, 请参阅 Installation Guide。</p><p>解决方案：</p><h5 id="1、开始-运行，输入hdwwiz-exe-win7系统-打开硬件添加界面；xp系统中点击控制面板，然后点击添加硬件"><a href="#1、开始-运行，输入hdwwiz-exe-win7系统-打开硬件添加界面；xp系统中点击控制面板，然后点击添加硬件" class="headerlink" title="1、开始-运行，输入hdwwiz.exe(win7系统)打开硬件添加界面；xp系统中点击控制面板，然后点击添加硬件"></a>1、开始-运行，输入hdwwiz.exe(win7系统)打开硬件添加界面；xp系统中点击控制面板，然后点击添加硬件</h5><h5 id="2、选择-手动从列表选择的硬件添加"><a href="#2、选择-手动从列表选择的硬件添加" class="headerlink" title="2、选择 手动从列表选择的硬件添加"></a>2、选择 手动从列表选择的硬件添加</h5><h5 id="3、选择”网络适配器”"><a href="#3、选择”网络适配器”" class="headerlink" title="3、选择”网络适配器”"></a>3、选择”网络适配器”</h5><h5 id="4、左边选择”Microsoft”，右边选择”Microsoft-Loopback-Adapter”下一步，确定"><a href="#4、左边选择”Microsoft”，右边选择”Microsoft-Loopback-Adapter”下一步，确定" class="headerlink" title="4、左边选择”Microsoft”，右边选择”Microsoft Loopback Adapter”下一步，确定"></a>4、左边选择”Microsoft”，右边选择”Microsoft Loopback Adapter”下一步，确定</h5><h5 id="5、打开网络连接那里的”更改适配器设置”，给新添加的假网卡”Microsoft-Loopback-Adapter”随便配置一个IP"><a href="#5、打开网络连接那里的”更改适配器设置”，给新添加的假网卡”Microsoft-Loopback-Adapter”随便配置一个IP" class="headerlink" title="5、打开网络连接那里的”更改适配器设置”，给新添加的假网卡”Microsoft Loopback Adapter”随便配置一个IP"></a>5、打开网络连接那里的”更改适配器设置”，给新添加的假网卡”Microsoft Loopback Adapter”随便配置一个IP</h5><p>可以参考</p><p><a href="http://www.slyar.com/">http://www.slyar.com</a></p><p><a href="http://www.duote.com/tech/4/11925.html">http://www.duote.com/tech/4/11925.html</a></p>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SQL 连接字符串</title>
      <link href="/mysql-sql-oracle/sql-lian-jie-zi-fu-chuan/"/>
      <url>/mysql-sql-oracle/sql-lian-jie-zi-fu-chuan/</url>
      
        <content type="html"><![CDATA[<p>&#x2F;&#x2F;sql server 身份验证 连接字符串 private string ConnectionStrSqlServer &#x3D; “server&#x3D;服务器名称;database&#x3D;数据库名称;uid&#x3D;登录名称;pwd&#x3D;登录密码;”;</p><p>&#x2F;&#x2F;windows 身份验证连接字符串 private string ConnectionStrWindows &#x3D; “server&#x3D;服务器名称;database&#x3D;数据库名称;Trusted_Connection&#x3D;SSPI;”;</p><p>&#x2F;&#x2F; 在 C# 代码中用 SqlClient 的方式访问 SQL Server 2008 数据库</p><p>&#x2F;&#x2F; .NET Framework Data Provider for SQL Server 标准写法<br>Data Source&#x3D;. 或者ip地址(需要允许远程连接);Initial Catalog&#x3D;DataBase;User Id&#x3D;UserName;Password&#x3D;pwd;</p><p>&#x2F;&#x2F; .NET Framework Data Provider for SQL Server 另一种标准写法<br>Server&#x3D;. 或者ip地址(需要允许远程连接);Database&#x3D;DataBase;User ID&#x3D;UserName;Password&#x3D;pwd;Trusted_Connection&#x3D;False;</p><p>&#x2F;&#x2F; .NET Framework Data Provider for SQL Server 信任连接写法<br>Data Source&#x3D;. 或者ip地址(需要允许远程连接);Initial Catalog&#x3D;DataBase;Integrated Security&#x3D;SSPI;</p><p>&#x2F;&#x2F; .NET Framework Data Provider for SQL Server 信任连接另一种写法<br>Server&#x3D;. 或者ip地址(需要允许远程连接);Database&#x3D;DataBase;Trusted_Connection&#x3D;True;</p>]]></content>
      
      
      <categories>
          
          <category> MySQL/SQL/Oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL/SQL/Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS 调用WCF config</title>
      <link href="/wcf/js-diao-yong-wcf-config/"/>
      <url>/wcf/js-diao-yong-wcf-config/</url>
      
        <content type="html"><![CDATA[<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token prolog">&lt;?xml version="1.0" encoding="utf-8"?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>connectionStrings</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>add</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>conn<span class="token punctuation">"</span></span> <span class="token attr-name">connectionString</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>server=.;database=Users;uid=sa;pwd=123456;<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>connectionStrings</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>system.web</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>compilation</span> <span class="token attr-name">debug</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token attr-name">targetFramework</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>4.0<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>system.web</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>system.serviceModel</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>behaviors</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>endpointBehaviors</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>behavior</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>webBehavior<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>enableWebScript</span> <span class="token punctuation">/></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>behavior</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>endpointBehaviors</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>serviceBehaviors</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>behavior</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>          <span class="token comment">&lt;!-- 为避免泄漏元数据信息，请在部署前将以下值设置为 false 并删除上面的元数据终结点 --></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>serviceMetadata</span> <span class="token attr-name">httpGetEnabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>          <span class="token comment">&lt;!-- 要接收故障异常详细信息以进行调试，请将以下值设置为 true。在部署前设置为 false 以避免泄漏异常信息 --></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>serviceDebug</span> <span class="token attr-name">includeExceptionDetailInFaults</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>behavior</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>serviceBehaviors</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>behaviors</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>serviceHostingEnvironment</span> <span class="token attr-name">aspNetCompatibilityEnabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span>      <span class="token attr-name">multipleSiteBindingsEnabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>baseAddressPrefixFilters</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>add</span> <span class="token attr-name">prefix</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>string<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>baseAddressPrefixFilters</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>serviceHostingEnvironment</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>services</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>service</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>IUserTest<span class="token punctuation">"</span></span> <span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>endpoint</span> <span class="token attr-name">address</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">behaviorConfiguration</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>webBehavior<span class="token punctuation">"</span></span>          <span class="token attr-name">binding</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>webHttpBinding<span class="token punctuation">"</span></span> <span class="token attr-name">contract</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>IUserTest<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>        <span class="token comment">&lt;!--&lt;endpoint address="" binding="basicHttpBinding" contract="ReaderService"  />--></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>service</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>services</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bindings</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>webHttpBinding</span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>binding</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>webBinding<span class="token punctuation">"</span></span> <span class="token attr-name">crossDomainScriptAccessEnabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>binding</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>webHttpBinding</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bindings</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>system.serviceModel</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>system.webServer</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modules</span> <span class="token attr-name">runAllManagedModulesForAllRequests</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>system.webServer</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>注意：</p><h5 id="1-在svc的文件中要加上Factory-”System-ServiceModel-Activation-WebServiceHostFactory”"><a href="#1-在svc的文件中要加上Factory-”System-ServiceModel-Activation-WebServiceHostFactory”" class="headerlink" title="1.在svc的文件中&lt;%@ ServiceHost Language&#x3D;”C#” Debug&#x3D;”true” Service&#x3D;”WCFTest.UserTest” CodeBehind&#x3D;”UserTest.svc.cs” Factory&#x3D;”System.ServiceModel.Activation.WebServiceHostFactory” %&gt;要加上Factory&#x3D;”System.ServiceModel.Activation.WebServiceHostFactory”"></a>1.在svc的文件中&lt;%@ ServiceHost Language&#x3D;”C#” Debug&#x3D;”true” Service&#x3D;”WCFTest.UserTest” CodeBehind&#x3D;”UserTest.svc.cs” Factory&#x3D;”System.ServiceModel.Activation.WebServiceHostFactory” %&gt;要加上Factory&#x3D;”System.ServiceModel.Activation.WebServiceHostFactory”</h5><h5 id="2-在代码上加上-AspNetCompatibilityRequirements-RequirementsMode-AspNetCompatibilityRequirementsMode-Allowed"><a href="#2-在代码上加上-AspNetCompatibilityRequirements-RequirementsMode-AspNetCompatibilityRequirementsMode-Allowed" class="headerlink" title="2.在代码上加上 [AspNetCompatibilityRequirements(RequirementsMode &#x3D; AspNetCompatibilityRequirementsMode.Allowed)]"></a>2.在代码上加上 [AspNetCompatibilityRequirements(RequirementsMode &#x3D; AspNetCompatibilityRequirementsMode.Allowed)]</h5><h5 id="3-在接口上加上-WebInvoke-ResponseFormat-WebMessageFormat-Json-UriTemplate-”-方法名”-Method-”GET”-BodyStyle-WebMessageBodyStyle-Wrapped"><a href="#3-在接口上加上-WebInvoke-ResponseFormat-WebMessageFormat-Json-UriTemplate-”-方法名”-Method-”GET”-BodyStyle-WebMessageBodyStyle-Wrapped" class="headerlink" title="3.在接口上加上 [WebInvoke(ResponseFormat &#x3D; WebMessageFormat.Json,UriTemplate&#x3D;”&#x2F;方法名”, Method&#x3D;”GET” ,BodyStyle &#x3D; WebMessageBodyStyle.Wrapped)]"></a>3.在接口上加上 [WebInvoke(ResponseFormat &#x3D; WebMessageFormat.Json,UriTemplate&#x3D;”&#x2F;方法名”, Method&#x3D;”GET” ,BodyStyle &#x3D; WebMessageBodyStyle.Wrapped)]</h5>]]></content>
      
      
      <categories>
          
          <category> WCF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>XP IIS COM+ 应用程序无法打开</title>
      <link href="/computer/xp-iis-com-ying-yong-cheng-xu-wu-fa-da-kai/"/>
      <url>/computer/xp-iis-com-ying-yong-cheng-xu-wu-fa-da-kai/</url>
      
        <content type="html"><![CDATA[<p><strong>打开 “管理工具”-&gt;“组件服务”-&gt;“计算机”-&gt;“我的电脑”－&gt;“COM+应用程序”,(如果打不开看下面的A：提示) 然后在右边框中，右击“IIS Out-Of-Process Pooled Applications”，(如果没有看到此项看下面：B)选择属性，点“标识”选项卡，选择“系统帐户”，然后确定，在“服务”(不是刚才那个,打开 管理工具-服务)中重启IIS即可。</strong></p><p>1.如打开“COM+应用程序”时出现错误，错误代码：“8004E00F-COM+无法与Microsoft分布式事务协调程序 ”</p><p>解决办法：在”开始”-“运行“窗口中输入，msdtc -resetlog (注意-前面有一空格)即可。</p><p>2.在“COM+应用程序”右框的组件中“IIS Out-Of-Process Pooled Applications”找不到解决办法：</p><p>开始菜单-&gt;运行-&gt;cmd打开命令提示窗口。</p><p>输入cd %windir%&#x2F;system32&#x2F;inetsrv切换到了system32下inetsrv目录。</p><p>再输入rundll32 wamreg.dll, CreateIISPackage。（这里小写的时候是：createiispackage）</p><p>注意:必须准确键入“CreateIISPackage”，它区分大小写。</p><p>再输入regsvr32 asptxn.dll。</p>]]></content>
      
      
      <categories>
          
          <category> Computer </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Computer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Installshield 创建虚拟目录脚本</title>
      <link href="/tools/installshield-chuang-jian-xu-ni-mu-lu-jiao-ben/"/>
      <url>/tools/installshield-chuang-jian-xu-ni-mu-lu-jiao-ben/</url>
      
        <content type="html"><![CDATA[<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token keyword">function</span> CreateVirtualDir<span class="token punctuation">(</span>VirtualName,VirtualDataPath<span class="token punctuation">)</span>    STRING szWaitTxt,szVirPath<span class="token punctuation">;</span>    OBJECT objIIS_Virtual,objVirtDir<span class="token punctuation">;</span>begin    <span class="token assign-left variable">szWaitTxt</span><span class="token operator">=</span> <span class="token string">"正在创建 "</span> + VirtualName + <span class="token string">" 虚拟目录...."</span><span class="token punctuation">;</span>    SdShowMsg <span class="token punctuation">(</span>szWaitTxt, TRUE<span class="token punctuation">)</span><span class="token punctuation">;</span>    Delay<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token builtin class-name">set</span> objIIS_Virtual <span class="token operator">=</span> CoGetObject<span class="token punctuation">(</span><span class="token string">"IIS://localhost/W3SVC/1/Root"</span>, <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                       szVirPath <span class="token operator">=</span> TARGETDIR + VirtualDataPath<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>IsObject<span class="token punctuation">(</span>objIIS_Virtual<span class="token punctuation">))</span> <span class="token keyword">then</span>        try            <span class="token builtin class-name">set</span> objVirtDir <span class="token operator">=</span> objIIS_Virtual.Create<span class="token punctuation">(</span><span class="token string">"IISWebVirtualDir"</span>, VirtualName<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>IsObject<span class="token punctuation">(</span>objVirtDir<span class="token punctuation">))</span> <span class="token keyword">then</span>                objVirtDir.Path <span class="token operator">=</span> szVirPath<span class="token punctuation">;</span>                 objVirtDir.AccessRead <span class="token operator">=</span> TRUE<span class="token punctuation">;</span>                objVirtDir.AccessScript <span class="token operator">=</span> TRUE<span class="token punctuation">;</span>                 objVirtDir.AccessWrite <span class="token operator">=</span> FALSE<span class="token punctuation">;</span>                objVirtDir.EnableDirBrowsing <span class="token operator">=</span> FALSE<span class="token punctuation">;</span>                  objVirtDir.EnableDefaultDoc <span class="token operator">=</span> TRUE<span class="token punctuation">;</span>                  objVirtDir.AppFriendlyName <span class="token operator">=</span> VirtualName<span class="token punctuation">;</span>                objVirtDir.SetInfo<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                          objVirtDir.AppCreate2<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                objVirtDir.SetInfo<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            endif<span class="token punctuation">;</span>          catch            MessageBox<span class="token punctuation">(</span><span class="token string">"无法创建虚拟目录，请自行创建虚拟目录！"</span>, INFORMATION<span class="token punctuation">)</span><span class="token punctuation">;</span>        endcatch<span class="token punctuation">;</span>     endif<span class="token punctuation">;</span>end<span class="token punctuation">;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>由于 Web 服务器上的“ISAPI 和 CGI 限制”列表设置，无法提供您请求的页面</title>
      <link href="/computer/you-yu-web-fu-wu-qi-shang-de-isapi-he-cgi-xian-zhi-lie-biao-she-zhi-wu-fa-ti-gong-nin-qing-qiu-de-ye-mian/"/>
      <url>/computer/you-yu-web-fu-wu-qi-shang-de-isapi-he-cgi-xian-zhi-lie-biao-she-zhi-wu-fa-ti-gong-nin-qing-qiu-de-ye-mian/</url>
      
        <content type="html"><![CDATA[<h3 id="1-打开IIS管理器"><a href="#1-打开IIS管理器" class="headerlink" title="1.打开IIS管理器"></a>1.打开IIS管理器</h3><p><img src="/images/2011122214481644.jpg" alt="2011122214481644.jpg"></p><h3 id="2-选中ISAPI和CGI限制，把-net版本设置为允许。"><a href="#2-选中ISAPI和CGI限制，把-net版本设置为允许。" class="headerlink" title="2.选中ISAPI和CGI限制，把.net版本设置为允许。"></a>2.选中ISAPI和CGI限制，把.net版本设置为允许。</h3><p><img src="/images/2011122214510872.jpg" alt="2011122214510872.jpg"></p><p><img src="/images/2011122214512447.jpg" alt="2011122214512447.jpg"></p>]]></content>
      
      
      <categories>
          
          <category> Computer </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Computer </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
